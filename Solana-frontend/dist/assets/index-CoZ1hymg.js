var pz=Object.defineProperty;var gz=(t,e,r)=>e in t?pz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Lr=(t,e,r)=>gz(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Zn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Nt={},Vy={};Vy.byteLength=vz;Vy.toByteArray=bz;Vy.fromByteArray=Sz;var xa=[],lo=[],mz=typeof Uint8Array<"u"?Uint8Array:Array,Lw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var gf=0,yz=Lw.length;gf<yz;++gf)xa[gf]=Lw[gf],lo[Lw.charCodeAt(gf)]=gf;lo[45]=62;lo[95]=63;function FT(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function vz(t){var e=FT(t),r=e[0],n=e[1];return(r+n)*3/4-n}function wz(t,e,r){return(e+r)*3/4-r}function bz(t){var e,r=FT(t),n=r[0],s=r[1],i=new mz(wz(t,n,s)),o=0,l=s>0?n-4:n,u;for(u=0;u<l;u+=4)e=lo[t.charCodeAt(u)]<<18|lo[t.charCodeAt(u+1)]<<12|lo[t.charCodeAt(u+2)]<<6|lo[t.charCodeAt(u+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return s===2&&(e=lo[t.charCodeAt(u)]<<2|lo[t.charCodeAt(u+1)]>>4,i[o++]=e&255),s===1&&(e=lo[t.charCodeAt(u)]<<10|lo[t.charCodeAt(u+1)]<<4|lo[t.charCodeAt(u+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function xz(t){return xa[t>>18&63]+xa[t>>12&63]+xa[t>>6&63]+xa[t&63]}function _z(t,e,r){for(var n,s=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(xz(n));return s.join("")}function Sz(t){for(var e,r=t.length,n=r%3,s=[],i=16383,o=0,l=r-n;o<l;o+=i)s.push(_z(t,o,o+i>l?l:o+i));return n===1?(e=t[r-1],s.push(xa[e>>2]+xa[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],s.push(xa[e>>10]+xa[e>>4&63]+xa[e<<2&63]+"=")),s.join("")}var G5={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */G5.read=function(t,e,r,n,s){var i,o,l=s*8-n-1,u=(1<<l)-1,d=u>>1,p=-7,v=r?s-1:0,b=r?-1:1,_=t[e+v];for(v+=b,i=_&(1<<-p)-1,_>>=-p,p+=l;p>0;i=i*256+t[e+v],v+=b,p-=8);for(o=i&(1<<-p)-1,i>>=-p,p+=n;p>0;o=o*256+t[e+v],v+=b,p-=8);if(i===0)i=1-d;else{if(i===u)return o?NaN:(_?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-d}return(_?-1:1)*o*Math.pow(2,i-n)};G5.write=function(t,e,r,n,s,i){var o,l,u,d=i*8-s-1,p=(1<<d)-1,v=p>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:i-1,M=n?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+v>=1?e+=b/u:e+=b*Math.pow(2,1-v),e*u>=2&&(o++,u/=2),o+v>=p?(l=0,o=p):o+v>=1?(l=(e*u-1)*Math.pow(2,s),o=o+v):(l=e*Math.pow(2,v-1)*Math.pow(2,s),o=0));s>=8;t[r+_]=l&255,_+=M,l/=256,s-=8);for(o=o<<s|l,d+=s;d>0;t[r+_]=o&255,_+=M,o/=256,d-=8);t[r+_-M]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Vy,r=G5,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=i(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const Z=new Uint8Array(1),B={foo:function(){return 42}};return Object.setPrototypeOf(B,Uint8Array.prototype),Object.setPrototypeOf(Z,B),Z.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(Z){if(Z>s)throw new RangeError('The value "'+Z+'" is invalid for option "size"');const B=new Uint8Array(Z);return Object.setPrototypeOf(B,l.prototype),B}function l(Z,B,H){if(typeof Z=="number"){if(typeof B=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(Z)}return u(Z,B,H)}l.poolSize=8192;function u(Z,B,H){if(typeof Z=="string")return b(Z,B);if(ArrayBuffer.isView(Z))return M(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(xe(Z,ArrayBuffer)||Z&&xe(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(Z,SharedArrayBuffer)||Z&&xe(Z.buffer,SharedArrayBuffer)))return A(Z,B,H);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=Z.valueOf&&Z.valueOf();if(ne!=null&&ne!==Z)return l.from(ne,B,H);const ce=I(Z);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return l.from(Z[Symbol.toPrimitive]("string"),B,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}l.from=function(Z,B,H){return u(Z,B,H)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function d(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function p(Z,B,H){return d(Z),Z<=0?o(Z):B!==void 0?typeof H=="string"?o(Z).fill(B,H):o(Z).fill(B):o(Z)}l.alloc=function(Z,B,H){return p(Z,B,H)};function v(Z){return d(Z),o(Z<0?0:k(Z)|0)}l.allocUnsafe=function(Z){return v(Z)},l.allocUnsafeSlow=function(Z){return v(Z)};function b(Z,B){if((typeof B!="string"||B==="")&&(B="utf8"),!l.isEncoding(B))throw new TypeError("Unknown encoding: "+B);const H=C(Z,B)|0;let ne=o(H);const ce=ne.write(Z,B);return ce!==H&&(ne=ne.slice(0,ce)),ne}function _(Z){const B=Z.length<0?0:k(Z.length)|0,H=o(B);for(let ne=0;ne<B;ne+=1)H[ne]=Z[ne]&255;return H}function M(Z){if(xe(Z,Uint8Array)){const B=new Uint8Array(Z);return A(B.buffer,B.byteOffset,B.byteLength)}return _(Z)}function A(Z,B,H){if(B<0||Z.byteLength<B)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<B+(H||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return B===void 0&&H===void 0?ne=new Uint8Array(Z):H===void 0?ne=new Uint8Array(Z,B):ne=new Uint8Array(Z,B,H),Object.setPrototypeOf(ne,l.prototype),ne}function I(Z){if(l.isBuffer(Z)){const B=k(Z.length)|0,H=o(B);return H.length===0||Z.copy(H,0,0,B),H}if(Z.length!==void 0)return typeof Z.length!="number"||Mt(Z.length)?o(0):_(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return _(Z.data)}function k(Z){if(Z>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return Z|0}function R(Z){return+Z!=Z&&(Z=0),l.alloc(+Z)}l.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==l.prototype},l.compare=function(B,H){if(xe(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),xe(H,Uint8Array)&&(H=l.from(H,H.offset,H.byteLength)),!l.isBuffer(B)||!l.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===H)return 0;let ne=B.length,ce=H.length;for(let Me=0,de=Math.min(ne,ce);Me<de;++Me)if(B[Me]!==H[Me]){ne=B[Me],ce=H[Me];break}return ne<ce?-1:ce<ne?1:0},l.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(B,H){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return l.alloc(0);let ne;if(H===void 0)for(H=0,ne=0;ne<B.length;++ne)H+=B[ne].length;const ce=l.allocUnsafe(H);let Me=0;for(ne=0;ne<B.length;++ne){let de=B[ne];if(xe(de,Uint8Array))Me+de.length>ce.length?(l.isBuffer(de)||(de=l.from(de)),de.copy(ce,Me)):Uint8Array.prototype.set.call(ce,de,Me);else if(l.isBuffer(de))de.copy(ce,Me);else throw new TypeError('"list" argument must be an Array of Buffers');Me+=de.length}return ce};function C(Z,B){if(l.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||xe(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);const H=Z.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&H===0)return 0;let ce=!1;for(;;)switch(B){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return Oe(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H*2;case"hex":return H>>>1;case"base64":return it(Z).length;default:if(ce)return ne?-1:Oe(Z).length;B=(""+B).toLowerCase(),ce=!0}}l.byteLength=C;function P(Z,B,H){let ne=!1;if((B===void 0||B<0)&&(B=0),B>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0,B>>>=0,H<=B))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return m(this,B,H);case"utf8":case"utf-8":return h(this,B,H);case"ascii":return x(this,B,H);case"latin1":case"binary":return S(this,B,H);case"base64":return f(this,B,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,B,H);default:if(ne)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),ne=!0}}l.prototype._isBuffer=!0;function N(Z,B,H){const ne=Z[B];Z[B]=Z[H],Z[H]=ne}l.prototype.swap16=function(){const B=this.length;if(B%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<B;H+=2)N(this,H,H+1);return this},l.prototype.swap32=function(){const B=this.length;if(B%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<B;H+=4)N(this,H,H+3),N(this,H+1,H+2);return this},l.prototype.swap64=function(){const B=this.length;if(B%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<B;H+=8)N(this,H,H+7),N(this,H+1,H+6),N(this,H+2,H+5),N(this,H+3,H+4);return this},l.prototype.toString=function(){const B=this.length;return B===0?"":arguments.length===0?h(this,0,B):P.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(B){if(!l.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B?!0:l.compare(this,B)===0},l.prototype.inspect=function(){let B="";const H=t.INSPECT_MAX_BYTES;return B=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(B+=" ... "),"<Buffer "+B+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(B,H,ne,ce,Me){if(xe(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),!l.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(H===void 0&&(H=0),ne===void 0&&(ne=B?B.length:0),ce===void 0&&(ce=0),Me===void 0&&(Me=this.length),H<0||ne>B.length||ce<0||Me>this.length)throw new RangeError("out of range index");if(ce>=Me&&H>=ne)return 0;if(ce>=Me)return-1;if(H>=ne)return 1;if(H>>>=0,ne>>>=0,ce>>>=0,Me>>>=0,this===B)return 0;let de=Me-ce,Ce=ne-H;const Rt=Math.min(de,Ce),ke=this.slice(ce,Me),De=B.slice(H,ne);for(let St=0;St<Rt;++St)if(ke[St]!==De[St]){de=ke[St],Ce=De[St];break}return de<Ce?-1:Ce<de?1:0};function U(Z,B,H,ne,ce){if(Z.length===0)return-1;if(typeof H=="string"?(ne=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,Mt(H)&&(H=ce?0:Z.length-1),H<0&&(H=Z.length+H),H>=Z.length){if(ce)return-1;H=Z.length-1}else if(H<0)if(ce)H=0;else return-1;if(typeof B=="string"&&(B=l.from(B,ne)),l.isBuffer(B))return B.length===0?-1:q(Z,B,H,ne,ce);if(typeof B=="number")return B=B&255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(Z,B,H):Uint8Array.prototype.lastIndexOf.call(Z,B,H):q(Z,[B],H,ne,ce);throw new TypeError("val must be string, number or Buffer")}function q(Z,B,H,ne,ce){let Me=1,de=Z.length,Ce=B.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(Z.length<2||B.length<2)return-1;Me=2,de/=2,Ce/=2,H/=2}function Rt(De,St){return Me===1?De[St]:De.readUInt16BE(St*Me)}let ke;if(ce){let De=-1;for(ke=H;ke<de;ke++)if(Rt(Z,ke)===Rt(B,De===-1?0:ke-De)){if(De===-1&&(De=ke),ke-De+1===Ce)return De*Me}else De!==-1&&(ke-=ke-De),De=-1}else for(H+Ce>de&&(H=de-Ce),ke=H;ke>=0;ke--){let De=!0;for(let St=0;St<Ce;St++)if(Rt(Z,ke+St)!==Rt(B,St)){De=!1;break}if(De)return ke}return-1}l.prototype.includes=function(B,H,ne){return this.indexOf(B,H,ne)!==-1},l.prototype.indexOf=function(B,H,ne){return U(this,B,H,ne,!0)},l.prototype.lastIndexOf=function(B,H,ne){return U(this,B,H,ne,!1)};function F(Z,B,H,ne){H=Number(H)||0;const ce=Z.length-H;ne?(ne=Number(ne),ne>ce&&(ne=ce)):ne=ce;const Me=B.length;ne>Me/2&&(ne=Me/2);let de;for(de=0;de<ne;++de){const Ce=parseInt(B.substr(de*2,2),16);if(Mt(Ce))return de;Z[H+de]=Ce}return de}function L(Z,B,H,ne){return Se(Oe(B,Z.length-H),Z,H,ne)}function ie(Z,B,H,ne){return Se(me(B),Z,H,ne)}function E(Z,B,H,ne){return Se(it(B),Z,H,ne)}function a(Z,B,H,ne){return Se(Ee(B,Z.length-H),Z,H,ne)}l.prototype.write=function(B,H,ne,ce){if(H===void 0)ce="utf8",ne=this.length,H=0;else if(ne===void 0&&typeof H=="string")ce=H,ne=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(ne)?(ne=ne>>>0,ce===void 0&&(ce="utf8")):(ce=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Me=this.length-H;if((ne===void 0||ne>Me)&&(ne=Me),B.length>0&&(ne<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");let de=!1;for(;;)switch(ce){case"hex":return F(this,B,H,ne);case"utf8":case"utf-8":return L(this,B,H,ne);case"ascii":case"latin1":case"binary":return ie(this,B,H,ne);case"base64":return E(this,B,H,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,B,H,ne);default:if(de)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),de=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function f(Z,B,H){return B===0&&H===Z.length?e.fromByteArray(Z):e.fromByteArray(Z.slice(B,H))}function h(Z,B,H){H=Math.min(Z.length,H);const ne=[];let ce=B;for(;ce<H;){const Me=Z[ce];let de=null,Ce=Me>239?4:Me>223?3:Me>191?2:1;if(ce+Ce<=H){let Rt,ke,De,St;switch(Ce){case 1:Me<128&&(de=Me);break;case 2:Rt=Z[ce+1],(Rt&192)===128&&(St=(Me&31)<<6|Rt&63,St>127&&(de=St));break;case 3:Rt=Z[ce+1],ke=Z[ce+2],(Rt&192)===128&&(ke&192)===128&&(St=(Me&15)<<12|(Rt&63)<<6|ke&63,St>2047&&(St<55296||St>57343)&&(de=St));break;case 4:Rt=Z[ce+1],ke=Z[ce+2],De=Z[ce+3],(Rt&192)===128&&(ke&192)===128&&(De&192)===128&&(St=(Me&15)<<18|(Rt&63)<<12|(ke&63)<<6|De&63,St>65535&&St<1114112&&(de=St))}}de===null?(de=65533,Ce=1):de>65535&&(de-=65536,ne.push(de>>>10&1023|55296),de=56320|de&1023),ne.push(de),ce+=Ce}return y(ne)}const g=4096;function y(Z){const B=Z.length;if(B<=g)return String.fromCharCode.apply(String,Z);let H="",ne=0;for(;ne<B;)H+=String.fromCharCode.apply(String,Z.slice(ne,ne+=g));return H}function x(Z,B,H){let ne="";H=Math.min(Z.length,H);for(let ce=B;ce<H;++ce)ne+=String.fromCharCode(Z[ce]&127);return ne}function S(Z,B,H){let ne="";H=Math.min(Z.length,H);for(let ce=B;ce<H;++ce)ne+=String.fromCharCode(Z[ce]);return ne}function m(Z,B,H){const ne=Z.length;(!B||B<0)&&(B=0),(!H||H<0||H>ne)&&(H=ne);let ce="";for(let Me=B;Me<H;++Me)ce+=Ie[Z[Me]];return ce}function c(Z,B,H){const ne=Z.slice(B,H);let ce="";for(let Me=0;Me<ne.length-1;Me+=2)ce+=String.fromCharCode(ne[Me]+ne[Me+1]*256);return ce}l.prototype.slice=function(B,H){const ne=this.length;B=~~B,H=H===void 0?ne:~~H,B<0?(B+=ne,B<0&&(B=0)):B>ne&&(B=ne),H<0?(H+=ne,H<0&&(H=0)):H>ne&&(H=ne),H<B&&(H=B);const ce=this.subarray(B,H);return Object.setPrototypeOf(ce,l.prototype),ce};function w(Z,B,H){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+B>H)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(B,H,ne){B=B>>>0,H=H>>>0,ne||w(B,H,this.length);let ce=this[B],Me=1,de=0;for(;++de<H&&(Me*=256);)ce+=this[B+de]*Me;return ce},l.prototype.readUintBE=l.prototype.readUIntBE=function(B,H,ne){B=B>>>0,H=H>>>0,ne||w(B,H,this.length);let ce=this[B+--H],Me=1;for(;H>0&&(Me*=256);)ce+=this[B+--H]*Me;return ce},l.prototype.readUint8=l.prototype.readUInt8=function(B,H){return B=B>>>0,H||w(B,1,this.length),this[B]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(B,H){return B=B>>>0,H||w(B,2,this.length),this[B]|this[B+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(B,H){return B=B>>>0,H||w(B,2,this.length),this[B]<<8|this[B+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(B,H){return B=B>>>0,H||w(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+this[B+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(B,H){return B=B>>>0,H||w(B,4,this.length),this[B]*16777216+(this[B+1]<<16|this[B+2]<<8|this[B+3])},l.prototype.readBigUInt64LE=Ne(function(B){B=B>>>0,W(B,"offset");const H=this[B],ne=this[B+7];(H===void 0||ne===void 0)&&oe(B,this.length-8);const ce=H+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24,Me=this[++B]+this[++B]*2**8+this[++B]*2**16+ne*2**24;return BigInt(ce)+(BigInt(Me)<<BigInt(32))}),l.prototype.readBigUInt64BE=Ne(function(B){B=B>>>0,W(B,"offset");const H=this[B],ne=this[B+7];(H===void 0||ne===void 0)&&oe(B,this.length-8);const ce=H*2**24+this[++B]*2**16+this[++B]*2**8+this[++B],Me=this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+ne;return(BigInt(ce)<<BigInt(32))+BigInt(Me)}),l.prototype.readIntLE=function(B,H,ne){B=B>>>0,H=H>>>0,ne||w(B,H,this.length);let ce=this[B],Me=1,de=0;for(;++de<H&&(Me*=256);)ce+=this[B+de]*Me;return Me*=128,ce>=Me&&(ce-=Math.pow(2,8*H)),ce},l.prototype.readIntBE=function(B,H,ne){B=B>>>0,H=H>>>0,ne||w(B,H,this.length);let ce=H,Me=1,de=this[B+--ce];for(;ce>0&&(Me*=256);)de+=this[B+--ce]*Me;return Me*=128,de>=Me&&(de-=Math.pow(2,8*H)),de},l.prototype.readInt8=function(B,H){return B=B>>>0,H||w(B,1,this.length),this[B]&128?(255-this[B]+1)*-1:this[B]},l.prototype.readInt16LE=function(B,H){B=B>>>0,H||w(B,2,this.length);const ne=this[B]|this[B+1]<<8;return ne&32768?ne|4294901760:ne},l.prototype.readInt16BE=function(B,H){B=B>>>0,H||w(B,2,this.length);const ne=this[B+1]|this[B]<<8;return ne&32768?ne|4294901760:ne},l.prototype.readInt32LE=function(B,H){return B=B>>>0,H||w(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},l.prototype.readInt32BE=function(B,H){return B=B>>>0,H||w(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},l.prototype.readBigInt64LE=Ne(function(B){B=B>>>0,W(B,"offset");const H=this[B],ne=this[B+7];(H===void 0||ne===void 0)&&oe(B,this.length-8);const ce=this[B+4]+this[B+5]*2**8+this[B+6]*2**16+(ne<<24);return(BigInt(ce)<<BigInt(32))+BigInt(H+this[++B]*2**8+this[++B]*2**16+this[++B]*2**24)}),l.prototype.readBigInt64BE=Ne(function(B){B=B>>>0,W(B,"offset");const H=this[B],ne=this[B+7];(H===void 0||ne===void 0)&&oe(B,this.length-8);const ce=(H<<24)+this[++B]*2**16+this[++B]*2**8+this[++B];return(BigInt(ce)<<BigInt(32))+BigInt(this[++B]*2**24+this[++B]*2**16+this[++B]*2**8+ne)}),l.prototype.readFloatLE=function(B,H){return B=B>>>0,H||w(B,4,this.length),r.read(this,B,!0,23,4)},l.prototype.readFloatBE=function(B,H){return B=B>>>0,H||w(B,4,this.length),r.read(this,B,!1,23,4)},l.prototype.readDoubleLE=function(B,H){return B=B>>>0,H||w(B,8,this.length),r.read(this,B,!0,52,8)},l.prototype.readDoubleBE=function(B,H){return B=B>>>0,H||w(B,8,this.length),r.read(this,B,!1,52,8)};function T(Z,B,H,ne,ce,Me){if(!l.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>ce||B<Me)throw new RangeError('"value" argument is out of bounds');if(H+ne>Z.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(B,H,ne,ce){if(B=+B,H=H>>>0,ne=ne>>>0,!ce){const Ce=Math.pow(2,8*ne)-1;T(this,B,H,ne,Ce,0)}let Me=1,de=0;for(this[H]=B&255;++de<ne&&(Me*=256);)this[H+de]=B/Me&255;return H+ne},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(B,H,ne,ce){if(B=+B,H=H>>>0,ne=ne>>>0,!ce){const Ce=Math.pow(2,8*ne)-1;T(this,B,H,ne,Ce,0)}let Me=ne-1,de=1;for(this[H+Me]=B&255;--Me>=0&&(de*=256);)this[H+Me]=B/de&255;return H+ne},l.prototype.writeUint8=l.prototype.writeUInt8=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,1,255,0),this[H]=B&255,H+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,2,65535,0),this[H]=B&255,this[H+1]=B>>>8,H+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,2,65535,0),this[H]=B>>>8,this[H+1]=B&255,H+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,4,4294967295,0),this[H+3]=B>>>24,this[H+2]=B>>>16,this[H+1]=B>>>8,this[H]=B&255,H+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,4,4294967295,0),this[H]=B>>>24,this[H+1]=B>>>16,this[H+2]=B>>>8,this[H+3]=B&255,H+4};function O(Z,B,H,ne,ce){j(B,ne,ce,Z,H,7);let Me=Number(B&BigInt(4294967295));Z[H++]=Me,Me=Me>>8,Z[H++]=Me,Me=Me>>8,Z[H++]=Me,Me=Me>>8,Z[H++]=Me;let de=Number(B>>BigInt(32)&BigInt(4294967295));return Z[H++]=de,de=de>>8,Z[H++]=de,de=de>>8,Z[H++]=de,de=de>>8,Z[H++]=de,H}function K(Z,B,H,ne,ce){j(B,ne,ce,Z,H,7);let Me=Number(B&BigInt(4294967295));Z[H+7]=Me,Me=Me>>8,Z[H+6]=Me,Me=Me>>8,Z[H+5]=Me,Me=Me>>8,Z[H+4]=Me;let de=Number(B>>BigInt(32)&BigInt(4294967295));return Z[H+3]=de,de=de>>8,Z[H+2]=de,de=de>>8,Z[H+1]=de,de=de>>8,Z[H]=de,H+8}l.prototype.writeBigUInt64LE=Ne(function(B,H=0){return O(this,B,H,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Ne(function(B,H=0){return K(this,B,H,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(B,H,ne,ce){if(B=+B,H=H>>>0,!ce){const Rt=Math.pow(2,8*ne-1);T(this,B,H,ne,Rt-1,-Rt)}let Me=0,de=1,Ce=0;for(this[H]=B&255;++Me<ne&&(de*=256);)B<0&&Ce===0&&this[H+Me-1]!==0&&(Ce=1),this[H+Me]=(B/de>>0)-Ce&255;return H+ne},l.prototype.writeIntBE=function(B,H,ne,ce){if(B=+B,H=H>>>0,!ce){const Rt=Math.pow(2,8*ne-1);T(this,B,H,ne,Rt-1,-Rt)}let Me=ne-1,de=1,Ce=0;for(this[H+Me]=B&255;--Me>=0&&(de*=256);)B<0&&Ce===0&&this[H+Me+1]!==0&&(Ce=1),this[H+Me]=(B/de>>0)-Ce&255;return H+ne},l.prototype.writeInt8=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,1,127,-128),B<0&&(B=255+B+1),this[H]=B&255,H+1},l.prototype.writeInt16LE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,2,32767,-32768),this[H]=B&255,this[H+1]=B>>>8,H+2},l.prototype.writeInt16BE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,2,32767,-32768),this[H]=B>>>8,this[H+1]=B&255,H+2},l.prototype.writeInt32LE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,4,2147483647,-2147483648),this[H]=B&255,this[H+1]=B>>>8,this[H+2]=B>>>16,this[H+3]=B>>>24,H+4},l.prototype.writeInt32BE=function(B,H,ne){return B=+B,H=H>>>0,ne||T(this,B,H,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[H]=B>>>24,this[H+1]=B>>>16,this[H+2]=B>>>8,this[H+3]=B&255,H+4},l.prototype.writeBigInt64LE=Ne(function(B,H=0){return O(this,B,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Ne(function(B,H=0){return K(this,B,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(Z,B,H,ne,ce,Me){if(H+ne>Z.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function J(Z,B,H,ne,ce){return B=+B,H=H>>>0,ce||ee(Z,B,H,4),r.write(Z,B,H,ne,23,4),H+4}l.prototype.writeFloatLE=function(B,H,ne){return J(this,B,H,!0,ne)},l.prototype.writeFloatBE=function(B,H,ne){return J(this,B,H,!1,ne)};function $(Z,B,H,ne,ce){return B=+B,H=H>>>0,ce||ee(Z,B,H,8),r.write(Z,B,H,ne,52,8),H+8}l.prototype.writeDoubleLE=function(B,H,ne){return $(this,B,H,!0,ne)},l.prototype.writeDoubleBE=function(B,H,ne){return $(this,B,H,!1,ne)},l.prototype.copy=function(B,H,ne,ce){if(!l.isBuffer(B))throw new TypeError("argument should be a Buffer");if(ne||(ne=0),!ce&&ce!==0&&(ce=this.length),H>=B.length&&(H=B.length),H||(H=0),ce>0&&ce<ne&&(ce=ne),ce===ne||B.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),B.length-H<ce-ne&&(ce=B.length-H+ne);const Me=ce-ne;return this===B&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(H,ne,ce):Uint8Array.prototype.set.call(B,this.subarray(ne,ce),H),Me},l.prototype.fill=function(B,H,ne,ce){if(typeof B=="string"){if(typeof H=="string"?(ce=H,H=0,ne=this.length):typeof ne=="string"&&(ce=ne,ne=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!l.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(B.length===1){const de=B.charCodeAt(0);(ce==="utf8"&&de<128||ce==="latin1")&&(B=de)}}else typeof B=="number"?B=B&255:typeof B=="boolean"&&(B=Number(B));if(H<0||this.length<H||this.length<ne)throw new RangeError("Out of range index");if(ne<=H)return this;H=H>>>0,ne=ne===void 0?this.length:ne>>>0,B||(B=0);let Me;if(typeof B=="number")for(Me=H;Me<ne;++Me)this[Me]=B;else{const de=l.isBuffer(B)?B:l.from(B,ce),Ce=de.length;if(Ce===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(Me=0;Me<ne-H;++Me)this[Me+H]=de[Me%Ce]}return this};const z={};function Y(Z,B,H){z[Z]=class extends H{constructor(){super(),Object.defineProperty(this,"message",{value:B.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Z}]`,this.stack,delete this.name}get code(){return Z}set code(ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ce,writable:!0})}toString(){return`${this.name} [${Z}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(Z){return Z?`${Z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(Z,B){return`The "${Z}" argument must be of type number. Received type ${typeof B}`},TypeError),Y("ERR_OUT_OF_RANGE",function(Z,B,H){let ne=`The value of "${Z}" is out of range.`,ce=H;return Number.isInteger(H)&&Math.abs(H)>2**32?ce=te(String(H)):typeof H=="bigint"&&(ce=String(H),(H>BigInt(2)**BigInt(32)||H<-(BigInt(2)**BigInt(32)))&&(ce=te(ce)),ce+="n"),ne+=` It must be ${B}. Received ${ce}`,ne},RangeError);function te(Z){let B="",H=Z.length;const ne=Z[0]==="-"?1:0;for(;H>=ne+4;H-=3)B=`_${Z.slice(H-3,H)}${B}`;return`${Z.slice(0,H)}${B}`}function G(Z,B,H){W(B,"offset"),(Z[B]===void 0||Z[B+H]===void 0)&&oe(B,Z.length-(H+1))}function j(Z,B,H,ne,ce,Me){if(Z>H||Z<B){const de=typeof B=="bigint"?"n":"";let Ce;throw B===0||B===BigInt(0)?Ce=`>= 0${de} and < 2${de} ** ${(Me+1)*8}${de}`:Ce=`>= -(2${de} ** ${(Me+1)*8-1}${de}) and < 2 ** ${(Me+1)*8-1}${de}`,new z.ERR_OUT_OF_RANGE("value",Ce,Z)}G(ne,ce,Me)}function W(Z,B){if(typeof Z!="number")throw new z.ERR_INVALID_ARG_TYPE(B,"number",Z)}function oe(Z,B,H){throw Math.floor(Z)!==Z?(W(Z,H),new z.ERR_OUT_OF_RANGE("offset","an integer",Z)):B<0?new z.ERR_BUFFER_OUT_OF_BOUNDS:new z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${B}`,Z)}const ae=/[^+/0-9A-Za-z-_]/g;function he(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(ae,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function Oe(Z,B){B=B||1/0;let H;const ne=Z.length;let ce=null;const Me=[];for(let de=0;de<ne;++de){if(H=Z.charCodeAt(de),H>55295&&H<57344){if(!ce){if(H>56319){(B-=3)>-1&&Me.push(239,191,189);continue}else if(de+1===ne){(B-=3)>-1&&Me.push(239,191,189);continue}ce=H;continue}if(H<56320){(B-=3)>-1&&Me.push(239,191,189),ce=H;continue}H=(ce-55296<<10|H-56320)+65536}else ce&&(B-=3)>-1&&Me.push(239,191,189);if(ce=null,H<128){if((B-=1)<0)break;Me.push(H)}else if(H<2048){if((B-=2)<0)break;Me.push(H>>6|192,H&63|128)}else if(H<65536){if((B-=3)<0)break;Me.push(H>>12|224,H>>6&63|128,H&63|128)}else if(H<1114112){if((B-=4)<0)break;Me.push(H>>18|240,H>>12&63|128,H>>6&63|128,H&63|128)}else throw new Error("Invalid code point")}return Me}function me(Z){const B=[];for(let H=0;H<Z.length;++H)B.push(Z.charCodeAt(H)&255);return B}function Ee(Z,B){let H,ne,ce;const Me=[];for(let de=0;de<Z.length&&!((B-=2)<0);++de)H=Z.charCodeAt(de),ne=H>>8,ce=H%256,Me.push(ce),Me.push(ne);return Me}function it(Z){return e.toByteArray(he(Z))}function Se(Z,B,H,ne){let ce;for(ce=0;ce<ne&&!(ce+H>=B.length||ce>=Z.length);++ce)B[ce+H]=Z[ce];return ce}function xe(Z,B){return Z instanceof B||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===B.name}function Mt(Z){return Z!==Z}const Ie=function(){const Z="0123456789abcdef",B=new Array(256);for(let H=0;H<16;++H){const ne=H*16;for(let ce=0;ce<16;++ce)B[ne+ce]=Z[H]+Z[ce]}return B}();function Ne(Z){return typeof BigInt>"u"?qt:Z}function qt(){throw new Error("BigInt not supported")}})(Nt);var jT={exports:{}},Dn=jT.exports={},ya,va;function u_(){throw new Error("setTimeout has not been defined")}function f_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ya=setTimeout:ya=u_}catch{ya=u_}try{typeof clearTimeout=="function"?va=clearTimeout:va=f_}catch{va=f_}})();function qT(t){if(ya===setTimeout)return setTimeout(t,0);if((ya===u_||!ya)&&setTimeout)return ya=setTimeout,setTimeout(t,0);try{return ya(t,0)}catch{try{return ya.call(null,t,0)}catch{return ya.call(this,t,0)}}}function Ez(t){if(va===clearTimeout)return clearTimeout(t);if((va===f_||!va)&&clearTimeout)return va=clearTimeout,clearTimeout(t);try{return va(t)}catch{try{return va.call(null,t)}catch{return va.call(this,t)}}}var yl=[],th=!1,vu,jm=-1;function Mz(){!th||!vu||(th=!1,vu.length?yl=vu.concat(yl):jm=-1,yl.length&&zT())}function zT(){if(!th){var t=qT(Mz);th=!0;for(var e=yl.length;e;){for(vu=yl,yl=[];++jm<e;)vu&&vu[jm].run();jm=-1,e=yl.length}vu=null,th=!1,Ez(t)}}Dn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];yl.push(new HT(t,e)),yl.length===1&&!th&&qT(zT)};function HT(t,e){this.fun=t,this.array=e}HT.prototype.run=function(){this.fun.apply(null,this.array)};Dn.title="browser";Dn.browser=!0;Dn.env={};Dn.argv=[];Dn.version="";Dn.versions={};function Ll(){}Dn.on=Ll;Dn.addListener=Ll;Dn.once=Ll;Dn.off=Ll;Dn.removeListener=Ll;Dn.removeAllListeners=Ll;Dn.emit=Ll;Dn.prependListener=Ll;Dn.prependOnceListener=Ll;Dn.listeners=function(t){return[]};Dn.binding=function(t){throw new Error("process.binding is not supported")};Dn.cwd=function(){return"/"};Dn.chdir=function(t){throw new Error("process.chdir is not supported")};Dn.umask=function(){return 0};var Hc=jT.exports;const KT=Zn(Hc);window.Buffer=Nt.Buffer;window.process=KT;var WT={exports:{}},Gy={},VT={exports:{}},mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=Symbol.for("react.element"),Az=Symbol.for("react.portal"),kz=Symbol.for("react.fragment"),Iz=Symbol.for("react.strict_mode"),Rz=Symbol.for("react.profiler"),Cz=Symbol.for("react.provider"),Tz=Symbol.for("react.context"),Pz=Symbol.for("react.forward_ref"),Oz=Symbol.for("react.suspense"),Nz=Symbol.for("react.memo"),Bz=Symbol.for("react.lazy"),n8=Symbol.iterator;function Lz(t){return t===null||typeof t!="object"?null:(t=n8&&t[n8]||t["@@iterator"],typeof t=="function"?t:null)}var GT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YT=Object.assign,ZT={};function Yh(t,e,r){this.props=t,this.context=e,this.refs=ZT,this.updater=r||GT}Yh.prototype.isReactComponent={};Yh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JT(){}JT.prototype=Yh.prototype;function Y5(t,e,r){this.props=t,this.context=e,this.refs=ZT,this.updater=r||GT}var Z5=Y5.prototype=new JT;Z5.constructor=Y5;YT(Z5,Yh.prototype);Z5.isPureReactComponent=!0;var i8=Array.isArray,XT=Object.prototype.hasOwnProperty,J5={current:null},QT={key:!0,ref:!0,__self:!0,__source:!0};function eP(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)XT.call(e,n)&&!QT.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Op,type:t,key:i,ref:o,props:s,_owner:J5.current}}function Dz(t,e){return{$$typeof:Op,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function X5(t){return typeof t=="object"&&t!==null&&t.$$typeof===Op}function $z(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var s8=/\/+/g;function Dw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$z(""+t.key):e.toString(36)}function qm(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Op:case Az:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Dw(o,0):n,i8(s)?(r="",t!=null&&(r=t.replace(s8,"$&/")+"/"),qm(s,e,r,"",function(d){return d})):s!=null&&(X5(s)&&(s=Dz(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(s8,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",i8(t))for(var l=0;l<t.length;l++){i=t[l];var u=n+Dw(i,l);o+=qm(i,e,r,u,s)}else if(u=Lz(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=n+Dw(i,l++),o+=qm(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kg(t,e,r){if(t==null)return t;var n=[],s=0;return qm(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Uz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var os={current:null},zm={transition:null},Fz={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:zm,ReactCurrentOwner:J5};function tP(){throw Error("act(...) is not supported in production builds of React.")}mr.Children={map:kg,forEach:function(t,e,r){kg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return kg(t,function(){e++}),e},toArray:function(t){return kg(t,function(e){return e})||[]},only:function(t){if(!X5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mr.Component=Yh;mr.Fragment=kz;mr.Profiler=Rz;mr.PureComponent=Y5;mr.StrictMode=Iz;mr.Suspense=Oz;mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fz;mr.act=tP;mr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=YT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=J5.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)XT.call(e,u)&&!QT.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Op,type:t.type,key:s,ref:i,props:n,_owner:o}};mr.createContext=function(t){return t={$$typeof:Tz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cz,_context:t},t.Consumer=t};mr.createElement=eP;mr.createFactory=function(t){var e=eP.bind(null,t);return e.type=t,e};mr.createRef=function(){return{current:null}};mr.forwardRef=function(t){return{$$typeof:Pz,render:t}};mr.isValidElement=X5;mr.lazy=function(t){return{$$typeof:Bz,_payload:{_status:-1,_result:t},_init:Uz}};mr.memo=function(t,e){return{$$typeof:Nz,type:t,compare:e===void 0?null:e}};mr.startTransition=function(t){var e=zm.transition;zm.transition={};try{t()}finally{zm.transition=e}};mr.unstable_act=tP;mr.useCallback=function(t,e){return os.current.useCallback(t,e)};mr.useContext=function(t){return os.current.useContext(t)};mr.useDebugValue=function(){};mr.useDeferredValue=function(t){return os.current.useDeferredValue(t)};mr.useEffect=function(t,e){return os.current.useEffect(t,e)};mr.useId=function(){return os.current.useId()};mr.useImperativeHandle=function(t,e,r){return os.current.useImperativeHandle(t,e,r)};mr.useInsertionEffect=function(t,e){return os.current.useInsertionEffect(t,e)};mr.useLayoutEffect=function(t,e){return os.current.useLayoutEffect(t,e)};mr.useMemo=function(t,e){return os.current.useMemo(t,e)};mr.useReducer=function(t,e,r){return os.current.useReducer(t,e,r)};mr.useRef=function(t){return os.current.useRef(t)};mr.useState=function(t){return os.current.useState(t)};mr.useSyncExternalStore=function(t,e,r){return os.current.useSyncExternalStore(t,e,r)};mr.useTransition=function(){return os.current.useTransition()};mr.version="18.3.1";VT.exports=mr;var Ae=VT.exports;const jz=Zn(Ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qz=Ae,zz=Symbol.for("react.element"),Hz=Symbol.for("react.fragment"),Kz=Object.prototype.hasOwnProperty,Wz=qz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vz={key:!0,ref:!0,__self:!0,__source:!0};function rP(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Kz.call(e,n)&&!Vz.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:zz,type:t,key:i,ref:o,props:s,_owner:Wz.current}}Gy.Fragment=Hz;Gy.jsx=rP;Gy.jsxs=rP;WT.exports=Gy;var fe=WT.exports;window.Buffer=Nt.Buffer;window.process=KT;var h_={},nP={exports:{}},Gs={},iP={exports:{}},sP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,m){var c=S.length;S.push(m);e:for(;0<c;){var w=c-1>>>1,T=S[w];if(0<s(T,m))S[w]=m,S[c]=T,c=w;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var m=S[0],c=S.pop();if(c!==m){S[0]=c;e:for(var w=0,T=S.length,O=T>>>1;w<O;){var K=2*(w+1)-1,ee=S[K],J=K+1,$=S[J];if(0>s(ee,c))J<T&&0>s($,ee)?(S[w]=$,S[J]=c,w=J):(S[w]=ee,S[K]=c,w=K);else if(J<T&&0>s($,c))S[w]=$,S[J]=c,w=J;else break e}}return m}function s(S,m){var c=S.sortIndex-m.sortIndex;return c!==0?c:S.id-m.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,v=null,b=3,_=!1,M=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(S){for(var m=r(d);m!==null;){if(m.callback===null)n(d);else if(m.startTime<=S)n(d),m.sortIndex=m.expirationTime,e(u,m);else break;m=r(d)}}function P(S){if(A=!1,C(S),!M)if(r(u)!==null)M=!0,y(N);else{var m=r(d);m!==null&&x(P,m.startTime-S)}}function N(S,m){M=!1,A&&(A=!1,k(F),F=-1),_=!0;var c=b;try{for(C(m),v=r(u);v!==null&&(!(v.expirationTime>m)||S&&!E());){var w=v.callback;if(typeof w=="function"){v.callback=null,b=v.priorityLevel;var T=w(v.expirationTime<=m);m=t.unstable_now(),typeof T=="function"?v.callback=T:v===r(u)&&n(u),C(m)}else n(u);v=r(u)}if(v!==null)var O=!0;else{var K=r(d);K!==null&&x(P,K.startTime-m),O=!1}return O}finally{v=null,b=c,_=!1}}var U=!1,q=null,F=-1,L=5,ie=-1;function E(){return!(t.unstable_now()-ie<L)}function a(){if(q!==null){var S=t.unstable_now();ie=S;var m=!0;try{m=q(!0,S)}finally{m?f():(U=!1,q=null)}}else U=!1}var f;if(typeof R=="function")f=function(){R(a)};else if(typeof MessageChannel<"u"){var h=new MessageChannel,g=h.port2;h.port1.onmessage=a,f=function(){g.postMessage(null)}}else f=function(){I(a,0)};function y(S){q=S,U||(U=!0,f())}function x(S,m){F=I(function(){S(t.unstable_now())},m)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){M||_||(M=!0,y(N))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(S){switch(b){case 1:case 2:case 3:var m=3;break;default:m=b}var c=b;b=m;try{return S()}finally{b=c}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,m){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var c=b;b=S;try{return m()}finally{b=c}},t.unstable_scheduleCallback=function(S,m,c){var w=t.unstable_now();switch(typeof c=="object"&&c!==null?(c=c.delay,c=typeof c=="number"&&0<c?w+c:w):c=w,S){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=c+T,S={id:p++,callback:m,priorityLevel:S,startTime:c,expirationTime:T,sortIndex:-1},c>w?(S.sortIndex=c,e(d,S),r(u)===null&&S===r(d)&&(A?(k(F),F=-1):A=!0,x(P,c-w))):(S.sortIndex=T,e(u,S),M||_||(M=!0,y(N))),S},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(S){var m=b;return function(){var c=b;b=m;try{return S.apply(this,arguments)}finally{b=c}}}})(sP);iP.exports=sP;var Gz=iP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yz=Ae,Vs=Gz;function dt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oP=new Set,j0={};function ef(t,e){mh(t,e),mh(t+"Capture",e)}function mh(t,e){for(j0[t]=e,t=0;t<e.length;t++)oP.add(e[t])}var kl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d_=Object.prototype.hasOwnProperty,Zz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o8={},a8={};function Jz(t){return d_.call(a8,t)?!0:d_.call(o8,t)?!1:Zz.test(t)?a8[t]=!0:(o8[t]=!0,!1)}function Xz(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qz(t,e,r,n){if(e===null||typeof e>"u"||Xz(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function as(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ci={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ci[t]=new as(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ci[e]=new as(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ci[t]=new as(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ci[t]=new as(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ci[t]=new as(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ci[t]=new as(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ci[t]=new as(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ci[t]=new as(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ci[t]=new as(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q5=/[\-:]([a-z])/g;function eS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Q5,eS);Ci[e]=new as(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Q5,eS);Ci[e]=new as(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Q5,eS);Ci[e]=new as(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ci[t]=new as(t,1,!1,t.toLowerCase(),null,!1,!1)});Ci.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ci[t]=new as(t,1,!1,t.toLowerCase(),null,!0,!0)});function tS(t,e,r,n){var s=Ci.hasOwnProperty(e)?Ci[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qz(e,r,s,n)&&(r=null),n||s===null?Jz(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Dl=Yz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ig=Symbol.for("react.element"),Ff=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),rS=Symbol.for("react.strict_mode"),p_=Symbol.for("react.profiler"),aP=Symbol.for("react.provider"),lP=Symbol.for("react.context"),nS=Symbol.for("react.forward_ref"),g_=Symbol.for("react.suspense"),m_=Symbol.for("react.suspense_list"),iS=Symbol.for("react.memo"),nc=Symbol.for("react.lazy"),cP=Symbol.for("react.offscreen"),l8=Symbol.iterator;function Id(t){return t===null||typeof t!="object"?null:(t=l8&&t[l8]||t["@@iterator"],typeof t=="function"?t:null)}var xn=Object.assign,$w;function l0(t){if($w===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$w=e&&e[1]||""}return`
`+$w+t}var Uw=!1;function Fw(t,e){if(!t||Uw)return"";Uw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Uw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?l0(t):""}function eH(t){switch(t.tag){case 5:return l0(t.type);case 16:return l0("Lazy");case 13:return l0("Suspense");case 19:return l0("SuspenseList");case 0:case 2:case 15:return t=Fw(t.type,!1),t;case 11:return t=Fw(t.type.render,!1),t;case 1:return t=Fw(t.type,!0),t;default:return""}}function y_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jf:return"Fragment";case Ff:return"Portal";case p_:return"Profiler";case rS:return"StrictMode";case g_:return"Suspense";case m_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lP:return(t.displayName||"Context")+".Consumer";case aP:return(t._context.displayName||"Context")+".Provider";case nS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iS:return e=t.displayName||null,e!==null?e:y_(t.type)||"Memo";case nc:e=t._payload,t=t._init;try{return y_(t(e))}catch{}}return null}function tH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return y_(e);case 8:return e===rS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rH(t){var e=uP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rg(t){t._valueTracker||(t._valueTracker=rH(t))}function fP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=uP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function D1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function v_(t,e){var r=e.checked;return xn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function c8(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Dc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hP(t,e){e=e.checked,e!=null&&tS(t,"checked",e,!1)}function w_(t,e){hP(t,e);var r=Dc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?b_(t,e.type,r):e.hasOwnProperty("defaultValue")&&b_(t,e.type,Dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u8(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function b_(t,e,r){(e!=="number"||D1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var c0=Array.isArray;function rh(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Dc(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function x_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(dt(91));return xn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f8(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(dt(92));if(c0(r)){if(1<r.length)throw Error(dt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Dc(r)}}function dP(t,e){var r=Dc(e.value),n=Dc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function h8(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function __(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cg,gP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cg=Cg||document.createElement("div"),Cg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function q0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var y0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nH=["Webkit","ms","Moz","O"];Object.keys(y0).forEach(function(t){nH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),y0[e]=y0[t]})});function mP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||y0.hasOwnProperty(t)&&y0[t]?(""+e).trim():e+"px"}function yP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=mP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var iH=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S_(t,e){if(e){if(iH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(dt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(dt(62))}}function E_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M_=null;function sS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var A_=null,nh=null,ih=null;function d8(t){if(t=Lp(t)){if(typeof A_!="function")throw Error(dt(280));var e=t.stateNode;e&&(e=Qy(e),A_(t.stateNode,t.type,e))}}function vP(t){nh?ih?ih.push(t):ih=[t]:nh=t}function wP(){if(nh){var t=nh,e=ih;if(ih=nh=null,d8(t),e)for(t=0;t<e.length;t++)d8(e[t])}}function bP(t,e){return t(e)}function xP(){}var jw=!1;function _P(t,e,r){if(jw)return t(e,r);jw=!0;try{return bP(t,e,r)}finally{jw=!1,(nh!==null||ih!==null)&&(xP(),wP())}}function z0(t,e){var r=t.stateNode;if(r===null)return null;var n=Qy(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(dt(231,e,typeof r));return r}var k_=!1;if(kl)try{var Rd={};Object.defineProperty(Rd,"passive",{get:function(){k_=!0}}),window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{k_=!1}function sH(t,e,r,n,s,i,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var v0=!1,$1=null,U1=!1,I_=null,oH={onError:function(t){v0=!0,$1=t}};function aH(t,e,r,n,s,i,o,l,u){v0=!1,$1=null,sH.apply(oH,arguments)}function lH(t,e,r,n,s,i,o,l,u){if(aH.apply(this,arguments),v0){if(v0){var d=$1;v0=!1,$1=null}else throw Error(dt(198));U1||(U1=!0,I_=d)}}function tf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function SP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p8(t){if(tf(t)!==t)throw Error(dt(188))}function cH(t){var e=t.alternate;if(!e){if(e=tf(t),e===null)throw Error(dt(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return p8(s),t;if(i===n)return p8(s),e;i=i.sibling}throw Error(dt(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(dt(189))}}if(r.alternate!==n)throw Error(dt(190))}if(r.tag!==3)throw Error(dt(188));return r.stateNode.current===r?t:e}function EP(t){return t=cH(t),t!==null?MP(t):null}function MP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MP(t);if(e!==null)return e;t=t.sibling}return null}var AP=Vs.unstable_scheduleCallback,g8=Vs.unstable_cancelCallback,uH=Vs.unstable_shouldYield,fH=Vs.unstable_requestPaint,Nn=Vs.unstable_now,hH=Vs.unstable_getCurrentPriorityLevel,oS=Vs.unstable_ImmediatePriority,kP=Vs.unstable_UserBlockingPriority,F1=Vs.unstable_NormalPriority,dH=Vs.unstable_LowPriority,IP=Vs.unstable_IdlePriority,Yy=null,ka=null;function pH(t){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(Yy,t,void 0,(t.current.flags&128)===128)}catch{}}var Wo=Math.clz32?Math.clz32:yH,gH=Math.log,mH=Math.LN2;function yH(t){return t>>>=0,t===0?32:31-(gH(t)/mH|0)|0}var Tg=64,Pg=4194304;function u0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function j1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=u0(l):(i&=o,i!==0&&(n=u0(i)))}else o=r&~s,o!==0?n=u0(o):i!==0&&(n=u0(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Wo(e),s=1<<r,n|=t[r],e&=~s;return n}function vH(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wH(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Wo(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=vH(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function R_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RP(){var t=Tg;return Tg<<=1,!(Tg&4194240)&&(Tg=64),t}function qw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Np(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wo(e),t[e]=r}function bH(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Wo(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function aS(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Wo(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var qr=0;function CP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TP,lS,PP,OP,NP,C_=!1,Og=[],bc=null,xc=null,_c=null,H0=new Map,K0=new Map,ac=[],xH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m8(t,e){switch(t){case"focusin":case"focusout":bc=null;break;case"dragenter":case"dragleave":xc=null;break;case"mouseover":case"mouseout":_c=null;break;case"pointerover":case"pointerout":H0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":K0.delete(e.pointerId)}}function Cd(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lp(e),e!==null&&lS(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function _H(t,e,r,n,s){switch(e){case"focusin":return bc=Cd(bc,t,e,r,n,s),!0;case"dragenter":return xc=Cd(xc,t,e,r,n,s),!0;case"mouseover":return _c=Cd(_c,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return H0.set(i,Cd(H0.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,K0.set(i,Cd(K0.get(i)||null,t,e,r,n,s)),!0}return!1}function BP(t){var e=wu(t.target);if(e!==null){var r=tf(e);if(r!==null){if(e=r.tag,e===13){if(e=SP(r),e!==null){t.blockedOn=e,NP(t.priority,function(){PP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=T_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);M_=n,r.target.dispatchEvent(n),M_=null}else return e=Lp(r),e!==null&&lS(e),t.blockedOn=r,!1;e.shift()}return!0}function y8(t,e,r){Hm(t)&&r.delete(e)}function SH(){C_=!1,bc!==null&&Hm(bc)&&(bc=null),xc!==null&&Hm(xc)&&(xc=null),_c!==null&&Hm(_c)&&(_c=null),H0.forEach(y8),K0.forEach(y8)}function Td(t,e){t.blockedOn===e&&(t.blockedOn=null,C_||(C_=!0,Vs.unstable_scheduleCallback(Vs.unstable_NormalPriority,SH)))}function W0(t){function e(s){return Td(s,t)}if(0<Og.length){Td(Og[0],t);for(var r=1;r<Og.length;r++){var n=Og[r];n.blockedOn===t&&(n.blockedOn=null)}}for(bc!==null&&Td(bc,t),xc!==null&&Td(xc,t),_c!==null&&Td(_c,t),H0.forEach(e),K0.forEach(e),r=0;r<ac.length;r++)n=ac[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ac.length&&(r=ac[0],r.blockedOn===null);)BP(r),r.blockedOn===null&&ac.shift()}var sh=Dl.ReactCurrentBatchConfig,q1=!0;function EH(t,e,r,n){var s=qr,i=sh.transition;sh.transition=null;try{qr=1,cS(t,e,r,n)}finally{qr=s,sh.transition=i}}function MH(t,e,r,n){var s=qr,i=sh.transition;sh.transition=null;try{qr=4,cS(t,e,r,n)}finally{qr=s,sh.transition=i}}function cS(t,e,r,n){if(q1){var s=T_(t,e,r,n);if(s===null)Xw(t,e,n,z1,r),m8(t,n);else if(_H(s,t,e,r,n))n.stopPropagation();else if(m8(t,n),e&4&&-1<xH.indexOf(t)){for(;s!==null;){var i=Lp(s);if(i!==null&&TP(i),i=T_(t,e,r,n),i===null&&Xw(t,e,n,z1,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Xw(t,e,n,null,r)}}var z1=null;function T_(t,e,r,n){if(z1=null,t=sS(n),t=wu(t),t!==null)if(e=tf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=SP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return z1=t,null}function LP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hH()){case oS:return 1;case kP:return 4;case F1:case dH:return 16;case IP:return 536870912;default:return 16}default:return 16}}var pc=null,uS=null,Km=null;function DP(){if(Km)return Km;var t,e=uS,r=e.length,n,s="value"in pc?pc.value:pc.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Km=s.slice(t,1<n?1-n:void 0)}function Wm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ng(){return!0}function v8(){return!1}function Ys(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ng:v8,this.isPropagationStopped=v8,this}return xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ng)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ng)},persist:function(){},isPersistent:Ng}),e}var Zh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fS=Ys(Zh),Bp=xn({},Zh,{view:0,detail:0}),AH=Ys(Bp),zw,Hw,Pd,Zy=xn({},Bp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pd&&(Pd&&t.type==="mousemove"?(zw=t.screenX-Pd.screenX,Hw=t.screenY-Pd.screenY):Hw=zw=0,Pd=t),zw)},movementY:function(t){return"movementY"in t?t.movementY:Hw}}),w8=Ys(Zy),kH=xn({},Zy,{dataTransfer:0}),IH=Ys(kH),RH=xn({},Bp,{relatedTarget:0}),Kw=Ys(RH),CH=xn({},Zh,{animationName:0,elapsedTime:0,pseudoElement:0}),TH=Ys(CH),PH=xn({},Zh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OH=Ys(PH),NH=xn({},Zh,{data:0}),b8=Ys(NH),BH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $H(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DH[t])?!!e[t]:!1}function hS(){return $H}var UH=xn({},Bp,{key:function(t){if(t.key){var e=BH[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LH[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hS,charCode:function(t){return t.type==="keypress"?Wm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FH=Ys(UH),jH=xn({},Zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x8=Ys(jH),qH=xn({},Bp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hS}),zH=Ys(qH),HH=xn({},Zh,{propertyName:0,elapsedTime:0,pseudoElement:0}),KH=Ys(HH),WH=xn({},Zy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VH=Ys(WH),GH=[9,13,27,32],dS=kl&&"CompositionEvent"in window,w0=null;kl&&"documentMode"in document&&(w0=document.documentMode);var YH=kl&&"TextEvent"in window&&!w0,$P=kl&&(!dS||w0&&8<w0&&11>=w0),_8=" ",S8=!1;function UP(t,e){switch(t){case"keyup":return GH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qf=!1;function ZH(t,e){switch(t){case"compositionend":return FP(e);case"keypress":return e.which!==32?null:(S8=!0,_8);case"textInput":return t=e.data,t===_8&&S8?null:t;default:return null}}function JH(t,e){if(qf)return t==="compositionend"||!dS&&UP(t,e)?(t=DP(),Km=uS=pc=null,qf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $P&&e.locale!=="ko"?null:e.data;default:return null}}var XH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XH[t.type]:e==="textarea"}function jP(t,e,r,n){vP(n),e=H1(e,"onChange"),0<e.length&&(r=new fS("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var b0=null,V0=null;function QH(t){XP(t,0)}function Jy(t){var e=Kf(t);if(fP(e))return t}function eK(t,e){if(t==="change")return e}var qP=!1;if(kl){var Ww;if(kl){var Vw="oninput"in document;if(!Vw){var M8=document.createElement("div");M8.setAttribute("oninput","return;"),Vw=typeof M8.oninput=="function"}Ww=Vw}else Ww=!1;qP=Ww&&(!document.documentMode||9<document.documentMode)}function A8(){b0&&(b0.detachEvent("onpropertychange",zP),V0=b0=null)}function zP(t){if(t.propertyName==="value"&&Jy(V0)){var e=[];jP(e,V0,t,sS(t)),_P(QH,e)}}function tK(t,e,r){t==="focusin"?(A8(),b0=e,V0=r,b0.attachEvent("onpropertychange",zP)):t==="focusout"&&A8()}function rK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jy(V0)}function nK(t,e){if(t==="click")return Jy(e)}function iK(t,e){if(t==="input"||t==="change")return Jy(e)}function sK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yo=typeof Object.is=="function"?Object.is:sK;function G0(t,e){if(Yo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!d_.call(e,s)||!Yo(t[s],e[s]))return!1}return!0}function k8(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I8(t,e){var r=k8(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=k8(r)}}function HP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KP(){for(var t=window,e=D1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=D1(t.document)}return e}function pS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oK(t){var e=KP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&HP(r.ownerDocument.documentElement,r)){if(n!==null&&pS(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=I8(r,i);var o=I8(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aK=kl&&"documentMode"in document&&11>=document.documentMode,zf=null,P_=null,x0=null,O_=!1;function R8(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;O_||zf==null||zf!==D1(n)||(n=zf,"selectionStart"in n&&pS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),x0&&G0(x0,n)||(x0=n,n=H1(P_,"onSelect"),0<n.length&&(e=new fS("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zf)))}function Bg(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hf={animationend:Bg("Animation","AnimationEnd"),animationiteration:Bg("Animation","AnimationIteration"),animationstart:Bg("Animation","AnimationStart"),transitionend:Bg("Transition","TransitionEnd")},Gw={},WP={};kl&&(WP=document.createElement("div").style,"AnimationEvent"in window||(delete Hf.animationend.animation,delete Hf.animationiteration.animation,delete Hf.animationstart.animation),"TransitionEvent"in window||delete Hf.transitionend.transition);function Xy(t){if(Gw[t])return Gw[t];if(!Hf[t])return t;var e=Hf[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in WP)return Gw[t]=e[r];return t}var VP=Xy("animationend"),GP=Xy("animationiteration"),YP=Xy("animationstart"),ZP=Xy("transitionend"),JP=new Map,C8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kc(t,e){JP.set(t,e),ef(e,[t])}for(var Yw=0;Yw<C8.length;Yw++){var Zw=C8[Yw],lK=Zw.toLowerCase(),cK=Zw[0].toUpperCase()+Zw.slice(1);Kc(lK,"on"+cK)}Kc(VP,"onAnimationEnd");Kc(GP,"onAnimationIteration");Kc(YP,"onAnimationStart");Kc("dblclick","onDoubleClick");Kc("focusin","onFocus");Kc("focusout","onBlur");Kc(ZP,"onTransitionEnd");mh("onMouseEnter",["mouseout","mouseover"]);mh("onMouseLeave",["mouseout","mouseover"]);mh("onPointerEnter",["pointerout","pointerover"]);mh("onPointerLeave",["pointerout","pointerover"]);ef("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ef("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ef("onBeforeInput",["compositionend","keypress","textInput","paste"]);ef("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ef("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ef("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uK=new Set("cancel close invalid load scroll toggle".split(" ").concat(f0));function T8(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,lH(n,e,void 0,t),t.currentTarget=null}function XP(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;T8(s,l,d),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;T8(s,l,d),i=u}}}if(U1)throw t=I_,U1=!1,I_=null,t}function an(t,e){var r=e[$_];r===void 0&&(r=e[$_]=new Set);var n=t+"__bubble";r.has(n)||(QP(e,t,2,!1),r.add(n))}function Jw(t,e,r){var n=0;e&&(n|=4),QP(r,t,n,e)}var Lg="_reactListening"+Math.random().toString(36).slice(2);function Y0(t){if(!t[Lg]){t[Lg]=!0,oP.forEach(function(r){r!=="selectionchange"&&(uK.has(r)||Jw(r,!1,t),Jw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lg]||(e[Lg]=!0,Jw("selectionchange",!1,e))}}function QP(t,e,r,n){switch(LP(e)){case 1:var s=EH;break;case 4:s=MH;break;default:s=cS}r=s.bind(null,e,r,t),s=void 0,!k_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Xw(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=wu(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}_P(function(){var d=i,p=sS(r),v=[];e:{var b=JP.get(t);if(b!==void 0){var _=fS,M=t;switch(t){case"keypress":if(Wm(r)===0)break e;case"keydown":case"keyup":_=FH;break;case"focusin":M="focus",_=Kw;break;case"focusout":M="blur",_=Kw;break;case"beforeblur":case"afterblur":_=Kw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=w8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=IH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=zH;break;case VP:case GP:case YP:_=TH;break;case ZP:_=KH;break;case"scroll":_=AH;break;case"wheel":_=VH;break;case"copy":case"cut":case"paste":_=OH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=x8}var A=(e&4)!==0,I=!A&&t==="scroll",k=A?b!==null?b+"Capture":null:b;A=[];for(var R=d,C;R!==null;){C=R;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,k!==null&&(P=z0(R,k),P!=null&&A.push(Z0(R,P,C)))),I)break;R=R.return}0<A.length&&(b=new _(b,M,null,r,p),v.push({event:b,listeners:A}))}}if(!(e&7)){e:{if(b=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",b&&r!==M_&&(M=r.relatedTarget||r.fromElement)&&(wu(M)||M[Il]))break e;if((_||b)&&(b=p.window===p?p:(b=p.ownerDocument)?b.defaultView||b.parentWindow:window,_?(M=r.relatedTarget||r.toElement,_=d,M=M?wu(M):null,M!==null&&(I=tf(M),M!==I||M.tag!==5&&M.tag!==6)&&(M=null)):(_=null,M=d),_!==M)){if(A=w8,P="onMouseLeave",k="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(A=x8,P="onPointerLeave",k="onPointerEnter",R="pointer"),I=_==null?b:Kf(_),C=M==null?b:Kf(M),b=new A(P,R+"leave",_,r,p),b.target=I,b.relatedTarget=C,P=null,wu(p)===d&&(A=new A(k,R+"enter",M,r,p),A.target=C,A.relatedTarget=I,P=A),I=P,_&&M)t:{for(A=_,k=M,R=0,C=A;C;C=mf(C))R++;for(C=0,P=k;P;P=mf(P))C++;for(;0<R-C;)A=mf(A),R--;for(;0<C-R;)k=mf(k),C--;for(;R--;){if(A===k||k!==null&&A===k.alternate)break t;A=mf(A),k=mf(k)}A=null}else A=null;_!==null&&P8(v,b,_,A,!1),M!==null&&I!==null&&P8(v,I,M,A,!0)}}e:{if(b=d?Kf(d):window,_=b.nodeName&&b.nodeName.toLowerCase(),_==="select"||_==="input"&&b.type==="file")var N=eK;else if(E8(b))if(qP)N=iK;else{N=rK;var U=tK}else(_=b.nodeName)&&_.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(N=nK);if(N&&(N=N(t,d))){jP(v,N,r,p);break e}U&&U(t,b,d),t==="focusout"&&(U=b._wrapperState)&&U.controlled&&b.type==="number"&&b_(b,"number",b.value)}switch(U=d?Kf(d):window,t){case"focusin":(E8(U)||U.contentEditable==="true")&&(zf=U,P_=d,x0=null);break;case"focusout":x0=P_=zf=null;break;case"mousedown":O_=!0;break;case"contextmenu":case"mouseup":case"dragend":O_=!1,R8(v,r,p);break;case"selectionchange":if(aK)break;case"keydown":case"keyup":R8(v,r,p)}var q;if(dS)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else qf?UP(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&($P&&r.locale!=="ko"&&(qf||F!=="onCompositionStart"?F==="onCompositionEnd"&&qf&&(q=DP()):(pc=p,uS="value"in pc?pc.value:pc.textContent,qf=!0)),U=H1(d,F),0<U.length&&(F=new b8(F,t,null,r,p),v.push({event:F,listeners:U}),q?F.data=q:(q=FP(r),q!==null&&(F.data=q)))),(q=YH?ZH(t,r):JH(t,r))&&(d=H1(d,"onBeforeInput"),0<d.length&&(p=new b8("onBeforeInput","beforeinput",null,r,p),v.push({event:p,listeners:d}),p.data=q))}XP(v,e)})}function Z0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function H1(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=z0(t,r),i!=null&&n.unshift(Z0(t,i,s)),i=z0(t,e),i!=null&&n.push(Z0(t,i,s))),t=t.return}return n}function mf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function P8(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,d=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&d!==null&&(l=d,s?(u=z0(r,i),u!=null&&o.unshift(Z0(r,u,l))):s||(u=z0(r,i),u!=null&&o.push(Z0(r,u,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var fK=/\r\n?/g,hK=/\u0000|\uFFFD/g;function O8(t){return(typeof t=="string"?t:""+t).replace(fK,`
`).replace(hK,"")}function Dg(t,e,r){if(e=O8(e),O8(t)!==e&&r)throw Error(dt(425))}function K1(){}var N_=null,B_=null;function L_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var D_=typeof setTimeout=="function"?setTimeout:void 0,dK=typeof clearTimeout=="function"?clearTimeout:void 0,N8=typeof Promise=="function"?Promise:void 0,pK=typeof queueMicrotask=="function"?queueMicrotask:typeof N8<"u"?function(t){return N8.resolve(null).then(t).catch(gK)}:D_;function gK(t){setTimeout(function(){throw t})}function Qw(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),W0(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);W0(e)}function Sc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B8(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jh=Math.random().toString(36).slice(2),_a="__reactFiber$"+Jh,J0="__reactProps$"+Jh,Il="__reactContainer$"+Jh,$_="__reactEvents$"+Jh,mK="__reactListeners$"+Jh,yK="__reactHandles$"+Jh;function wu(t){var e=t[_a];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Il]||r[_a]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=B8(t);t!==null;){if(r=t[_a])return r;t=B8(t)}return e}t=r,r=t.parentNode}return null}function Lp(t){return t=t[_a]||t[Il],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(dt(33))}function Qy(t){return t[J0]||null}var U_=[],Wf=-1;function Wc(t){return{current:t}}function un(t){0>Wf||(t.current=U_[Wf],U_[Wf]=null,Wf--)}function nn(t,e){Wf++,U_[Wf]=t.current,t.current=e}var $c={},Yi=Wc($c),_s=Wc(!1),$u=$c;function yh(t,e){var r=t.type.contextTypes;if(!r)return $c;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ss(t){return t=t.childContextTypes,t!=null}function W1(){un(_s),un(Yi)}function L8(t,e,r){if(Yi.current!==$c)throw Error(dt(168));nn(Yi,e),nn(_s,r)}function eO(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(dt(108,tH(t)||"Unknown",s));return xn({},r,n)}function V1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$c,$u=Yi.current,nn(Yi,t),nn(_s,_s.current),!0}function D8(t,e,r){var n=t.stateNode;if(!n)throw Error(dt(169));r?(t=eO(t,e,$u),n.__reactInternalMemoizedMergedChildContext=t,un(_s),un(Yi),nn(Yi,t)):un(_s),nn(_s,r)}var ll=null,ev=!1,eb=!1;function tO(t){ll===null?ll=[t]:ll.push(t)}function vK(t){ev=!0,tO(t)}function Vc(){if(!eb&&ll!==null){eb=!0;var t=0,e=qr;try{var r=ll;for(qr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ll=null,ev=!1}catch(s){throw ll!==null&&(ll=ll.slice(t+1)),AP(oS,Vc),s}finally{qr=e,eb=!1}}return null}var Vf=[],Gf=0,G1=null,Y1=0,ho=[],po=0,Uu=null,vl=1,wl="";function lu(t,e){Vf[Gf++]=Y1,Vf[Gf++]=G1,G1=t,Y1=e}function rO(t,e,r){ho[po++]=vl,ho[po++]=wl,ho[po++]=Uu,Uu=t;var n=vl;t=wl;var s=32-Wo(n)-1;n&=~(1<<s),r+=1;var i=32-Wo(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vl=1<<32-Wo(e)+s|r<<s|n,wl=i+t}else vl=1<<i|r<<s|n,wl=t}function gS(t){t.return!==null&&(lu(t,1),rO(t,1,0))}function mS(t){for(;t===G1;)G1=Vf[--Gf],Vf[Gf]=null,Y1=Vf[--Gf],Vf[Gf]=null;for(;t===Uu;)Uu=ho[--po],ho[po]=null,wl=ho[--po],ho[po]=null,vl=ho[--po],ho[po]=null}var Ws=null,qs=null,gn=!1,qo=null;function nO(t,e){var r=yo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $8(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ws=t,qs=Sc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ws=t,qs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Uu!==null?{id:vl,overflow:wl}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=yo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ws=t,qs=null,!0):!1;default:return!1}}function F_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function j_(t){if(gn){var e=qs;if(e){var r=e;if(!$8(t,e)){if(F_(t))throw Error(dt(418));e=Sc(r.nextSibling);var n=Ws;e&&$8(t,e)?nO(n,r):(t.flags=t.flags&-4097|2,gn=!1,Ws=t)}}else{if(F_(t))throw Error(dt(418));t.flags=t.flags&-4097|2,gn=!1,Ws=t}}}function U8(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ws=t}function $g(t){if(t!==Ws)return!1;if(!gn)return U8(t),gn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!L_(t.type,t.memoizedProps)),e&&(e=qs)){if(F_(t))throw iO(),Error(dt(418));for(;e;)nO(t,e),e=Sc(e.nextSibling)}if(U8(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(dt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qs=Sc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qs=null}}else qs=Ws?Sc(t.stateNode.nextSibling):null;return!0}function iO(){for(var t=qs;t;)t=Sc(t.nextSibling)}function vh(){qs=Ws=null,gn=!1}function yS(t){qo===null?qo=[t]:qo.push(t)}var wK=Dl.ReactCurrentBatchConfig;function Od(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(dt(309));var n=r.stateNode}if(!n)throw Error(dt(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(dt(284));if(!r._owner)throw Error(dt(290,t))}return t}function Ug(t,e){throw t=Object.prototype.toString.call(e),Error(dt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F8(t){var e=t._init;return e(t._payload)}function sO(t){function e(k,R){if(t){var C=k.deletions;C===null?(k.deletions=[R],k.flags|=16):C.push(R)}}function r(k,R){if(!t)return null;for(;R!==null;)e(k,R),R=R.sibling;return null}function n(k,R){for(k=new Map;R!==null;)R.key!==null?k.set(R.key,R):k.set(R.index,R),R=R.sibling;return k}function s(k,R){return k=kc(k,R),k.index=0,k.sibling=null,k}function i(k,R,C){return k.index=C,t?(C=k.alternate,C!==null?(C=C.index,C<R?(k.flags|=2,R):C):(k.flags|=2,R)):(k.flags|=1048576,R)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function l(k,R,C,P){return R===null||R.tag!==6?(R=ab(C,k.mode,P),R.return=k,R):(R=s(R,C),R.return=k,R)}function u(k,R,C,P){var N=C.type;return N===jf?p(k,R,C.props.children,P,C.key):R!==null&&(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nc&&F8(N)===R.type)?(P=s(R,C.props),P.ref=Od(k,R,C),P.return=k,P):(P=Qm(C.type,C.key,C.props,null,k.mode,P),P.ref=Od(k,R,C),P.return=k,P)}function d(k,R,C,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==C.containerInfo||R.stateNode.implementation!==C.implementation?(R=lb(C,k.mode,P),R.return=k,R):(R=s(R,C.children||[]),R.return=k,R)}function p(k,R,C,P,N){return R===null||R.tag!==7?(R=Ru(C,k.mode,P,N),R.return=k,R):(R=s(R,C),R.return=k,R)}function v(k,R,C){if(typeof R=="string"&&R!==""||typeof R=="number")return R=ab(""+R,k.mode,C),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ig:return C=Qm(R.type,R.key,R.props,null,k.mode,C),C.ref=Od(k,null,R),C.return=k,C;case Ff:return R=lb(R,k.mode,C),R.return=k,R;case nc:var P=R._init;return v(k,P(R._payload),C)}if(c0(R)||Id(R))return R=Ru(R,k.mode,C,null),R.return=k,R;Ug(k,R)}return null}function b(k,R,C,P){var N=R!==null?R.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return N!==null?null:l(k,R,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ig:return C.key===N?u(k,R,C,P):null;case Ff:return C.key===N?d(k,R,C,P):null;case nc:return N=C._init,b(k,R,N(C._payload),P)}if(c0(C)||Id(C))return N!==null?null:p(k,R,C,P,null);Ug(k,C)}return null}function _(k,R,C,P,N){if(typeof P=="string"&&P!==""||typeof P=="number")return k=k.get(C)||null,l(R,k,""+P,N);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ig:return k=k.get(P.key===null?C:P.key)||null,u(R,k,P,N);case Ff:return k=k.get(P.key===null?C:P.key)||null,d(R,k,P,N);case nc:var U=P._init;return _(k,R,C,U(P._payload),N)}if(c0(P)||Id(P))return k=k.get(C)||null,p(R,k,P,N,null);Ug(R,P)}return null}function M(k,R,C,P){for(var N=null,U=null,q=R,F=R=0,L=null;q!==null&&F<C.length;F++){q.index>F?(L=q,q=null):L=q.sibling;var ie=b(k,q,C[F],P);if(ie===null){q===null&&(q=L);break}t&&q&&ie.alternate===null&&e(k,q),R=i(ie,R,F),U===null?N=ie:U.sibling=ie,U=ie,q=L}if(F===C.length)return r(k,q),gn&&lu(k,F),N;if(q===null){for(;F<C.length;F++)q=v(k,C[F],P),q!==null&&(R=i(q,R,F),U===null?N=q:U.sibling=q,U=q);return gn&&lu(k,F),N}for(q=n(k,q);F<C.length;F++)L=_(q,k,F,C[F],P),L!==null&&(t&&L.alternate!==null&&q.delete(L.key===null?F:L.key),R=i(L,R,F),U===null?N=L:U.sibling=L,U=L);return t&&q.forEach(function(E){return e(k,E)}),gn&&lu(k,F),N}function A(k,R,C,P){var N=Id(C);if(typeof N!="function")throw Error(dt(150));if(C=N.call(C),C==null)throw Error(dt(151));for(var U=N=null,q=R,F=R=0,L=null,ie=C.next();q!==null&&!ie.done;F++,ie=C.next()){q.index>F?(L=q,q=null):L=q.sibling;var E=b(k,q,ie.value,P);if(E===null){q===null&&(q=L);break}t&&q&&E.alternate===null&&e(k,q),R=i(E,R,F),U===null?N=E:U.sibling=E,U=E,q=L}if(ie.done)return r(k,q),gn&&lu(k,F),N;if(q===null){for(;!ie.done;F++,ie=C.next())ie=v(k,ie.value,P),ie!==null&&(R=i(ie,R,F),U===null?N=ie:U.sibling=ie,U=ie);return gn&&lu(k,F),N}for(q=n(k,q);!ie.done;F++,ie=C.next())ie=_(q,k,F,ie.value,P),ie!==null&&(t&&ie.alternate!==null&&q.delete(ie.key===null?F:ie.key),R=i(ie,R,F),U===null?N=ie:U.sibling=ie,U=ie);return t&&q.forEach(function(a){return e(k,a)}),gn&&lu(k,F),N}function I(k,R,C,P){if(typeof C=="object"&&C!==null&&C.type===jf&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ig:e:{for(var N=C.key,U=R;U!==null;){if(U.key===N){if(N=C.type,N===jf){if(U.tag===7){r(k,U.sibling),R=s(U,C.props.children),R.return=k,k=R;break e}}else if(U.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===nc&&F8(N)===U.type){r(k,U.sibling),R=s(U,C.props),R.ref=Od(k,U,C),R.return=k,k=R;break e}r(k,U);break}else e(k,U);U=U.sibling}C.type===jf?(R=Ru(C.props.children,k.mode,P,C.key),R.return=k,k=R):(P=Qm(C.type,C.key,C.props,null,k.mode,P),P.ref=Od(k,R,C),P.return=k,k=P)}return o(k);case Ff:e:{for(U=C.key;R!==null;){if(R.key===U)if(R.tag===4&&R.stateNode.containerInfo===C.containerInfo&&R.stateNode.implementation===C.implementation){r(k,R.sibling),R=s(R,C.children||[]),R.return=k,k=R;break e}else{r(k,R);break}else e(k,R);R=R.sibling}R=lb(C,k.mode,P),R.return=k,k=R}return o(k);case nc:return U=C._init,I(k,R,U(C._payload),P)}if(c0(C))return M(k,R,C,P);if(Id(C))return A(k,R,C,P);Ug(k,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,R!==null&&R.tag===6?(r(k,R.sibling),R=s(R,C),R.return=k,k=R):(r(k,R),R=ab(C,k.mode,P),R.return=k,k=R),o(k)):r(k,R)}return I}var wh=sO(!0),oO=sO(!1),Z1=Wc(null),J1=null,Yf=null,vS=null;function wS(){vS=Yf=J1=null}function bS(t){var e=Z1.current;un(Z1),t._currentValue=e}function q_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function oh(t,e){J1=t,vS=Yf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bs=!0),t.firstContext=null)}function _o(t){var e=t._currentValue;if(vS!==t)if(t={context:t,memoizedValue:e,next:null},Yf===null){if(J1===null)throw Error(dt(308));Yf=t,J1.dependencies={lanes:0,firstContext:t}}else Yf=Yf.next=t;return e}var bu=null;function xS(t){bu===null?bu=[t]:bu.push(t)}function aO(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,xS(e)):(r.next=s.next,s.next=r),e.interleaved=r,Rl(t,n)}function Rl(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ic=!1;function _S(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _l(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ec(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Cr&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Rl(t,r)}return s=n.interleaved,s===null?(e.next=e,xS(n)):(e.next=s.next,s.next=e),n.interleaved=e,Rl(t,r)}function Vm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,aS(t,r)}}function j8(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function X1(t,e,r,n){var s=t.updateQueue;ic=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==o&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=u))}if(i!==null){var v=s.baseState;o=0,p=d=u=null,l=i;do{var b=l.lane,_=l.eventTime;if((n&b)===b){p!==null&&(p=p.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var M=t,A=l;switch(b=e,_=r,A.tag){case 1:if(M=A.payload,typeof M=="function"){v=M.call(_,v,b);break e}v=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=A.payload,b=typeof M=="function"?M.call(_,v,b):M,b==null)break e;v=xn({},v,b);break e;case 2:ic=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,b=s.effects,b===null?s.effects=[l]:b.push(l))}else _={eventTime:_,lane:b,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=_,u=v):p=p.next=_,o|=b;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;b=l,l=b.next,b.next=null,s.lastBaseUpdate=b,s.shared.pending=null}}while(!0);if(p===null&&(u=v),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ju|=o,t.lanes=o,t.memoizedState=v}}function q8(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(dt(191,s));s.call(n)}}}var Dp={},Ia=Wc(Dp),X0=Wc(Dp),Q0=Wc(Dp);function xu(t){if(t===Dp)throw Error(dt(174));return t}function SS(t,e){switch(nn(Q0,e),nn(X0,t),nn(Ia,Dp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:__(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=__(e,t)}un(Ia),nn(Ia,e)}function bh(){un(Ia),un(X0),un(Q0)}function cO(t){xu(Q0.current);var e=xu(Ia.current),r=__(e,t.type);e!==r&&(nn(X0,t),nn(Ia,r))}function ES(t){X0.current===t&&(un(Ia),un(X0))}var yn=Wc(0);function Q1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tb=[];function MS(){for(var t=0;t<tb.length;t++)tb[t]._workInProgressVersionPrimary=null;tb.length=0}var Gm=Dl.ReactCurrentDispatcher,rb=Dl.ReactCurrentBatchConfig,Fu=0,wn=null,Vn=null,li=null,ey=!1,_0=!1,ep=0,bK=0;function Li(){throw Error(dt(321))}function AS(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yo(t[r],e[r]))return!1;return!0}function kS(t,e,r,n,s,i){if(Fu=i,wn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gm.current=t===null||t.memoizedState===null?EK:MK,t=r(n,s),_0){i=0;do{if(_0=!1,ep=0,25<=i)throw Error(dt(301));i+=1,li=Vn=null,e.updateQueue=null,Gm.current=AK,t=r(n,s)}while(_0)}if(Gm.current=ty,e=Vn!==null&&Vn.next!==null,Fu=0,li=Vn=wn=null,ey=!1,e)throw Error(dt(300));return t}function IS(){var t=ep!==0;return ep=0,t}function da(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return li===null?wn.memoizedState=li=t:li=li.next=t,li}function So(){if(Vn===null){var t=wn.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=li===null?wn.memoizedState:li.next;if(e!==null)li=e,Vn=t;else{if(t===null)throw Error(dt(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},li===null?wn.memoizedState=li=t:li=li.next=t}return li}function tp(t,e){return typeof e=="function"?e(t):e}function nb(t){var e=So(),r=e.queue;if(r===null)throw Error(dt(311));r.lastRenderedReducer=t;var n=Vn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,d=i;do{var p=d.lane;if((Fu&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var v={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=v,o=n):u=u.next=v,wn.lanes|=p,ju|=p}d=d.next}while(d!==null&&d!==i);u===null?o=n:u.next=l,Yo(n,e.memoizedState)||(bs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,wn.lanes|=i,ju|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ib(t){var e=So(),r=e.queue;if(r===null)throw Error(dt(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yo(i,e.memoizedState)||(bs=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function uO(){}function fO(t,e){var r=wn,n=So(),s=e(),i=!Yo(n.memoizedState,s);if(i&&(n.memoizedState=s,bs=!0),n=n.queue,RS(pO.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||li!==null&&li.memoizedState.tag&1){if(r.flags|=2048,rp(9,dO.bind(null,r,n,s,e),void 0,null),pi===null)throw Error(dt(349));Fu&30||hO(r,e,s)}return s}function hO(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=wn.updateQueue,e===null?(e={lastEffect:null,stores:null},wn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dO(t,e,r,n){e.value=r,e.getSnapshot=n,gO(e)&&mO(t)}function pO(t,e,r){return r(function(){gO(e)&&mO(t)})}function gO(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yo(t,r)}catch{return!0}}function mO(t){var e=Rl(t,1);e!==null&&Vo(e,t,1,-1)}function z8(t){var e=da();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:t},e.queue=t,t=t.dispatch=SK.bind(null,wn,t),[e.memoizedState,t]}function rp(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=wn.updateQueue,e===null?(e={lastEffect:null,stores:null},wn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function yO(){return So().memoizedState}function Ym(t,e,r,n){var s=da();wn.flags|=t,s.memoizedState=rp(1|e,r,void 0,n===void 0?null:n)}function tv(t,e,r,n){var s=So();n=n===void 0?null:n;var i=void 0;if(Vn!==null){var o=Vn.memoizedState;if(i=o.destroy,n!==null&&AS(n,o.deps)){s.memoizedState=rp(e,r,i,n);return}}wn.flags|=t,s.memoizedState=rp(1|e,r,i,n)}function H8(t,e){return Ym(8390656,8,t,e)}function RS(t,e){return tv(2048,8,t,e)}function vO(t,e){return tv(4,2,t,e)}function wO(t,e){return tv(4,4,t,e)}function bO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xO(t,e,r){return r=r!=null?r.concat([t]):null,tv(4,4,bO.bind(null,e,t),r)}function CS(){}function _O(t,e){var r=So();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AS(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function SO(t,e){var r=So();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AS(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function EO(t,e,r){return Fu&21?(Yo(r,e)||(r=RP(),wn.lanes|=r,ju|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=r)}function xK(t,e){var r=qr;qr=r!==0&&4>r?r:4,t(!0);var n=rb.transition;rb.transition={};try{t(!1),e()}finally{qr=r,rb.transition=n}}function MO(){return So().memoizedState}function _K(t,e,r){var n=Ac(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},AO(t))kO(e,r);else if(r=aO(t,e,r,n),r!==null){var s=ns();Vo(r,t,n,s),IO(r,e,n)}}function SK(t,e,r){var n=Ac(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(AO(t))kO(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Yo(l,o)){var u=e.interleaved;u===null?(s.next=s,xS(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=aO(t,e,s,n),r!==null&&(s=ns(),Vo(r,t,n,s),IO(r,e,n))}}function AO(t){var e=t.alternate;return t===wn||e!==null&&e===wn}function kO(t,e){_0=ey=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function IO(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,aS(t,r)}}var ty={readContext:_o,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},EK={readContext:_o,useCallback:function(t,e){return da().memoizedState=[t,e===void 0?null:e],t},useContext:_o,useEffect:H8,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ym(4194308,4,bO.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ym(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ym(4,2,t,e)},useMemo:function(t,e){var r=da();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=da();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=_K.bind(null,wn,t),[n.memoizedState,t]},useRef:function(t){var e=da();return t={current:t},e.memoizedState=t},useState:z8,useDebugValue:CS,useDeferredValue:function(t){return da().memoizedState=t},useTransition:function(){var t=z8(!1),e=t[0];return t=xK.bind(null,t[1]),da().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=wn,s=da();if(gn){if(r===void 0)throw Error(dt(407));r=r()}else{if(r=e(),pi===null)throw Error(dt(349));Fu&30||hO(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,H8(pO.bind(null,n,i,t),[t]),n.flags|=2048,rp(9,dO.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=da(),e=pi.identifierPrefix;if(gn){var r=wl,n=vl;r=(n&~(1<<32-Wo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ep++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=bK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MK={readContext:_o,useCallback:_O,useContext:_o,useEffect:RS,useImperativeHandle:xO,useInsertionEffect:vO,useLayoutEffect:wO,useMemo:SO,useReducer:nb,useRef:yO,useState:function(){return nb(tp)},useDebugValue:CS,useDeferredValue:function(t){var e=So();return EO(e,Vn.memoizedState,t)},useTransition:function(){var t=nb(tp)[0],e=So().memoizedState;return[t,e]},useMutableSource:uO,useSyncExternalStore:fO,useId:MO,unstable_isNewReconciler:!1},AK={readContext:_o,useCallback:_O,useContext:_o,useEffect:RS,useImperativeHandle:xO,useInsertionEffect:vO,useLayoutEffect:wO,useMemo:SO,useReducer:ib,useRef:yO,useState:function(){return ib(tp)},useDebugValue:CS,useDeferredValue:function(t){var e=So();return Vn===null?e.memoizedState=t:EO(e,Vn.memoizedState,t)},useTransition:function(){var t=ib(tp)[0],e=So().memoizedState;return[t,e]},useMutableSource:uO,useSyncExternalStore:fO,useId:MO,unstable_isNewReconciler:!1};function $o(t,e){if(t&&t.defaultProps){e=xn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function z_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rv={isMounted:function(t){return(t=t._reactInternals)?tf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ns(),s=Ac(t),i=_l(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ec(t,i,s),e!==null&&(Vo(e,t,s,n),Vm(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ns(),s=Ac(t),i=_l(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ec(t,i,s),e!==null&&(Vo(e,t,s,n),Vm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ns(),n=Ac(t),s=_l(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ec(t,s,n),e!==null&&(Vo(e,t,n,r),Vm(e,t,n))}};function K8(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!G0(r,n)||!G0(s,i):!0}function RO(t,e,r){var n=!1,s=$c,i=e.contextType;return typeof i=="object"&&i!==null?i=_o(i):(s=Ss(e)?$u:Yi.current,n=e.contextTypes,i=(n=n!=null)?yh(t,s):$c),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function W8(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&rv.enqueueReplaceState(e,e.state,null)}function H_(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},_S(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_o(i):(i=Ss(e)?$u:Yi.current,s.context=yh(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(z_(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&rv.enqueueReplaceState(s,s.state,null),X1(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function xh(t,e){try{var r="",n=e;do r+=eH(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function sb(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function K_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var kK=typeof WeakMap=="function"?WeakMap:Map;function CO(t,e,r){r=_l(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ny||(ny=!0,t6=n),K_(t,e)},r}function TO(t,e,r){r=_l(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){K_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){K_(t,e),typeof n!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function V8(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new kK;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=jK.bind(null,t,e,r),e.then(t,t))}function G8(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y8(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_l(-1,1),e.tag=2,Ec(r,e,1))),r.lanes|=1),t)}var IK=Dl.ReactCurrentOwner,bs=!1;function es(t,e,r,n){e.child=t===null?oO(e,null,r,n):wh(e,t.child,r,n)}function Z8(t,e,r,n,s){r=r.render;var i=e.ref;return oh(e,s),n=kS(t,e,r,n,i,s),r=IS(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cl(t,e,s)):(gn&&r&&gS(e),e.flags|=1,es(t,e,n,s),e.child)}function J8(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!$S(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,PO(t,e,i,n,s)):(t=Qm(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:G0,r(o,n)&&t.ref===e.ref)return Cl(t,e,s)}return e.flags|=1,t=kc(i,n),t.ref=e.ref,t.return=e,e.child=t}function PO(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(G0(i,n)&&t.ref===e.ref)if(bs=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(bs=!0);else return e.lanes=t.lanes,Cl(t,e,s)}return W_(t,e,r,n,s)}function OO(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nn(Jf,Bs),Bs|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nn(Jf,Bs),Bs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,nn(Jf,Bs),Bs|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,nn(Jf,Bs),Bs|=n;return es(t,e,s,r),e.child}function NO(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function W_(t,e,r,n,s){var i=Ss(r)?$u:Yi.current;return i=yh(e,i),oh(e,s),r=kS(t,e,r,n,i,s),n=IS(),t!==null&&!bs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Cl(t,e,s)):(gn&&n&&gS(e),e.flags|=1,es(t,e,r,s),e.child)}function X8(t,e,r,n,s){if(Ss(r)){var i=!0;V1(e)}else i=!1;if(oh(e,s),e.stateNode===null)Zm(t,e),RO(e,r,n),H_(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=_o(d):(d=Ss(r)?$u:Yi.current,d=yh(e,d));var p=r.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==d)&&W8(e,o,n,d),ic=!1;var b=e.memoizedState;o.state=b,X1(e,n,o,s),u=e.memoizedState,l!==n||b!==u||_s.current||ic?(typeof p=="function"&&(z_(e,r,p,n),u=e.memoizedState),(l=ic||K8(e,r,l,n,b,u,d))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,lO(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:$o(e.type,l),o.props=d,v=e.pendingProps,b=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=_o(u):(u=Ss(r)?$u:Yi.current,u=yh(e,u));var _=r.getDerivedStateFromProps;(p=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==v||b!==u)&&W8(e,o,n,u),ic=!1,b=e.memoizedState,o.state=b,X1(e,n,o,s);var M=e.memoizedState;l!==v||b!==M||_s.current||ic?(typeof _=="function"&&(z_(e,r,_,n),M=e.memoizedState),(d=ic||K8(e,r,d,n,b,M,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,M,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,M,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=M),o.props=n,o.state=M,o.context=u,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),n=!1)}return V_(t,e,r,n,i,s)}function V_(t,e,r,n,s,i){NO(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&D8(e,r,!1),Cl(t,e,i);n=e.stateNode,IK.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=wh(e,t.child,null,i),e.child=wh(e,null,l,i)):es(t,e,l,i),e.memoizedState=n.state,s&&D8(e,r,!0),e.child}function BO(t){var e=t.stateNode;e.pendingContext?L8(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L8(t,e.context,!1),SS(t,e.containerInfo)}function Q8(t,e,r,n,s){return vh(),yS(s),e.flags|=256,es(t,e,r,n),e.child}var G_={dehydrated:null,treeContext:null,retryLane:0};function Y_(t){return{baseLanes:t,cachePool:null,transitions:null}}function LO(t,e,r){var n=e.pendingProps,s=yn.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),nn(yn,s&1),t===null)return j_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sv(o,n,0,null),t=Ru(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Y_(r),e.memoizedState=G_,t):TS(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return RK(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=kc(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=kc(l,i):(i=Ru(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Y_(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=G_,n}return i=t.child,t=i.sibling,n=kc(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function TS(t,e){return e=sv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fg(t,e,r,n){return n!==null&&yS(n),wh(e,t.child,null,r),t=TS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RK(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=sb(Error(dt(422))),Fg(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=sv({mode:"visible",children:n.children},s,0,null),i=Ru(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&wh(e,t.child,null,o),e.child.memoizedState=Y_(o),e.memoizedState=G_,i);if(!(e.mode&1))return Fg(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(dt(419)),n=sb(i,n,void 0),Fg(t,e,o,n)}if(l=(o&t.childLanes)!==0,bs||l){if(n=pi,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rl(t,s),Vo(n,t,s,-1))}return DS(),n=sb(Error(dt(421))),Fg(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qK.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qs=Sc(s.nextSibling),Ws=e,gn=!0,qo=null,t!==null&&(ho[po++]=vl,ho[po++]=wl,ho[po++]=Uu,vl=t.id,wl=t.overflow,Uu=e),e=TS(e,n.children),e.flags|=4096,e)}function eM(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),q_(t.return,e,r)}function ob(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function DO(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(es(t,e,n.children,r),n=yn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&eM(t,r,e);else if(t.tag===19)eM(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nn(yn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Q1(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ob(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Q1(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ob(e,!0,r,null,i);break;case"together":ob(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Cl(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ju|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(dt(153));if(e.child!==null){for(t=e.child,r=kc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=kc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function CK(t,e,r){switch(e.tag){case 3:BO(e),vh();break;case 5:cO(e);break;case 1:Ss(e.type)&&V1(e);break;case 4:SS(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;nn(Z1,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nn(yn,yn.current&1),e.flags|=128,null):r&e.child.childLanes?LO(t,e,r):(nn(yn,yn.current&1),t=Cl(t,e,r),t!==null?t.sibling:null);nn(yn,yn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return DO(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),nn(yn,yn.current),n)break;return null;case 22:case 23:return e.lanes=0,OO(t,e,r)}return Cl(t,e,r)}var $O,Z_,UO,FO;$O=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Z_=function(){};UO=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,xu(Ia.current);var i=null;switch(r){case"input":s=v_(t,s),n=v_(t,n),i=[];break;case"select":s=xn({},s,{value:void 0}),n=xn({},n,{value:void 0}),i=[];break;case"textarea":s=x_(t,s),n=x_(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=K1)}S_(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(j0.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(j0.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&an("scroll",t),i||l===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};FO=function(t,e,r,n){r!==n&&(e.flags|=4)};function Nd(t,e){if(!gn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Di(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function TK(t,e,r){var n=e.pendingProps;switch(mS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(e),null;case 1:return Ss(e.type)&&W1(),Di(e),null;case 3:return n=e.stateNode,bh(),un(_s),un(Yi),MS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($g(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qo!==null&&(i6(qo),qo=null))),Z_(t,e),Di(e),null;case 5:ES(e);var s=xu(Q0.current);if(r=e.type,t!==null&&e.stateNode!=null)UO(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(dt(166));return Di(e),null}if(t=xu(Ia.current),$g(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[_a]=e,n[J0]=i,t=(e.mode&1)!==0,r){case"dialog":an("cancel",n),an("close",n);break;case"iframe":case"object":case"embed":an("load",n);break;case"video":case"audio":for(s=0;s<f0.length;s++)an(f0[s],n);break;case"source":an("error",n);break;case"img":case"image":case"link":an("error",n),an("load",n);break;case"details":an("toggle",n);break;case"input":c8(n,i),an("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},an("invalid",n);break;case"textarea":f8(n,i),an("invalid",n)}S_(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Dg(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Dg(n.textContent,l,t),s=["children",""+l]):j0.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&an("scroll",n)}switch(r){case"input":Rg(n),u8(n,i,!0);break;case"textarea":Rg(n),h8(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=K1)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[_a]=e,t[J0]=n,$O(t,e,!1,!1),e.stateNode=t;e:{switch(o=E_(r,n),r){case"dialog":an("cancel",t),an("close",t),s=n;break;case"iframe":case"object":case"embed":an("load",t),s=n;break;case"video":case"audio":for(s=0;s<f0.length;s++)an(f0[s],t);s=n;break;case"source":an("error",t),s=n;break;case"img":case"image":case"link":an("error",t),an("load",t),s=n;break;case"details":an("toggle",t),s=n;break;case"input":c8(t,n),s=v_(t,n),an("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=xn({},n,{value:void 0}),an("invalid",t);break;case"textarea":f8(t,n),s=x_(t,n),an("invalid",t);break;default:s=n}S_(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?yP(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gP(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&q0(t,u):typeof u=="number"&&q0(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(j0.hasOwnProperty(i)?u!=null&&i==="onScroll"&&an("scroll",t):u!=null&&tS(t,i,u,o))}switch(r){case"input":Rg(t),u8(t,n,!1);break;case"textarea":Rg(t),h8(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Dc(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?rh(t,!!n.multiple,i,!1):n.defaultValue!=null&&rh(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=K1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Di(e),null;case 6:if(t&&e.stateNode!=null)FO(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(dt(166));if(r=xu(Q0.current),xu(Ia.current),$g(e)){if(n=e.stateNode,r=e.memoizedProps,n[_a]=e,(i=n.nodeValue!==r)&&(t=Ws,t!==null))switch(t.tag){case 3:Dg(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dg(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_a]=e,e.stateNode=n}return Di(e),null;case 13:if(un(yn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gn&&qs!==null&&e.mode&1&&!(e.flags&128))iO(),vh(),e.flags|=98560,i=!1;else if(i=$g(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(dt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(dt(317));i[_a]=e}else vh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Di(e),i=!1}else qo!==null&&(i6(qo),qo=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||yn.current&1?Yn===0&&(Yn=3):DS())),e.updateQueue!==null&&(e.flags|=4),Di(e),null);case 4:return bh(),Z_(t,e),t===null&&Y0(e.stateNode.containerInfo),Di(e),null;case 10:return bS(e.type._context),Di(e),null;case 17:return Ss(e.type)&&W1(),Di(e),null;case 19:if(un(yn),i=e.memoizedState,i===null)return Di(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Nd(i,!1);else{if(Yn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Q1(t),o!==null){for(e.flags|=128,Nd(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nn(yn,yn.current&1|2),e.child}t=t.sibling}i.tail!==null&&Nn()>_h&&(e.flags|=128,n=!0,Nd(i,!1),e.lanes=4194304)}else{if(!n)if(t=Q1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Nd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!gn)return Di(e),null}else 2*Nn()-i.renderingStartTime>_h&&r!==1073741824&&(e.flags|=128,n=!0,Nd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Nn(),e.sibling=null,r=yn.current,nn(yn,n?r&1|2:r&1),e):(Di(e),null);case 22:case 23:return LS(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Bs&1073741824&&(Di(e),e.subtreeFlags&6&&(e.flags|=8192)):Di(e),null;case 24:return null;case 25:return null}throw Error(dt(156,e.tag))}function PK(t,e){switch(mS(e),e.tag){case 1:return Ss(e.type)&&W1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bh(),un(_s),un(Yi),MS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ES(e),null;case 13:if(un(yn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(dt(340));vh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return un(yn),null;case 4:return bh(),null;case 10:return bS(e.type._context),null;case 22:case 23:return LS(),null;case 24:return null;default:return null}}var jg=!1,Vi=!1,OK=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Zf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kn(t,e,n)}else r.current=null}function J_(t,e,r){try{r()}catch(n){kn(t,e,n)}}var tM=!1;function NK(t,e){if(N_=q1,t=KP(),pS(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,d=0,p=0,v=t,b=null;t:for(;;){for(var _;v!==r||s!==0&&v.nodeType!==3||(l=o+s),v!==i||n!==0&&v.nodeType!==3||(u=o+n),v.nodeType===3&&(o+=v.nodeValue.length),(_=v.firstChild)!==null;)b=v,v=_;for(;;){if(v===t)break t;if(b===r&&++d===s&&(l=o),b===i&&++p===n&&(u=o),(_=v.nextSibling)!==null)break;v=b,b=v.parentNode}v=_}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(B_={focusedElem:t,selectionRange:r},q1=!1,Dt=e;Dt!==null;)if(e=Dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Dt=t;else for(;Dt!==null;){e=Dt;try{var M=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var A=M.memoizedProps,I=M.memoizedState,k=e.stateNode,R=k.getSnapshotBeforeUpdate(e.elementType===e.type?A:$o(e.type,A),I);k.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(P){kn(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Dt=t;break}Dt=e.return}return M=tM,tM=!1,M}function S0(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&J_(e,r,i)}s=s.next}while(s!==n)}}function nv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function X_(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jO(t){var e=t.alternate;e!==null&&(t.alternate=null,jO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_a],delete e[J0],delete e[$_],delete e[mK],delete e[yK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qO(t){return t.tag===5||t.tag===3||t.tag===4}function rM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q_(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=K1));else if(n!==4&&(t=t.child,t!==null))for(Q_(t,e,r),t=t.sibling;t!==null;)Q_(t,e,r),t=t.sibling}function e6(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(e6(t,e,r),t=t.sibling;t!==null;)e6(t,e,r),t=t.sibling}var _i=null,Fo=!1;function ql(t,e,r){for(r=r.child;r!==null;)zO(t,e,r),r=r.sibling}function zO(t,e,r){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(Yy,r)}catch{}switch(r.tag){case 5:Vi||Zf(r,e);case 6:var n=_i,s=Fo;_i=null,ql(t,e,r),_i=n,Fo=s,_i!==null&&(Fo?(t=_i,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_i.removeChild(r.stateNode));break;case 18:_i!==null&&(Fo?(t=_i,r=r.stateNode,t.nodeType===8?Qw(t.parentNode,r):t.nodeType===1&&Qw(t,r),W0(t)):Qw(_i,r.stateNode));break;case 4:n=_i,s=Fo,_i=r.stateNode.containerInfo,Fo=!0,ql(t,e,r),_i=n,Fo=s;break;case 0:case 11:case 14:case 15:if(!Vi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&J_(r,e,o),s=s.next}while(s!==n)}ql(t,e,r);break;case 1:if(!Vi&&(Zf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){kn(r,e,l)}ql(t,e,r);break;case 21:ql(t,e,r);break;case 22:r.mode&1?(Vi=(n=Vi)||r.memoizedState!==null,ql(t,e,r),Vi=n):ql(t,e,r);break;default:ql(t,e,r)}}function nM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new OK),e.forEach(function(n){var s=zK.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Co(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:_i=l.stateNode,Fo=!1;break e;case 3:_i=l.stateNode.containerInfo,Fo=!0;break e;case 4:_i=l.stateNode.containerInfo,Fo=!0;break e}l=l.return}if(_i===null)throw Error(dt(160));zO(i,o,s),_i=null,Fo=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){kn(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HO(e,t),e=e.sibling}function HO(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Co(e,t),ra(t),n&4){try{S0(3,t,t.return),nv(3,t)}catch(A){kn(t,t.return,A)}try{S0(5,t,t.return)}catch(A){kn(t,t.return,A)}}break;case 1:Co(e,t),ra(t),n&512&&r!==null&&Zf(r,r.return);break;case 5:if(Co(e,t),ra(t),n&512&&r!==null&&Zf(r,r.return),t.flags&32){var s=t.stateNode;try{q0(s,"")}catch(A){kn(t,t.return,A)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hP(s,i),E_(l,o);var d=E_(l,i);for(o=0;o<u.length;o+=2){var p=u[o],v=u[o+1];p==="style"?yP(s,v):p==="dangerouslySetInnerHTML"?gP(s,v):p==="children"?q0(s,v):tS(s,p,v,d)}switch(l){case"input":w_(s,i);break;case"textarea":dP(s,i);break;case"select":var b=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?rh(s,!!i.multiple,_,!1):b!==!!i.multiple&&(i.defaultValue!=null?rh(s,!!i.multiple,i.defaultValue,!0):rh(s,!!i.multiple,i.multiple?[]:"",!1))}s[J0]=i}catch(A){kn(t,t.return,A)}}break;case 6:if(Co(e,t),ra(t),n&4){if(t.stateNode===null)throw Error(dt(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(A){kn(t,t.return,A)}}break;case 3:if(Co(e,t),ra(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{W0(e.containerInfo)}catch(A){kn(t,t.return,A)}break;case 4:Co(e,t),ra(t);break;case 13:Co(e,t),ra(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(NS=Nn())),n&4&&nM(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(Vi=(d=Vi)||p,Co(e,t),Vi=d):Co(e,t),ra(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Dt=t,p=t.child;p!==null;){for(v=Dt=p;Dt!==null;){switch(b=Dt,_=b.child,b.tag){case 0:case 11:case 14:case 15:S0(4,b,b.return);break;case 1:Zf(b,b.return);var M=b.stateNode;if(typeof M.componentWillUnmount=="function"){n=b,r=b.return;try{e=n,M.props=e.memoizedProps,M.state=e.memoizedState,M.componentWillUnmount()}catch(A){kn(n,r,A)}}break;case 5:Zf(b,b.return);break;case 22:if(b.memoizedState!==null){sM(v);continue}}_!==null?(_.return=b,Dt=_):sM(v)}p=p.sibling}e:for(p=null,v=t;;){if(v.tag===5){if(p===null){p=v;try{s=v.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=v.stateNode,u=v.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=mP("display",o))}catch(A){kn(t,t.return,A)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(A){kn(t,t.return,A)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Co(e,t),ra(t),n&4&&nM(t);break;case 21:break;default:Co(e,t),ra(t)}}function ra(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qO(r)){var n=r;break e}r=r.return}throw Error(dt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(q0(s,""),n.flags&=-33);var i=rM(t);e6(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=rM(t);Q_(t,l,o);break;default:throw Error(dt(161))}}catch(u){kn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BK(t,e,r){Dt=t,KO(t)}function KO(t,e,r){for(var n=(t.mode&1)!==0;Dt!==null;){var s=Dt,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||jg;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Vi;l=jg;var d=Vi;if(jg=o,(Vi=u)&&!d)for(Dt=s;Dt!==null;)o=Dt,u=o.child,o.tag===22&&o.memoizedState!==null?oM(s):u!==null?(u.return=o,Dt=u):oM(s);for(;i!==null;)Dt=i,KO(i),i=i.sibling;Dt=s,jg=l,Vi=d}iM(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Dt=i):iM(t)}}function iM(t){for(;Dt!==null;){var e=Dt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vi||nv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Vi)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:$o(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&q8(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}q8(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&W0(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}Vi||e.flags&512&&X_(e)}catch(b){kn(e,e.return,b)}}if(e===t){Dt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Dt=r;break}Dt=e.return}}function sM(t){for(;Dt!==null;){var e=Dt;if(e===t){Dt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Dt=r;break}Dt=e.return}}function oM(t){for(;Dt!==null;){var e=Dt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{nv(4,e)}catch(u){kn(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){kn(e,s,u)}}var i=e.return;try{X_(e)}catch(u){kn(e,i,u)}break;case 5:var o=e.return;try{X_(e)}catch(u){kn(e,o,u)}}}catch(u){kn(e,e.return,u)}if(e===t){Dt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Dt=l;break}Dt=e.return}}var LK=Math.ceil,ry=Dl.ReactCurrentDispatcher,PS=Dl.ReactCurrentOwner,bo=Dl.ReactCurrentBatchConfig,Cr=0,pi=null,zn=null,Ri=0,Bs=0,Jf=Wc(0),Yn=0,np=null,ju=0,iv=0,OS=0,E0=null,vs=null,NS=0,_h=1/0,al=null,ny=!1,t6=null,Mc=null,qg=!1,gc=null,iy=0,M0=0,r6=null,Jm=-1,Xm=0;function ns(){return Cr&6?Nn():Jm!==-1?Jm:Jm=Nn()}function Ac(t){return t.mode&1?Cr&2&&Ri!==0?Ri&-Ri:wK.transition!==null?(Xm===0&&(Xm=RP()),Xm):(t=qr,t!==0||(t=window.event,t=t===void 0?16:LP(t.type)),t):1}function Vo(t,e,r,n){if(50<M0)throw M0=0,r6=null,Error(dt(185));Np(t,r,n),(!(Cr&2)||t!==pi)&&(t===pi&&(!(Cr&2)&&(iv|=r),Yn===4&&lc(t,Ri)),Es(t,n),r===1&&Cr===0&&!(e.mode&1)&&(_h=Nn()+500,ev&&Vc()))}function Es(t,e){var r=t.callbackNode;wH(t,e);var n=j1(t,t===pi?Ri:0);if(n===0)r!==null&&g8(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&g8(r),e===1)t.tag===0?vK(aM.bind(null,t)):tO(aM.bind(null,t)),pK(function(){!(Cr&6)&&Vc()}),r=null;else{switch(CP(n)){case 1:r=oS;break;case 4:r=kP;break;case 16:r=F1;break;case 536870912:r=IP;break;default:r=F1}r=QO(r,WO.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function WO(t,e){if(Jm=-1,Xm=0,Cr&6)throw Error(dt(327));var r=t.callbackNode;if(ah()&&t.callbackNode!==r)return null;var n=j1(t,t===pi?Ri:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=sy(t,n);else{e=n;var s=Cr;Cr|=2;var i=GO();(pi!==t||Ri!==e)&&(al=null,_h=Nn()+500,Iu(t,e));do try{UK();break}catch(l){VO(t,l)}while(!0);wS(),ry.current=i,Cr=s,zn!==null?e=0:(pi=null,Ri=0,e=Yn)}if(e!==0){if(e===2&&(s=R_(t),s!==0&&(n=s,e=n6(t,s))),e===1)throw r=np,Iu(t,0),lc(t,n),Es(t,Nn()),r;if(e===6)lc(t,n);else{if(s=t.current.alternate,!(n&30)&&!DK(s)&&(e=sy(t,n),e===2&&(i=R_(t),i!==0&&(n=i,e=n6(t,i))),e===1))throw r=np,Iu(t,0),lc(t,n),Es(t,Nn()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(dt(345));case 2:cu(t,vs,al);break;case 3:if(lc(t,n),(n&130023424)===n&&(e=NS+500-Nn(),10<e)){if(j1(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ns(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=D_(cu.bind(null,t,vs,al),e);break}cu(t,vs,al);break;case 4:if(lc(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Wo(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Nn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LK(n/1960))-n,10<n){t.timeoutHandle=D_(cu.bind(null,t,vs,al),n);break}cu(t,vs,al);break;case 5:cu(t,vs,al);break;default:throw Error(dt(329))}}}return Es(t,Nn()),t.callbackNode===r?WO.bind(null,t):null}function n6(t,e){var r=E0;return t.current.memoizedState.isDehydrated&&(Iu(t,e).flags|=256),t=sy(t,e),t!==2&&(e=vs,vs=r,e!==null&&i6(e)),t}function i6(t){vs===null?vs=t:vs.push.apply(vs,t)}function DK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yo(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lc(t,e){for(e&=~OS,e&=~iv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Wo(e),n=1<<r;t[r]=-1,e&=~n}}function aM(t){if(Cr&6)throw Error(dt(327));ah();var e=j1(t,0);if(!(e&1))return Es(t,Nn()),null;var r=sy(t,e);if(t.tag!==0&&r===2){var n=R_(t);n!==0&&(e=n,r=n6(t,n))}if(r===1)throw r=np,Iu(t,0),lc(t,e),Es(t,Nn()),r;if(r===6)throw Error(dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cu(t,vs,al),Es(t,Nn()),null}function BS(t,e){var r=Cr;Cr|=1;try{return t(e)}finally{Cr=r,Cr===0&&(_h=Nn()+500,ev&&Vc())}}function qu(t){gc!==null&&gc.tag===0&&!(Cr&6)&&ah();var e=Cr;Cr|=1;var r=bo.transition,n=qr;try{if(bo.transition=null,qr=1,t)return t()}finally{qr=n,bo.transition=r,Cr=e,!(Cr&6)&&Vc()}}function LS(){Bs=Jf.current,un(Jf)}function Iu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,dK(r)),zn!==null)for(r=zn.return;r!==null;){var n=r;switch(mS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&W1();break;case 3:bh(),un(_s),un(Yi),MS();break;case 5:ES(n);break;case 4:bh();break;case 13:un(yn);break;case 19:un(yn);break;case 10:bS(n.type._context);break;case 22:case 23:LS()}r=r.return}if(pi=t,zn=t=kc(t.current,null),Ri=Bs=e,Yn=0,np=null,OS=iv=ju=0,vs=E0=null,bu!==null){for(e=0;e<bu.length;e++)if(r=bu[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}bu=null}return t}function VO(t,e){do{var r=zn;try{if(wS(),Gm.current=ty,ey){for(var n=wn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ey=!1}if(Fu=0,li=Vn=wn=null,_0=!1,ep=0,PS.current=null,r===null||r.return===null){Yn=1,np=e,zn=null;break}e:{var i=t,o=r.return,l=r,u=e;if(e=Ri,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var b=p.alternate;b?(p.updateQueue=b.updateQueue,p.memoizedState=b.memoizedState,p.lanes=b.lanes):(p.updateQueue=null,p.memoizedState=null)}var _=G8(o);if(_!==null){_.flags&=-257,Y8(_,o,l,i,e),_.mode&1&&V8(i,d,e),e=_,u=d;var M=e.updateQueue;if(M===null){var A=new Set;A.add(u),e.updateQueue=A}else M.add(u);break e}else{if(!(e&1)){V8(i,d,e),DS();break e}u=Error(dt(426))}}else if(gn&&l.mode&1){var I=G8(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Y8(I,o,l,i,e),yS(xh(u,l));break e}}i=u=xh(u,l),Yn!==4&&(Yn=2),E0===null?E0=[i]:E0.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=CO(i,u,e);j8(i,k);break e;case 1:l=u;var R=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof R.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Mc===null||!Mc.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=TO(i,l,e);j8(i,P);break e}}i=i.return}while(i!==null)}ZO(r)}catch(N){e=N,zn===r&&r!==null&&(zn=r=r.return);continue}break}while(!0)}function GO(){var t=ry.current;return ry.current=ty,t===null?ty:t}function DS(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),pi===null||!(ju&268435455)&&!(iv&268435455)||lc(pi,Ri)}function sy(t,e){var r=Cr;Cr|=2;var n=GO();(pi!==t||Ri!==e)&&(al=null,Iu(t,e));do try{$K();break}catch(s){VO(t,s)}while(!0);if(wS(),Cr=r,ry.current=n,zn!==null)throw Error(dt(261));return pi=null,Ri=0,Yn}function $K(){for(;zn!==null;)YO(zn)}function UK(){for(;zn!==null&&!uH();)YO(zn)}function YO(t){var e=XO(t.alternate,t,Bs);t.memoizedProps=t.pendingProps,e===null?ZO(t):zn=e,PS.current=null}function ZO(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PK(r,e),r!==null){r.flags&=32767,zn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yn=6,zn=null;return}}else if(r=TK(r,e,Bs),r!==null){zn=r;return}if(e=e.sibling,e!==null){zn=e;return}zn=e=t}while(e!==null);Yn===0&&(Yn=5)}function cu(t,e,r){var n=qr,s=bo.transition;try{bo.transition=null,qr=1,FK(t,e,r,n)}finally{bo.transition=s,qr=n}return null}function FK(t,e,r,n){do ah();while(gc!==null);if(Cr&6)throw Error(dt(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(dt(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(bH(t,i),t===pi&&(zn=pi=null,Ri=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qg||(qg=!0,QO(F1,function(){return ah(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=bo.transition,bo.transition=null;var o=qr;qr=1;var l=Cr;Cr|=4,PS.current=null,NK(t,r),HO(r,t),oK(B_),q1=!!N_,B_=N_=null,t.current=r,BK(r),fH(),Cr=l,qr=o,bo.transition=i}else t.current=r;if(qg&&(qg=!1,gc=t,iy=s),i=t.pendingLanes,i===0&&(Mc=null),pH(r.stateNode),Es(t,Nn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ny)throw ny=!1,t=t6,t6=null,t;return iy&1&&t.tag!==0&&ah(),i=t.pendingLanes,i&1?t===r6?M0++:(M0=0,r6=t):M0=0,Vc(),null}function ah(){if(gc!==null){var t=CP(iy),e=bo.transition,r=qr;try{if(bo.transition=null,qr=16>t?16:t,gc===null)var n=!1;else{if(t=gc,gc=null,iy=0,Cr&6)throw Error(dt(331));var s=Cr;for(Cr|=4,Dt=t.current;Dt!==null;){var i=Dt,o=i.child;if(Dt.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(Dt=d;Dt!==null;){var p=Dt;switch(p.tag){case 0:case 11:case 15:S0(8,p,i)}var v=p.child;if(v!==null)v.return=p,Dt=v;else for(;Dt!==null;){p=Dt;var b=p.sibling,_=p.return;if(jO(p),p===d){Dt=null;break}if(b!==null){b.return=_,Dt=b;break}Dt=_}}}var M=i.alternate;if(M!==null){var A=M.child;if(A!==null){M.child=null;do{var I=A.sibling;A.sibling=null,A=I}while(A!==null)}}Dt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Dt=o;else e:for(;Dt!==null;){if(i=Dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:S0(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,Dt=k;break e}Dt=i.return}}var R=t.current;for(Dt=R;Dt!==null;){o=Dt;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Dt=C;else e:for(o=R;Dt!==null;){if(l=Dt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nv(9,l)}}catch(N){kn(l,l.return,N)}if(l===o){Dt=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Dt=P;break e}Dt=l.return}}if(Cr=s,Vc(),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(Yy,t)}catch{}n=!0}return n}finally{qr=r,bo.transition=e}}return!1}function lM(t,e,r){e=xh(r,e),e=CO(t,e,1),t=Ec(t,e,1),e=ns(),t!==null&&(Np(t,1,e),Es(t,e))}function kn(t,e,r){if(t.tag===3)lM(t,t,r);else for(;e!==null;){if(e.tag===3){lM(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mc===null||!Mc.has(n))){t=xh(r,t),t=TO(e,t,1),e=Ec(e,t,1),t=ns(),e!==null&&(Np(e,1,t),Es(e,t));break}}e=e.return}}function jK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ns(),t.pingedLanes|=t.suspendedLanes&r,pi===t&&(Ri&r)===r&&(Yn===4||Yn===3&&(Ri&130023424)===Ri&&500>Nn()-NS?Iu(t,0):OS|=r),Es(t,e)}function JO(t,e){e===0&&(t.mode&1?(e=Pg,Pg<<=1,!(Pg&130023424)&&(Pg=4194304)):e=1);var r=ns();t=Rl(t,e),t!==null&&(Np(t,e,r),Es(t,r))}function qK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),JO(t,r)}function zK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(dt(314))}n!==null&&n.delete(e),JO(t,r)}var XO;XO=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_s.current)bs=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return bs=!1,CK(t,e,r);bs=!!(t.flags&131072)}else bs=!1,gn&&e.flags&1048576&&rO(e,Y1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zm(t,e),t=e.pendingProps;var s=yh(e,Yi.current);oh(e,r),s=kS(null,e,n,t,s,r);var i=IS();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ss(n)?(i=!0,V1(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_S(e),s.updater=rv,e.stateNode=s,s._reactInternals=e,H_(e,n,t,r),e=V_(null,e,n,!0,i,r)):(e.tag=0,gn&&i&&gS(e),es(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zm(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=KK(n),t=$o(n,t),s){case 0:e=W_(null,e,n,t,r);break e;case 1:e=X8(null,e,n,t,r);break e;case 11:e=Z8(null,e,n,t,r);break e;case 14:e=J8(null,e,n,$o(n.type,t),r);break e}throw Error(dt(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:$o(n,s),W_(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:$o(n,s),X8(t,e,n,s,r);case 3:e:{if(BO(e),t===null)throw Error(dt(387));n=e.pendingProps,i=e.memoizedState,s=i.element,lO(t,e),X1(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=xh(Error(dt(423)),e),e=Q8(t,e,n,r,s);break e}else if(n!==s){s=xh(Error(dt(424)),e),e=Q8(t,e,n,r,s);break e}else for(qs=Sc(e.stateNode.containerInfo.firstChild),Ws=e,gn=!0,qo=null,r=oO(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vh(),n===s){e=Cl(t,e,r);break e}es(t,e,n,r)}e=e.child}return e;case 5:return cO(e),t===null&&j_(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,L_(n,s)?o=null:i!==null&&L_(n,i)&&(e.flags|=32),NO(t,e),es(t,e,o,r),e.child;case 6:return t===null&&j_(e),null;case 13:return LO(t,e,r);case 4:return SS(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wh(e,null,n,r):es(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:$o(n,s),Z8(t,e,n,s,r);case 7:return es(t,e,e.pendingProps,r),e.child;case 8:return es(t,e,e.pendingProps.children,r),e.child;case 12:return es(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,nn(Z1,n._currentValue),n._currentValue=o,i!==null)if(Yo(i.value,o)){if(i.children===s.children&&!_s.current){e=Cl(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=_l(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),q_(i.return,r,e),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(dt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),q_(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}es(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,oh(e,r),s=_o(s),n=n(s),e.flags|=1,es(t,e,n,r),e.child;case 14:return n=e.type,s=$o(n,e.pendingProps),s=$o(n.type,s),J8(t,e,n,s,r);case 15:return PO(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:$o(n,s),Zm(t,e),e.tag=1,Ss(n)?(t=!0,V1(e)):t=!1,oh(e,r),RO(e,n,s),H_(e,n,s,r),V_(null,e,n,!0,t,r);case 19:return DO(t,e,r);case 22:return OO(t,e,r)}throw Error(dt(156,e.tag))};function QO(t,e){return AP(t,e)}function HK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yo(t,e,r,n){return new HK(t,e,r,n)}function $S(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KK(t){if(typeof t=="function")return $S(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nS)return 11;if(t===iS)return 14}return 2}function kc(t,e){var r=t.alternate;return r===null?(r=yo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Qm(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")$S(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jf:return Ru(r.children,s,i,e);case rS:o=8,s|=8;break;case p_:return t=yo(12,r,e,s|2),t.elementType=p_,t.lanes=i,t;case g_:return t=yo(13,r,e,s),t.elementType=g_,t.lanes=i,t;case m_:return t=yo(19,r,e,s),t.elementType=m_,t.lanes=i,t;case cP:return sv(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aP:o=10;break e;case lP:o=9;break e;case nS:o=11;break e;case iS:o=14;break e;case nc:o=16,n=null;break e}throw Error(dt(130,t==null?t:typeof t,""))}return e=yo(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ru(t,e,r,n){return t=yo(7,t,n,e),t.lanes=r,t}function sv(t,e,r,n){return t=yo(22,t,n,e),t.elementType=cP,t.lanes=r,t.stateNode={isHidden:!1},t}function ab(t,e,r){return t=yo(6,t,null,e),t.lanes=r,t}function lb(t,e,r){return e=yo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WK(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qw(0),this.expirationTimes=qw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function US(t,e,r,n,s,i,o,l,u){return t=new WK(t,e,r,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yo(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_S(i),t}function VK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ff,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function eN(t){if(!t)return $c;t=t._reactInternals;e:{if(tf(t)!==t||t.tag!==1)throw Error(dt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(dt(171))}if(t.tag===1){var r=t.type;if(Ss(r))return eO(t,r,e)}return e}function tN(t,e,r,n,s,i,o,l,u){return t=US(r,n,!0,t,s,i,o,l,u),t.context=eN(null),r=t.current,n=ns(),s=Ac(r),i=_l(n,s),i.callback=e??null,Ec(r,i,s),t.current.lanes=s,Np(t,s,n),Es(t,n),t}function ov(t,e,r,n){var s=e.current,i=ns(),o=Ac(s);return r=eN(r),e.context===null?e.context=r:e.pendingContext=r,e=_l(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ec(s,e,o),t!==null&&(Vo(t,s,o,i),Vm(t,s,o)),o}function oy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function FS(t,e){cM(t,e),(t=t.alternate)&&cM(t,e)}function GK(){return null}var rN=typeof reportError=="function"?reportError:function(t){console.error(t)};function jS(t){this._internalRoot=t}av.prototype.render=jS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(dt(409));ov(t,e,null,null)};av.prototype.unmount=jS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qu(function(){ov(null,t,null,null)}),e[Il]=null}};function av(t){this._internalRoot=t}av.prototype.unstable_scheduleHydration=function(t){if(t){var e=OP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ac.length&&e!==0&&e<ac[r].priority;r++);ac.splice(r,0,t),r===0&&BP(t)}};function qS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uM(){}function YK(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=oy(o);i.call(d)}}var o=tN(e,n,t,0,null,!1,!1,"",uM);return t._reactRootContainer=o,t[Il]=o.current,Y0(t.nodeType===8?t.parentNode:t),qu(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=oy(u);l.call(d)}}var u=US(t,0,!1,null,null,!1,!1,"",uM);return t._reactRootContainer=u,t[Il]=u.current,Y0(t.nodeType===8?t.parentNode:t),qu(function(){ov(e,u,r,n)}),u}function cv(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=oy(o);l.call(u)}}ov(e,o,t,s)}else o=YK(r,e,t,s,n);return oy(o)}TP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=u0(e.pendingLanes);r!==0&&(aS(e,r|1),Es(e,Nn()),!(Cr&6)&&(_h=Nn()+500,Vc()))}break;case 13:qu(function(){var n=Rl(t,1);if(n!==null){var s=ns();Vo(n,t,1,s)}}),FS(t,1)}};lS=function(t){if(t.tag===13){var e=Rl(t,134217728);if(e!==null){var r=ns();Vo(e,t,134217728,r)}FS(t,134217728)}};PP=function(t){if(t.tag===13){var e=Ac(t),r=Rl(t,e);if(r!==null){var n=ns();Vo(r,t,e,n)}FS(t,e)}};OP=function(){return qr};NP=function(t,e){var r=qr;try{return qr=t,e()}finally{qr=r}};A_=function(t,e,r){switch(e){case"input":if(w_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Qy(n);if(!s)throw Error(dt(90));fP(n),w_(n,s)}}}break;case"textarea":dP(t,r);break;case"select":e=r.value,e!=null&&rh(t,!!r.multiple,e,!1)}};bP=BS;xP=qu;var ZK={usingClientEntryPoint:!1,Events:[Lp,Kf,Qy,vP,wP,BS]},Bd={findFiberByHostInstance:wu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JK={bundleType:Bd.bundleType,version:Bd.version,rendererPackageName:Bd.rendererPackageName,rendererConfig:Bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=EP(t),t===null?null:t.stateNode},findFiberByHostInstance:Bd.findFiberByHostInstance||GK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{Yy=zg.inject(JK),ka=zg}catch{}}Gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZK;Gs.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qS(e))throw Error(dt(200));return VK(t,e,null,r)};Gs.createRoot=function(t,e){if(!qS(t))throw Error(dt(299));var r=!1,n="",s=rN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=US(t,1,!1,null,null,r,!1,n,s),t[Il]=e.current,Y0(t.nodeType===8?t.parentNode:t),new jS(e)};Gs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(dt(188)):(t=Object.keys(t).join(","),Error(dt(268,t)));return t=EP(e),t=t===null?null:t.stateNode,t};Gs.flushSync=function(t){return qu(t)};Gs.hydrate=function(t,e,r){if(!lv(e))throw Error(dt(200));return cv(null,t,e,!0,r)};Gs.hydrateRoot=function(t,e,r){if(!qS(t))throw Error(dt(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=rN;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=tN(e,null,t,1,r??null,s,!1,i,o),t[Il]=e.current,Y0(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new av(e)};Gs.render=function(t,e,r){if(!lv(e))throw Error(dt(200));return cv(null,t,e,!1,r)};Gs.unmountComponentAtNode=function(t){if(!lv(t))throw Error(dt(40));return t._reactRootContainer?(qu(function(){cv(null,null,t,!1,function(){t._reactRootContainer=null,t[Il]=null})}),!0):!1};Gs.unstable_batchedUpdates=BS;Gs.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lv(r))throw Error(dt(200));if(t==null||t._reactInternals===void 0)throw Error(dt(38));return cv(t,e,r,!1,n)};Gs.version="18.3.1-next-f1338f8080-20240426";function nN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nN)}catch(t){console.error(t)}}nN(),nP.exports=Gs;var XK=nP.exports,iN,fM=XK;iN=h_.createRoot=fM.createRoot,h_.hydrateRoot=fM.hydrateRoot;var zS={};Object.defineProperty(zS,"__esModule",{value:!0});zS.parse=sW;zS.serialize=oW;const QK=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,eW=/^[\u0021-\u003A\u003C-\u007E]*$/,tW=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,rW=/^[\u0020-\u003A\u003D-\u007E]*$/,nW=Object.prototype.toString,iW=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function sW(t,e){const r=new iW,n=t.length;if(n<2)return r;const s=(e==null?void 0:e.decode)||aW;let i=0;do{const o=t.indexOf("=",i);if(o===-1)break;const l=t.indexOf(";",i),u=l===-1?n:l;if(o>u){i=t.lastIndexOf(";",o-1)+1;continue}const d=hM(t,i,o),p=dM(t,o,d),v=t.slice(d,p);if(r[v]===void 0){let b=hM(t,o+1,u),_=dM(t,u,b);const M=s(t.slice(b,_));r[v]=M}i=u+1}while(i<n);return r}function hM(t,e,r){do{const n=t.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<r);return r}function dM(t,e,r){for(;e>r;){const n=t.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return r}function oW(t,e,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!QK.test(t))throw new TypeError(`argument name is invalid: ${t}`);const s=n(e);if(!eW.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+s;if(!r)return i;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);i+="; Max-Age="+r.maxAge}if(r.domain){if(!tW.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);i+="; Domain="+r.domain}if(r.path){if(!rW.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);i+="; Path="+r.path}if(r.expires){if(!lW(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.partitioned&&(i+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return i}function aW(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function lW(t){return nW.call(t)==="[object Date]"}var pM="popstate";function cW(t={}){function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return s6("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ip(s)}return fW(e,r,null,t)}function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ba(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uW(){return Math.random().toString(36).substring(2,10)}function gM(t,e){return{usr:t.state,key:t.key,idx:e}}function s6(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xh(e):e,state:r,key:e&&e.key||n||uW()}}function ip({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function fW(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",u=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function v(){l="POP";let I=p(),k=I==null?null:I-d;d=I,u&&u({action:l,location:A.location,delta:k})}function b(I,k){l="PUSH";let R=s6(A.location,I,k);d=p()+1;let C=gM(R,d),P=A.createHref(R);try{o.pushState(C,"",P)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(P)}i&&u&&u({action:l,location:A.location,delta:1})}function _(I,k){l="REPLACE";let R=s6(A.location,I,k);d=p();let C=gM(R,d),P=A.createHref(R);o.replaceState(C,"",P),i&&u&&u({action:l,location:A.location,delta:0})}function M(I){let k=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof I=="string"?I:ip(I);return R=R.replace(/ $/,"%20"),bn(k,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,k)}let A={get action(){return l},get location(){return t(s,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(pM,v),u=I,()=>{s.removeEventListener(pM,v),u=null}},createHref(I){return e(s,I)},createURL:M,encodeLocation(I){let k=M(I);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:_,go(I){return o.go(I)}};return A}function sN(t,e,r="/"){return hW(t,e,r,!1)}function hW(t,e,r,n){let s=typeof e=="string"?Xh(e):e,i=Tl(s.pathname||"/",r);if(i==null)return null;let o=oN(t);dW(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=EW(i);l=_W(o[u],d,n)}return l}function oN(t,e=[],r=[],n=""){let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(bn(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let d=Sl([n,u.relativePath]),p=r.concat(u);i.children&&i.children.length>0&&(bn(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),oN(i.children,e,p,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:bW(d,i.index),routesMeta:p})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of aN(i.path))s(i,o,u)}),e}function aN(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=aN(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function dW(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xW(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var pW=/^:[\w-]+$/,gW=3,mW=2,yW=1,vW=10,wW=-2,mM=t=>t==="*";function bW(t,e){let r=t.split("/"),n=r.length;return r.some(mM)&&(n+=wW),e&&(n+=mW),r.filter(s=>!mM(s)).reduce((s,i)=>s+(pW.test(i)?gW:i===""?yW:vW),n)}function xW(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function _W(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",v=ay({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),b=u.route;if(!v&&d&&r&&!n[n.length-1].route.index&&(v=ay({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),o.push({params:s,pathname:Sl([i,v.pathname]),pathnameBase:IW(Sl([i,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(i=Sl([i,v.pathnameBase]))}return o}function ay(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=SW(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:v},b)=>{if(p==="*"){let M=l[b]||"";o=i.slice(0,i.length-M.length).replace(/(.)\/+$/,"$1")}const _=l[b];return v&&!_?d[p]=void 0:d[p]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function SW(t,e=!1,r=!0){Ba(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function EW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ba(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Tl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function MW(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Xh(t):t;return{pathname:r?r.startsWith("/")?r:AW(r,e):e,search:RW(n),hash:CW(s)}}function AW(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cb(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kW(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function lN(t){let e=kW(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function cN(t,e,r,n=!1){let s;typeof t=="string"?s=Xh(t):(s={...t},bn(!s.pathname||!s.pathname.includes("?"),cb("?","pathname","search",s)),bn(!s.pathname||!s.pathname.includes("#"),cb("#","pathname","hash",s)),bn(!s.search||!s.search.includes("#"),cb("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let v=e.length-1;if(!n&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),v-=1;s.pathname=b.join("/")}l=v>=0?e[v]:"/"}let u=MW(s,l),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var Sl=t=>t.join("/").replace(/\/\/+/g,"/"),IW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var uN=["POST","PUT","PATCH","DELETE"];new Set(uN);var PW=["GET",...uN];new Set(PW);var Qh=Ae.createContext(null);Qh.displayName="DataRouter";var uv=Ae.createContext(null);uv.displayName="DataRouterState";var fN=Ae.createContext({isTransitioning:!1});fN.displayName="ViewTransition";var OW=Ae.createContext(new Map);OW.displayName="Fetchers";var NW=Ae.createContext(null);NW.displayName="Await";var za=Ae.createContext(null);za.displayName="Navigation";var $p=Ae.createContext(null);$p.displayName="Location";var $l=Ae.createContext({outlet:null,matches:[],isDataRoute:!1});$l.displayName="Route";var HS=Ae.createContext(null);HS.displayName="RouteError";function BW(t,{relative:e}={}){bn(Up(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Ae.useContext(za),{hash:s,pathname:i,search:o}=Fp(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:Sl([r,i])),n.createHref({pathname:l,search:o,hash:s})}function Up(){return Ae.useContext($p)!=null}function rf(){return bn(Up(),"useLocation() may be used only in the context of a <Router> component."),Ae.useContext($p).location}var hN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dN(t){Ae.useContext(za).static||Ae.useLayoutEffect(t)}function pN(){let{isDataRoute:t}=Ae.useContext($l);return t?GW():LW()}function LW(){bn(Up(),"useNavigate() may be used only in the context of a <Router> component.");let t=Ae.useContext(Qh),{basename:e,navigator:r}=Ae.useContext(za),{matches:n}=Ae.useContext($l),{pathname:s}=rf(),i=JSON.stringify(lN(n)),o=Ae.useRef(!1);return dN(()=>{o.current=!0}),Ae.useCallback((u,d={})=>{if(Ba(o.current,hN),!o.current)return;if(typeof u=="number"){r.go(u);return}let p=cN(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Sl([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,i,s,t])}Ae.createContext(null);function Fp(t,{relative:e}={}){let{matches:r}=Ae.useContext($l),{pathname:n}=rf(),s=JSON.stringify(lN(r));return Ae.useMemo(()=>cN(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function DW(t,e){return gN(t,e)}function gN(t,e,r,n){var R;bn(Up(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=Ae.useContext(za),{matches:o}=Ae.useContext($l),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",v=l&&l.route;{let C=v&&v.path||"";mN(d,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=rf(),_;if(e){let C=typeof e=="string"?Xh(e):e;bn(p==="/"||((R=C.pathname)==null?void 0:R.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),_=C}else _=b;let M=_.pathname||"/",A=M;if(p!=="/"){let C=p.replace(/^\//,"").split("/");A="/"+M.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=!i&&r&&r.matches&&r.matches.length>0?r.matches:sN(t,{pathname:A});Ba(v||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ba(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=qW(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Sl([p,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Sl([p,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,r,n);return e&&k?Ae.createElement($p.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},k):k}function $W(){let t=VW(),e=TW(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=Ae.createElement(Ae.Fragment,null,Ae.createElement("p",null," Hey developer "),Ae.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ae.createElement("code",{style:i},"ErrorBoundary")," or"," ",Ae.createElement("code",{style:i},"errorElement")," prop on your route.")),Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),r?Ae.createElement("pre",{style:s},r):null,o)}var UW=Ae.createElement($W,null),FW=class extends Ae.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?Ae.createElement($l.Provider,{value:this.props.routeContext},Ae.createElement(HS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jW({routeContext:t,match:e,children:r}){let n=Ae.useContext(Qh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Ae.createElement($l.Provider,{value:t},r)}function qW(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,i=r==null?void 0:r.errors;if(i!=null){let u=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);bn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:p,errors:v}=r,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||b){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,d,p)=>{let v,b=!1,_=null,M=null;r&&(v=i&&d.route.id?i[d.route.id]:void 0,_=d.route.errorElement||UW,o&&(l<0&&p===0?(mN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,M=null):l===p&&(b=!0,M=d.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,p+1)),I=()=>{let k;return v?k=_:b?k=M:d.route.Component?k=Ae.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=u,Ae.createElement(jW,{match:d,routeContext:{outlet:u,matches:A,isDataRoute:r!=null},children:k})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?Ae.createElement(FW,{location:r.location,revalidation:r.revalidation,component:_,error:v,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function KS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zW(t){let e=Ae.useContext(Qh);return bn(e,KS(t)),e}function HW(t){let e=Ae.useContext(uv);return bn(e,KS(t)),e}function KW(t){let e=Ae.useContext($l);return bn(e,KS(t)),e}function WS(t){let e=KW(t),r=e.matches[e.matches.length-1];return bn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function WW(){return WS("useRouteId")}function VW(){var n;let t=Ae.useContext(HS),e=HW("useRouteError"),r=WS("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function GW(){let{router:t}=zW("useNavigate"),e=WS("useNavigate"),r=Ae.useRef(!1);return dN(()=>{r.current=!0}),Ae.useCallback(async(s,i={})=>{Ba(r.current,hN),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var yM={};function mN(t,e,r){!e&&!yM[t]&&(yM[t]=!0,Ba(!1,r))}Ae.memo(YW);function YW({routes:t,future:e,state:r}){return gN(t,void 0,r,e)}function o6(t){bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZW({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){bn(!Up(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=Ae.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Xh(r));let{pathname:u="/",search:d="",hash:p="",state:v=null,key:b="default"}=r,_=Ae.useMemo(()=>{let M=Tl(u,o);return M==null?null:{location:{pathname:M,search:d,hash:p,state:v,key:b},navigationType:n}},[o,u,d,p,v,b,n]);return Ba(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:Ae.createElement(za.Provider,{value:l},Ae.createElement($p.Provider,{children:e,value:_}))}function JW({children:t,location:e}){return DW(a6(t),e)}function a6(t,e=[]){let r=[];return Ae.Children.forEach(t,(n,s)=>{if(!Ae.isValidElement(n))return;let i=[...e,s];if(n.type===Ae.Fragment){r.push.apply(r,a6(n.props.children,i));return}bn(n.type===o6,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=a6(n.props.children,i)),r.push(o)}),r}var e1="get",t1="application/x-www-form-urlencoded";function fv(t){return t!=null&&typeof t.tagName=="string"}function XW(t){return fv(t)&&t.tagName.toLowerCase()==="button"}function QW(t){return fv(t)&&t.tagName.toLowerCase()==="form"}function eV(t){return fv(t)&&t.tagName.toLowerCase()==="input"}function tV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rV(t,e){return t.button===0&&(!e||e==="_self")&&!tV(t)}var Hg=null;function nV(){if(Hg===null)try{new FormData(document.createElement("form"),0),Hg=!1}catch{Hg=!0}return Hg}var iV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ub(t){return t!=null&&!iV.has(t)?(Ba(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${t1}"`),null):t}function sV(t,e){let r,n,s,i,o;if(QW(t)){let l=t.getAttribute("action");n=l?Tl(l,e):null,r=t.getAttribute("method")||e1,s=ub(t.getAttribute("enctype"))||t1,i=new FormData(t)}else if(XW(t)||eV(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(n=u?Tl(u,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||e1,s=ub(t.getAttribute("formenctype"))||ub(l.getAttribute("enctype"))||t1,i=new FormData(l,t),!nV()){let{name:d,type:p,value:v}=t;if(p==="image"){let b=d?`${d}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else d&&i.append(d,v)}}else{if(fv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=e1,n=null,s=t1,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}function VS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oV(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lV(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await oV(i,r);return o.links?o.links():[]}return[]}));return hV(n.flat(1).filter(aV).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function vM(t,e,r,n,s,i){let o=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>{var p;return r[d].pathname!==u.pathname||((p=r[d].route.path)==null?void 0:p.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,d)=>o(u,d)||l(u,d)):i==="data"?e.filter((u,d)=>{var v;let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let b=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function cV(t,e,{includeHydrateFallback:r}={}){return uV(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function uV(t){return[...new Set(t)]}function fV(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function hV(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(fV(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}var dV=new Set([100,101,204,205]);function pV(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&Tl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function yN(){let t=Ae.useContext(Qh);return VS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function gV(){let t=Ae.useContext(uv);return VS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var GS=Ae.createContext(void 0);GS.displayName="FrameworkContext";function vN(){let t=Ae.useContext(GS);return VS(t,"You must render this element inside a <HydratedRouter> element"),t}function mV(t,e){let r=Ae.useContext(GS),[n,s]=Ae.useState(!1),[i,o]=Ae.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:v}=e,b=Ae.useRef(null);Ae.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let A=k=>{k.forEach(R=>{o(R.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[t]),Ae.useEffect(()=>{if(n){let A=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(A)}}},[n]);let _=()=>{s(!0)},M=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,b,{}]:[i,b,{onFocus:Ld(l,_),onBlur:Ld(u,M),onMouseEnter:Ld(d,_),onMouseLeave:Ld(p,M),onTouchStart:Ld(v,_)}]:[!1,b,{}]}function Ld(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function yV({page:t,...e}){let{router:r}=yN(),n=Ae.useMemo(()=>sN(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?Ae.createElement(wV,{page:t,matches:n,...e}):null}function vV(t){let{manifest:e,routeModules:r}=vN(),[n,s]=Ae.useState([]);return Ae.useEffect(()=>{let i=!1;return lV(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function wV({page:t,matches:e,...r}){let n=rf(),{manifest:s,routeModules:i}=vN(),{basename:o}=yN(),{loaderData:l,matches:u}=gV(),d=Ae.useMemo(()=>vM(t,e,u,s,n,"data"),[t,e,u,s,n]),p=Ae.useMemo(()=>vM(t,e,u,s,n,"assets"),[t,e,u,s,n]),v=Ae.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let M=new Set,A=!1;if(e.forEach(k=>{var C;let R=s.routes[k.route.id];!R||!R.hasLoader||(!d.some(P=>P.route.id===k.route.id)&&k.route.id in l&&((C=i[k.route.id])!=null&&C.shouldRevalidate)||R.hasClientLoader?A=!0:M.add(k.route.id))}),M.size===0)return[];let I=pV(t,o);return A&&M.size>0&&I.searchParams.set("_routes",e.filter(k=>M.has(k.route.id)).map(k=>k.route.id).join(",")),[I.pathname+I.search]},[o,l,n,s,d,e,t,i]),b=Ae.useMemo(()=>cV(p,s),[p,s]),_=vV(p);return Ae.createElement(Ae.Fragment,null,v.map(M=>Ae.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...r})),b.map(M=>Ae.createElement("link",{key:M,rel:"modulepreload",href:M,...r})),_.map(({key:M,link:A})=>Ae.createElement("link",{key:M,...A})))}function bV(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var wN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wN&&(window.__reactRouterVersion="7.5.2")}catch{}function xV({basename:t,children:e,window:r}){let n=Ae.useRef();n.current==null&&(n.current=cW({window:r,v5Compat:!0}));let s=n.current,[i,o]=Ae.useState({action:s.action,location:s.location}),l=Ae.useCallback(u=>{Ae.startTransition(()=>o(u))},[o]);return Ae.useLayoutEffect(()=>s.listen(l),[s,l]),Ae.createElement(ZW,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var bN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YS=Ae.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:u,to:d,preventScrollReset:p,viewTransition:v,...b},_){let{basename:M}=Ae.useContext(za),A=typeof d=="string"&&bN.test(d),I,k=!1;if(typeof d=="string"&&A&&(I=d,wN))try{let L=new URL(window.location.href),ie=d.startsWith("//")?new URL(L.protocol+d):new URL(d),E=Tl(ie.pathname,M);ie.origin===L.origin&&E!=null?d=E+ie.search+ie.hash:k=!0}catch{Ba(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=BW(d,{relative:s}),[C,P,N]=mV(n,b),U=MV(d,{replace:o,state:l,target:u,preventScrollReset:p,relative:s,viewTransition:v});function q(L){e&&e(L),L.defaultPrevented||U(L)}let F=Ae.createElement("a",{...b,...N,href:I||R,onClick:k||i?e:q,ref:bV(_,P),target:u,"data-discover":!A&&r==="render"?"true":void 0});return C&&!A?Ae.createElement(Ae.Fragment,null,F,Ae.createElement(yV,{page:R})):F});YS.displayName="Link";var _V=Ae.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:u,...d},p){let v=Fp(o,{relative:d.relative}),b=rf(),_=Ae.useContext(uv),{navigator:M,basename:A}=Ae.useContext(za),I=_!=null&&CV(v)&&l===!0,k=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,R=b.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(R=R.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&A&&(C=Tl(C,A)||C);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let N=R===k||!s&&R.startsWith(k)&&R.charAt(P)==="/",U=C!=null&&(C===k||!s&&C.startsWith(k)&&C.charAt(k.length)==="/"),q={isActive:N,isPending:U,isTransitioning:I},F=N?e:void 0,L;typeof n=="function"?L=n(q):L=[n,N?"active":null,U?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let ie=typeof i=="function"?i(q):i;return Ae.createElement(YS,{...d,"aria-current":F,className:L,ref:p,style:ie,to:o,viewTransition:l},typeof u=="function"?u(q):u)});_V.displayName="NavLink";var SV=Ae.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=e1,action:l,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:v,...b},_)=>{let M=IV(),A=RV(l,{relative:d}),I=o.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&bN.test(l),R=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,N=(P==null?void 0:P.getAttribute("formmethod"))||o;M(P||C.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:s,state:i,relative:d,preventScrollReset:p,viewTransition:v})};return Ae.createElement("form",{ref:_,method:I,action:A,onSubmit:n?u:R,...b,"data-discover":!k&&t==="render"?"true":void 0})});SV.displayName="Form";function EV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xN(t){let e=Ae.useContext(Qh);return bn(e,EV(t)),e}function MV(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=pN(),u=rf(),d=Fp(t,{relative:i});return Ae.useCallback(p=>{if(rV(p,e)){p.preventDefault();let v=r!==void 0?r:ip(u)===ip(d);l(t,{replace:v,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,d,r,n,e,t,s,i,o])}var AV=0,kV=()=>`__${String(++AV)}__`;function IV(){let{router:t}=xN("useSubmit"),{basename:e}=Ae.useContext(za),r=WW();return Ae.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:u,body:d}=sV(n,e);if(s.navigate===!1){let p=s.fetcherKey||kV();await t.fetch(p,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function RV(t,{relative:e}={}){let{basename:r}=Ae.useContext(za),n=Ae.useContext($l);bn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Fp(t||".",{relative:e})},o=rf();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(v=>v).forEach(v=>l.append("index",v));let p=l.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Sl([r,i.pathname])),ip(i)}function CV(t,e={}){let r=Ae.useContext(fN);bn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xN("useViewTransitionState"),s=Fp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=Tl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Tl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ay(s.pathname,o)!=null||ay(s.pathname,i)!=null}new TextEncoder;[...dV];function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function TV(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PV(t){var e=TV(t,"string");return sp(e)=="symbol"?e:e+""}function Ve(t,e,r){return(e=PV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OV(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function NV(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var BV=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,i){s.__proto__=i}||function(s,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=i[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_N=function(t){BV(e,t);function e(r,n){var s=this.constructor,i=t.call(this,r,n)||this;return Object.defineProperty(i,"name",{value:s.name,enumerable:!1,configurable:!0}),OV(i,s.prototype),NV(i),i}return e}(Error);function LV(t){const e=t.findIndex(i=>i instanceof Error),r=t.findIndex(i=>typeof i=="string"),n=t.findIndex(i=>i&&typeof i=="object"&&"status"in i&&"type"in i);let s;if(n!==-1){const i=t[n];s=new Error(`${i.status} ${i.type.toString()} ${i.statusText}`)}else e!==-1?s=t.splice(e,1)[0]:r!==-1?s=new Error(t.splice(r,1)[0]):s=new Error("Unknown error");return[s,t]}class Ic extends _N{constructor(e,r,n){super(r),Ve(this,"code",void 0),Ve(this,"message",void 0),Ve(this,"cause",void 0),this.code=e,this.message=r||"",this.cause=n,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:LV([this.cause])}}toString(){return JSON.stringify(this.toJSON())}}class vt extends Ic{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,r="",n){return new vt(e,`${vt.messages[e]}, ${r}`,n)}static notFound(e="",r){return vt.fromCode(5001,e,r)}static notInstalled(e="",r){return vt.fromCode(5002,e,r)}static notReady(e="",r){return vt.fromCode(5003,e,r)}static windowBlocked(e="",r){return vt.fromCode(5004,e,r)}static windowClosed(e="",r){return vt.fromCode(5005,e,r)}static incompatibleChainNameSpace(e="",r){return vt.fromCode(5006,e,r)}static duplicateAdapterError(e="",r){return vt.fromCode(5007,e,r)}static invalidProviderConfigError(e="",r){return vt.fromCode(5008,e,r)}static providerNotReadyError(e="",r){return vt.fromCode(5009,e,r)}static rpcConnectionError(e="",r){return vt.fromCode(5010,e,r)}static invalidParams(e="",r){return vt.fromCode(5011,e,r)}static invalidNetwork(e="",r){return vt.fromCode(5013,e,r)}}Ve(vt,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class Kt extends Ic{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,r="",n){return new Kt(e,`${Kt.messages[e]}. ${r}`,n)}static connectionError(e="",r){return Kt.fromCode(5111,e,r)}static disconnectionError(e="",r){return Kt.fromCode(5112,e,r)}static notConnectedError(e="",r){return Kt.fromCode(5113,e,r)}static popupClosed(e="",r){return Kt.fromCode(5114,e,r)}static mfaEnabled(e="",r){return Kt.fromCode(5115,e,r)}static chainConfigNotAdded(e="",r){return Kt.fromCode(5116,e,r)}static unsupportedOperation(e="",r){return Kt.fromCode(5117,e,r)}static coreKitKeyNotFound(e="",r){return Kt.fromCode(5118,e,r)}static userNotLoggedIn(e="",r){return Kt.fromCode(5119,e,r)}}Ve(Kt,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class mo extends Ic{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,r="",n){return new mo(e,`${mo.messages[e]}, ${r}`,n)}static chainIDNotAllowed(e="",r){return mo.fromCode(5201,e,r)}static operationNotAllowed(e="",r){return mo.fromCode(5202,e,r)}static chainNamespaceNotAllowed(e="",r){return mo.fromCode(5203,e,r)}}Ve(mo,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class cl extends Ic{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,r="",n){return new mo(e,`${cl.messages[e]}, ${r}`,n)}static invalidRequestArgs(e="",r){return mo.fromCode(5301,e,r)}static invalidRequestMethod(e="",r){return mo.fromCode(5302,e,r)}static invalidRequestParams(e="",r){return mo.fromCode(5303,e,r)}}Ve(cl,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const Gt={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},op={SOLANA:"solana",MULTICHAIN:"multichain"},DV="https://api.web3auth.io/infura-service/v1",$V=t=>{if(t===Gt.EIP155)return 1;if(t===Gt.SOLANA)return 1;if(t===Gt.XRPL)return 1;throw vt.invalidParams(`Chain namespace ${t} is not supported`)},UV=(t,e="")=>{const r=Gt.EIP155,n=`${DV}/${t}/${e}`;return t===1?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:r,chainId:"0x1",rpcTarget:n,displayName:"Ethereum Mainnet",blockExplorerUrl:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===10?{chainNamespace:Gt.EIP155,decimals:18,blockExplorerUrl:"https://optimistic.etherscan.io",chainId:"0xa",displayName:"Optimism",logo:"optimism.svg",rpcTarget:n,ticker:"ETH",tickerName:"Ethereum"}:t===8453?{chainNamespace:Gt.EIP155,decimals:18,blockExplorerUrl:"https://basescan.org",chainId:"0x2105",displayName:"Base",logo:"base.svg",rpcTarget:n,ticker:"ETH",tickerName:"Ethereum"}:t===42161?{chainNamespace:Gt.EIP155,decimals:18,blockExplorerUrl:"https://arbiscan.io",chainId:"0xa4b1",displayName:"Arbitrum One",logo:"arbitrum.svg",rpcTarget:n,ticker:"ETH",tickerName:"Ethereum"}:t===59144?{chainNamespace:Gt.EIP155,decimals:18,blockExplorerUrl:"https://lineascan.build",chainId:"0xe708",logo:"https://images.toruswallet.io/eth.svg",rpcTarget:n,ticker:"ETH",tickerName:"Ethereum"}:t===11155111?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:r,chainId:"0xaa36a7",rpcTarget:n,displayName:"Sepolia Testnet",blockExplorerUrl:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===137?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:r,chainId:"0x89",rpcTarget:n,displayName:"Polygon Mainnet",blockExplorerUrl:"https://polygonscan.com",ticker:"POL",tickerName:"Polygon Ecosystem Token"}:t===80002?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:r,chainId:"0x13882",rpcTarget:n,displayName:"Polygon Amoy Testnet",blockExplorerUrl:"https://www.oklink.com/amoy",ticker:"POL",tickerName:"Polygon Ecosystem Token",decimals:18}:t===56?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:r,chainId:"0x38",rpcTarget:n,displayName:"Binance SmartChain Mainnet",blockExplorerUrl:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===97?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:r,chainId:"0x61",rpcTarget:n,displayName:"Binance SmartChain Testnet",blockExplorerUrl:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===25?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:r,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:t===338?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:r,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:t===8217?{logo:"https://images.toruswallet.io/klay.svg",chainNamespace:r,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorerUrl:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:t===1946?{chainNamespace:Gt.EIP155,chainId:"0x79a",rpcTarget:"https://rpc.minato.soneium.org",displayName:"Soneium Minato Testnet",blockExplorerUrl:"https://explorer-testnet.soneium.org",ticker:"ETH",tickerName:"ETH",logo:"https://iili.io/2i5xce2.png"}:t===1868?{chainNamespace:Gt.EIP155,chainId:"0x74c",rpcTarget:"https://rpc.soneium.org",displayName:"Soneium Mainnet",blockExplorerUrl:"https://soneium.blockscout.com",ticker:"ETH",tickerName:"ETH",logo:"https://iili.io/2i5xce2.png"}:null},ZS=t=>{const e=Gt.SOLANA;return t===101||t===1?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x65",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorerUrl:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:t===102||t===2?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x66",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorerUrl:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:t===103||t===3?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x67",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorerUrl:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},FV=t=>{const e=Gt.XRPL;return t===1?{chainNamespace:e,decimals:15,chainId:"0x1",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://ripple-node.tor.us",wsTarget:"wss://s2.ripple.com",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl mainnet",blockExplorerUrl:"https://livenet.xrpl.org"}:t===2?{chainNamespace:e,decimals:15,chainId:"0x2",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://testnet-ripple-node.tor.us",wsTarget:"wss://s.altnet.rippletest.net",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl testnet",blockExplorerUrl:"https://testnet.xrpl.org",isTestnet:!0}:t===3?{chainNamespace:e,decimals:15,chainId:"0x3",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://devnet-ripple-node.tor.us",wsTarget:"wss://s.devnet.rippletest.net/",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl devnet",blockExplorerUrl:"https://devnet.xrpl.org",isTestnet:!0}:null},Uc=(t,e,r)=>{if(t===Gt.OTHER)return null;const n=e?typeof e=="number"?e:parseInt(e,16):$V(t);return t===Gt.EIP155?UV(n,r):t===Gt.SOLANA?ZS(n):t===Gt.XRPL?FV(n):null};var SN={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(Rn,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],i={},o=null;function l(A,I){var k=A[I];if(typeof k.bind=="function")return k.bind(A);try{return Function.prototype.bind.call(k,A)}catch{return function(){return Function.prototype.apply.apply(k,[A,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function d(A){return A==="debug"&&(A="log"),typeof console===r?!1:A==="trace"&&n?u:console[A]!==void 0?l(console,A):console.log!==void 0?l(console,"log"):e}function p(){for(var A=this.getLevel(),I=0;I<s.length;I++){var k=s[I];this[k]=I<A?e:this.methodFactory(k,A,this.name)}if(this.log=this.debug,typeof console===r&&A<this.levels.SILENT)return"No console available for logging"}function v(A){return function(){typeof console!==r&&(p.call(this),this[A].apply(this,arguments))}}function b(A,I,k){return d(A)||v.apply(this,arguments)}function _(A,I){var k=this,R,C,P,N="loglevel";typeof A=="string"?N+=":"+A:typeof A=="symbol"&&(N=void 0);function U(E){var a=(s[E]||"silent").toUpperCase();if(!(typeof window===r||!N)){try{window.localStorage[N]=a;return}catch{}try{window.document.cookie=encodeURIComponent(N)+"="+a+";"}catch{}}}function q(){var E;if(!(typeof window===r||!N)){try{E=window.localStorage[N]}catch{}if(typeof E===r)try{var a=window.document.cookie,f=encodeURIComponent(N),h=a.indexOf(f+"=");h!==-1&&(E=/^([^;]+)/.exec(a.slice(h+f.length+1))[1])}catch{}return k.levels[E]===void 0&&(E=void 0),E}}function F(){if(!(typeof window===r||!N)){try{window.localStorage.removeItem(N)}catch{}try{window.document.cookie=encodeURIComponent(N)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function L(E){var a=E;if(typeof a=="string"&&k.levels[a.toUpperCase()]!==void 0&&(a=k.levels[a.toUpperCase()]),typeof a=="number"&&a>=0&&a<=k.levels.SILENT)return a;throw new TypeError("log.setLevel() called with invalid level: "+E)}k.name=A,k.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},k.methodFactory=I||b,k.getLevel=function(){return P??C??R},k.setLevel=function(E,a){return P=L(E),a!==!1&&U(P),p.call(k)},k.setDefaultLevel=function(E){C=L(E),q()||k.setLevel(E,!1)},k.resetLevel=function(){P=null,F(),p.call(k)},k.enableAll=function(E){k.setLevel(k.levels.TRACE,E)},k.disableAll=function(E){k.setLevel(k.levels.SILENT,E)},k.rebuild=function(){if(o!==k&&(R=L(o.getLevel())),p.call(k),o===k)for(var E in i)i[E].rebuild()},R=L(o?o.getLevel():"WARN");var ie=q();ie!=null&&(P=L(ie)),p.call(k)}o=new _,o.getLogger=function(I){if(typeof I!="symbol"&&typeof I!="string"||I==="")throw new TypeError("You must supply a name when creating a logger.");var k=i[I];return k||(k=i[I]=new _(I,o.methodFactory)),k};var M=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=M),o},o.getLoggers=function(){return i},o.default=o,o})})(SN);var EN=SN.exports;const jp=Zn(EN);var xt=jp.getLogger("web3auth-logger");function wM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var bl={},tn={},ts={},zu={},hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.crypto=void 0;hv.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=r,t.anumber=n,t.abytes=s,t.ahash=i,t.aexists=o,t.aoutput=l,t.u8=u,t.u32=d,t.clean=p,t.createView=v,t.rotr=b,t.rotl=_,t.byteSwap=M,t.byteSwap32=A,t.bytesToHex=R,t.hexToBytes=N,t.asyncLoop=q,t.utf8ToBytes=F,t.bytesToUtf8=L,t.toBytes=ie,t.kdfInputToBytes=E,t.concatBytes=a,t.checkOpts=f,t.createHasher=g,t.createOptHasher=y,t.createXOFer=x,t.randomBytes=S;const e=hv;function r(m){return m instanceof Uint8Array||ArrayBuffer.isView(m)&&m.constructor.name==="Uint8Array"}function n(m){if(!Number.isSafeInteger(m)||m<0)throw new Error("positive integer expected, got "+m)}function s(m,...c){if(!r(m))throw new Error("Uint8Array expected");if(c.length>0&&!c.includes(m.length))throw new Error("Uint8Array expected of length "+c+", got length="+m.length)}function i(m){if(typeof m!="function"||typeof m.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(m.outputLen),n(m.blockLen)}function o(m,c=!0){if(m.destroyed)throw new Error("Hash instance has been destroyed");if(c&&m.finished)throw new Error("Hash#digest() has already been called")}function l(m,c){s(m);const w=c.outputLen;if(m.length<w)throw new Error("digestInto() expects output buffer of length at least "+w)}function u(m){return new Uint8Array(m.buffer,m.byteOffset,m.byteLength)}function d(m){return new Uint32Array(m.buffer,m.byteOffset,Math.floor(m.byteLength/4))}function p(...m){for(let c=0;c<m.length;c++)m[c].fill(0)}function v(m){return new DataView(m.buffer,m.byteOffset,m.byteLength)}function b(m,c){return m<<32-c|m>>>c}function _(m,c){return m<<c|m>>>32-c>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function M(m){return m<<24&4278190080|m<<8&16711680|m>>>8&65280|m>>>24&255}t.swap8IfBE=t.isLE?m=>m:m=>M(m),t.byteSwapIfBE=t.swap8IfBE;function A(m){for(let c=0;c<m.length;c++)m[c]=M(m[c]);return m}t.swap32IfBE=t.isLE?m=>m:A;const I=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",k=Array.from({length:256},(m,c)=>c.toString(16).padStart(2,"0"));function R(m){if(s(m),I)return m.toHex();let c="";for(let w=0;w<m.length;w++)c+=k[m[w]];return c}const C={_0:48,_9:57,A:65,F:70,a:97,f:102};function P(m){if(m>=C._0&&m<=C._9)return m-C._0;if(m>=C.A&&m<=C.F)return m-(C.A-10);if(m>=C.a&&m<=C.f)return m-(C.a-10)}function N(m){if(typeof m!="string")throw new Error("hex string expected, got "+typeof m);if(I)return Uint8Array.fromHex(m);const c=m.length,w=c/2;if(c%2)throw new Error("hex string expected, got unpadded hex of length "+c);const T=new Uint8Array(w);for(let O=0,K=0;O<w;O++,K+=2){const ee=P(m.charCodeAt(K)),J=P(m.charCodeAt(K+1));if(ee===void 0||J===void 0){const $=m[K]+m[K+1];throw new Error('hex string expected, got non-hex character "'+$+'" at index '+K)}T[O]=ee*16+J}return T}const U=async()=>{};t.nextTick=U;async function q(m,c,w){let T=Date.now();for(let O=0;O<m;O++){w(O);const K=Date.now()-T;K>=0&&K<c||(await(0,t.nextTick)(),T+=K)}}function F(m){if(typeof m!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(m))}function L(m){return new TextDecoder().decode(m)}function ie(m){return typeof m=="string"&&(m=F(m)),s(m),m}function E(m){return typeof m=="string"&&(m=F(m)),s(m),m}function a(...m){let c=0;for(let T=0;T<m.length;T++){const O=m[T];s(O),c+=O.length}const w=new Uint8Array(c);for(let T=0,O=0;T<m.length;T++){const K=m[T];w.set(K,O),O+=K.length}return w}function f(m,c){if(c!==void 0&&{}.toString.call(c)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(m,c)}class h{}t.Hash=h;function g(m){const c=T=>m().update(ie(T)).digest(),w=m();return c.outputLen=w.outputLen,c.blockLen=w.blockLen,c.create=()=>m(),c}function y(m){const c=(T,O)=>m(O).update(ie(T)).digest(),w=m({});return c.outputLen=w.outputLen,c.blockLen=w.blockLen,c.create=T=>m(T),c}function x(m){const c=(T,O)=>m(O).update(ie(T)).digest(),w=m({});return c.outputLen=w.outputLen,c.blockLen=w.blockLen,c.create=T=>m(T),c}t.wrapConstructor=g,t.wrapConstructorWithOpts=y,t.wrapXOFConstructorWithOpts=x;function S(m=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(m));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(m));throw new Error("crypto.getRandomValues must be defined")}})(zu);Object.defineProperty(ts,"__esModule",{value:!0});ts.SHA512_IV=ts.SHA384_IV=ts.SHA224_IV=ts.SHA256_IV=ts.HashMD=void 0;ts.setBigUint64=MN;ts.Chi=jV;ts.Maj=qV;const na=zu;function MN(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),l=Number(r&i),u=n?4:0,d=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+d,l,n)}function jV(t,e,r){return t&e^~t&r}function qV(t,e,r){return t&e^t&r^e&r}let zV=class extends na.Hash{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=(0,na.createView)(this.buffer)}update(e){(0,na.aexists)(this),e=(0,na.toBytes)(e),(0,na.abytes)(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const u=(0,na.createView)(e);for(;s<=i-o;o+=s)this.process(u,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,na.aexists)(this),(0,na.aoutput)(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,(0,na.clean)(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let v=o;v<s;v++)r[v]=0;MN(n,s-8,BigInt(this.length*8),i),this.process(n,0);const l=(0,na.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)l.setUint32(4*v,p[v],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:l}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=l,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};ts.HashMD=zV;ts.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);ts.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);ts.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);ts.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.toBig=rr.shrSL=rr.shrSH=rr.rotrSL=rr.rotrSH=rr.rotrBL=rr.rotrBH=rr.rotr32L=rr.rotr32H=rr.rotlSL=rr.rotlSH=rr.rotlBL=rr.rotlBH=rr.add5L=rr.add5H=rr.add4L=rr.add4H=rr.add3L=rr.add3H=void 0;rr.add=FN;rr.fromBig=JS;rr.split=AN;const Kg=BigInt(2**32-1),l6=BigInt(32);function JS(t,e=!1){return e?{h:Number(t&Kg),l:Number(t>>l6&Kg)}:{h:Number(t>>l6&Kg)|0,l:Number(t&Kg)|0}}function AN(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:o,l}=JS(t[i],e);[n[i],s[i]]=[o,l]}return[n,s]}const kN=(t,e)=>BigInt(t>>>0)<<l6|BigInt(e>>>0);rr.toBig=kN;const IN=(t,e,r)=>t>>>r;rr.shrSH=IN;const RN=(t,e,r)=>t<<32-r|e>>>r;rr.shrSL=RN;const CN=(t,e,r)=>t>>>r|e<<32-r;rr.rotrSH=CN;const TN=(t,e,r)=>t<<32-r|e>>>r;rr.rotrSL=TN;const PN=(t,e,r)=>t<<64-r|e>>>r-32;rr.rotrBH=PN;const ON=(t,e,r)=>t>>>r-32|e<<64-r;rr.rotrBL=ON;const NN=(t,e)=>e;rr.rotr32H=NN;const BN=(t,e)=>t;rr.rotr32L=BN;const LN=(t,e,r)=>t<<r|e>>>32-r;rr.rotlSH=LN;const DN=(t,e,r)=>e<<r|t>>>32-r;rr.rotlSL=DN;const $N=(t,e,r)=>e<<r-32|t>>>64-r;rr.rotlBH=$N;const UN=(t,e,r)=>t<<r-32|e>>>64-r;rr.rotlBL=UN;function FN(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const jN=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);rr.add3L=jN;const qN=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;rr.add3H=qN;const zN=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);rr.add4L=zN;const HN=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0;rr.add4H=HN;const KN=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0);rr.add5L=KN;const WN=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0;rr.add5H=WN;const HV={fromBig:JS,split:AN,toBig:kN,shrSH:IN,shrSL:RN,rotrSH:CN,rotrSL:TN,rotrBH:PN,rotrBL:ON,rotr32H:NN,rotr32L:BN,rotlSH:LN,rotlSL:DN,rotlBH:$N,rotlBL:UN,add:FN,add3L:jN,add3H:qN,add4L:zN,add4H:HN,add5H:WN,add5L:KN};rr.default=HV;Object.defineProperty(tn,"__esModule",{value:!0});tn.sha512_224=tn.sha512_256=tn.sha384=tn.sha512=tn.sha224=tn.sha256=tn.SHA512_256=tn.SHA512_224=tn.SHA384=tn.SHA512=tn.SHA224=tn.SHA256=void 0;const Wt=ts,ur=rr,Un=zu,KV=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zl=new Uint32Array(64);let XS=class extends Wt.HashMD{constructor(e=32){super(64,e,8,!1),this.A=Wt.SHA256_IV[0]|0,this.B=Wt.SHA256_IV[1]|0,this.C=Wt.SHA256_IV[2]|0,this.D=Wt.SHA256_IV[3]|0,this.E=Wt.SHA256_IV[4]|0,this.F=Wt.SHA256_IV[5]|0,this.G=Wt.SHA256_IV[6]|0,this.H=Wt.SHA256_IV[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:l,H:u}=this;return[e,r,n,s,i,o,l,u]}set(e,r,n,s,i,o,l,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=u|0}process(e,r){for(let v=0;v<16;v++,r+=4)zl[v]=e.getUint32(r,!1);for(let v=16;v<64;v++){const b=zl[v-15],_=zl[v-2],M=(0,Un.rotr)(b,7)^(0,Un.rotr)(b,18)^b>>>3,A=(0,Un.rotr)(_,17)^(0,Un.rotr)(_,19)^_>>>10;zl[v]=A+zl[v-7]+M+zl[v-16]|0}let{A:n,B:s,C:i,D:o,E:l,F:u,G:d,H:p}=this;for(let v=0;v<64;v++){const b=(0,Un.rotr)(l,6)^(0,Un.rotr)(l,11)^(0,Un.rotr)(l,25),_=p+b+(0,Wt.Chi)(l,u,d)+KV[v]+zl[v]|0,A=((0,Un.rotr)(n,2)^(0,Un.rotr)(n,13)^(0,Un.rotr)(n,22))+(0,Wt.Maj)(n,s,i)|0;p=d,d=u,u=l,l=o+_|0,o=i,i=s,s=n,n=_+A|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,s,i,o,l,u,d,p)}roundClean(){(0,Un.clean)(zl)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,Un.clean)(this.buffer)}};tn.SHA256=XS;let VN=class extends XS{constructor(){super(28),this.A=Wt.SHA224_IV[0]|0,this.B=Wt.SHA224_IV[1]|0,this.C=Wt.SHA224_IV[2]|0,this.D=Wt.SHA224_IV[3]|0,this.E=Wt.SHA224_IV[4]|0,this.F=Wt.SHA224_IV[5]|0,this.G=Wt.SHA224_IV[6]|0,this.H=Wt.SHA224_IV[7]|0}};tn.SHA224=VN;const GN=ur.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),WV=GN[0],VV=GN[1],Hl=new Uint32Array(80),Kl=new Uint32Array(80);let qp=class extends Wt.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=Wt.SHA512_IV[0]|0,this.Al=Wt.SHA512_IV[1]|0,this.Bh=Wt.SHA512_IV[2]|0,this.Bl=Wt.SHA512_IV[3]|0,this.Ch=Wt.SHA512_IV[4]|0,this.Cl=Wt.SHA512_IV[5]|0,this.Dh=Wt.SHA512_IV[6]|0,this.Dl=Wt.SHA512_IV[7]|0,this.Eh=Wt.SHA512_IV[8]|0,this.El=Wt.SHA512_IV[9]|0,this.Fh=Wt.SHA512_IV[10]|0,this.Fl=Wt.SHA512_IV[11]|0,this.Gh=Wt.SHA512_IV[12]|0,this.Gl=Wt.SHA512_IV[13]|0,this.Hh=Wt.SHA512_IV[14]|0,this.Hl=Wt.SHA512_IV[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:l,Dl:u,Eh:d,El:p,Fh:v,Fl:b,Gh:_,Gl:M,Hh:A,Hl:I}=this;return[e,r,n,s,i,o,l,u,d,p,v,b,_,M,A,I]}set(e,r,n,s,i,o,l,u,d,p,v,b,_,M,A,I){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=u|0,this.Eh=d|0,this.El=p|0,this.Fh=v|0,this.Fl=b|0,this.Gh=_|0,this.Gl=M|0,this.Hh=A|0,this.Hl=I|0}process(e,r){for(let C=0;C<16;C++,r+=4)Hl[C]=e.getUint32(r),Kl[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const P=Hl[C-15]|0,N=Kl[C-15]|0,U=ur.rotrSH(P,N,1)^ur.rotrSH(P,N,8)^ur.shrSH(P,N,7),q=ur.rotrSL(P,N,1)^ur.rotrSL(P,N,8)^ur.shrSL(P,N,7),F=Hl[C-2]|0,L=Kl[C-2]|0,ie=ur.rotrSH(F,L,19)^ur.rotrBH(F,L,61)^ur.shrSH(F,L,6),E=ur.rotrSL(F,L,19)^ur.rotrBL(F,L,61)^ur.shrSL(F,L,6),a=ur.add4L(q,E,Kl[C-7],Kl[C-16]),f=ur.add4H(a,U,ie,Hl[C-7],Hl[C-16]);Hl[C]=f|0,Kl[C]=a|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:l,Cl:u,Dh:d,Dl:p,Eh:v,El:b,Fh:_,Fl:M,Gh:A,Gl:I,Hh:k,Hl:R}=this;for(let C=0;C<80;C++){const P=ur.rotrSH(v,b,14)^ur.rotrSH(v,b,18)^ur.rotrBH(v,b,41),N=ur.rotrSL(v,b,14)^ur.rotrSL(v,b,18)^ur.rotrBL(v,b,41),U=v&_^~v&A,q=b&M^~b&I,F=ur.add5L(R,N,q,VV[C],Kl[C]),L=ur.add5H(F,k,P,U,WV[C],Hl[C]),ie=F|0,E=ur.rotrSH(n,s,28)^ur.rotrBH(n,s,34)^ur.rotrBH(n,s,39),a=ur.rotrSL(n,s,28)^ur.rotrBL(n,s,34)^ur.rotrBL(n,s,39),f=n&i^n&l^i&l,h=s&o^s&u^o&u;k=A|0,R=I|0,A=_|0,I=M|0,_=v|0,M=b|0,{h:v,l:b}=ur.add(d|0,p|0,L|0,ie|0),d=l|0,p=u|0,l=i|0,u=o|0,i=n|0,o=s|0;const g=ur.add3L(ie,a,h);n=ur.add3H(g,L,E,f),s=g|0}({h:n,l:s}=ur.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=ur.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:u}=ur.add(this.Ch|0,this.Cl|0,l|0,u|0),{h:d,l:p}=ur.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:v,l:b}=ur.add(this.Eh|0,this.El|0,v|0,b|0),{h:_,l:M}=ur.add(this.Fh|0,this.Fl|0,_|0,M|0),{h:A,l:I}=ur.add(this.Gh|0,this.Gl|0,A|0,I|0),{h:k,l:R}=ur.add(this.Hh|0,this.Hl|0,k|0,R|0),this.set(n,s,i,o,l,u,d,p,v,b,_,M,A,I,k,R)}roundClean(){(0,Un.clean)(Hl,Kl)}destroy(){(0,Un.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};tn.SHA512=qp;let YN=class extends qp{constructor(){super(48),this.Ah=Wt.SHA384_IV[0]|0,this.Al=Wt.SHA384_IV[1]|0,this.Bh=Wt.SHA384_IV[2]|0,this.Bl=Wt.SHA384_IV[3]|0,this.Ch=Wt.SHA384_IV[4]|0,this.Cl=Wt.SHA384_IV[5]|0,this.Dh=Wt.SHA384_IV[6]|0,this.Dl=Wt.SHA384_IV[7]|0,this.Eh=Wt.SHA384_IV[8]|0,this.El=Wt.SHA384_IV[9]|0,this.Fh=Wt.SHA384_IV[10]|0,this.Fl=Wt.SHA384_IV[11]|0,this.Gh=Wt.SHA384_IV[12]|0,this.Gl=Wt.SHA384_IV[13]|0,this.Hh=Wt.SHA384_IV[14]|0,this.Hl=Wt.SHA384_IV[15]|0}};tn.SHA384=YN;const $i=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),Ui=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class ZN extends qp{constructor(){super(28),this.Ah=$i[0]|0,this.Al=$i[1]|0,this.Bh=$i[2]|0,this.Bl=$i[3]|0,this.Ch=$i[4]|0,this.Cl=$i[5]|0,this.Dh=$i[6]|0,this.Dl=$i[7]|0,this.Eh=$i[8]|0,this.El=$i[9]|0,this.Fh=$i[10]|0,this.Fl=$i[11]|0,this.Gh=$i[12]|0,this.Gl=$i[13]|0,this.Hh=$i[14]|0,this.Hl=$i[15]|0}}tn.SHA512_224=ZN;class JN extends qp{constructor(){super(32),this.Ah=Ui[0]|0,this.Al=Ui[1]|0,this.Bh=Ui[2]|0,this.Bl=Ui[3]|0,this.Ch=Ui[4]|0,this.Cl=Ui[5]|0,this.Dh=Ui[6]|0,this.Dl=Ui[7]|0,this.Eh=Ui[8]|0,this.El=Ui[9]|0,this.Fh=Ui[10]|0,this.Fl=Ui[11]|0,this.Gh=Ui[12]|0,this.Gl=Ui[13]|0,this.Hh=Ui[14]|0,this.Hl=Ui[15]|0}}tn.SHA512_256=JN;tn.sha256=(0,Un.createHasher)(()=>new XS);tn.sha224=(0,Un.createHasher)(()=>new VN);tn.sha512=(0,Un.createHasher)(()=>new qp);tn.sha384=(0,Un.createHasher)(()=>new YN);tn.sha512_256=(0,Un.createHasher)(()=>new JN);tn.sha512_224=(0,Un.createHasher)(()=>new ZN);Object.defineProperty(bl,"__esModule",{value:!0});bl.sha224=bl.SHA224=c6=bl.sha256=bl.SHA256=void 0;const dv=tn;bl.SHA256=dv.SHA256;var c6=bl.sha256=dv.sha256;bl.SHA224=dv.SHA224;bl.sha224=dv.sha224;var QS={exports:{}};const GV={},YV=Object.freeze(Object.defineProperty({__proto__:null,default:GV},Symbol.toStringTag,{value:"Module"})),Eo=Wy(YV);QS.exports;(function(t){(function(e,r){function n(f,h){if(!f)throw new Error(h||"Assertion failed")}function s(f,h){f.super_=h;var g=function(){};g.prototype=h.prototype,f.prototype=new g,f.prototype.constructor=f}function i(f,h,g){if(i.isBN(f))return f;this.negative=0,this.words=null,this.length=0,this.red=null,f!==null&&((h==="le"||h==="be")&&(g=h,h=10),this._init(f||0,h||10,g||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Eo.Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,g){return h.cmp(g)>0?h:g},i.min=function(h,g){return h.cmp(g)<0?h:g},i.prototype._init=function(h,g,y){if(typeof h=="number")return this._initNumber(h,g,y);if(typeof h=="object")return this._initArray(h,g,y);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),h=h.toString().replace(/\s+/g,"");var x=0;h[0]==="-"&&(x++,this.negative=1),x<h.length&&(g===16?this._parseHex(h,x,y):(this._parseBase(h,g,x),y==="le"&&this._initArray(this.toArray(),g,y)))},i.prototype._initNumber=function(h,g,y){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(n(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),g,y)},i.prototype._initArray=function(h,g,y){if(n(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,m,c=0;if(y==="be")for(x=h.length-1,S=0;x>=0;x-=3)m=h[x]|h[x-1]<<8|h[x-2]<<16,this.words[S]|=m<<c&67108863,this.words[S+1]=m>>>26-c&67108863,c+=24,c>=26&&(c-=26,S++);else if(y==="le")for(x=0,S=0;x<h.length;x+=3)m=h[x]|h[x+1]<<8|h[x+2]<<16,this.words[S]|=m<<c&67108863,this.words[S+1]=m>>>26-c&67108863,c+=24,c>=26&&(c-=26,S++);return this._strip()};function l(f,h){var g=f.charCodeAt(h);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;n(!1,"Invalid character in "+f)}function u(f,h,g){var y=l(f,g);return g-1>=h&&(y|=l(f,g-1)<<4),y}i.prototype._parseHex=function(h,g,y){this.length=Math.ceil((h.length-g)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S=0,m=0,c;if(y==="be")for(x=h.length-1;x>=g;x-=2)c=u(h,g,x)<<S,this.words[m]|=c&67108863,S>=18?(S-=18,m+=1,this.words[m]|=c>>>26):S+=8;else{var w=h.length-g;for(x=w%2===0?g+1:g;x<h.length;x+=2)c=u(h,g,x)<<S,this.words[m]|=c&67108863,S>=18?(S-=18,m+=1,this.words[m]|=c>>>26):S+=8}this._strip()};function d(f,h,g,y){for(var x=0,S=0,m=Math.min(f.length,g),c=h;c<m;c++){var w=f.charCodeAt(c)-48;x*=y,w>=49?S=w-49+10:w>=17?S=w-17+10:S=w,n(w>=0&&S<y,"Invalid character"),x+=S}return x}i.prototype._parseBase=function(h,g,y){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=g)x++;x--,S=S/g|0;for(var m=h.length-y,c=m%x,w=Math.min(m,m-c)+y,T=0,O=y;O<w;O+=x)T=d(h,O,O+x,g),this.imuln(S),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(c!==0){var K=1;for(T=d(h,O,h.length,g),O=0;O<c;O++)K*=g;this.imuln(K),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var g=0;g<this.length;g++)h.words[g]=this.words[g];h.length=this.length,h.negative=this.negative,h.red=this.red};function p(f,h){f.words=h.words,f.length=h.length,f.negative=h.negative,f.red=h.red}if(i.prototype._move=function(h){p(h,this)},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{i.prototype.inspect=v}else i.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,g){h=h||10,g=g|0||1;var y;if(h===16||h==="hex"){y="";for(var x=0,S=0,m=0;m<this.length;m++){var c=this.words[m],w=((c<<x|S)&16777215).toString(16);S=c>>>24-x&16777215,x+=2,x>=26&&(x-=26,m--),S!==0||m!==this.length-1?y=b[6-w.length]+w+y:y=w+y}for(S!==0&&(y=S.toString(16)+y);y.length%g!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(h===(h|0)&&h>=2&&h<=36){var T=_[h],O=M[h];y="";var K=this.clone();for(K.negative=0;!K.isZero();){var ee=K.modrn(O).toString(h);K=K.idivn(O),K.isZero()?y=ee+y:y=b[T-ee.length]+ee+y}for(this.isZero()&&(y="0"+y);y.length%g!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(h,g){return this.toArrayLike(o,h,g)}),i.prototype.toArray=function(h,g){return this.toArrayLike(Array,h,g)};var A=function(h,g){return h.allocUnsafe?h.allocUnsafe(g):new h(g)};i.prototype.toArrayLike=function(h,g,y){this._strip();var x=this.byteLength(),S=y||Math.max(1,x);n(x<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var m=A(h,S),c=g==="le"?"LE":"BE";return this["_toArrayLike"+c](m,x),m},i.prototype._toArrayLikeLE=function(h,g){for(var y=0,x=0,S=0,m=0;S<this.length;S++){var c=this.words[S]<<m|x;h[y++]=c&255,y<h.length&&(h[y++]=c>>8&255),y<h.length&&(h[y++]=c>>16&255),m===6?(y<h.length&&(h[y++]=c>>24&255),x=0,m=0):(x=c>>>24,m+=2)}if(y<h.length)for(h[y++]=x;y<h.length;)h[y++]=0},i.prototype._toArrayLikeBE=function(h,g){for(var y=h.length-1,x=0,S=0,m=0;S<this.length;S++){var c=this.words[S]<<m|x;h[y--]=c&255,y>=0&&(h[y--]=c>>8&255),y>=0&&(h[y--]=c>>16&255),m===6?(y>=0&&(h[y--]=c>>24&255),x=0,m=0):(x=c>>>24,m+=2)}if(y>=0)for(h[y--]=x;y>=0;)h[y--]=0},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var g=h,y=0;return g>=4096&&(y+=13,g>>>=13),g>=64&&(y+=7,g>>>=7),g>=8&&(y+=4,g>>>=4),g>=2&&(y+=2,g>>>=2),y+g},i.prototype._zeroBits=function(h){if(h===0)return 26;var g=h,y=0;return g&8191||(y+=13,g>>>=13),g&127||(y+=7,g>>>=7),g&15||(y+=4,g>>>=4),g&3||(y+=2,g>>>=2),g&1||y++,y},i.prototype.bitLength=function(){var h=this.words[this.length-1],g=this._countBits(h);return(this.length-1)*26+g};function I(f){for(var h=new Array(f.bitLength()),g=0;g<h.length;g++){var y=g/26|0,x=g%26;h[g]=f.words[y]>>>x&1}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,g=0;g<this.length;g++){var y=this._zeroBits(this.words[g]);if(h+=y,y!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]|h.words[g];return this._strip()},i.prototype.ior=function(h){return n((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var g;this.length>h.length?g=h:g=this;for(var y=0;y<g.length;y++)this.words[y]=this.words[y]&h.words[y];return this.length=g.length,this._strip()},i.prototype.iand=function(h){return n((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var g,y;this.length>h.length?(g=this,y=h):(g=h,y=this);for(var x=0;x<y.length;x++)this.words[x]=g.words[x]^y.words[x];if(this!==g)for(;x<g.length;x++)this.words[x]=g.words[x];return this.length=g.length,this._strip()},i.prototype.ixor=function(h){return n((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){n(typeof h=="number"&&h>=0);var g=Math.ceil(h/26)|0,y=h%26;this._expand(g),y>0&&g--;for(var x=0;x<g;x++)this.words[x]=~this.words[x]&67108863;return y>0&&(this.words[x]=~this.words[x]&67108863>>26-y),this._strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,g){n(typeof h=="number"&&h>=0);var y=h/26|0,x=h%26;return this._expand(y+1),g?this.words[y]=this.words[y]|1<<x:this.words[y]=this.words[y]&~(1<<x),this._strip()},i.prototype.iadd=function(h){var g;if(this.negative!==0&&h.negative===0)return this.negative=0,g=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,g=this.isub(h),h.negative=1,g._normSign();var y,x;this.length>h.length?(y=this,x=h):(y=h,x=this);for(var S=0,m=0;m<x.length;m++)g=(y.words[m]|0)+(x.words[m]|0)+S,this.words[m]=g&67108863,S=g>>>26;for(;S!==0&&m<y.length;m++)g=(y.words[m]|0)+S,this.words[m]=g&67108863,S=g>>>26;if(this.length=y.length,S!==0)this.words[this.length]=S,this.length++;else if(y!==this)for(;m<y.length;m++)this.words[m]=y.words[m];return this},i.prototype.add=function(h){var g;return h.negative!==0&&this.negative===0?(h.negative=0,g=this.sub(h),h.negative^=1,g):h.negative===0&&this.negative!==0?(this.negative=0,g=h.sub(this),this.negative=1,g):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var g=this.iadd(h);return h.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var y=this.cmp(h);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,S;y>0?(x=this,S=h):(x=h,S=this);for(var m=0,c=0;c<S.length;c++)g=(x.words[c]|0)-(S.words[c]|0)+m,m=g>>26,this.words[c]=g&67108863;for(;m!==0&&c<x.length;c++)g=(x.words[c]|0)+m,m=g>>26,this.words[c]=g&67108863;if(m===0&&c<x.length&&x!==this)for(;c<x.length;c++)this.words[c]=x.words[c];return this.length=Math.max(this.length,c),x!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function k(f,h,g){g.negative=h.negative^f.negative;var y=f.length+h.length|0;g.length=y,y=y-1|0;var x=f.words[0]|0,S=h.words[0]|0,m=x*S,c=m&67108863,w=m/67108864|0;g.words[0]=c;for(var T=1;T<y;T++){for(var O=w>>>26,K=w&67108863,ee=Math.min(T,h.length-1),J=Math.max(0,T-f.length+1);J<=ee;J++){var $=T-J|0;x=f.words[$]|0,S=h.words[J]|0,m=x*S+K,O+=m/67108864|0,K=m&67108863}g.words[T]=K|0,w=O|0}return w!==0?g.words[T]=w|0:g.length--,g._strip()}var R=function(h,g,y){var x=h.words,S=g.words,m=y.words,c=0,w,T,O,K=x[0]|0,ee=K&8191,J=K>>>13,$=x[1]|0,z=$&8191,Y=$>>>13,te=x[2]|0,G=te&8191,j=te>>>13,W=x[3]|0,oe=W&8191,ae=W>>>13,he=x[4]|0,Oe=he&8191,me=he>>>13,Ee=x[5]|0,it=Ee&8191,Se=Ee>>>13,xe=x[6]|0,Mt=xe&8191,Ie=xe>>>13,Ne=x[7]|0,qt=Ne&8191,Z=Ne>>>13,B=x[8]|0,H=B&8191,ne=B>>>13,ce=x[9]|0,Me=ce&8191,de=ce>>>13,Ce=S[0]|0,Rt=Ce&8191,ke=Ce>>>13,De=S[1]|0,St=De&8191,Be=De>>>13,He=S[2]|0,Jt=He&8191,Ue=He>>>13,Ke=S[3]|0,zt=Ke&8191,Le=Ke>>>13,ze=S[4]|0,le=ze&8191,se=ze>>>13,be=S[5]|0,Ge=be&8191,we=be>>>13,Fe=S[6]|0,V=Fe&8191,X=Fe>>>13,Q=S[7]|0,D=Q&8191,re=Q>>>13,ue=S[8]|0,_e=ue&8191,ge=ue>>>13,ve=S[9]|0,Ze=ve&8191,Ye=ve>>>13;y.negative=h.negative^g.negative,y.length=19,w=Math.imul(ee,Rt),T=Math.imul(ee,ke),T=T+Math.imul(J,Rt)|0,O=Math.imul(J,ke);var Bt=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,w=Math.imul(z,Rt),T=Math.imul(z,ke),T=T+Math.imul(Y,Rt)|0,O=Math.imul(Y,ke),w=w+Math.imul(ee,St)|0,T=T+Math.imul(ee,Be)|0,T=T+Math.imul(J,St)|0,O=O+Math.imul(J,Be)|0;var rt=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(rt>>>26)|0,rt&=67108863,w=Math.imul(G,Rt),T=Math.imul(G,ke),T=T+Math.imul(j,Rt)|0,O=Math.imul(j,ke),w=w+Math.imul(z,St)|0,T=T+Math.imul(z,Be)|0,T=T+Math.imul(Y,St)|0,O=O+Math.imul(Y,Be)|0,w=w+Math.imul(ee,Jt)|0,T=T+Math.imul(ee,Ue)|0,T=T+Math.imul(J,Jt)|0,O=O+Math.imul(J,Ue)|0;var Et=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(Et>>>26)|0,Et&=67108863,w=Math.imul(oe,Rt),T=Math.imul(oe,ke),T=T+Math.imul(ae,Rt)|0,O=Math.imul(ae,ke),w=w+Math.imul(G,St)|0,T=T+Math.imul(G,Be)|0,T=T+Math.imul(j,St)|0,O=O+Math.imul(j,Be)|0,w=w+Math.imul(z,Jt)|0,T=T+Math.imul(z,Ue)|0,T=T+Math.imul(Y,Jt)|0,O=O+Math.imul(Y,Ue)|0,w=w+Math.imul(ee,zt)|0,T=T+Math.imul(ee,Le)|0,T=T+Math.imul(J,zt)|0,O=O+Math.imul(J,Le)|0;var At=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(At>>>26)|0,At&=67108863,w=Math.imul(Oe,Rt),T=Math.imul(Oe,ke),T=T+Math.imul(me,Rt)|0,O=Math.imul(me,ke),w=w+Math.imul(oe,St)|0,T=T+Math.imul(oe,Be)|0,T=T+Math.imul(ae,St)|0,O=O+Math.imul(ae,Be)|0,w=w+Math.imul(G,Jt)|0,T=T+Math.imul(G,Ue)|0,T=T+Math.imul(j,Jt)|0,O=O+Math.imul(j,Ue)|0,w=w+Math.imul(z,zt)|0,T=T+Math.imul(z,Le)|0,T=T+Math.imul(Y,zt)|0,O=O+Math.imul(Y,Le)|0,w=w+Math.imul(ee,le)|0,T=T+Math.imul(ee,se)|0,T=T+Math.imul(J,le)|0,O=O+Math.imul(J,se)|0;var _t=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(_t>>>26)|0,_t&=67108863,w=Math.imul(it,Rt),T=Math.imul(it,ke),T=T+Math.imul(Se,Rt)|0,O=Math.imul(Se,ke),w=w+Math.imul(Oe,St)|0,T=T+Math.imul(Oe,Be)|0,T=T+Math.imul(me,St)|0,O=O+Math.imul(me,Be)|0,w=w+Math.imul(oe,Jt)|0,T=T+Math.imul(oe,Ue)|0,T=T+Math.imul(ae,Jt)|0,O=O+Math.imul(ae,Ue)|0,w=w+Math.imul(G,zt)|0,T=T+Math.imul(G,Le)|0,T=T+Math.imul(j,zt)|0,O=O+Math.imul(j,Le)|0,w=w+Math.imul(z,le)|0,T=T+Math.imul(z,se)|0,T=T+Math.imul(Y,le)|0,O=O+Math.imul(Y,se)|0,w=w+Math.imul(ee,Ge)|0,T=T+Math.imul(ee,we)|0,T=T+Math.imul(J,Ge)|0,O=O+Math.imul(J,we)|0;var Ot=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,w=Math.imul(Mt,Rt),T=Math.imul(Mt,ke),T=T+Math.imul(Ie,Rt)|0,O=Math.imul(Ie,ke),w=w+Math.imul(it,St)|0,T=T+Math.imul(it,Be)|0,T=T+Math.imul(Se,St)|0,O=O+Math.imul(Se,Be)|0,w=w+Math.imul(Oe,Jt)|0,T=T+Math.imul(Oe,Ue)|0,T=T+Math.imul(me,Jt)|0,O=O+Math.imul(me,Ue)|0,w=w+Math.imul(oe,zt)|0,T=T+Math.imul(oe,Le)|0,T=T+Math.imul(ae,zt)|0,O=O+Math.imul(ae,Le)|0,w=w+Math.imul(G,le)|0,T=T+Math.imul(G,se)|0,T=T+Math.imul(j,le)|0,O=O+Math.imul(j,se)|0,w=w+Math.imul(z,Ge)|0,T=T+Math.imul(z,we)|0,T=T+Math.imul(Y,Ge)|0,O=O+Math.imul(Y,we)|0,w=w+Math.imul(ee,V)|0,T=T+Math.imul(ee,X)|0,T=T+Math.imul(J,V)|0,O=O+Math.imul(J,X)|0;var kt=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(kt>>>26)|0,kt&=67108863,w=Math.imul(qt,Rt),T=Math.imul(qt,ke),T=T+Math.imul(Z,Rt)|0,O=Math.imul(Z,ke),w=w+Math.imul(Mt,St)|0,T=T+Math.imul(Mt,Be)|0,T=T+Math.imul(Ie,St)|0,O=O+Math.imul(Ie,Be)|0,w=w+Math.imul(it,Jt)|0,T=T+Math.imul(it,Ue)|0,T=T+Math.imul(Se,Jt)|0,O=O+Math.imul(Se,Ue)|0,w=w+Math.imul(Oe,zt)|0,T=T+Math.imul(Oe,Le)|0,T=T+Math.imul(me,zt)|0,O=O+Math.imul(me,Le)|0,w=w+Math.imul(oe,le)|0,T=T+Math.imul(oe,se)|0,T=T+Math.imul(ae,le)|0,O=O+Math.imul(ae,se)|0,w=w+Math.imul(G,Ge)|0,T=T+Math.imul(G,we)|0,T=T+Math.imul(j,Ge)|0,O=O+Math.imul(j,we)|0,w=w+Math.imul(z,V)|0,T=T+Math.imul(z,X)|0,T=T+Math.imul(Y,V)|0,O=O+Math.imul(Y,X)|0,w=w+Math.imul(ee,D)|0,T=T+Math.imul(ee,re)|0,T=T+Math.imul(J,D)|0,O=O+Math.imul(J,re)|0;var Ct=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,w=Math.imul(H,Rt),T=Math.imul(H,ke),T=T+Math.imul(ne,Rt)|0,O=Math.imul(ne,ke),w=w+Math.imul(qt,St)|0,T=T+Math.imul(qt,Be)|0,T=T+Math.imul(Z,St)|0,O=O+Math.imul(Z,Be)|0,w=w+Math.imul(Mt,Jt)|0,T=T+Math.imul(Mt,Ue)|0,T=T+Math.imul(Ie,Jt)|0,O=O+Math.imul(Ie,Ue)|0,w=w+Math.imul(it,zt)|0,T=T+Math.imul(it,Le)|0,T=T+Math.imul(Se,zt)|0,O=O+Math.imul(Se,Le)|0,w=w+Math.imul(Oe,le)|0,T=T+Math.imul(Oe,se)|0,T=T+Math.imul(me,le)|0,O=O+Math.imul(me,se)|0,w=w+Math.imul(oe,Ge)|0,T=T+Math.imul(oe,we)|0,T=T+Math.imul(ae,Ge)|0,O=O+Math.imul(ae,we)|0,w=w+Math.imul(G,V)|0,T=T+Math.imul(G,X)|0,T=T+Math.imul(j,V)|0,O=O+Math.imul(j,X)|0,w=w+Math.imul(z,D)|0,T=T+Math.imul(z,re)|0,T=T+Math.imul(Y,D)|0,O=O+Math.imul(Y,re)|0,w=w+Math.imul(ee,_e)|0,T=T+Math.imul(ee,ge)|0,T=T+Math.imul(J,_e)|0,O=O+Math.imul(J,ge)|0;var It=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(It>>>26)|0,It&=67108863,w=Math.imul(Me,Rt),T=Math.imul(Me,ke),T=T+Math.imul(de,Rt)|0,O=Math.imul(de,ke),w=w+Math.imul(H,St)|0,T=T+Math.imul(H,Be)|0,T=T+Math.imul(ne,St)|0,O=O+Math.imul(ne,Be)|0,w=w+Math.imul(qt,Jt)|0,T=T+Math.imul(qt,Ue)|0,T=T+Math.imul(Z,Jt)|0,O=O+Math.imul(Z,Ue)|0,w=w+Math.imul(Mt,zt)|0,T=T+Math.imul(Mt,Le)|0,T=T+Math.imul(Ie,zt)|0,O=O+Math.imul(Ie,Le)|0,w=w+Math.imul(it,le)|0,T=T+Math.imul(it,se)|0,T=T+Math.imul(Se,le)|0,O=O+Math.imul(Se,se)|0,w=w+Math.imul(Oe,Ge)|0,T=T+Math.imul(Oe,we)|0,T=T+Math.imul(me,Ge)|0,O=O+Math.imul(me,we)|0,w=w+Math.imul(oe,V)|0,T=T+Math.imul(oe,X)|0,T=T+Math.imul(ae,V)|0,O=O+Math.imul(ae,X)|0,w=w+Math.imul(G,D)|0,T=T+Math.imul(G,re)|0,T=T+Math.imul(j,D)|0,O=O+Math.imul(j,re)|0,w=w+Math.imul(z,_e)|0,T=T+Math.imul(z,ge)|0,T=T+Math.imul(Y,_e)|0,O=O+Math.imul(Y,ge)|0,w=w+Math.imul(ee,Ze)|0,T=T+Math.imul(ee,Ye)|0,T=T+Math.imul(J,Ze)|0,O=O+Math.imul(J,Ye)|0;var ft=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(ft>>>26)|0,ft&=67108863,w=Math.imul(Me,St),T=Math.imul(Me,Be),T=T+Math.imul(de,St)|0,O=Math.imul(de,Be),w=w+Math.imul(H,Jt)|0,T=T+Math.imul(H,Ue)|0,T=T+Math.imul(ne,Jt)|0,O=O+Math.imul(ne,Ue)|0,w=w+Math.imul(qt,zt)|0,T=T+Math.imul(qt,Le)|0,T=T+Math.imul(Z,zt)|0,O=O+Math.imul(Z,Le)|0,w=w+Math.imul(Mt,le)|0,T=T+Math.imul(Mt,se)|0,T=T+Math.imul(Ie,le)|0,O=O+Math.imul(Ie,se)|0,w=w+Math.imul(it,Ge)|0,T=T+Math.imul(it,we)|0,T=T+Math.imul(Se,Ge)|0,O=O+Math.imul(Se,we)|0,w=w+Math.imul(Oe,V)|0,T=T+Math.imul(Oe,X)|0,T=T+Math.imul(me,V)|0,O=O+Math.imul(me,X)|0,w=w+Math.imul(oe,D)|0,T=T+Math.imul(oe,re)|0,T=T+Math.imul(ae,D)|0,O=O+Math.imul(ae,re)|0,w=w+Math.imul(G,_e)|0,T=T+Math.imul(G,ge)|0,T=T+Math.imul(j,_e)|0,O=O+Math.imul(j,ge)|0,w=w+Math.imul(z,Ze)|0,T=T+Math.imul(z,Ye)|0,T=T+Math.imul(Y,Ze)|0,O=O+Math.imul(Y,Ye)|0;var pt=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(pt>>>26)|0,pt&=67108863,w=Math.imul(Me,Jt),T=Math.imul(Me,Ue),T=T+Math.imul(de,Jt)|0,O=Math.imul(de,Ue),w=w+Math.imul(H,zt)|0,T=T+Math.imul(H,Le)|0,T=T+Math.imul(ne,zt)|0,O=O+Math.imul(ne,Le)|0,w=w+Math.imul(qt,le)|0,T=T+Math.imul(qt,se)|0,T=T+Math.imul(Z,le)|0,O=O+Math.imul(Z,se)|0,w=w+Math.imul(Mt,Ge)|0,T=T+Math.imul(Mt,we)|0,T=T+Math.imul(Ie,Ge)|0,O=O+Math.imul(Ie,we)|0,w=w+Math.imul(it,V)|0,T=T+Math.imul(it,X)|0,T=T+Math.imul(Se,V)|0,O=O+Math.imul(Se,X)|0,w=w+Math.imul(Oe,D)|0,T=T+Math.imul(Oe,re)|0,T=T+Math.imul(me,D)|0,O=O+Math.imul(me,re)|0,w=w+Math.imul(oe,_e)|0,T=T+Math.imul(oe,ge)|0,T=T+Math.imul(ae,_e)|0,O=O+Math.imul(ae,ge)|0,w=w+Math.imul(G,Ze)|0,T=T+Math.imul(G,Ye)|0,T=T+Math.imul(j,Ze)|0,O=O+Math.imul(j,Ye)|0;var at=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(at>>>26)|0,at&=67108863,w=Math.imul(Me,zt),T=Math.imul(Me,Le),T=T+Math.imul(de,zt)|0,O=Math.imul(de,Le),w=w+Math.imul(H,le)|0,T=T+Math.imul(H,se)|0,T=T+Math.imul(ne,le)|0,O=O+Math.imul(ne,se)|0,w=w+Math.imul(qt,Ge)|0,T=T+Math.imul(qt,we)|0,T=T+Math.imul(Z,Ge)|0,O=O+Math.imul(Z,we)|0,w=w+Math.imul(Mt,V)|0,T=T+Math.imul(Mt,X)|0,T=T+Math.imul(Ie,V)|0,O=O+Math.imul(Ie,X)|0,w=w+Math.imul(it,D)|0,T=T+Math.imul(it,re)|0,T=T+Math.imul(Se,D)|0,O=O+Math.imul(Se,re)|0,w=w+Math.imul(Oe,_e)|0,T=T+Math.imul(Oe,ge)|0,T=T+Math.imul(me,_e)|0,O=O+Math.imul(me,ge)|0,w=w+Math.imul(oe,Ze)|0,T=T+Math.imul(oe,Ye)|0,T=T+Math.imul(ae,Ze)|0,O=O+Math.imul(ae,Ye)|0;var ht=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(ht>>>26)|0,ht&=67108863,w=Math.imul(Me,le),T=Math.imul(Me,se),T=T+Math.imul(de,le)|0,O=Math.imul(de,se),w=w+Math.imul(H,Ge)|0,T=T+Math.imul(H,we)|0,T=T+Math.imul(ne,Ge)|0,O=O+Math.imul(ne,we)|0,w=w+Math.imul(qt,V)|0,T=T+Math.imul(qt,X)|0,T=T+Math.imul(Z,V)|0,O=O+Math.imul(Z,X)|0,w=w+Math.imul(Mt,D)|0,T=T+Math.imul(Mt,re)|0,T=T+Math.imul(Ie,D)|0,O=O+Math.imul(Ie,re)|0,w=w+Math.imul(it,_e)|0,T=T+Math.imul(it,ge)|0,T=T+Math.imul(Se,_e)|0,O=O+Math.imul(Se,ge)|0,w=w+Math.imul(Oe,Ze)|0,T=T+Math.imul(Oe,Ye)|0,T=T+Math.imul(me,Ze)|0,O=O+Math.imul(me,Ye)|0;var ct=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(ct>>>26)|0,ct&=67108863,w=Math.imul(Me,Ge),T=Math.imul(Me,we),T=T+Math.imul(de,Ge)|0,O=Math.imul(de,we),w=w+Math.imul(H,V)|0,T=T+Math.imul(H,X)|0,T=T+Math.imul(ne,V)|0,O=O+Math.imul(ne,X)|0,w=w+Math.imul(qt,D)|0,T=T+Math.imul(qt,re)|0,T=T+Math.imul(Z,D)|0,O=O+Math.imul(Z,re)|0,w=w+Math.imul(Mt,_e)|0,T=T+Math.imul(Mt,ge)|0,T=T+Math.imul(Ie,_e)|0,O=O+Math.imul(Ie,ge)|0,w=w+Math.imul(it,Ze)|0,T=T+Math.imul(it,Ye)|0,T=T+Math.imul(Se,Ze)|0,O=O+Math.imul(Se,Ye)|0;var st=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(st>>>26)|0,st&=67108863,w=Math.imul(Me,V),T=Math.imul(Me,X),T=T+Math.imul(de,V)|0,O=Math.imul(de,X),w=w+Math.imul(H,D)|0,T=T+Math.imul(H,re)|0,T=T+Math.imul(ne,D)|0,O=O+Math.imul(ne,re)|0,w=w+Math.imul(qt,_e)|0,T=T+Math.imul(qt,ge)|0,T=T+Math.imul(Z,_e)|0,O=O+Math.imul(Z,ge)|0,w=w+Math.imul(Mt,Ze)|0,T=T+Math.imul(Mt,Ye)|0,T=T+Math.imul(Ie,Ze)|0,O=O+Math.imul(Ie,Ye)|0;var Te=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(Te>>>26)|0,Te&=67108863,w=Math.imul(Me,D),T=Math.imul(Me,re),T=T+Math.imul(de,D)|0,O=Math.imul(de,re),w=w+Math.imul(H,_e)|0,T=T+Math.imul(H,ge)|0,T=T+Math.imul(ne,_e)|0,O=O+Math.imul(ne,ge)|0,w=w+Math.imul(qt,Ze)|0,T=T+Math.imul(qt,Ye)|0,T=T+Math.imul(Z,Ze)|0,O=O+Math.imul(Z,Ye)|0;var Pe=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,w=Math.imul(Me,_e),T=Math.imul(Me,ge),T=T+Math.imul(de,_e)|0,O=Math.imul(de,ge),w=w+Math.imul(H,Ze)|0,T=T+Math.imul(H,Ye)|0,T=T+Math.imul(ne,Ze)|0,O=O+Math.imul(ne,Ye)|0;var et=(c+w|0)+((T&8191)<<13)|0;c=(O+(T>>>13)|0)+(et>>>26)|0,et&=67108863,w=Math.imul(Me,Ze),T=Math.imul(Me,Ye),T=T+Math.imul(de,Ze)|0,O=Math.imul(de,Ye);var Je=(c+w|0)+((T&8191)<<13)|0;return c=(O+(T>>>13)|0)+(Je>>>26)|0,Je&=67108863,m[0]=Bt,m[1]=rt,m[2]=Et,m[3]=At,m[4]=_t,m[5]=Ot,m[6]=kt,m[7]=Ct,m[8]=It,m[9]=ft,m[10]=pt,m[11]=at,m[12]=ht,m[13]=ct,m[14]=st,m[15]=Te,m[16]=Pe,m[17]=et,m[18]=Je,c!==0&&(m[19]=c,y.length++),y};Math.imul||(R=k);function C(f,h,g){g.negative=h.negative^f.negative,g.length=f.length+h.length;for(var y=0,x=0,S=0;S<g.length-1;S++){var m=x;x=0;for(var c=y&67108863,w=Math.min(S,h.length-1),T=Math.max(0,S-f.length+1);T<=w;T++){var O=S-T,K=f.words[O]|0,ee=h.words[T]|0,J=K*ee,$=J&67108863;m=m+(J/67108864|0)|0,$=$+c|0,c=$&67108863,m=m+($>>>26)|0,x+=m>>>26,m&=67108863}g.words[S]=c,y=m,m=x}return y!==0?g.words[S]=y:g.length--,g._strip()}function P(f,h,g){return C(f,h,g)}i.prototype.mulTo=function(h,g){var y,x=this.length+h.length;return this.length===10&&h.length===10?y=R(this,h,g):x<63?y=k(this,h,g):x<1024?y=C(this,h,g):y=P(this,h,g),y},i.prototype.mul=function(h){var g=new i(null);return g.words=new Array(this.length+h.length),this.mulTo(h,g)},i.prototype.mulf=function(h){var g=new i(null);return g.words=new Array(this.length+h.length),P(this,h,g)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){var g=h<0;g&&(h=-h),n(typeof h=="number"),n(h<67108864);for(var y=0,x=0;x<this.length;x++){var S=(this.words[x]|0)*h,m=(S&67108863)+(y&67108863);y>>=26,y+=S/67108864|0,y+=m>>>26,this.words[x]=m&67108863}return y!==0&&(this.words[x]=y,this.length++),g?this.ineg():this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var g=I(h);if(g.length===0)return new i(1);for(var y=this,x=0;x<g.length&&g[x]===0;x++,y=y.sqr());if(++x<g.length)for(var S=y.sqr();x<g.length;x++,S=S.sqr())g[x]!==0&&(y=y.mul(S));return y},i.prototype.iushln=function(h){n(typeof h=="number"&&h>=0);var g=h%26,y=(h-g)/26,x=67108863>>>26-g<<26-g,S;if(g!==0){var m=0;for(S=0;S<this.length;S++){var c=this.words[S]&x,w=(this.words[S]|0)-c<<g;this.words[S]=w|m,m=c>>>26-g}m&&(this.words[S]=m,this.length++)}if(y!==0){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this._strip()},i.prototype.ishln=function(h){return n(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,g,y){n(typeof h=="number"&&h>=0);var x;g?x=(g-g%26)/26:x=0;var S=h%26,m=Math.min((h-S)/26,this.length),c=67108863^67108863>>>S<<S,w=y;if(x-=m,x=Math.max(0,x),w){for(var T=0;T<m;T++)w.words[T]=this.words[T];w.length=m}if(m!==0)if(this.length>m)for(this.length-=m,T=0;T<this.length;T++)this.words[T]=this.words[T+m];else this.words[0]=0,this.length=1;var O=0;for(T=this.length-1;T>=0&&(O!==0||T>=x);T--){var K=this.words[T]|0;this.words[T]=O<<26-S|K>>>S,O=K&c}return w&&O!==0&&(w.words[w.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(h,g,y){return n(this.negative===0),this.iushrn(h,g,y)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){n(typeof h=="number"&&h>=0);var g=h%26,y=(h-g)/26,x=1<<g;if(this.length<=y)return!1;var S=this.words[y];return!!(S&x)},i.prototype.imaskn=function(h){n(typeof h=="number"&&h>=0);var g=h%26,y=(h-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(g!==0&&y++,this.length=Math.min(y,this.length),g!==0){var x=67108863^67108863>>>g<<g;this.words[this.length-1]&=x}return this._strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return n(typeof h=="number"),n(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},i.prototype.isubn=function(h){if(n(typeof h=="number"),n(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,g,y){var x=h.length+y,S;this._expand(x);var m,c=0;for(S=0;S<h.length;S++){m=(this.words[S+y]|0)+c;var w=(h.words[S]|0)*g;m-=w&67108863,c=(m>>26)-(w/67108864|0),this.words[S+y]=m&67108863}for(;S<this.length-y;S++)m=(this.words[S+y]|0)+c,c=m>>26,this.words[S+y]=m&67108863;if(c===0)return this._strip();for(n(c===-1),c=0,S=0;S<this.length;S++)m=-(this.words[S]|0)+c,c=m>>26,this.words[S]=m&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(h,g){var y=this.length-h.length,x=this.clone(),S=h,m=S.words[S.length-1]|0,c=this._countBits(m);y=26-c,y!==0&&(S=S.ushln(y),x.iushln(y),m=S.words[S.length-1]|0);var w=x.length-S.length,T;if(g!=="mod"){T=new i(null),T.length=w+1,T.words=new Array(T.length);for(var O=0;O<T.length;O++)T.words[O]=0}var K=x.clone()._ishlnsubmul(S,1,w);K.negative===0&&(x=K,T&&(T.words[w]=1));for(var ee=w-1;ee>=0;ee--){var J=(x.words[S.length+ee]|0)*67108864+(x.words[S.length+ee-1]|0);for(J=Math.min(J/m|0,67108863),x._ishlnsubmul(S,J,ee);x.negative!==0;)J--,x.negative=0,x._ishlnsubmul(S,1,ee),x.isZero()||(x.negative^=1);T&&(T.words[ee]=J)}return T&&T._strip(),x._strip(),g!=="div"&&y!==0&&x.iushrn(y),{div:T||null,mod:x}},i.prototype.divmod=function(h,g,y){if(n(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var x,S,m;return this.negative!==0&&h.negative===0?(m=this.neg().divmod(h,g),g!=="mod"&&(x=m.div.neg()),g!=="div"&&(S=m.mod.neg(),y&&S.negative!==0&&S.iadd(h)),{div:x,mod:S}):this.negative===0&&h.negative!==0?(m=this.divmod(h.neg(),g),g!=="mod"&&(x=m.div.neg()),{div:x,mod:m.mod}):this.negative&h.negative?(m=this.neg().divmod(h.neg(),g),g!=="div"&&(S=m.mod.neg(),y&&S.negative!==0&&S.isub(h)),{div:m.div,mod:S}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?g==="div"?{div:this.divn(h.words[0]),mod:null}:g==="mod"?{div:null,mod:new i(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modrn(h.words[0]))}:this._wordDiv(h,g)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var g=this.divmod(h);if(g.mod.isZero())return g.div;var y=g.div.negative!==0?g.mod.isub(h):g.mod,x=h.ushrn(1),S=h.andln(1),m=y.cmp(x);return m<0||S===1&&m===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},i.prototype.modrn=function(h){var g=h<0;g&&(h=-h),n(h<=67108863);for(var y=(1<<26)%h,x=0,S=this.length-1;S>=0;S--)x=(y*x+(this.words[S]|0))%h;return g?-x:x},i.prototype.modn=function(h){return this.modrn(h)},i.prototype.idivn=function(h){var g=h<0;g&&(h=-h),n(h<=67108863);for(var y=0,x=this.length-1;x>=0;x--){var S=(this.words[x]|0)+y*67108864;this.words[x]=S/h|0,y=S%h}return this._strip(),g?this.ineg():this},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){n(h.negative===0),n(!h.isZero());var g=this,y=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var x=new i(1),S=new i(0),m=new i(0),c=new i(1),w=0;g.isEven()&&y.isEven();)g.iushrn(1),y.iushrn(1),++w;for(var T=y.clone(),O=g.clone();!g.isZero();){for(var K=0,ee=1;!(g.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(g.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(T),S.isub(O)),x.iushrn(1),S.iushrn(1);for(var J=0,$=1;!(y.words[0]&$)&&J<26;++J,$<<=1);if(J>0)for(y.iushrn(J);J-- >0;)(m.isOdd()||c.isOdd())&&(m.iadd(T),c.isub(O)),m.iushrn(1),c.iushrn(1);g.cmp(y)>=0?(g.isub(y),x.isub(m),S.isub(c)):(y.isub(g),m.isub(x),c.isub(S))}return{a:m,b:c,gcd:y.iushln(w)}},i.prototype._invmp=function(h){n(h.negative===0),n(!h.isZero());var g=this,y=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var x=new i(1),S=new i(0),m=y.clone();g.cmpn(1)>0&&y.cmpn(1)>0;){for(var c=0,w=1;!(g.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(g.iushrn(c);c-- >0;)x.isOdd()&&x.iadd(m),x.iushrn(1);for(var T=0,O=1;!(y.words[0]&O)&&T<26;++T,O<<=1);if(T>0)for(y.iushrn(T);T-- >0;)S.isOdd()&&S.iadd(m),S.iushrn(1);g.cmp(y)>=0?(g.isub(y),x.isub(S)):(y.isub(g),S.isub(x))}var K;return g.cmpn(1)===0?K=x:K=S,K.cmpn(0)<0&&K.iadd(h),K},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var g=this.clone(),y=h.clone();g.negative=0,y.negative=0;for(var x=0;g.isEven()&&y.isEven();x++)g.iushrn(1),y.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=g.cmp(y);if(S<0){var m=g;g=y,y=m}else if(S===0||y.cmpn(1)===0)break;g.isub(y)}while(!0);return y.iushln(x)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){n(typeof h=="number");var g=h%26,y=(h-g)/26,x=1<<g;if(this.length<=y)return this._expand(y+1),this.words[y]|=x,this;for(var S=x,m=y;S!==0&&m<this.length;m++){var c=this.words[m]|0;c+=S,S=c>>>26,c&=67108863,this.words[m]=c}return S!==0&&(this.words[m]=S,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var g=h<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var y;if(this.length>1)y=1;else{g&&(h=-h),n(h<=67108863,"Number is too big");var x=this.words[0]|0;y=x===h?0:x<h?-1:1}return this.negative!==0?-y|0:y},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var g=this.ucmp(h);return this.negative!==0?-g|0:g},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var g=0,y=this.length-1;y>=0;y--){var x=this.words[y]|0,S=h.words[y]|0;if(x!==S){x<S?g=-1:x>S&&(g=1);break}}return g},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new E(h)},i.prototype.toRed=function(h){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return n(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return n(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var N={k256:null,p224:null,p192:null,p25519:null};function U(f,h){this.name=f,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},U.prototype.ireduce=function(h){var g=h,y;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),y=g.bitLength();while(y>this.n);var x=y<this.n?-1:g.ucmp(this.p);return x===0?(g.words[0]=0,g.length=1):x>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},U.prototype.split=function(h,g){h.iushrn(this.n,0,g)},U.prototype.imulK=function(h){return h.imul(this.k)};function q(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(q,U),q.prototype.split=function(h,g){for(var y=4194303,x=Math.min(h.length,9),S=0;S<x;S++)g.words[S]=h.words[S];if(g.length=x,h.length<=9){h.words[0]=0,h.length=1;return}var m=h.words[9];for(g.words[g.length++]=m&y,S=10;S<h.length;S++){var c=h.words[S]|0;h.words[S-10]=(c&y)<<4|m>>>22,m=c}m>>>=22,h.words[S-10]=m,m===0&&h.length>10?h.length-=10:h.length-=9},q.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var g=0,y=0;y<h.length;y++){var x=h.words[y]|0;g+=x*977,h.words[y]=g&67108863,g=x*64+(g/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function F(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(F,U);function L(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(L,U);function ie(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(ie,U),ie.prototype.imulK=function(h){for(var g=0,y=0;y<h.length;y++){var x=(h.words[y]|0)*19+g,S=x&67108863;x>>>=26,h.words[y]=S,g=x}return g!==0&&(h.words[h.length++]=g),h},i._prime=function(h){if(N[h])return N[h];var g;if(h==="k256")g=new q;else if(h==="p224")g=new F;else if(h==="p192")g=new L;else if(h==="p25519")g=new ie;else throw new Error("Unknown prime "+h);return N[h]=g,g};function E(f){if(typeof f=="string"){var h=i._prime(f);this.m=h.p,this.prime=h}else n(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}E.prototype._verify1=function(h){n(h.negative===0,"red works only with positives"),n(h.red,"red works only with red numbers")},E.prototype._verify2=function(h,g){n((h.negative|g.negative)===0,"red works only with positives"),n(h.red&&h.red===g.red,"red works only with red numbers")},E.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(p(h,h.umod(this.m)._forceRed(this)),h)},E.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},E.prototype.add=function(h,g){this._verify2(h,g);var y=h.add(g);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},E.prototype.iadd=function(h,g){this._verify2(h,g);var y=h.iadd(g);return y.cmp(this.m)>=0&&y.isub(this.m),y},E.prototype.sub=function(h,g){this._verify2(h,g);var y=h.sub(g);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},E.prototype.isub=function(h,g){this._verify2(h,g);var y=h.isub(g);return y.cmpn(0)<0&&y.iadd(this.m),y},E.prototype.shl=function(h,g){return this._verify1(h),this.imod(h.ushln(g))},E.prototype.imul=function(h,g){return this._verify2(h,g),this.imod(h.imul(g))},E.prototype.mul=function(h,g){return this._verify2(h,g),this.imod(h.mul(g))},E.prototype.isqr=function(h){return this.imul(h,h.clone())},E.prototype.sqr=function(h){return this.mul(h,h)},E.prototype.sqrt=function(h){if(h.isZero())return h.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(h,y)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);n(!x.isZero());var m=new i(1).toRed(this),c=m.redNeg(),w=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new i(2*T*T).toRed(this);this.pow(T,w).cmp(c)!==0;)T.redIAdd(c);for(var O=this.pow(T,x),K=this.pow(h,x.addn(1).iushrn(1)),ee=this.pow(h,x),J=S;ee.cmp(m)!==0;){for(var $=ee,z=0;$.cmp(m)!==0;z++)$=$.redSqr();n(z<J);var Y=this.pow(O,new i(1).iushln(J-z-1));K=K.redMul(Y),O=Y.redSqr(),ee=ee.redMul(O),J=z}return K},E.prototype.invm=function(h){var g=h._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},E.prototype.pow=function(h,g){if(g.isZero())return new i(1).toRed(this);if(g.cmpn(1)===0)return h.clone();var y=4,x=new Array(1<<y);x[0]=new i(1).toRed(this),x[1]=h;for(var S=2;S<x.length;S++)x[S]=this.mul(x[S-1],h);var m=x[0],c=0,w=0,T=g.bitLength()%26;for(T===0&&(T=26),S=g.length-1;S>=0;S--){for(var O=g.words[S],K=T-1;K>=0;K--){var ee=O>>K&1;if(m!==x[0]&&(m=this.sqr(m)),ee===0&&c===0){w=0;continue}c<<=1,c|=ee,w++,!(w!==y&&(S!==0||K!==0))&&(m=this.mul(m,x[c]),w=0,c=0)}T=26}return m},E.prototype.convertTo=function(h){var g=h.umod(this.m);return g===h?g.clone():g},E.prototype.convertFrom=function(h){var g=h.clone();return g.red=null,g},i.mont=function(h){return new a(h)};function a(f){E.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(a,E),a.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},a.prototype.convertFrom=function(h){var g=this.imod(h.mul(this.rinv));return g.red=null,g},a.prototype.imul=function(h,g){if(h.isZero()||g.isZero())return h.words[0]=0,h.length=1,h;var y=h.imul(g),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(x).iushrn(this.shift),m=S;return S.cmp(this.m)>=0?m=S.isub(this.m):S.cmpn(0)<0&&(m=S.iadd(this.m)),m._forceRed(this)},a.prototype.mul=function(h,g){if(h.isZero()||g.isZero())return new i(0)._forceRed(this);var y=h.mul(g),x=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(x).iushrn(this.shift),m=S;return S.cmp(this.m)>=0?m=S.isub(this.m):S.cmpn(0)<0&&(m=S.iadd(this.m)),m._forceRed(this)},a.prototype.invm=function(h){var g=this.imod(h._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,Rn)})(QS);var zp=QS.exports;const u6=Zn(zp);var pv={},xr={},Mo=XN;function XN(t,e){if(!t)throw new Error(e||"Assertion failed")}XN.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Wg={exports:{}},bM;function nr(){return bM||(bM=1,typeof Object.create=="function"?Wg.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Wg.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Wg.exports}var ZV=Mo,JV=nr();xr.inherits=JV;function XV(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function QV(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),s=0;s<t.length;s+=2)r.push(parseInt(t[s]+t[s+1],16))}else for(var n=0,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):XV(t,s)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(s=0;s<t.length;s++)r[s]=t[s]|0;return r}xr.toArray=QV;function eG(t){for(var e="",r=0;r<t.length;r++)e+=eB(t[r].toString(16));return e}xr.toHex=eG;function QN(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}xr.htonl=QN;function tG(t,e){for(var r="",n=0;n<t.length;n++){var s=t[n];e==="little"&&(s=QN(s)),r+=tB(s.toString(16))}return r}xr.toHex32=tG;function eB(t){return t.length===1?"0"+t:t}xr.zero2=eB;function tB(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}xr.zero8=tB;function rG(t,e,r,n){var s=r-e;ZV(s%4===0);for(var i=new Array(s/4),o=0,l=e;o<i.length;o++,l+=4){var u;n==="big"?u=t[l]<<24|t[l+1]<<16|t[l+2]<<8|t[l+3]:u=t[l+3]<<24|t[l+2]<<16|t[l+1]<<8|t[l],i[o]=u>>>0}return i}xr.join32=rG;function nG(t,e){for(var r=new Array(t.length*4),n=0,s=0;n<t.length;n++,s+=4){var i=t[n];e==="big"?(r[s]=i>>>24,r[s+1]=i>>>16&255,r[s+2]=i>>>8&255,r[s+3]=i&255):(r[s+3]=i>>>24,r[s+2]=i>>>16&255,r[s+1]=i>>>8&255,r[s]=i&255)}return r}xr.split32=nG;function iG(t,e){return t>>>e|t<<32-e}xr.rotr32=iG;function sG(t,e){return t<<e|t>>>32-e}xr.rotl32=sG;function oG(t,e){return t+e>>>0}xr.sum32=oG;function aG(t,e,r){return t+e+r>>>0}xr.sum32_3=aG;function lG(t,e,r,n){return t+e+r+n>>>0}xr.sum32_4=lG;function cG(t,e,r,n,s){return t+e+r+n+s>>>0}xr.sum32_5=cG;function uG(t,e,r,n){var s=t[e],i=t[e+1],o=n+i>>>0,l=(o<n?1:0)+r+s;t[e]=l>>>0,t[e+1]=o}xr.sum64=uG;function fG(t,e,r,n){var s=e+n>>>0,i=(s<e?1:0)+t+r;return i>>>0}xr.sum64_hi=fG;function hG(t,e,r,n){var s=e+n;return s>>>0}xr.sum64_lo=hG;function dG(t,e,r,n,s,i,o,l){var u=0,d=e;d=d+n>>>0,u+=d<e?1:0,d=d+i>>>0,u+=d<i?1:0,d=d+l>>>0,u+=d<l?1:0;var p=t+r+s+o+u;return p>>>0}xr.sum64_4_hi=dG;function pG(t,e,r,n,s,i,o,l){var u=e+n+i+l;return u>>>0}xr.sum64_4_lo=pG;function gG(t,e,r,n,s,i,o,l,u,d){var p=0,v=e;v=v+n>>>0,p+=v<e?1:0,v=v+i>>>0,p+=v<i?1:0,v=v+l>>>0,p+=v<l?1:0,v=v+d>>>0,p+=v<d?1:0;var b=t+r+s+o+u+p;return b>>>0}xr.sum64_5_hi=gG;function mG(t,e,r,n,s,i,o,l,u,d){var p=e+n+i+l+d;return p>>>0}xr.sum64_5_lo=mG;function yG(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}xr.rotr64_hi=yG;function vG(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}xr.rotr64_lo=vG;function wG(t,e,r){return t>>>r}xr.shr64_hi=wG;function bG(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}xr.shr64_lo=bG;var ed={},xM=xr,xG=Mo;function gv(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ed.BlockHash=gv;gv.prototype.update=function(e,r){if(e=xM.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=xM.join32(e,0,e.length-n,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this};gv.prototype.digest=function(e){return this.update(this._pad()),xG(this.pending===null),this._digest(e)};gv.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,s=new Array(n+this.padLength);s[0]=128;for(var i=1;i<n;i++)s[i]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=e>>>24&255,s[i++]=e>>>16&255,s[i++]=e>>>8&255,s[i++]=e&255}else for(s[i++]=e&255,s[i++]=e>>>8&255,s[i++]=e>>>16&255,s[i++]=e>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,o=8;o<this.padLength;o++)s[i++]=0;return s};var td={},Ha={},_G=xr,Ra=_G.rotr32;function SG(t,e,r,n){if(t===0)return rB(e,r,n);if(t===1||t===3)return iB(e,r,n);if(t===2)return nB(e,r,n)}Ha.ft_1=SG;function rB(t,e,r){return t&e^~t&r}Ha.ch32=rB;function nB(t,e,r){return t&e^t&r^e&r}Ha.maj32=nB;function iB(t,e,r){return t^e^r}Ha.p32=iB;function EG(t){return Ra(t,2)^Ra(t,13)^Ra(t,22)}Ha.s0_256=EG;function MG(t){return Ra(t,6)^Ra(t,11)^Ra(t,25)}Ha.s1_256=MG;function AG(t){return Ra(t,7)^Ra(t,18)^t>>>3}Ha.g0_256=AG;function kG(t){return Ra(t,17)^Ra(t,19)^t>>>10}Ha.g1_256=kG;var Sh=xr,IG=ed,RG=Ha,fb=Sh.rotl32,Dd=Sh.sum32,CG=Sh.sum32_5,TG=RG.ft_1,sB=IG.BlockHash,PG=[1518500249,1859775393,2400959708,3395469782];function La(){if(!(this instanceof La))return new La;sB.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Sh.inherits(La,sB);var OG=La;La.blockSize=512;La.outSize=160;La.hmacStrength=80;La.padLength=64;La.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=fb(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],u=this.h[3],d=this.h[4];for(s=0;s<n.length;s++){var p=~~(s/20),v=CG(fb(i,5),TG(p,o,l,u),d,n[s],PG[p]);d=u,u=l,l=fb(o,30),o=i,i=v}this.h[0]=Dd(this.h[0],i),this.h[1]=Dd(this.h[1],o),this.h[2]=Dd(this.h[2],l),this.h[3]=Dd(this.h[3],u),this.h[4]=Dd(this.h[4],d)};La.prototype._digest=function(e){return e==="hex"?Sh.toHex32(this.h,"big"):Sh.split32(this.h,"big")};var Eh=xr,NG=ed,rd=Ha,BG=Mo,To=Eh.sum32,LG=Eh.sum32_4,DG=Eh.sum32_5,$G=rd.ch32,UG=rd.maj32,FG=rd.s0_256,jG=rd.s1_256,qG=rd.g0_256,zG=rd.g1_256,oB=NG.BlockHash,HG=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Da(){if(!(this instanceof Da))return new Da;oB.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=HG,this.W=new Array(64)}Eh.inherits(Da,oB);var aB=Da;Da.blockSize=512;Da.outSize=256;Da.hmacStrength=192;Da.padLength=64;Da.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=LG(zG(n[s-2]),n[s-7],qG(n[s-15]),n[s-16]);var i=this.h[0],o=this.h[1],l=this.h[2],u=this.h[3],d=this.h[4],p=this.h[5],v=this.h[6],b=this.h[7];for(BG(this.k.length===n.length),s=0;s<n.length;s++){var _=DG(b,jG(d),$G(d,p,v),this.k[s],n[s]),M=To(FG(i),UG(i,o,l));b=v,v=p,p=d,d=To(u,_),u=l,l=o,o=i,i=To(_,M)}this.h[0]=To(this.h[0],i),this.h[1]=To(this.h[1],o),this.h[2]=To(this.h[2],l),this.h[3]=To(this.h[3],u),this.h[4]=To(this.h[4],d),this.h[5]=To(this.h[5],p),this.h[6]=To(this.h[6],v),this.h[7]=To(this.h[7],b)};Da.prototype._digest=function(e){return e==="hex"?Eh.toHex32(this.h,"big"):Eh.split32(this.h,"big")};var f6=xr,lB=aB;function Pl(){if(!(this instanceof Pl))return new Pl;lB.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}f6.inherits(Pl,lB);var KG=Pl;Pl.blockSize=512;Pl.outSize=224;Pl.hmacStrength=192;Pl.padLength=64;Pl.prototype._digest=function(e){return e==="hex"?f6.toHex32(this.h.slice(0,7),"big"):f6.split32(this.h.slice(0,7),"big")};var Is=xr,WG=ed,VG=Mo,Ca=Is.rotr64_hi,Ta=Is.rotr64_lo,cB=Is.shr64_hi,uB=Is.shr64_lo,Wl=Is.sum64,hb=Is.sum64_hi,db=Is.sum64_lo,GG=Is.sum64_4_hi,YG=Is.sum64_4_lo,ZG=Is.sum64_5_hi,JG=Is.sum64_5_lo,fB=WG.BlockHash,XG=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Zo(){if(!(this instanceof Zo))return new Zo;fB.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=XG,this.W=new Array(160)}Is.inherits(Zo,fB);var hB=Zo;Zo.blockSize=1024;Zo.outSize=512;Zo.hmacStrength=192;Zo.padLength=128;Zo.prototype._prepareBlock=function(e,r){for(var n=this.W,s=0;s<32;s++)n[s]=e[r+s];for(;s<n.length;s+=2){var i=cY(n[s-4],n[s-3]),o=uY(n[s-4],n[s-3]),l=n[s-14],u=n[s-13],d=aY(n[s-30],n[s-29]),p=lY(n[s-30],n[s-29]),v=n[s-32],b=n[s-31];n[s]=GG(i,o,l,u,d,p,v,b),n[s+1]=YG(i,o,l,u,d,p,v,b)}};Zo.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,s=this.h[0],i=this.h[1],o=this.h[2],l=this.h[3],u=this.h[4],d=this.h[5],p=this.h[6],v=this.h[7],b=this.h[8],_=this.h[9],M=this.h[10],A=this.h[11],I=this.h[12],k=this.h[13],R=this.h[14],C=this.h[15];VG(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var N=R,U=C,q=sY(b,_),F=oY(b,_),L=QG(b,_,M,A,I),ie=eY(b,_,M,A,I,k),E=this.k[P],a=this.k[P+1],f=n[P],h=n[P+1],g=ZG(N,U,q,F,L,ie,E,a,f,h),y=JG(N,U,q,F,L,ie,E,a,f,h);N=nY(s,i),U=iY(s,i),q=tY(s,i,o,l,u),F=rY(s,i,o,l,u,d);var x=hb(N,U,q,F),S=db(N,U,q,F);R=I,C=k,I=M,k=A,M=b,A=_,b=hb(p,v,g,y),_=db(v,v,g,y),p=u,v=d,u=o,d=l,o=s,l=i,s=hb(g,y,x,S),i=db(g,y,x,S)}Wl(this.h,0,s,i),Wl(this.h,2,o,l),Wl(this.h,4,u,d),Wl(this.h,6,p,v),Wl(this.h,8,b,_),Wl(this.h,10,M,A),Wl(this.h,12,I,k),Wl(this.h,14,R,C)};Zo.prototype._digest=function(e){return e==="hex"?Is.toHex32(this.h,"big"):Is.split32(this.h,"big")};function QG(t,e,r,n,s){var i=t&r^~t&s;return i<0&&(i+=4294967296),i}function eY(t,e,r,n,s,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function tY(t,e,r,n,s){var i=t&r^t&s^r&s;return i<0&&(i+=4294967296),i}function rY(t,e,r,n,s,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function nY(t,e){var r=Ca(t,e,28),n=Ca(e,t,2),s=Ca(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function iY(t,e){var r=Ta(t,e,28),n=Ta(e,t,2),s=Ta(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function sY(t,e){var r=Ca(t,e,14),n=Ca(t,e,18),s=Ca(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function oY(t,e){var r=Ta(t,e,14),n=Ta(t,e,18),s=Ta(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function aY(t,e){var r=Ca(t,e,1),n=Ca(t,e,8),s=cB(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function lY(t,e){var r=Ta(t,e,1),n=Ta(t,e,8),s=uB(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function cY(t,e){var r=Ca(t,e,19),n=Ca(e,t,29),s=cB(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}function uY(t,e){var r=Ta(t,e,19),n=Ta(e,t,29),s=uB(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}var h6=xr,dB=hB;function Ol(){if(!(this instanceof Ol))return new Ol;dB.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}h6.inherits(Ol,dB);var fY=Ol;Ol.blockSize=1024;Ol.outSize=384;Ol.hmacStrength=192;Ol.padLength=128;Ol.prototype._digest=function(e){return e==="hex"?h6.toHex32(this.h.slice(0,12),"big"):h6.split32(this.h.slice(0,12),"big")};td.sha1=OG;td.sha224=KG;td.sha256=aB;td.sha384=fY;td.sha512=hB;var pB={},Hu=xr,hY=ed,Vg=Hu.rotl32,_M=Hu.sum32,$d=Hu.sum32_3,SM=Hu.sum32_4,gB=hY.BlockHash;function $a(){if(!(this instanceof $a))return new $a;gB.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Hu.inherits($a,gB);pB.ripemd160=$a;$a.blockSize=512;$a.outSize=160;$a.hmacStrength=192;$a.padLength=64;$a.prototype._update=function(e,r){for(var n=this.h[0],s=this.h[1],i=this.h[2],o=this.h[3],l=this.h[4],u=n,d=s,p=i,v=o,b=l,_=0;_<80;_++){var M=_M(Vg(SM(n,EM(_,s,i,o),e[gY[_]+r],dY(_)),yY[_]),l);n=l,l=o,o=Vg(i,10),i=s,s=M,M=_M(Vg(SM(u,EM(79-_,d,p,v),e[mY[_]+r],pY(_)),vY[_]),b),u=b,b=v,v=Vg(p,10),p=d,d=M}M=$d(this.h[1],i,v),this.h[1]=$d(this.h[2],o,b),this.h[2]=$d(this.h[3],l,u),this.h[3]=$d(this.h[4],n,d),this.h[4]=$d(this.h[0],s,p),this.h[0]=M};$a.prototype._digest=function(e){return e==="hex"?Hu.toHex32(this.h,"little"):Hu.split32(this.h,"little")};function EM(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function dY(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function pY(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var gY=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],mY=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],yY=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],vY=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],wY=xr,bY=Mo;function Mh(t,e,r){if(!(this instanceof Mh))return new Mh(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(wY.toArray(e,r))}var xY=Mh;Mh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),bY(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Mh.prototype.update=function(e,r){return this.inner.update(e,r),this};Mh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=xr,e.common=ed,e.sha=td,e.ripemd=pB,e.hmac=xY,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(pv);var _Y=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,r);if(l.value!==s||l.enumerable!==!0)return!1}return!0},mB=Object,SY=Error,EY=EvalError,MY=RangeError,AY=ReferenceError,yB=SyntaxError,mv=TypeError,kY=URIError,IY=Math.abs,RY=Math.floor,CY=Math.max,TY=Math.min,PY=Math.pow,OY=Math.round,NY=Number.isNaN||function(e){return e!==e},BY=NY,LY=function(e){return BY(e)||e===0?e:e<0?-1:1},DY=Object.getOwnPropertyDescriptor,r1=DY;if(r1)try{r1([],"length")}catch{r1=null}var yv=r1,n1=Object.defineProperty||!1;if(n1)try{n1({},"a",{value:1})}catch{n1=!1}var vv=n1,pb,MM;function $Y(){if(MM)return pb;MM=1;var t=typeof Symbol<"u"&&Symbol,e=_Y;return pb=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},pb}var gb,AM;function vB(){return AM||(AM=1,gb=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),gb}var mb,kM;function wB(){if(kM)return mb;kM=1;var t=mB;return mb=t.getPrototypeOf||null,mb}var UY="Function.prototype.bind called on incompatible ",FY=Object.prototype.toString,jY=Math.max,qY="[object Function]",IM=function(e,r){for(var n=[],s=0;s<e.length;s+=1)n[s]=e[s];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},zY=function(e,r){for(var n=[],s=r,i=0;s<e.length;s+=1,i+=1)n[i]=e[s];return n},HY=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},KY=function(e){var r=this;if(typeof r!="function"||FY.apply(r)!==qY)throw new TypeError(UY+r);for(var n=zY(arguments,1),s,i=function(){if(this instanceof s){var p=r.apply(this,IM(n,arguments));return Object(p)===p?p:this}return r.apply(e,IM(n,arguments))},o=jY(0,r.length-n.length),l=[],u=0;u<o;u++)l[u]="$"+u;if(s=Function("binder","return function ("+HY(l,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var d=function(){};d.prototype=r.prototype,s.prototype=new d,d.prototype=null}return s},WY=KY,Hp=Function.prototype.bind||WY,eE=Function.prototype.call,tE=Function.prototype.apply,VY=typeof Reflect<"u"&&Reflect&&Reflect.apply,GY=Hp,YY=tE,ZY=eE,JY=VY,bB=JY||GY.call(ZY,YY),XY=Hp,QY=mv,eZ=eE,tZ=bB,rE=function(e){if(e.length<1||typeof e[0]!="function")throw new QY("a function is required");return tZ(XY,eZ,e)},yb,RM;function rZ(){if(RM)return yb;RM=1;var t=rE,e=yv,r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,i=s.getPrototypeOf;return yb=n&&typeof n.get=="function"?t([n.get]):typeof i=="function"?function(l){return i(l==null?l:s(l))}:!1,yb}var vb,CM;function nZ(){if(CM)return vb;CM=1;var t=vB(),e=wB(),r=rZ();return vb=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:r?function(s){return r(s)}:null,vb}var wb,TM;function iZ(){if(TM)return wb;TM=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Hp;return wb=r.call(t,e),wb}var wr,sZ=mB,oZ=SY,aZ=EY,lZ=MY,cZ=AY,Ah=yB,lh=mv,uZ=kY,fZ=IY,hZ=RY,dZ=CY,pZ=TY,gZ=PY,mZ=OY,yZ=LY,xB=Function,bb=function(t){try{return xB('"use strict"; return ('+t+").constructor;")()}catch{}},ap=yv,vZ=vv,xb=function(){throw new lh},wZ=ap?function(){try{return arguments.callee,xb}catch{try{return ap(arguments,"callee").get}catch{return xb}}}():xb,yf=$Y()(),ii=nZ(),bZ=wB(),xZ=vB(),_B=tE,Kp=eE,Nf={},_Z=typeof Uint8Array>"u"||!ii?wr:ii(Uint8Array),Cu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?wr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?wr:ArrayBuffer,"%ArrayIteratorPrototype%":yf&&ii?ii([][Symbol.iterator]()):wr,"%AsyncFromSyncIteratorPrototype%":wr,"%AsyncFunction%":Nf,"%AsyncGenerator%":Nf,"%AsyncGeneratorFunction%":Nf,"%AsyncIteratorPrototype%":Nf,"%Atomics%":typeof Atomics>"u"?wr:Atomics,"%BigInt%":typeof BigInt>"u"?wr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?wr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?wr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?wr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":oZ,"%eval%":eval,"%EvalError%":aZ,"%Float16Array%":typeof Float16Array>"u"?wr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?wr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?wr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?wr:FinalizationRegistry,"%Function%":xB,"%GeneratorFunction%":Nf,"%Int8Array%":typeof Int8Array>"u"?wr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?wr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?wr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":yf&&ii?ii(ii([][Symbol.iterator]())):wr,"%JSON%":typeof JSON=="object"?JSON:wr,"%Map%":typeof Map>"u"?wr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!yf||!ii?wr:ii(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":sZ,"%Object.getOwnPropertyDescriptor%":ap,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?wr:Promise,"%Proxy%":typeof Proxy>"u"?wr:Proxy,"%RangeError%":lZ,"%ReferenceError%":cZ,"%Reflect%":typeof Reflect>"u"?wr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?wr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!yf||!ii?wr:ii(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?wr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":yf&&ii?ii(""[Symbol.iterator]()):wr,"%Symbol%":yf?Symbol:wr,"%SyntaxError%":Ah,"%ThrowTypeError%":wZ,"%TypedArray%":_Z,"%TypeError%":lh,"%Uint8Array%":typeof Uint8Array>"u"?wr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?wr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?wr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?wr:Uint32Array,"%URIError%":uZ,"%WeakMap%":typeof WeakMap>"u"?wr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?wr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?wr:WeakSet,"%Function.prototype.call%":Kp,"%Function.prototype.apply%":_B,"%Object.defineProperty%":vZ,"%Object.getPrototypeOf%":bZ,"%Math.abs%":fZ,"%Math.floor%":hZ,"%Math.max%":dZ,"%Math.min%":pZ,"%Math.pow%":gZ,"%Math.round%":mZ,"%Math.sign%":yZ,"%Reflect.getPrototypeOf%":xZ};if(ii)try{null.error}catch(t){var SZ=ii(ii(t));Cu["%Error.prototype%"]=SZ}var EZ=function t(e){var r;if(e==="%AsyncFunction%")r=bb("async function () {}");else if(e==="%GeneratorFunction%")r=bb("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bb("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&ii&&(r=ii(s.prototype))}return Cu[e]=r,r},PM={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wp=Hp,ly=iZ(),MZ=Wp.call(Kp,Array.prototype.concat),AZ=Wp.call(_B,Array.prototype.splice),OM=Wp.call(Kp,String.prototype.replace),cy=Wp.call(Kp,String.prototype.slice),kZ=Wp.call(Kp,RegExp.prototype.exec),IZ=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,RZ=/\\(\\)?/g,CZ=function(e){var r=cy(e,0,1),n=cy(e,-1);if(r==="%"&&n!=="%")throw new Ah("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ah("invalid intrinsic syntax, expected opening `%`");var s=[];return OM(e,IZ,function(i,o,l,u){s[s.length]=l?OM(u,RZ,"$1"):o||i}),s},TZ=function(e,r){var n=e,s;if(ly(PM,n)&&(s=PM[n],n="%"+s[0]+"%"),ly(Cu,n)){var i=Cu[n];if(i===Nf&&(i=EZ(n)),typeof i>"u"&&!r)throw new lh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:n,value:i}}throw new Ah("intrinsic "+e+" does not exist!")},SB=function(e,r){if(typeof e!="string"||e.length===0)throw new lh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new lh('"allowMissing" argument must be a boolean');if(kZ(/^%?[^%]*%?$/,e)===null)throw new Ah("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=CZ(e),s=n.length>0?n[0]:"",i=TZ("%"+s+"%",r),o=i.name,l=i.value,u=!1,d=i.alias;d&&(s=d[0],AZ(n,MZ([0,1],d)));for(var p=1,v=!0;p<n.length;p+=1){var b=n[p],_=cy(b,0,1),M=cy(b,-1);if((_==='"'||_==="'"||_==="`"||M==='"'||M==="'"||M==="`")&&_!==M)throw new Ah("property names with quotes must have matching quotes");if((b==="constructor"||!v)&&(u=!0),s+="."+b,o="%"+s+"%",ly(Cu,o))l=Cu[o];else if(l!=null){if(!(b in l)){if(!r)throw new lh("base intrinsic for "+e+" exists, but the property is not available.");return}if(ap&&p+1>=n.length){var A=ap(l,b);v=!!A,v&&"get"in A&&!("originalValue"in A.get)?l=A.get:l=l[b]}else v=ly(l,b),l=l[b];v&&!u&&(Cu[o]=l)}}return l},EB=SB,MB=rE,PZ=MB([EB("%String.prototype.indexOf%")]),OZ=function(e,r){var n=EB(e,!!r);return typeof n=="function"&&PZ(e,".prototype.")>-1?MB([n]):n},AB={exports:{}},NM=vv,NZ=yB,vf=mv,BM=yv,BZ=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new vf("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new vf("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new vf("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new vf("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new vf("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new vf("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,u=!!BM&&BM(e,r);if(NM)NM(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:s===null&&u?u.enumerable:!s,value:n,writable:i===null&&u?u.writable:!i});else if(l||!s&&!i&&!o)e[r]=n;else throw new NZ("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},d6=vv,kB=function(){return!!d6};kB.hasArrayLengthDefineBug=function(){if(!d6)return null;try{return d6([],"length",{value:1}).length!==1}catch{return!0}};var LZ=kB,DZ=SB,LM=BZ,$Z=LZ(),DM=yv,$M=mv,UZ=DZ("%Math.floor%"),FZ=function(e,r){if(typeof e!="function")throw new $M("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||UZ(r)!==r)throw new $M("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],s=!0,i=!0;if("length"in e&&DM){var o=DM(e,"length");o&&!o.configurable&&(s=!1),o&&!o.writable&&(i=!1)}return(s||i||!n)&&($Z?LM(e,"length",r,!0,!0):LM(e,"length",r)),e},jZ=Hp,qZ=tE,zZ=bB,HZ=function(){return zZ(jZ,qZ,arguments)};(function(t){var e=FZ,r=vv,n=rE,s=HZ;t.exports=function(o){var l=n(arguments),u=o.length-(arguments.length-1);return e(l,1+(u>0?u:0),!0)},r?r(t.exports,"apply",{value:s}):t.exports.apply=s})(AB);var KZ=AB.exports,UM=Object.prototype.toString,IB=function(e){var r=UM.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&UM.call(e.callee)==="[object Function]"),n},_b,FM;function WZ(){if(FM)return _b;FM=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=IB,s=Object.prototype.propertyIsEnumerable,i=!s.call({toString:null},"toString"),o=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(b){var _=b.constructor;return _&&_.prototype===b},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var b in window)try{if(!d["$"+b]&&e.call(window,b)&&window[b]!==null&&typeof window[b]=="object")try{u(window[b])}catch{return!0}}catch{return!0}return!1}(),v=function(b){if(typeof window>"u"||!p)return u(b);try{return u(b)}catch{return!1}};t=function(_){var M=_!==null&&typeof _=="object",A=r.call(_)==="[object Function]",I=n(_),k=M&&r.call(_)==="[object String]",R=[];if(!M&&!A&&!I)throw new TypeError("Object.keys called on a non-object");var C=o&&A;if(k&&_.length>0&&!e.call(_,0))for(var P=0;P<_.length;++P)R.push(String(P));if(I&&_.length>0)for(var N=0;N<_.length;++N)R.push(String(N));else for(var U in _)!(C&&U==="prototype")&&e.call(_,U)&&R.push(String(U));if(i)for(var q=v(_),F=0;F<l.length;++F)!(q&&l[F]==="constructor")&&e.call(_,l[F])&&R.push(l[F]);return R}}return _b=t,_b}var VZ=Array.prototype.slice,GZ=IB,jM=Object.keys,i1=jM?function(e){return jM(e)}:WZ(),qM=Object.keys;i1.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return GZ(n)?qM(VZ.call(n)):qM(n)})}else Object.keys=i1;return Object.keys||i1};var YZ=i1,Sb={};const ZZ="6.6.1",JZ={version:ZZ};var Eb={},s1={exports:{}};s1.exports;var zM;function Ul(){return zM||(zM=1,function(t){(function(e,r){function n(E,a){if(!E)throw new Error(a||"Assertion failed")}function s(E,a){E.super_=a;var f=function(){};f.prototype=a.prototype,E.prototype=new f,E.prototype.constructor=E}function i(E,a,f){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(E||0,a||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Eo.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,h){if(typeof a=="number")return this._initNumber(a,f,h);if(typeof a=="object")return this._initArray(a,f,h);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(f===16?this._parseHex(a,g,h):(this._parseBase(a,f,g),h==="le"&&this._initArray(this.toArray(),f,h)))},i.prototype._initNumber=function(a,f,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),f,h)},i.prototype._initArray=function(a,f,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x,S=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)x=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)x=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);return this.strip()};function l(E,a){var f=E.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(E,a,f){var h=l(E,f);return f-1>=a&&(h|=l(E,f-1)<<4),h}i.prototype._parseHex=function(a,f,h){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,x=0,S;if(h==="be")for(g=a.length-1;g>=f;g-=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8;else{var m=a.length-f;for(g=m%2===0?f+1:f;g<a.length;g+=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8}this.strip()};function d(E,a,f,h){for(var g=0,y=Math.min(E.length,f),x=a;x<y;x++){var S=E.charCodeAt(x)-48;g*=h,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}i.prototype._parseBase=function(a,f,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=f)g++;g--,y=y/f|0;for(var x=a.length-h,S=x%g,m=Math.min(x,x-S)+h,c=0,w=h;w<m;w+=g)c=d(a,w,w+g,f),this.imuln(y),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(S!==0){var T=1;for(c=d(a,w,a.length,f),w=0;w<S;w++)T*=f;this.imuln(T),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,x=0;x<this.length;x++){var S=this.words[x],m=((S<<g|y)&16777215).toString(16);y=S>>>24-g&16777215,g+=2,g>=26&&(g-=26,x--),y!==0||x!==this.length-1?h=p[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var c=v[a],w=b[a];h="";var T=this.clone();for(T.negative=0;!T.isZero();){var O=T.modn(w).toString(a);T=T.idivn(w),T.isZero()?h=O+h:h=p[c-O.length]+O+h}for(this.isZero()&&(h="0"+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return n(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,h){var g=this.byteLength(),y=h||Math.max(1,g);n(g<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var x=f==="le",S=new a(y),m,c,w=this.clone();if(x){for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[c]=m;for(;c<y;c++)S[c]=0}else{for(c=0;c<y-g;c++)S[c]=0;for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[y-c-1]=m}return S},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,h=0;return f>=4096&&(h+=13,f>>>=13),f>=64&&(h+=7,f>>>=7),f>=8&&(h+=4,f>>>=4),f>=2&&(h+=2,f>>>=2),h+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,h=0;return f&8191||(h+=13,f>>>=13),f&127||(h+=7,f>>>=7),f&15||(h+=4,f>>>=4),f&3||(h+=2,f>>>=2),f&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function _(E){for(var a=new Array(E.bitLength()),f=0;f<a.length;f++){var h=f/26|0,g=f%26;a[f]=(E.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var h=this._zeroBits(this.words[f]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,h;this.length>a.length?(f=this,h=a):(f=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=f.words[g]^h.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,h=a%26;this._expand(f),h>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),f?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,x=0;x<g.length;x++)f=(h.words[x]|0)+(g.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;for(;y!==0&&x<h.length;x++)f=(h.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var x=0,S=0;S<y.length;S++)f=(g.words[S]|0)-(y.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;for(;x!==0&&S<g.length;S++)f=(g.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;if(x===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function M(E,a,f){f.negative=a.negative^E.negative;var h=E.length+a.length|0;f.length=h,h=h-1|0;var g=E.words[0]|0,y=a.words[0]|0,x=g*y,S=x&67108863,m=x/67108864|0;f.words[0]=S;for(var c=1;c<h;c++){for(var w=m>>>26,T=m&67108863,O=Math.min(c,a.length-1),K=Math.max(0,c-E.length+1);K<=O;K++){var ee=c-K|0;g=E.words[ee]|0,y=a.words[K]|0,x=g*y+T,w+=x/67108864|0,T=x&67108863}f.words[c]=T|0,m=w|0}return m!==0?f.words[c]=m|0:f.length--,f.strip()}var A=function(a,f,h){var g=a.words,y=f.words,x=h.words,S=0,m,c,w,T=g[0]|0,O=T&8191,K=T>>>13,ee=g[1]|0,J=ee&8191,$=ee>>>13,z=g[2]|0,Y=z&8191,te=z>>>13,G=g[3]|0,j=G&8191,W=G>>>13,oe=g[4]|0,ae=oe&8191,he=oe>>>13,Oe=g[5]|0,me=Oe&8191,Ee=Oe>>>13,it=g[6]|0,Se=it&8191,xe=it>>>13,Mt=g[7]|0,Ie=Mt&8191,Ne=Mt>>>13,qt=g[8]|0,Z=qt&8191,B=qt>>>13,H=g[9]|0,ne=H&8191,ce=H>>>13,Me=y[0]|0,de=Me&8191,Ce=Me>>>13,Rt=y[1]|0,ke=Rt&8191,De=Rt>>>13,St=y[2]|0,Be=St&8191,He=St>>>13,Jt=y[3]|0,Ue=Jt&8191,Ke=Jt>>>13,zt=y[4]|0,Le=zt&8191,ze=zt>>>13,le=y[5]|0,se=le&8191,be=le>>>13,Ge=y[6]|0,we=Ge&8191,Fe=Ge>>>13,V=y[7]|0,X=V&8191,Q=V>>>13,D=y[8]|0,re=D&8191,ue=D>>>13,_e=y[9]|0,ge=_e&8191,ve=_e>>>13;h.negative=a.negative^f.negative,h.length=19,m=Math.imul(O,de),c=Math.imul(O,Ce),c=c+Math.imul(K,de)|0,w=Math.imul(K,Ce);var Ze=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,m=Math.imul(J,de),c=Math.imul(J,Ce),c=c+Math.imul($,de)|0,w=Math.imul($,Ce),m=m+Math.imul(O,ke)|0,c=c+Math.imul(O,De)|0,c=c+Math.imul(K,ke)|0,w=w+Math.imul(K,De)|0;var Ye=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,m=Math.imul(Y,de),c=Math.imul(Y,Ce),c=c+Math.imul(te,de)|0,w=Math.imul(te,Ce),m=m+Math.imul(J,ke)|0,c=c+Math.imul(J,De)|0,c=c+Math.imul($,ke)|0,w=w+Math.imul($,De)|0,m=m+Math.imul(O,Be)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(K,Be)|0,w=w+Math.imul(K,He)|0;var Bt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(j,de),c=Math.imul(j,Ce),c=c+Math.imul(W,de)|0,w=Math.imul(W,Ce),m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(te,ke)|0,w=w+Math.imul(te,De)|0,m=m+Math.imul(J,Be)|0,c=c+Math.imul(J,He)|0,c=c+Math.imul($,Be)|0,w=w+Math.imul($,He)|0,m=m+Math.imul(O,Ue)|0,c=c+Math.imul(O,Ke)|0,c=c+Math.imul(K,Ue)|0,w=w+Math.imul(K,Ke)|0;var rt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,m=Math.imul(ae,de),c=Math.imul(ae,Ce),c=c+Math.imul(he,de)|0,w=Math.imul(he,Ce),m=m+Math.imul(j,ke)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(W,ke)|0,w=w+Math.imul(W,De)|0,m=m+Math.imul(Y,Be)|0,c=c+Math.imul(Y,He)|0,c=c+Math.imul(te,Be)|0,w=w+Math.imul(te,He)|0,m=m+Math.imul(J,Ue)|0,c=c+Math.imul(J,Ke)|0,c=c+Math.imul($,Ue)|0,w=w+Math.imul($,Ke)|0,m=m+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(K,Le)|0,w=w+Math.imul(K,ze)|0;var Et=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(me,de),c=Math.imul(me,Ce),c=c+Math.imul(Ee,de)|0,w=Math.imul(Ee,Ce),m=m+Math.imul(ae,ke)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(he,ke)|0,w=w+Math.imul(he,De)|0,m=m+Math.imul(j,Be)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(W,Be)|0,w=w+Math.imul(W,He)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(te,Ue)|0,w=w+Math.imul(te,Ke)|0,m=m+Math.imul(J,Le)|0,c=c+Math.imul(J,ze)|0,c=c+Math.imul($,Le)|0,w=w+Math.imul($,ze)|0,m=m+Math.imul(O,se)|0,c=c+Math.imul(O,be)|0,c=c+Math.imul(K,se)|0,w=w+Math.imul(K,be)|0;var At=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(Se,de),c=Math.imul(Se,Ce),c=c+Math.imul(xe,de)|0,w=Math.imul(xe,Ce),m=m+Math.imul(me,ke)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(Ee,ke)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(ae,Be)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(he,Be)|0,w=w+Math.imul(he,He)|0,m=m+Math.imul(j,Ue)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(W,Ue)|0,w=w+Math.imul(W,Ke)|0,m=m+Math.imul(Y,Le)|0,c=c+Math.imul(Y,ze)|0,c=c+Math.imul(te,Le)|0,w=w+Math.imul(te,ze)|0,m=m+Math.imul(J,se)|0,c=c+Math.imul(J,be)|0,c=c+Math.imul($,se)|0,w=w+Math.imul($,be)|0,m=m+Math.imul(O,we)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(K,we)|0,w=w+Math.imul(K,Fe)|0;var _t=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(Ie,de),c=Math.imul(Ie,Ce),c=c+Math.imul(Ne,de)|0,w=Math.imul(Ne,Ce),m=m+Math.imul(Se,ke)|0,c=c+Math.imul(Se,De)|0,c=c+Math.imul(xe,ke)|0,w=w+Math.imul(xe,De)|0,m=m+Math.imul(me,Be)|0,c=c+Math.imul(me,He)|0,c=c+Math.imul(Ee,Be)|0,w=w+Math.imul(Ee,He)|0,m=m+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Ke)|0,c=c+Math.imul(he,Ue)|0,w=w+Math.imul(he,Ke)|0,m=m+Math.imul(j,Le)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(W,Le)|0,w=w+Math.imul(W,ze)|0,m=m+Math.imul(Y,se)|0,c=c+Math.imul(Y,be)|0,c=c+Math.imul(te,se)|0,w=w+Math.imul(te,be)|0,m=m+Math.imul(J,we)|0,c=c+Math.imul(J,Fe)|0,c=c+Math.imul($,we)|0,w=w+Math.imul($,Fe)|0,m=m+Math.imul(O,X)|0,c=c+Math.imul(O,Q)|0,c=c+Math.imul(K,X)|0,w=w+Math.imul(K,Q)|0;var Ot=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(Z,de),c=Math.imul(Z,Ce),c=c+Math.imul(B,de)|0,w=Math.imul(B,Ce),m=m+Math.imul(Ie,ke)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Ne,ke)|0,w=w+Math.imul(Ne,De)|0,m=m+Math.imul(Se,Be)|0,c=c+Math.imul(Se,He)|0,c=c+Math.imul(xe,Be)|0,w=w+Math.imul(xe,He)|0,m=m+Math.imul(me,Ue)|0,c=c+Math.imul(me,Ke)|0,c=c+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,Ke)|0,m=m+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(he,Le)|0,w=w+Math.imul(he,ze)|0,m=m+Math.imul(j,se)|0,c=c+Math.imul(j,be)|0,c=c+Math.imul(W,se)|0,w=w+Math.imul(W,be)|0,m=m+Math.imul(Y,we)|0,c=c+Math.imul(Y,Fe)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Fe)|0,m=m+Math.imul(J,X)|0,c=c+Math.imul(J,Q)|0,c=c+Math.imul($,X)|0,w=w+Math.imul($,Q)|0,m=m+Math.imul(O,re)|0,c=c+Math.imul(O,ue)|0,c=c+Math.imul(K,re)|0,w=w+Math.imul(K,ue)|0;var kt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(ne,de),c=Math.imul(ne,Ce),c=c+Math.imul(ce,de)|0,w=Math.imul(ce,Ce),m=m+Math.imul(Z,ke)|0,c=c+Math.imul(Z,De)|0,c=c+Math.imul(B,ke)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(Ie,Be)|0,c=c+Math.imul(Ie,He)|0,c=c+Math.imul(Ne,Be)|0,w=w+Math.imul(Ne,He)|0,m=m+Math.imul(Se,Ue)|0,c=c+Math.imul(Se,Ke)|0,c=c+Math.imul(xe,Ue)|0,w=w+Math.imul(xe,Ke)|0,m=m+Math.imul(me,Le)|0,c=c+Math.imul(me,ze)|0,c=c+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(ae,se)|0,c=c+Math.imul(ae,be)|0,c=c+Math.imul(he,se)|0,w=w+Math.imul(he,be)|0,m=m+Math.imul(j,we)|0,c=c+Math.imul(j,Fe)|0,c=c+Math.imul(W,we)|0,w=w+Math.imul(W,Fe)|0,m=m+Math.imul(Y,X)|0,c=c+Math.imul(Y,Q)|0,c=c+Math.imul(te,X)|0,w=w+Math.imul(te,Q)|0,m=m+Math.imul(J,re)|0,c=c+Math.imul(J,ue)|0,c=c+Math.imul($,re)|0,w=w+Math.imul($,ue)|0,m=m+Math.imul(O,ge)|0,c=c+Math.imul(O,ve)|0,c=c+Math.imul(K,ge)|0,w=w+Math.imul(K,ve)|0;var Ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ne,ke),c=Math.imul(ne,De),c=c+Math.imul(ce,ke)|0,w=Math.imul(ce,De),m=m+Math.imul(Z,Be)|0,c=c+Math.imul(Z,He)|0,c=c+Math.imul(B,Be)|0,w=w+Math.imul(B,He)|0,m=m+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Ke)|0,c=c+Math.imul(Ne,Ue)|0,w=w+Math.imul(Ne,Ke)|0,m=m+Math.imul(Se,Le)|0,c=c+Math.imul(Se,ze)|0,c=c+Math.imul(xe,Le)|0,w=w+Math.imul(xe,ze)|0,m=m+Math.imul(me,se)|0,c=c+Math.imul(me,be)|0,c=c+Math.imul(Ee,se)|0,w=w+Math.imul(Ee,be)|0,m=m+Math.imul(ae,we)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(he,we)|0,w=w+Math.imul(he,Fe)|0,m=m+Math.imul(j,X)|0,c=c+Math.imul(j,Q)|0,c=c+Math.imul(W,X)|0,w=w+Math.imul(W,Q)|0,m=m+Math.imul(Y,re)|0,c=c+Math.imul(Y,ue)|0,c=c+Math.imul(te,re)|0,w=w+Math.imul(te,ue)|0,m=m+Math.imul(J,ge)|0,c=c+Math.imul(J,ve)|0,c=c+Math.imul($,ge)|0,w=w+Math.imul($,ve)|0;var It=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(ne,Be),c=Math.imul(ne,He),c=c+Math.imul(ce,Be)|0,w=Math.imul(ce,He),m=m+Math.imul(Z,Ue)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(B,Ue)|0,w=w+Math.imul(B,Ke)|0,m=m+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,ze)|0,m=m+Math.imul(Se,se)|0,c=c+Math.imul(Se,be)|0,c=c+Math.imul(xe,se)|0,w=w+Math.imul(xe,be)|0,m=m+Math.imul(me,we)|0,c=c+Math.imul(me,Fe)|0,c=c+Math.imul(Ee,we)|0,w=w+Math.imul(Ee,Fe)|0,m=m+Math.imul(ae,X)|0,c=c+Math.imul(ae,Q)|0,c=c+Math.imul(he,X)|0,w=w+Math.imul(he,Q)|0,m=m+Math.imul(j,re)|0,c=c+Math.imul(j,ue)|0,c=c+Math.imul(W,re)|0,w=w+Math.imul(W,ue)|0,m=m+Math.imul(Y,ge)|0,c=c+Math.imul(Y,ve)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,ve)|0;var ft=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(ne,Ue),c=Math.imul(ne,Ke),c=c+Math.imul(ce,Ue)|0,w=Math.imul(ce,Ke),m=m+Math.imul(Z,Le)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(B,Le)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(Ie,se)|0,c=c+Math.imul(Ie,be)|0,c=c+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,be)|0,m=m+Math.imul(Se,we)|0,c=c+Math.imul(Se,Fe)|0,c=c+Math.imul(xe,we)|0,w=w+Math.imul(xe,Fe)|0,m=m+Math.imul(me,X)|0,c=c+Math.imul(me,Q)|0,c=c+Math.imul(Ee,X)|0,w=w+Math.imul(Ee,Q)|0,m=m+Math.imul(ae,re)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(he,re)|0,w=w+Math.imul(he,ue)|0,m=m+Math.imul(j,ge)|0,c=c+Math.imul(j,ve)|0,c=c+Math.imul(W,ge)|0,w=w+Math.imul(W,ve)|0;var pt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(ne,Le),c=Math.imul(ne,ze),c=c+Math.imul(ce,Le)|0,w=Math.imul(ce,ze),m=m+Math.imul(Z,se)|0,c=c+Math.imul(Z,be)|0,c=c+Math.imul(B,se)|0,w=w+Math.imul(B,be)|0,m=m+Math.imul(Ie,we)|0,c=c+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ne,we)|0,w=w+Math.imul(Ne,Fe)|0,m=m+Math.imul(Se,X)|0,c=c+Math.imul(Se,Q)|0,c=c+Math.imul(xe,X)|0,w=w+Math.imul(xe,Q)|0,m=m+Math.imul(me,re)|0,c=c+Math.imul(me,ue)|0,c=c+Math.imul(Ee,re)|0,w=w+Math.imul(Ee,ue)|0,m=m+Math.imul(ae,ge)|0,c=c+Math.imul(ae,ve)|0,c=c+Math.imul(he,ge)|0,w=w+Math.imul(he,ve)|0;var at=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(ne,se),c=Math.imul(ne,be),c=c+Math.imul(ce,se)|0,w=Math.imul(ce,be),m=m+Math.imul(Z,we)|0,c=c+Math.imul(Z,Fe)|0,c=c+Math.imul(B,we)|0,w=w+Math.imul(B,Fe)|0,m=m+Math.imul(Ie,X)|0,c=c+Math.imul(Ie,Q)|0,c=c+Math.imul(Ne,X)|0,w=w+Math.imul(Ne,Q)|0,m=m+Math.imul(Se,re)|0,c=c+Math.imul(Se,ue)|0,c=c+Math.imul(xe,re)|0,w=w+Math.imul(xe,ue)|0,m=m+Math.imul(me,ge)|0,c=c+Math.imul(me,ve)|0,c=c+Math.imul(Ee,ge)|0,w=w+Math.imul(Ee,ve)|0;var ht=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(ne,we),c=Math.imul(ne,Fe),c=c+Math.imul(ce,we)|0,w=Math.imul(ce,Fe),m=m+Math.imul(Z,X)|0,c=c+Math.imul(Z,Q)|0,c=c+Math.imul(B,X)|0,w=w+Math.imul(B,Q)|0,m=m+Math.imul(Ie,re)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(Ne,re)|0,w=w+Math.imul(Ne,ue)|0,m=m+Math.imul(Se,ge)|0,c=c+Math.imul(Se,ve)|0,c=c+Math.imul(xe,ge)|0,w=w+Math.imul(xe,ve)|0;var ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(ne,X),c=Math.imul(ne,Q),c=c+Math.imul(ce,X)|0,w=Math.imul(ce,Q),m=m+Math.imul(Z,re)|0,c=c+Math.imul(Z,ue)|0,c=c+Math.imul(B,re)|0,w=w+Math.imul(B,ue)|0,m=m+Math.imul(Ie,ge)|0,c=c+Math.imul(Ie,ve)|0,c=c+Math.imul(Ne,ge)|0,w=w+Math.imul(Ne,ve)|0;var st=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,m=Math.imul(ne,re),c=Math.imul(ne,ue),c=c+Math.imul(ce,re)|0,w=Math.imul(ce,ue),m=m+Math.imul(Z,ge)|0,c=c+Math.imul(Z,ve)|0,c=c+Math.imul(B,ge)|0,w=w+Math.imul(B,ve)|0;var Te=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(ne,ge),c=Math.imul(ne,ve),c=c+Math.imul(ce,ge)|0,w=Math.imul(ce,ve);var Pe=(S+m|0)+((c&8191)<<13)|0;return S=(w+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,x[0]=Ze,x[1]=Ye,x[2]=Bt,x[3]=rt,x[4]=Et,x[5]=At,x[6]=_t,x[7]=Ot,x[8]=kt,x[9]=Ct,x[10]=It,x[11]=ft,x[12]=pt,x[13]=at,x[14]=ht,x[15]=ct,x[16]=st,x[17]=Te,x[18]=Pe,S!==0&&(x[19]=S,h.length++),h};Math.imul||(A=M);function I(E,a,f){f.negative=a.negative^E.negative,f.length=E.length+a.length;for(var h=0,g=0,y=0;y<f.length-1;y++){var x=g;g=0;for(var S=h&67108863,m=Math.min(y,a.length-1),c=Math.max(0,y-E.length+1);c<=m;c++){var w=y-c,T=E.words[w]|0,O=a.words[c]|0,K=T*O,ee=K&67108863;x=x+(K/67108864|0)|0,ee=ee+S|0,S=ee&67108863,x=x+(ee>>>26)|0,g+=x>>>26,x&=67108863}f.words[y]=S,h=x,x=g}return h!==0?f.words[y]=h:f.length--,f.strip()}function k(E,a,f){var h=new R;return h.mulp(E,a,f)}i.prototype.mulTo=function(a,f){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=A(this,a,f):g<63?h=M(this,a,f):g<1024?h=I(this,a,f):h=k(this,a,f),h};function R(E,a){this.x=E,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,h,a);return f},R.prototype.revBin=function(a,f,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<f;y++)g|=(a&1)<<f-y-1,a>>=1;return g},R.prototype.permute=function(a,f,h,g,y,x){for(var S=0;S<x;S++)g[S]=f[a[S]],y[S]=h[a[S]]},R.prototype.transform=function(a,f,h,g,y,x){this.permute(x,a,f,h,g,y);for(var S=1;S<y;S<<=1)for(var m=S<<1,c=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),T=0;T<y;T+=m)for(var O=c,K=w,ee=0;ee<S;ee++){var J=h[T+ee],$=g[T+ee],z=h[T+ee+S],Y=g[T+ee+S],te=O*z-K*Y;Y=O*Y+K*z,z=te,h[T+ee]=J+z,g[T+ee]=$+Y,h[T+ee+S]=J-z,g[T+ee+S]=$-Y,ee!==m&&(te=c*O-w*K,K=c*K+w*O,O=te)}},R.prototype.guessLen13b=function(a,f){var h=Math.max(f,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},R.prototype.conjugate=function(a,f,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=f[g],f[g]=-f[h-g-1],f[h-g-1]=-y}},R.prototype.normalize13b=function(a,f){for(var h=0,g=0;g<f/2;g++){var y=Math.round(a[2*g+1]/f)*8192+Math.round(a[2*g]/f)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},R.prototype.convert13b=function(a,f,h,g){for(var y=0,x=0;x<f;x++)y=y+(a[x]|0),h[2*x]=y&8191,y=y>>>13,h[2*x+1]=y&8191,y=y>>>13;for(x=2*f;x<g;++x)h[x]=0;n(y===0),n((y&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),h=0;h<a;h++)f[h]=0;return f},R.prototype.mulp=function(a,f,h){var g=2*this.guessLen13b(a.length,f.length),y=this.makeRBT(g),x=this.stub(g),S=new Array(g),m=new Array(g),c=new Array(g),w=new Array(g),T=new Array(g),O=new Array(g),K=h.words;K.length=g,this.convert13b(a.words,a.length,S,g),this.convert13b(f.words,f.length,w,g),this.transform(S,x,m,c,g,y),this.transform(w,x,T,O,g,y);for(var ee=0;ee<g;ee++){var J=m[ee]*T[ee]-c[ee]*O[ee];c[ee]=m[ee]*O[ee]+c[ee]*T[ee],m[ee]=J}return this.conjugate(m,c,g),this.transform(m,c,K,x,g,y),this.conjugate(K,x,g),this.normalize13b(K,g),h.negative=a.negative^f.negative,h.length=a.length+f.length,h.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),k(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var f=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=y>>>26,this.words[h]=y&67108863}return f!==0&&(this.words[h]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=_(a);if(f.length===0)return new i(1);for(var h=this,g=0;g<f.length&&f[g]===0;g++,h=h.sqr());if(++g<f.length)for(var y=h.sqr();g<f.length;g++,y=y.sqr())f[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=67108863>>>26-f<<26-f,y;if(f!==0){var x=0;for(y=0;y<this.length;y++){var S=this.words[y]&g,m=(this.words[y]|0)-S<<f;this.words[y]=m|x,x=S>>>26-f}x&&(this.words[y]=x,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,h){n(typeof a=="number"&&a>=0);var g;f?g=(f-f%26)/26:g=0;var y=a%26,x=Math.min((a-y)/26,this.length),S=67108863^67108863>>>y<<y,m=h;if(g-=x,g=Math.max(0,g),m){for(var c=0;c<x;c++)m.words[c]=this.words[c];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,c=0;c<this.length;c++)this.words[c]=this.words[c+x];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=g);c--){var T=this.words[c]|0;this.words[c]=w<<26-y|T>>>y,w=T&S}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,h){return n(this.negative===0),this.iushrn(a,f,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(f!==0&&h++,this.length=Math.min(h,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,h){var g=a.length+h,y;this._expand(g);var x,S=0;for(y=0;y<a.length;y++){x=(this.words[y+h]|0)+S;var m=(a.words[y]|0)*f;x-=m&67108863,S=(x>>26)-(m/67108864|0),this.words[y+h]=x&67108863}for(;y<this.length-h;y++)x=(this.words[y+h]|0)+S,S=x>>26,this.words[y+h]=x&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,y=0;y<this.length;y++)x=-(this.words[y]|0)+S,S=x>>26,this.words[y]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var h=this.length-a.length,g=this.clone(),y=a,x=y.words[y.length-1]|0,S=this._countBits(x);h=26-S,h!==0&&(y=y.ushln(h),g.iushln(h),x=y.words[y.length-1]|0);var m=g.length-y.length,c;if(f!=="mod"){c=new i(null),c.length=m+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var T=g.clone()._ishlnsubmul(y,1,m);T.negative===0&&(g=T,c&&(c.words[m]=1));for(var O=m-1;O>=0;O--){var K=(g.words[y.length+O]|0)*67108864+(g.words[y.length+O-1]|0);for(K=Math.min(K/x|0,67108863),g._ishlnsubmul(y,K,O);g.negative!==0;)K--,g.negative=0,g._ishlnsubmul(y,1,O),g.isZero()||(g.negative^=1);c&&(c.words[O]=K)}return c&&c.strip(),g.strip(),f!=="div"&&h!==0&&g.iushrn(h),{div:c||null,mod:g}},i.prototype.divmod=function(a,f,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,x;return this.negative!==0&&a.negative===0?(x=this.neg().divmod(a,f),f!=="mod"&&(g=x.div.neg()),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(x=this.divmod(a.neg(),f),f!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):this.negative&a.negative?(x=this.neg().divmod(a.neg(),f),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:x.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var h=f.div.negative!==0?f.mod.isub(a):f.mod,g=a.ushrn(1),y=a.andln(1),x=h.cmp(g);return x<0||y===1&&x===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var f=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(f*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+f*67108864;this.words[h]=g/a|0,f=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=new i(0),S=new i(1),m=0;f.isEven()&&h.isEven();)f.iushrn(1),h.iushrn(1),++m;for(var c=h.clone(),w=f.clone();!f.isZero();){for(var T=0,O=1;!(f.words[0]&O)&&T<26;++T,O<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(c),y.isub(w)),g.iushrn(1),y.iushrn(1);for(var K=0,ee=1;!(h.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(c),S.isub(w)),x.iushrn(1),S.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(x),y.isub(S)):(h.isub(f),x.isub(g),S.isub(y))}return{a:x,b:S,gcd:h.iushln(m)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=h.clone();f.cmpn(1)>0&&h.cmpn(1)>0;){for(var S=0,m=1;!(f.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);for(var c=0,w=1;!(h.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(h.iushrn(c);c-- >0;)y.isOdd()&&y.iadd(x),y.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(y)):(h.isub(f),y.isub(g))}var T;return f.cmpn(1)===0?T=g:T=y,T.cmpn(0)<0&&T.iadd(a),T},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),h=a.clone();f.negative=0,h.negative=0;for(var g=0;f.isEven()&&h.isEven();g++)f.iushrn(1),h.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=f.cmp(h);if(y<0){var x=f;f=h,h=x}else if(y===0||h.cmpn(1)===0)break;f.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,x=h;y!==0&&x<this.length;x++){var S=this.words[x]|0;S+=y,y=S>>>26,S&=67108863,this.words[x]=S}return y!==0&&(this.words[x]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var h;if(this.length>1)h=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?f=-1:g>y&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new L(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function P(E,a){this.name=E,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,h;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),h=f.bitLength();while(h>this.n);var g=h<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function N(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,P),N.prototype.split=function(a,f){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)f.words[y]=a.words[y];if(f.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var x=a.words[9];for(f.words[f.length++]=x&h,y=10;y<a.length;y++){var S=a.words[y]|0;a.words[y-10]=(S&h)<<4|x>>>22,x=S}x>>>=22,a.words[y-10]=x,x===0&&a.length>10?a.length-=10:a.length-=9},N.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,h=0;h<a.length;h++){var g=a.words[h]|0;f+=g*977,a.words[h]=f&67108863,f=g*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,P);function q(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,P);function F(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(F,P),F.prototype.imulK=function(a){for(var f=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+f,y=g&67108863;g>>>=26,a.words[h]=y,f=g}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(C[a])return C[a];var f;if(a==="k256")f=new N;else if(a==="p224")f=new U;else if(a==="p192")f=new q;else if(a==="p25519")f=new F;else throw new Error("Unknown prime "+a);return C[a]=f,f};function L(E){if(typeof E=="string"){var a=i._prime(E);this.m=a.p,this.prime=a}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},L.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},L.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},L.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},L.prototype.add=function(a,f){this._verify2(a,f);var h=a.add(f);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(a,f){this._verify2(a,f);var h=a.iadd(f);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(a,f){this._verify2(a,f);var h=a.sub(f);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(a,f){this._verify2(a,f);var h=a.isub(f);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},L.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},L.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},L.prototype.isqr=function(a){return this.imul(a,a.clone())},L.prototype.sqr=function(a){return this.mul(a,a)},L.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);n(!g.isZero());var x=new i(1).toRed(this),S=x.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,m).cmp(S)!==0;)c.redIAdd(S);for(var w=this.pow(c,g),T=this.pow(a,g.addn(1).iushrn(1)),O=this.pow(a,g),K=y;O.cmp(x)!==0;){for(var ee=O,J=0;ee.cmp(x)!==0;J++)ee=ee.redSqr();n(J<K);var $=this.pow(w,new i(1).iushln(K-J-1));T=T.redMul($),w=$.redSqr(),O=O.redMul(w),K=J}return T},L.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},L.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var x=g[0],S=0,m=0,c=f.bitLength()%26;for(c===0&&(c=26),y=f.length-1;y>=0;y--){for(var w=f.words[y],T=c-1;T>=0;T--){var O=w>>T&1;if(x!==g[0]&&(x=this.sqr(x)),O===0&&S===0){m=0;continue}S<<=1,S|=O,m++,!(m!==h&&(y!==0||T!==0))&&(x=this.mul(x,g[S]),m=0,S=0)}c=26}return x},L.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},L.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ie,L),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var h=a.mul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Rn)}(s1)),s1.exports}var Mb={},HM;function RB(){return HM||(HM=1,function(t){var e=t;function r(i,o){if(Array.isArray(i))return i.slice();if(!i)return[];var l=[];if(typeof i!="string"){for(var u=0;u<i.length;u++)l[u]=i[u]|0;return l}if(o==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var u=0;u<i.length;u+=2)l.push(parseInt(i[u]+i[u+1],16))}else for(var u=0;u<i.length;u++){var d=i.charCodeAt(u),p=d>>8,v=d&255;p?l.push(p,v):l.push(v)}return l}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function s(i){for(var o="",l=0;l<i.length;l++)o+=n(i[l].toString(16));return o}e.toHex=s,e.encode=function(o,l){return l==="hex"?s(o):o}}(Mb)),Mb}var KM;function Ao(){return KM||(KM=1,function(t){var e=t,r=Ul(),n=Mo,s=RB();e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(p,v,b){var _=new Array(Math.max(p.bitLength(),b)+1),M;for(M=0;M<_.length;M+=1)_[M]=0;var A=1<<v+1,I=p.clone();for(M=0;M<_.length;M++){var k,R=I.andln(A-1);I.isOdd()?(R>(A>>1)-1?k=(A>>1)-R:k=R,I.isubn(k)):k=0,_[M]=k,I.iushrn(1)}return _}e.getNAF=i;function o(p,v){var b=[[],[]];p=p.clone(),v=v.clone();for(var _=0,M=0,A;p.cmpn(-_)>0||v.cmpn(-M)>0;){var I=p.andln(3)+_&3,k=v.andln(3)+M&3;I===3&&(I=-1),k===3&&(k=-1);var R;I&1?(A=p.andln(7)+_&7,(A===3||A===5)&&k===2?R=-I:R=I):R=0,b[0].push(R);var C;k&1?(A=v.andln(7)+M&7,(A===3||A===5)&&I===2?C=-k:C=k):C=0,b[1].push(C),2*_===R+1&&(_=1-_),2*M===C+1&&(M=1-M),p.iushrn(1),v.iushrn(1)}return b}e.getJSF=o;function l(p,v,b){var _="_"+v;p.prototype[v]=function(){return this[_]!==void 0?this[_]:this[_]=b.call(this)}}e.cachedProperty=l;function u(p){return typeof p=="string"?e.toArray(p,"hex"):p}e.parseBytes=u;function d(p){return new r(p,"hex","le")}e.intFromLE=d}(Eb)),Eb}var Gg={exports:{}},lr={},Yg={exports:{}},Zg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var WM;function cr(){return WM||(WM=1,function(t,e){var r=Nt,n=r.Buffer;function s(o,l){for(var u in o)l[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(o,l,u){return n(o,l,u)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(o,l,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,u)},i.alloc=function(o,l,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return l!==void 0?typeof u=="string"?d.fill(l,u):d.fill(l):d.fill(0),d},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Zg,Zg.exports)),Zg.exports}var VM;function nd(){if(VM)return Yg.exports;VM=1;var t=65536,e=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=cr().Buffer,s=globalThis.crypto||globalThis.msCrypto;s&&s.getRandomValues?Yg.exports=i:Yg.exports=r;function i(o,l){if(o>e)throw new RangeError("requested too many random bytes");var u=n.allocUnsafe(o);if(o>0)if(o>t)for(var d=0;d<o;d+=t)s.getRandomValues(u.slice(d,d+t));else s.getRandomValues(u);return typeof l=="function"?process.nextTick(function(){l(null,u)}):u}return Yg.exports}var nE={exports:{}},ch=typeof Reflect=="object"?Reflect:null,GM=ch&&typeof ch.apply=="function"?ch.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},o1;ch&&typeof ch.ownKeys=="function"?o1=ch.ownKeys:Object.getOwnPropertySymbols?o1=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:o1=function(e){return Object.getOwnPropertyNames(e)};function XZ(t){console&&console.warn&&console.warn(t)}var CB=Number.isNaN||function(e){return e!==e};function Wr(){Wr.init.call(this)}nE.exports=Wr;nE.exports.once=rJ;Wr.EventEmitter=Wr;Wr.prototype._events=void 0;Wr.prototype._eventsCount=0;Wr.prototype._maxListeners=void 0;var YM=10;function wv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Wr,"defaultMaxListeners",{enumerable:!0,get:function(){return YM},set:function(t){if(typeof t!="number"||t<0||CB(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");YM=t}});Wr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Wr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||CB(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function TB(t){return t._maxListeners===void 0?Wr.defaultMaxListeners:t._maxListeners}Wr.prototype.getMaxListeners=function(){return TB(this)};Wr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var u=i[e];if(u===void 0)return!1;if(typeof u=="function")GM(u,this,r);else for(var d=u.length,p=LB(u,d),n=0;n<d;++n)GM(p[n],this,r);return!0};function PB(t,e,r,n){var s,i,o;if(wv(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),o=i[e]),o===void 0)o=i[e]=r,++t._eventsCount;else if(typeof o=="function"?o=i[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),s=TB(t),s>0&&o.length>s&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,XZ(l)}return t}Wr.prototype.addListener=function(e,r){return PB(this,e,r,!1)};Wr.prototype.on=Wr.prototype.addListener;Wr.prototype.prependListener=function(e,r){return PB(this,e,r,!0)};function QZ(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function OB(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=QZ.bind(n);return s.listener=r,n.wrapFn=s,s}Wr.prototype.once=function(e,r){return wv(r),this.on(e,OB(this,e,r)),this};Wr.prototype.prependOnceListener=function(e,r){return wv(r),this.prependListener(e,OB(this,e,r)),this};Wr.prototype.removeListener=function(e,r){var n,s,i,o,l;if(wv(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){l=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():eJ(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,l||r)}return this};Wr.prototype.off=Wr.prototype.removeListener;Wr.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function NB(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?tJ(s):LB(s,s.length)}Wr.prototype.listeners=function(e){return NB(this,e,!0)};Wr.prototype.rawListeners=function(e){return NB(this,e,!1)};Wr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):BB.call(t,e)};Wr.prototype.listenerCount=BB;function BB(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Wr.prototype.eventNames=function(){return this._eventsCount>0?o1(this._events):[]};function LB(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function eJ(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function tJ(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function rJ(t,e){return new Promise(function(r,n){function s(o){t.removeListener(e,i),n(o)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}DB(t,e,i,{once:!0}),e!=="error"&&nJ(t,s,{once:!0})})}function nJ(t,e,r){typeof t.on=="function"&&DB(t,"error",e,r)}function DB(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Tn=nE.exports;const $B=Zn(Tn);var Ab,ZM;function UB(){return ZM||(ZM=1,Ab=Tn.EventEmitter),Ab}var kb,JM;function iJ(){if(JM)return kb;JM=1;function t(M,A){var I=Object.keys(M);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(M);A&&(k=k.filter(function(R){return Object.getOwnPropertyDescriptor(M,R).enumerable})),I.push.apply(I,k)}return I}function e(M){for(var A=1;A<arguments.length;A++){var I=arguments[A]!=null?arguments[A]:{};A%2?t(Object(I),!0).forEach(function(k){r(M,k,I[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(I)):t(Object(I)).forEach(function(k){Object.defineProperty(M,k,Object.getOwnPropertyDescriptor(I,k))})}return M}function r(M,A,I){return A=o(A),A in M?Object.defineProperty(M,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):M[A]=I,M}function n(M,A){if(!(M instanceof A))throw new TypeError("Cannot call a class as a function")}function s(M,A){for(var I=0;I<A.length;I++){var k=A[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(M,o(k.key),k)}}function i(M,A,I){return A&&s(M.prototype,A),Object.defineProperty(M,"prototype",{writable:!1}),M}function o(M){var A=l(M,"string");return typeof A=="symbol"?A:String(A)}function l(M,A){if(typeof M!="object"||M===null)return M;var I=M[Symbol.toPrimitive];if(I!==void 0){var k=I.call(M,A);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}var u=Nt,d=u.Buffer,p=Eo,v=p.inspect,b=v&&v.custom||"inspect";function _(M,A,I){d.prototype.copy.call(M,A,I)}return kb=function(){function M(){n(this,M),this.head=null,this.tail=null,this.length=0}return i(M,[{key:"push",value:function(I){var k={data:I,next:null};this.length>0?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(I){var k={data:I,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var k=this.head,R=""+k.data;k=k.next;)R+=I+k.data;return R}},{key:"concat",value:function(I){if(this.length===0)return d.alloc(0);for(var k=d.allocUnsafe(I>>>0),R=this.head,C=0;R;)_(R.data,k,C),C+=R.data.length,R=R.next;return k}},{key:"consume",value:function(I,k){var R;return I<this.head.data.length?(R=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?R=this.shift():R=k?this._getString(I):this._getBuffer(I),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var k=this.head,R=1,C=k.data;for(I-=C.length;k=k.next;){var P=k.data,N=I>P.length?P.length:I;if(N===P.length?C+=P:C+=P.slice(0,I),I-=N,I===0){N===P.length?(++R,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=P.slice(N));break}++R}return this.length-=R,C}},{key:"_getBuffer",value:function(I){var k=d.allocUnsafe(I),R=this.head,C=1;for(R.data.copy(k),I-=R.data.length;R=R.next;){var P=R.data,N=I>P.length?P.length:I;if(P.copy(k,k.length-I,0,N),I-=N,I===0){N===P.length?(++C,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=P.slice(N));break}++C}return this.length-=C,k}},{key:b,value:function(I,k){return v(this,e(e({},k),{},{depth:0,customInspect:!1}))}}]),M}(),kb}var Ib,XM;function FB(){if(XM)return Ib;XM=1;function t(o,l){var u=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(s,this,o)):process.nextTick(s,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(v){!l&&v?u._writableState?u._writableState.errorEmitted?process.nextTick(r,u):(u._writableState.errorEmitted=!0,process.nextTick(e,u,v)):process.nextTick(e,u,v):l?(process.nextTick(r,u),l(v)):process.nextTick(r,u)}),this)}function e(o,l){s(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(o,l){o.emit("error",l)}function i(o,l){var u=o._readableState,d=o._writableState;u&&u.autoDestroy||d&&d.autoDestroy?o.destroy(l):o.emit("error",l)}return Ib={destroy:t,undestroy:n,errorOrDestroy:i},Ib}var Rb={},QM;function id(){if(QM)return Rb;QM=1;function t(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var e={};function r(l,u,d){d||(d=Error);function p(b,_,M){return typeof u=="string"?u:u(b,_,M)}var v=function(b){t(_,b);function _(M,A,I){return b.call(this,p(M,A,I))||this}return _}(d);v.prototype.name=d.name,v.prototype.code=l,e[l]=v}function n(l,u){if(Array.isArray(l)){var d=l.length;return l=l.map(function(p){return String(p)}),d>2?"one of ".concat(u," ").concat(l.slice(0,d-1).join(", "),", or ")+l[d-1]:d===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}else return"of ".concat(u," ").concat(String(l))}function s(l,u,d){return l.substr(0,u.length)===u}function i(l,u,d){return(d===void 0||d>l.length)&&(d=l.length),l.substring(d-u.length,d)===u}function o(l,u,d){return typeof d!="number"&&(d=0),d+u.length>l.length?!1:l.indexOf(u,d)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,u,d){var p;typeof u=="string"&&s(u,"not ")?(p="must not be",u=u.replace(/^not /,"")):p="must be";var v;if(i(l," argument"))v="The ".concat(l," ").concat(p," ").concat(n(u,"type"));else{var b=o(l,".")?"property":"argument";v='The "'.concat(l,'" ').concat(b," ").concat(p," ").concat(n(u,"type"))}return v+=". Received type ".concat(typeof d),v},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Rb.codes=e,Rb}var Cb,eA;function jB(){if(eA)return Cb;eA=1;var t=id().codes.ERR_INVALID_OPT_VALUE;function e(n,s,i){return n.highWaterMark!=null?n.highWaterMark:s?n[i]:null}function r(n,s,i,o){var l=e(s,o,i);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var u=o?i:"highWaterMark";throw new t(u,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return Cb={getHighWaterMark:r},Cb}var Tb,tA;function qB(){if(tA)return Tb;tA=1,Tb=t;function t(r,n){if(e("noDeprecation"))return r;var s=!1;function i(){if(!s){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),s=!0}return r.apply(this,arguments)}return i}function e(r){try{if(!globalThis.localStorage)return!1}catch{return!1}var n=globalThis.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return Tb}var Pb,rA;function zB(){if(rA)return Pb;rA=1,Pb=F;function t(J){var $=this;this.next=null,this.entry=null,this.finish=function(){ee($,J)}}var e;F.WritableState=U;var r={deprecate:qB()},n=UB(),s=Nt.Buffer,i=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(J){return s.from(J)}function l(J){return s.isBuffer(J)||J instanceof i}var u=FB(),d=jB(),p=d.getHighWaterMark,v=id().codes,b=v.ERR_INVALID_ARG_TYPE,_=v.ERR_METHOD_NOT_IMPLEMENTED,M=v.ERR_MULTIPLE_CALLBACK,A=v.ERR_STREAM_CANNOT_PIPE,I=v.ERR_STREAM_DESTROYED,k=v.ERR_STREAM_NULL_VALUES,R=v.ERR_STREAM_WRITE_AFTER_END,C=v.ERR_UNKNOWN_ENCODING,P=u.errorOrDestroy;nr()(F,n);function N(){}function U(J,$,z){e=e||kh(),J=J||{},typeof z!="boolean"&&(z=$ instanceof e),this.objectMode=!!J.objectMode,z&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=p(this,J,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=J.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(te){y($,te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}U.prototype.getBuffer=function(){for(var $=this.bufferedRequest,z=[];$;)z.push($),$=$.next;return z},function(){try{Object.defineProperty(U.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function($){return q.call(this,$)?!0:this!==F?!1:$&&$._writableState instanceof U}})):q=function($){return $ instanceof this};function F(J){e=e||kh();var $=this instanceof e;if(!$&&!q.call(F,this))return new F(J);this._writableState=new U(J,this,$),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),n.call(this)}F.prototype.pipe=function(){P(this,new A)};function L(J,$){var z=new R;P(J,z),process.nextTick($,z)}function ie(J,$,z,Y){var te;return z===null?te=new k:typeof z!="string"&&!$.objectMode&&(te=new b("chunk",["string","Buffer"],z)),te?(P(J,te),process.nextTick(Y,te),!1):!0}F.prototype.write=function(J,$,z){var Y=this._writableState,te=!1,G=!Y.objectMode&&l(J);return G&&!s.isBuffer(J)&&(J=o(J)),typeof $=="function"&&(z=$,$=null),G?$="buffer":$||($=Y.defaultEncoding),typeof z!="function"&&(z=N),Y.ending?L(this,z):(G||ie(this,Y,J,z))&&(Y.pendingcb++,te=a(this,Y,G,J,$,z)),te},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&m(this,J))},F.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new C($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(F.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function E(J,$,z){return!J.objectMode&&J.decodeStrings!==!1&&typeof $=="string"&&($=s.from($,z)),$}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function a(J,$,z,Y,te,G){if(!z){var j=E($,Y,te);Y!==j&&(z=!0,te="buffer",Y=j)}var W=$.objectMode?1:Y.length;$.length+=W;var oe=$.length<$.highWaterMark;if(oe||($.needDrain=!0),$.writing||$.corked){var ae=$.lastBufferedRequest;$.lastBufferedRequest={chunk:Y,encoding:te,isBuf:z,callback:G,next:null},ae?ae.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else f(J,$,!1,W,Y,te,G);return oe}function f(J,$,z,Y,te,G,j){$.writelen=Y,$.writecb=j,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new I("write")):z?J._writev(te,$.onwrite):J._write(te,G,$.onwrite),$.sync=!1}function h(J,$,z,Y,te){--$.pendingcb,z?(process.nextTick(te,Y),process.nextTick(O,J,$),J._writableState.errorEmitted=!0,P(J,Y)):(te(Y),J._writableState.errorEmitted=!0,P(J,Y),O(J,$))}function g(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function y(J,$){var z=J._writableState,Y=z.sync,te=z.writecb;if(typeof te!="function")throw new M;if(g(z),$)h(J,z,Y,$,te);else{var G=c(z)||J.destroyed;!G&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&m(J,z),Y?process.nextTick(x,J,z,G,te):x(J,z,G,te)}}function x(J,$,z,Y){z||S(J,$),$.pendingcb--,Y(),O(J,$)}function S(J,$){$.length===0&&$.needDrain&&($.needDrain=!1,J.emit("drain"))}function m(J,$){$.bufferProcessing=!0;var z=$.bufferedRequest;if(J._writev&&z&&z.next){var Y=$.bufferedRequestCount,te=new Array(Y),G=$.corkedRequestsFree;G.entry=z;for(var j=0,W=!0;z;)te[j]=z,z.isBuf||(W=!1),z=z.next,j+=1;te.allBuffers=W,f(J,$,!0,$.length,te,"",G.finish),$.pendingcb++,$.lastBufferedRequest=null,G.next?($.corkedRequestsFree=G.next,G.next=null):$.corkedRequestsFree=new t($),$.bufferedRequestCount=0}else{for(;z;){var oe=z.chunk,ae=z.encoding,he=z.callback,Oe=$.objectMode?1:oe.length;if(f(J,$,!1,Oe,oe,ae,he),z=z.next,$.bufferedRequestCount--,$.writing)break}z===null&&($.lastBufferedRequest=null)}$.bufferedRequest=z,$.bufferProcessing=!1}F.prototype._write=function(J,$,z){z(new _("_write()"))},F.prototype._writev=null,F.prototype.end=function(J,$,z){var Y=this._writableState;return typeof J=="function"?(z=J,J=null,$=null):typeof $=="function"&&(z=$,$=null),J!=null&&this.write(J,$),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||K(this,Y,z),this},Object.defineProperty(F.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function w(J,$){J._final(function(z){$.pendingcb--,z&&P(J,z),$.prefinished=!0,J.emit("prefinish"),O(J,$)})}function T(J,$){!$.prefinished&&!$.finalCalled&&(typeof J._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,process.nextTick(w,J,$)):($.prefinished=!0,J.emit("prefinish")))}function O(J,$){var z=c($);if(z&&(T(J,$),$.pendingcb===0&&($.finished=!0,J.emit("finish"),$.autoDestroy))){var Y=J._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&J.destroy()}return z}function K(J,$,z){$.ending=!0,O(J,$),z&&($.finished?process.nextTick(z):J.once("finish",z)),$.ended=!0,J.writable=!1}function ee(J,$,z){var Y=J.entry;for(J.entry=null;Y;){var te=Y.callback;$.pendingcb--,te(z),Y=Y.next}$.corkedRequestsFree.next=J}return Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),F.prototype.destroy=u.destroy,F.prototype._undestroy=u.undestroy,F.prototype._destroy=function(J,$){$(J)},Pb}var Ob,nA;function kh(){if(nA)return Ob;nA=1;var t=Object.keys||function(d){var p=[];for(var v in d)p.push(v);return p};Ob=o;var e=HB(),r=zB();nr()(o,e);for(var n=t(r.prototype),s=0;s<n.length;s++){var i=n[s];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(d){if(!(this instanceof o))return new o(d);e.call(this,d),r.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(u,this)}function u(d){d.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),Ob}var lp={},iE=cr().Buffer,iA=iE.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function sJ(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function oJ(t){var e=sJ(t);if(typeof e!="string"&&(iE.isEncoding===iA||!iA(t)))throw new Error("Unknown encoding: "+t);return e||t}lp.StringDecoder=Vp;function Vp(t){this.encoding=oJ(t);var e;switch(this.encoding){case"utf16le":this.text=hJ,this.end=dJ,e=4;break;case"utf8":this.fillLast=cJ,e=4;break;case"base64":this.text=pJ,this.end=gJ,e=3;break;default:this.write=mJ,this.end=yJ;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=iE.allocUnsafe(e)}Vp.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Vp.prototype.end=fJ;Vp.prototype.text=uJ;Vp.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Nb(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function aJ(t,e,r){var n=e.length-1;if(n<r)return 0;var s=Nb(e[n]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--n<r||s===-2?0:(s=Nb(e[n]),s>=0?(s>0&&(t.lastNeed=s-2),s):--n<r||s===-2?0:(s=Nb(e[n]),s>=0?(s>0&&(s===2?s=0:t.lastNeed=s-3),s):0))}function lJ(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function cJ(t){var e=this.lastTotal-this.lastNeed,r=lJ(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function uJ(t,e){var r=aJ(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function fJ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function hJ(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function dJ(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function pJ(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function gJ(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function mJ(t){return t.toString(this.encoding)}function yJ(t){return t&&t.length?this.write(t):""}var Bb,sA;function sE(){if(sA)return Bb;sA=1;var t=id().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];i.apply(this,u)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function s(i,o,l){if(typeof o=="function")return s(i,null,o);o||(o={}),l=e(l||r);var u=o.readable||o.readable!==!1&&i.readable,d=o.writable||o.writable!==!1&&i.writable,p=function(){i.writable||b()},v=i._writableState&&i._writableState.finished,b=function(){d=!1,v=!0,u||l.call(i)},_=i._readableState&&i._readableState.endEmitted,M=function(){u=!1,_=!0,d||l.call(i)},A=function(C){l.call(i,C)},I=function(){var C;if(u&&!_)return(!i._readableState||!i._readableState.ended)&&(C=new t),l.call(i,C);if(d&&!v)return(!i._writableState||!i._writableState.ended)&&(C=new t),l.call(i,C)},k=function(){i.req.on("finish",b)};return n(i)?(i.on("complete",b),i.on("abort",I),i.req?k():i.on("request",k)):d&&!i._writableState&&(i.on("end",p),i.on("close",p)),i.on("end",M),i.on("finish",b),o.error!==!1&&i.on("error",A),i.on("close",I),function(){i.removeListener("complete",b),i.removeListener("abort",I),i.removeListener("request",k),i.req&&i.req.removeListener("finish",b),i.removeListener("end",p),i.removeListener("close",p),i.removeListener("finish",b),i.removeListener("end",M),i.removeListener("error",A),i.removeListener("close",I)}}return Bb=s,Bb}var Lb,oA;function vJ(){if(oA)return Lb;oA=1;var t;function e(C,P,N){return P=r(P),P in C?Object.defineProperty(C,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[P]=N,C}function r(C){var P=n(C,"string");return typeof P=="symbol"?P:String(P)}function n(C,P){if(typeof C!="object"||C===null)return C;var N=C[Symbol.toPrimitive];if(N!==void 0){var U=N.call(C,P);if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(C)}var s=sE(),i=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),p=Symbol("handlePromise"),v=Symbol("stream");function b(C,P){return{value:C,done:P}}function _(C){var P=C[i];if(P!==null){var N=C[v].read();N!==null&&(C[d]=null,C[i]=null,C[o]=null,P(b(N,!1)))}}function M(C){process.nextTick(_,C)}function A(C,P){return function(N,U){C.then(function(){if(P[u]){N(b(void 0,!0));return}P[p](N,U)},U)}}var I=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((t={get stream(){return this[v]},next:function(){var P=this,N=this[l];if(N!==null)return Promise.reject(N);if(this[u])return Promise.resolve(b(void 0,!0));if(this[v].destroyed)return new Promise(function(L,ie){process.nextTick(function(){P[l]?ie(P[l]):L(b(void 0,!0))})});var U=this[d],q;if(U)q=new Promise(A(U,this));else{var F=this[v].read();if(F!==null)return Promise.resolve(b(F,!1));q=new Promise(this[p])}return this[d]=q,q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var P=this;return new Promise(function(N,U){P[v].destroy(null,function(q){if(q){U(q);return}N(b(void 0,!0))})})}),t),I),R=function(P){var N,U=Object.create(k,(N={},e(N,v,{value:P,writable:!0}),e(N,i,{value:null,writable:!0}),e(N,o,{value:null,writable:!0}),e(N,l,{value:null,writable:!0}),e(N,u,{value:P._readableState.endEmitted,writable:!0}),e(N,p,{value:function(F,L){var ie=U[v].read();ie?(U[d]=null,U[i]=null,U[o]=null,F(b(ie,!1))):(U[i]=F,U[o]=L)},writable:!0}),N));return U[d]=null,s(P,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=U[o];F!==null&&(U[d]=null,U[i]=null,U[o]=null,F(q)),U[l]=q;return}var L=U[i];L!==null&&(U[d]=null,U[i]=null,U[o]=null,L(b(void 0,!0))),U[u]=!0}),P.on("readable",M.bind(null,U)),U};return Lb=R,Lb}var Db,aA;function wJ(){return aA||(aA=1,Db=function(){throw new Error("Readable.from is not available in the browser")}),Db}var $b,lA;function HB(){if(lA)return $b;lA=1,$b=L;var t;L.ReadableState=F,Tn.EventEmitter;var e=function(j,W){return j.listeners(W).length},r=UB(),n=Nt.Buffer,s=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(G){return n.from(G)}function o(G){return n.isBuffer(G)||G instanceof s}var l=Eo,u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var d=iJ(),p=FB(),v=jB(),b=v.getHighWaterMark,_=id().codes,M=_.ERR_INVALID_ARG_TYPE,A=_.ERR_STREAM_PUSH_AFTER_EOF,I=_.ERR_METHOD_NOT_IMPLEMENTED,k=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,C,P;nr()(L,r);var N=p.errorOrDestroy,U=["error","close","destroy","pause","resume"];function q(G,j,W){if(typeof G.prependListener=="function")return G.prependListener(j,W);!G._events||!G._events[j]?G.on(j,W):Array.isArray(G._events[j])?G._events[j].unshift(W):G._events[j]=[W,G._events[j]]}function F(G,j,W){t=t||kh(),G=G||{},typeof W!="boolean"&&(W=j instanceof t),this.objectMode=!!G.objectMode,W&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=b(this,G,"readableHighWaterMark",W),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(R||(R=lp.StringDecoder),this.decoder=new R(G.encoding),this.encoding=G.encoding)}function L(G){if(t=t||kh(),!(this instanceof L))return new L(G);var j=this instanceof t;this._readableState=new F(G,this,j),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),r.call(this)}Object.defineProperty(L.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),L.prototype.destroy=p.destroy,L.prototype._undestroy=p.undestroy,L.prototype._destroy=function(G,j){j(G)},L.prototype.push=function(G,j){var W=this._readableState,oe;return W.objectMode?oe=!0:typeof G=="string"&&(j=j||W.defaultEncoding,j!==W.encoding&&(G=n.from(G,j),j=""),oe=!0),ie(this,G,j,!1,oe)},L.prototype.unshift=function(G){return ie(this,G,null,!0,!1)};function ie(G,j,W,oe,ae){u("readableAddChunk",j);var he=G._readableState;if(j===null)he.reading=!1,y(G,he);else{var Oe;if(ae||(Oe=a(he,j)),Oe)N(G,Oe);else if(he.objectMode||j&&j.length>0)if(typeof j!="string"&&!he.objectMode&&Object.getPrototypeOf(j)!==n.prototype&&(j=i(j)),oe)he.endEmitted?N(G,new k):E(G,he,j,!0);else if(he.ended)N(G,new A);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!W?(j=he.decoder.write(j),he.objectMode||j.length!==0?E(G,he,j,!1):m(G,he)):E(G,he,j,!1)}else oe||(he.reading=!1,m(G,he))}return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function E(G,j,W,oe){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,G.emit("data",W)):(j.length+=j.objectMode?1:W.length,oe?j.buffer.unshift(W):j.buffer.push(W),j.needReadable&&x(G)),m(G,j)}function a(G,j){var W;return!o(j)&&typeof j!="string"&&j!==void 0&&!G.objectMode&&(W=new M("chunk",["string","Buffer","Uint8Array"],j)),W}L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(G){R||(R=lp.StringDecoder);var j=new R(G);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,oe="";W!==null;)oe+=j.write(W.data),W=W.next;return this._readableState.buffer.clear(),oe!==""&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};var f=1073741824;function h(G){return G>=f?G=f:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}function g(G,j){return G<=0||j.length===0&&j.ended?0:j.objectMode?1:G!==G?j.flowing&&j.length?j.buffer.head.data.length:j.length:(G>j.highWaterMark&&(j.highWaterMark=h(G)),G<=j.length?G:j.ended?j.length:(j.needReadable=!0,0))}L.prototype.read=function(G){u("read",G),G=parseInt(G,10);var j=this._readableState,W=G;if(G!==0&&(j.emittedReadable=!1),G===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return u("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?z(this):x(this),null;if(G=g(G,j),G===0&&j.ended)return j.length===0&&z(this),null;var oe=j.needReadable;u("need readable",oe),(j.length===0||j.length-G<j.highWaterMark)&&(oe=!0,u("length less than watermark",oe)),j.ended||j.reading?(oe=!1,u("reading or ended",oe)):oe&&(u("do read"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(G=g(W,j)));var ae;return G>0?ae=$(G,j):ae=null,ae===null?(j.needReadable=j.length<=j.highWaterMark,G=0):(j.length-=G,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),W!==G&&j.ended&&z(this)),ae!==null&&this.emit("data",ae),ae};function y(G,j){if(u("onEofChunk"),!j.ended){if(j.decoder){var W=j.decoder.end();W&&W.length&&(j.buffer.push(W),j.length+=j.objectMode?1:W.length)}j.ended=!0,j.sync?x(G):(j.needReadable=!1,j.emittedReadable||(j.emittedReadable=!0,S(G)))}}function x(G){var j=G._readableState;u("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(u("emitReadable",j.flowing),j.emittedReadable=!0,process.nextTick(S,G))}function S(G){var j=G._readableState;u("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&(j.length||j.ended)&&(G.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,J(G)}function m(G,j){j.readingMore||(j.readingMore=!0,process.nextTick(c,G,j))}function c(G,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var W=j.length;if(u("maybeReadMore read 0"),G.read(0),W===j.length)break}j.readingMore=!1}L.prototype._read=function(G){N(this,new I("_read()"))},L.prototype.pipe=function(G,j){var W=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=G;break;case 1:oe.pipes=[oe.pipes,G];break;default:oe.pipes.push(G);break}oe.pipesCount+=1,u("pipe count=%d opts=%j",oe.pipesCount,j);var ae=(!j||j.end!==!1)&&G!==process.stdout&&G!==process.stderr,he=ae?me:qt;oe.endEmitted?process.nextTick(he):W.once("end",he),G.on("unpipe",Oe);function Oe(Z,B){u("onunpipe"),Z===W&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,Se())}function me(){u("onend"),G.end()}var Ee=w(W);G.on("drain",Ee);var it=!1;function Se(){u("cleanup"),G.removeListener("close",Ie),G.removeListener("finish",Ne),G.removeListener("drain",Ee),G.removeListener("error",Mt),G.removeListener("unpipe",Oe),W.removeListener("end",me),W.removeListener("end",qt),W.removeListener("data",xe),it=!0,oe.awaitDrain&&(!G._writableState||G._writableState.needDrain)&&Ee()}W.on("data",xe);function xe(Z){u("ondata");var B=G.write(Z);u("dest.write",B),B===!1&&((oe.pipesCount===1&&oe.pipes===G||oe.pipesCount>1&&te(oe.pipes,G)!==-1)&&!it&&(u("false write response, pause",oe.awaitDrain),oe.awaitDrain++),W.pause())}function Mt(Z){u("onerror",Z),qt(),G.removeListener("error",Mt),e(G,"error")===0&&N(G,Z)}q(G,"error",Mt);function Ie(){G.removeListener("finish",Ne),qt()}G.once("close",Ie);function Ne(){u("onfinish"),G.removeListener("close",Ie),qt()}G.once("finish",Ne);function qt(){u("unpipe"),W.unpipe(G)}return G.emit("pipe",W),oe.flowing||(u("pipe resume"),W.resume()),G};function w(G){return function(){var W=G._readableState;u("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&e(G,"data")&&(W.flowing=!0,J(G))}}L.prototype.unpipe=function(G){var j=this._readableState,W={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return G&&G!==j.pipes?this:(G||(G=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,G&&G.emit("unpipe",this,W),this);if(!G){var oe=j.pipes,ae=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var he=0;he<ae;he++)oe[he].emit("unpipe",this,{hasUnpiped:!1});return this}var Oe=te(j.pipes,G);return Oe===-1?this:(j.pipes.splice(Oe,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),G.emit("unpipe",this,W),this)},L.prototype.on=function(G,j){var W=r.prototype.on.call(this,G,j),oe=this._readableState;return G==="data"?(oe.readableListening=this.listenerCount("readable")>0,oe.flowing!==!1&&this.resume()):G==="readable"&&!oe.endEmitted&&!oe.readableListening&&(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,u("on readable",oe.length,oe.reading),oe.length?x(this):oe.reading||process.nextTick(O,this)),W},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(G,j){var W=r.prototype.removeListener.call(this,G,j);return G==="readable"&&process.nextTick(T,this),W},L.prototype.removeAllListeners=function(G){var j=r.prototype.removeAllListeners.apply(this,arguments);return(G==="readable"||G===void 0)&&process.nextTick(T,this),j};function T(G){var j=G._readableState;j.readableListening=G.listenerCount("readable")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:G.listenerCount("data")>0&&G.resume()}function O(G){u("readable nexttick read 0"),G.read(0)}L.prototype.resume=function(){var G=this._readableState;return G.flowing||(u("resume"),G.flowing=!G.readableListening,K(this,G)),G.paused=!1,this};function K(G,j){j.resumeScheduled||(j.resumeScheduled=!0,process.nextTick(ee,G,j))}function ee(G,j){u("resume",j.reading),j.reading||G.read(0),j.resumeScheduled=!1,G.emit("resume"),J(G),j.flowing&&!j.reading&&G.read(0)}L.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(G){var j=G._readableState;for(u("flow",j.flowing);j.flowing&&G.read()!==null;);}L.prototype.wrap=function(G){var j=this,W=this._readableState,oe=!1;G.on("end",function(){if(u("wrapped end"),W.decoder&&!W.ended){var Oe=W.decoder.end();Oe&&Oe.length&&j.push(Oe)}j.push(null)}),G.on("data",function(Oe){if(u("wrapped data"),W.decoder&&(Oe=W.decoder.write(Oe)),!(W.objectMode&&Oe==null)&&!(!W.objectMode&&(!Oe||!Oe.length))){var me=j.push(Oe);me||(oe=!0,G.pause())}});for(var ae in G)this[ae]===void 0&&typeof G[ae]=="function"&&(this[ae]=function(me){return function(){return G[me].apply(G,arguments)}}(ae));for(var he=0;he<U.length;he++)G.on(U[he],this.emit.bind(this,U[he]));return this._read=function(Oe){u("wrapped _read",Oe),oe&&(oe=!1,G.resume())},this},typeof Symbol=="function"&&(L.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=vJ()),C(this)}),Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(L.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(L.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}}),L._fromList=$,Object.defineProperty(L.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(G,j){if(j.length===0)return null;var W;return j.objectMode?W=j.buffer.shift():!G||G>=j.length?(j.decoder?W=j.buffer.join(""):j.buffer.length===1?W=j.buffer.first():W=j.buffer.concat(j.length),j.buffer.clear()):W=j.buffer.consume(G,j.decoder),W}function z(G){var j=G._readableState;u("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,process.nextTick(Y,j,G))}function Y(G,j){if(u("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,j.readable=!1,j.emit("end"),G.autoDestroy)){var W=j._writableState;(!W||W.autoDestroy&&W.finished)&&j.destroy()}}typeof Symbol=="function"&&(L.from=function(G,j){return P===void 0&&(P=wJ()),P(L,G,j)});function te(G,j){for(var W=0,oe=G.length;W<oe;W++)if(G[W]===j)return W;return-1}return $b}var Ub,cA;function KB(){if(cA)return Ub;cA=1,Ub=l;var t=id().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,i=kh();nr()(l,i);function o(p,v){var b=this._transformState;b.transforming=!1;var _=b.writecb;if(_===null)return this.emit("error",new r);b.writechunk=null,b.writecb=null,v!=null&&this.push(v),_(p);var M=this._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);i.call(this,p),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",u)}function u(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(v,b){d(p,v,b)}):d(this,null,null)}l.prototype.push=function(p,v){return this._transformState.needTransform=!1,i.prototype.push.call(this,p,v)},l.prototype._transform=function(p,v,b){b(new e("_transform()"))},l.prototype._write=function(p,v,b){var _=this._transformState;if(_.writecb=b,_.writechunk=p,_.writeencoding=v,!_.transforming){var M=this._readableState;(_.needTransform||M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}},l.prototype._read=function(p){var v=this._transformState;v.writechunk!==null&&!v.transforming?(v.transforming=!0,this._transform(v.writechunk,v.writeencoding,v.afterTransform)):v.needTransform=!0},l.prototype._destroy=function(p,v){i.prototype._destroy.call(this,p,function(b){v(b)})};function d(p,v,b){if(v)return p.emit("error",v);if(b!=null&&p.push(b),p._writableState.length)throw new s;if(p._transformState.transforming)throw new n;return p.push(null)}return Ub}var Fb,uA;function bJ(){if(uA)return Fb;uA=1,Fb=e;var t=KB();nr()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,s){s(null,r)},Fb}var jb,fA;function xJ(){if(fA)return jb;fA=1;var t;function e(b){var _=!1;return function(){_||(_=!0,b.apply(void 0,arguments))}}var r=id().codes,n=r.ERR_MISSING_ARGS,s=r.ERR_STREAM_DESTROYED;function i(b){if(b)throw b}function o(b){return b.setHeader&&typeof b.abort=="function"}function l(b,_,M,A){A=e(A);var I=!1;b.on("close",function(){I=!0}),t===void 0&&(t=sE()),t(b,{readable:_,writable:M},function(R){if(R)return A(R);I=!0,A()});var k=!1;return function(R){if(!I&&!k){if(k=!0,o(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();A(R||new s("pipe"))}}}function u(b){b()}function d(b,_){return b.pipe(_)}function p(b){return!b.length||typeof b[b.length-1]!="function"?i:b.pop()}function v(){for(var b=arguments.length,_=new Array(b),M=0;M<b;M++)_[M]=arguments[M];var A=p(_);if(Array.isArray(_[0])&&(_=_[0]),_.length<2)throw new n("streams");var I,k=_.map(function(R,C){var P=C<_.length-1,N=C>0;return l(R,P,N,function(U){I||(I=U),U&&k.forEach(u),!P&&(k.forEach(u),A(I))})});return _.reduce(d)}return jb=v,jb}var qb,hA;function WB(){if(hA)return qb;hA=1,qb=r;var t=Tn.EventEmitter,e=nr();e(r,t),r.Readable=HB(),r.Writable=zB(),r.Duplex=kh(),r.Transform=KB(),r.PassThrough=bJ(),r.finished=sE(),r.pipeline=xJ(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,s){var i=this;function o(_){n.writable&&n.write(_)===!1&&i.pause&&i.pause()}i.on("data",o);function l(){i.readable&&i.resume&&i.resume()}n.on("drain",l),!n._isStdio&&(!s||s.end!==!1)&&(i.on("end",d),i.on("close",p));var u=!1;function d(){u||(u=!0,n.end())}function p(){u||(u=!0,typeof n.destroy=="function"&&n.destroy())}function v(_){if(b(),t.listenerCount(this,"error")===0)throw _}i.on("error",v),n.on("error",v);function b(){i.removeListener("data",o),n.removeListener("drain",l),i.removeListener("end",d),i.removeListener("close",p),i.removeListener("error",v),n.removeListener("error",v),i.removeListener("end",b),i.removeListener("close",b),n.removeListener("close",b)}return i.on("end",b),i.on("close",b),n.on("close",b),n.emit("pipe",i),n},qb}var zb,dA;function VB(){if(dA)return zb;dA=1;var t=cr().Buffer,e=WB().Transform,r=nr();function n(l){e.call(this),this._block=t.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(n,e),n.prototype._transform=function(l,u,d){var p=null;try{this.update(l,u)}catch(v){p=v}d(p)},n.prototype._flush=function(l){var u=null;try{this.push(this.digest())}catch(d){u=d}l(u)};var s=typeof Uint8Array<"u",i=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function o(l,u){if(l instanceof t)return l;if(typeof l=="string")return t.from(l,u);if(i&&ArrayBuffer.isView(l)){if(l.byteLength===0)return t.alloc(0);var d=t.from(l.buffer,l.byteOffset,l.byteLength);if(d.byteLength===l.byteLength)return d}if(s&&l instanceof Uint8Array||t.isBuffer(l)&&l.constructor&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l))return t.from(l);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return n.prototype.update=function(l,u){if(this._finalized)throw new Error("Digest already called");l=o(l,u);for(var d=this._block,p=0;this._blockOffset+l.length-p>=this._blockSize;){for(var v=this._blockOffset;v<this._blockSize;)d[v++]=l[p++];this._update(),this._blockOffset=0}for(;p<l.length;)d[this._blockOffset++]=l[p++];for(var b=0,_=l.length*8;_>0;++b)this._length[b]+=_,_=this._length[b]/4294967296|0,_>0&&(this._length[b]-=4294967296*_);return this},n.prototype._update=function(){throw new Error("_update is not implemented")},n.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();l!==void 0&&(u=u.toString(l)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return u},n.prototype._digest=function(){throw new Error("_digest is not implemented")},zb=n,zb}var Hb,pA;function oE(){if(pA)return Hb;pA=1;var t=nr(),e=VB(),r=cr().Buffer,n=new Array(16);function s(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}t(s,e),s.prototype._update=function(){for(var p=n,v=0;v<16;++v)p[v]=this._block.readInt32LE(v*4);var b=this._a,_=this._b,M=this._c,A=this._d;b=o(b,_,M,A,p[0],3614090360,7),A=o(A,b,_,M,p[1],3905402710,12),M=o(M,A,b,_,p[2],606105819,17),_=o(_,M,A,b,p[3],3250441966,22),b=o(b,_,M,A,p[4],4118548399,7),A=o(A,b,_,M,p[5],1200080426,12),M=o(M,A,b,_,p[6],2821735955,17),_=o(_,M,A,b,p[7],4249261313,22),b=o(b,_,M,A,p[8],1770035416,7),A=o(A,b,_,M,p[9],2336552879,12),M=o(M,A,b,_,p[10],4294925233,17),_=o(_,M,A,b,p[11],2304563134,22),b=o(b,_,M,A,p[12],1804603682,7),A=o(A,b,_,M,p[13],4254626195,12),M=o(M,A,b,_,p[14],2792965006,17),_=o(_,M,A,b,p[15],1236535329,22),b=l(b,_,M,A,p[1],4129170786,5),A=l(A,b,_,M,p[6],3225465664,9),M=l(M,A,b,_,p[11],643717713,14),_=l(_,M,A,b,p[0],3921069994,20),b=l(b,_,M,A,p[5],3593408605,5),A=l(A,b,_,M,p[10],38016083,9),M=l(M,A,b,_,p[15],3634488961,14),_=l(_,M,A,b,p[4],3889429448,20),b=l(b,_,M,A,p[9],568446438,5),A=l(A,b,_,M,p[14],3275163606,9),M=l(M,A,b,_,p[3],4107603335,14),_=l(_,M,A,b,p[8],1163531501,20),b=l(b,_,M,A,p[13],2850285829,5),A=l(A,b,_,M,p[2],4243563512,9),M=l(M,A,b,_,p[7],1735328473,14),_=l(_,M,A,b,p[12],2368359562,20),b=u(b,_,M,A,p[5],4294588738,4),A=u(A,b,_,M,p[8],2272392833,11),M=u(M,A,b,_,p[11],1839030562,16),_=u(_,M,A,b,p[14],4259657740,23),b=u(b,_,M,A,p[1],2763975236,4),A=u(A,b,_,M,p[4],1272893353,11),M=u(M,A,b,_,p[7],4139469664,16),_=u(_,M,A,b,p[10],3200236656,23),b=u(b,_,M,A,p[13],681279174,4),A=u(A,b,_,M,p[0],3936430074,11),M=u(M,A,b,_,p[3],3572445317,16),_=u(_,M,A,b,p[6],76029189,23),b=u(b,_,M,A,p[9],3654602809,4),A=u(A,b,_,M,p[12],3873151461,11),M=u(M,A,b,_,p[15],530742520,16),_=u(_,M,A,b,p[2],3299628645,23),b=d(b,_,M,A,p[0],4096336452,6),A=d(A,b,_,M,p[7],1126891415,10),M=d(M,A,b,_,p[14],2878612391,15),_=d(_,M,A,b,p[5],4237533241,21),b=d(b,_,M,A,p[12],1700485571,6),A=d(A,b,_,M,p[3],2399980690,10),M=d(M,A,b,_,p[10],4293915773,15),_=d(_,M,A,b,p[1],2240044497,21),b=d(b,_,M,A,p[8],1873313359,6),A=d(A,b,_,M,p[15],4264355552,10),M=d(M,A,b,_,p[6],2734768916,15),_=d(_,M,A,b,p[13],1309151649,21),b=d(b,_,M,A,p[4],4149444226,6),A=d(A,b,_,M,p[11],3174756917,10),M=d(M,A,b,_,p[2],718787259,15),_=d(_,M,A,b,p[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+_|0,this._c=this._c+M|0,this._d=this._d+A|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var p=r.allocUnsafe(16);return p.writeInt32LE(this._a,0),p.writeInt32LE(this._b,4),p.writeInt32LE(this._c,8),p.writeInt32LE(this._d,12),p};function i(p,v){return p<<v|p>>>32-v}function o(p,v,b,_,M,A,I){return i(p+(v&b|~v&_)+M+A|0,I)+v|0}function l(p,v,b,_,M,A,I){return i(p+(v&_|b&~_)+M+A|0,I)+v|0}function u(p,v,b,_,M,A,I){return i(p+(v^b^_)+M+A|0,I)+v|0}function d(p,v,b,_,M,A,I){return i(p+(b^(v|~_))+M+A|0,I)+v|0}return Hb=s,Hb}var Kb,gA;function aE(){if(gA)return Kb;gA=1;var t=Nt.Buffer,e=nr(),r=VB(),n=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function p(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(p,r),p.prototype._update=function(){for(var k=n,R=0;R<16;++R)k[R]=this._block.readInt32LE(R*4);for(var C=this._a|0,P=this._b|0,N=this._c|0,U=this._d|0,q=this._e|0,F=this._a|0,L=this._b|0,ie=this._c|0,E=this._d|0,a=this._e|0,f=0;f<80;f+=1){var h,g;f<16?(h=b(C,P,N,U,q,k[s[f]],u[0],o[f]),g=I(F,L,ie,E,a,k[i[f]],d[0],l[f])):f<32?(h=_(C,P,N,U,q,k[s[f]],u[1],o[f]),g=A(F,L,ie,E,a,k[i[f]],d[1],l[f])):f<48?(h=M(C,P,N,U,q,k[s[f]],u[2],o[f]),g=M(F,L,ie,E,a,k[i[f]],d[2],l[f])):f<64?(h=A(C,P,N,U,q,k[s[f]],u[3],o[f]),g=_(F,L,ie,E,a,k[i[f]],d[3],l[f])):(h=I(C,P,N,U,q,k[s[f]],u[4],o[f]),g=b(F,L,ie,E,a,k[i[f]],d[4],l[f])),C=q,q=U,U=v(N,10),N=P,P=h,F=a,a=E,E=v(ie,10),ie=L,L=g}var y=this._b+N+E|0;this._b=this._c+U+a|0,this._c=this._d+q+F|0,this._d=this._e+C+L|0,this._e=this._a+P+ie|0,this._a=y},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var k=t.alloc?t.alloc(20):new t(20);return k.writeInt32LE(this._a,0),k.writeInt32LE(this._b,4),k.writeInt32LE(this._c,8),k.writeInt32LE(this._d,12),k.writeInt32LE(this._e,16),k};function v(k,R){return k<<R|k>>>32-R}function b(k,R,C,P,N,U,q,F){return v(k+(R^C^P)+U+q|0,F)+N|0}function _(k,R,C,P,N,U,q,F){return v(k+(R&C|~R&P)+U+q|0,F)+N|0}function M(k,R,C,P,N,U,q,F){return v(k+((R|~C)^P)+U+q|0,F)+N|0}function A(k,R,C,P,N,U,q,F){return v(k+(R&P|C&~P)+U+q|0,F)+N|0}function I(k,R,C,P,N,U,q,F){return v(k+(R^(C|~P))+U+q|0,F)+N|0}return Kb=p,Kb}var Wb={exports:{}},Vb,mA;function sd(){if(mA)return Vb;mA=1;var t=cr().Buffer;function e(r,n){this._block=t.alloc(r),this._finalSize=n,this._blockSize=r,this._len=0}return e.prototype.update=function(r,n){typeof r=="string"&&(n=n||"utf8",r=t.from(r,n));for(var s=this._block,i=this._blockSize,o=r.length,l=this._len,u=0;u<o;){for(var d=l%i,p=Math.min(o-u,i-d),v=0;v<p;v++)s[d+v]=r[u+v];l+=p,u+=p,l%i===0&&this._update(s)}return this._len+=o,this},e.prototype.digest=function(r){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=this._len*8;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var i=(s&4294967295)>>>0,o=(s-i)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var l=this._hash();return r?l.toString(r):l},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Vb=e,Vb}var Gb,yA;function _J(){if(yA)return Gb;yA=1;var t=nr(),e=sd(),r=cr().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function i(){this.init(),this._w=s,e.call(this,64,56)}t(i,e),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(d){return d<<5|d>>>27}function l(d){return d<<30|d>>>2}function u(d,p,v,b){return d===0?p&v|~p&b:d===2?p&v|p&b|v&b:p^v^b}return i.prototype._update=function(d){for(var p=this._w,v=this._a|0,b=this._b|0,_=this._c|0,M=this._d|0,A=this._e|0,I=0;I<16;++I)p[I]=d.readInt32BE(I*4);for(;I<80;++I)p[I]=p[I-3]^p[I-8]^p[I-14]^p[I-16];for(var k=0;k<80;++k){var R=~~(k/20),C=o(v)+u(R,b,_,M)+A+p[k]+n[R]|0;A=M,M=_,_=l(b),b=v,v=C}this._a=v+this._a|0,this._b=b+this._b|0,this._c=_+this._c|0,this._d=M+this._d|0,this._e=A+this._e|0},i.prototype._hash=function(){var d=r.allocUnsafe(20);return d.writeInt32BE(this._a|0,0),d.writeInt32BE(this._b|0,4),d.writeInt32BE(this._c|0,8),d.writeInt32BE(this._d|0,12),d.writeInt32BE(this._e|0,16),d},Gb=i,Gb}var Yb,vA;function SJ(){if(vA)return Yb;vA=1;var t=nr(),e=sd(),r=cr().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function i(){this.init(),this._w=s,e.call(this,64,56)}t(i,e),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(p){return p<<1|p>>>31}function l(p){return p<<5|p>>>27}function u(p){return p<<30|p>>>2}function d(p,v,b,_){return p===0?v&b|~v&_:p===2?v&b|v&_|b&_:v^b^_}return i.prototype._update=function(p){for(var v=this._w,b=this._a|0,_=this._b|0,M=this._c|0,A=this._d|0,I=this._e|0,k=0;k<16;++k)v[k]=p.readInt32BE(k*4);for(;k<80;++k)v[k]=o(v[k-3]^v[k-8]^v[k-14]^v[k-16]);for(var R=0;R<80;++R){var C=~~(R/20),P=l(b)+d(C,_,M,A)+I+v[R]+n[C]|0;I=A,A=M,M=u(_),_=b,b=P}this._a=b+this._a|0,this._b=_+this._b|0,this._c=M+this._c|0,this._d=A+this._d|0,this._e=I+this._e|0},i.prototype._hash=function(){var p=r.allocUnsafe(20);return p.writeInt32BE(this._a|0,0),p.writeInt32BE(this._b|0,4),p.writeInt32BE(this._c|0,8),p.writeInt32BE(this._d|0,12),p.writeInt32BE(this._e|0,16),p},Yb=i,Yb}var Zb,wA;function GB(){if(wA)return Zb;wA=1;var t=nr(),e=sd(),r=cr().Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function i(){this.init(),this._w=s,e.call(this,64,56)}t(i,e),i.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function o(b,_,M){return M^b&(_^M)}function l(b,_,M){return b&_|M&(b|_)}function u(b){return(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10)}function d(b){return(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7)}function p(b){return(b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3}function v(b){return(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10}return i.prototype._update=function(b){for(var _=this._w,M=this._a|0,A=this._b|0,I=this._c|0,k=this._d|0,R=this._e|0,C=this._f|0,P=this._g|0,N=this._h|0,U=0;U<16;++U)_[U]=b.readInt32BE(U*4);for(;U<64;++U)_[U]=v(_[U-2])+_[U-7]+p(_[U-15])+_[U-16]|0;for(var q=0;q<64;++q){var F=N+d(R)+o(R,C,P)+n[q]+_[q]|0,L=u(M)+l(M,A,I)|0;N=P,P=C,C=R,R=k+F|0,k=I,I=A,A=M,M=F+L|0}this._a=M+this._a|0,this._b=A+this._b|0,this._c=I+this._c|0,this._d=k+this._d|0,this._e=R+this._e|0,this._f=C+this._f|0,this._g=P+this._g|0,this._h=N+this._h|0},i.prototype._hash=function(){var b=r.allocUnsafe(32);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b.writeInt32BE(this._h,28),b},Zb=i,Zb}var Jb,bA;function EJ(){if(bA)return Jb;bA=1;var t=nr(),e=GB(),r=sd(),n=cr().Buffer,s=new Array(64);function i(){this.init(),this._w=s,r.call(this,64,56)}return t(i,e),i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},i.prototype._hash=function(){var o=n.allocUnsafe(28);return o.writeInt32BE(this._a,0),o.writeInt32BE(this._b,4),o.writeInt32BE(this._c,8),o.writeInt32BE(this._d,12),o.writeInt32BE(this._e,16),o.writeInt32BE(this._f,20),o.writeInt32BE(this._g,24),o},Jb=i,Jb}var Xb,xA;function YB(){if(xA)return Xb;xA=1;var t=nr(),e=sd(),r=cr().Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function i(){this.init(),this._w=s,e.call(this,128,112)}t(i,e),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function o(A,I,k){return k^A&(I^k)}function l(A,I,k){return A&I|k&(A|I)}function u(A,I){return(A>>>28|I<<4)^(I>>>2|A<<30)^(I>>>7|A<<25)}function d(A,I){return(A>>>14|I<<18)^(A>>>18|I<<14)^(I>>>9|A<<23)}function p(A,I){return(A>>>1|I<<31)^(A>>>8|I<<24)^A>>>7}function v(A,I){return(A>>>1|I<<31)^(A>>>8|I<<24)^(A>>>7|I<<25)}function b(A,I){return(A>>>19|I<<13)^(I>>>29|A<<3)^A>>>6}function _(A,I){return(A>>>19|I<<13)^(I>>>29|A<<3)^(A>>>6|I<<26)}function M(A,I){return A>>>0<I>>>0?1:0}return i.prototype._update=function(A){for(var I=this._w,k=this._ah|0,R=this._bh|0,C=this._ch|0,P=this._dh|0,N=this._eh|0,U=this._fh|0,q=this._gh|0,F=this._hh|0,L=this._al|0,ie=this._bl|0,E=this._cl|0,a=this._dl|0,f=this._el|0,h=this._fl|0,g=this._gl|0,y=this._hl|0,x=0;x<32;x+=2)I[x]=A.readInt32BE(x*4),I[x+1]=A.readInt32BE(x*4+4);for(;x<160;x+=2){var S=I[x-30],m=I[x-15*2+1],c=p(S,m),w=v(m,S);S=I[x-2*2],m=I[x-2*2+1];var T=b(S,m),O=_(m,S),K=I[x-7*2],ee=I[x-7*2+1],J=I[x-16*2],$=I[x-16*2+1],z=w+ee|0,Y=c+K+M(z,w)|0;z=z+O|0,Y=Y+T+M(z,O)|0,z=z+$|0,Y=Y+J+M(z,$)|0,I[x]=Y,I[x+1]=z}for(var te=0;te<160;te+=2){Y=I[te],z=I[te+1];var G=l(k,R,C),j=l(L,ie,E),W=u(k,L),oe=u(L,k),ae=d(N,f),he=d(f,N),Oe=n[te],me=n[te+1],Ee=o(N,U,q),it=o(f,h,g),Se=y+he|0,xe=F+ae+M(Se,y)|0;Se=Se+it|0,xe=xe+Ee+M(Se,it)|0,Se=Se+me|0,xe=xe+Oe+M(Se,me)|0,Se=Se+z|0,xe=xe+Y+M(Se,z)|0;var Mt=oe+j|0,Ie=W+G+M(Mt,oe)|0;F=q,y=g,q=U,g=h,U=N,h=f,f=a+Se|0,N=P+xe+M(f,a)|0,P=C,a=E,C=R,E=ie,R=k,ie=L,L=Se+Mt|0,k=xe+Ie+M(L,Se)|0}this._al=this._al+L|0,this._bl=this._bl+ie|0,this._cl=this._cl+E|0,this._dl=this._dl+a|0,this._el=this._el+f|0,this._fl=this._fl+h|0,this._gl=this._gl+g|0,this._hl=this._hl+y|0,this._ah=this._ah+k+M(this._al,L)|0,this._bh=this._bh+R+M(this._bl,ie)|0,this._ch=this._ch+C+M(this._cl,E)|0,this._dh=this._dh+P+M(this._dl,a)|0,this._eh=this._eh+N+M(this._el,f)|0,this._fh=this._fh+U+M(this._fl,h)|0,this._gh=this._gh+q+M(this._gl,g)|0,this._hh=this._hh+F+M(this._hl,y)|0},i.prototype._hash=function(){var A=r.allocUnsafe(64);function I(k,R,C){A.writeInt32BE(k,C),A.writeInt32BE(R,C+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),A},Xb=i,Xb}var Qb,_A;function MJ(){if(_A)return Qb;_A=1;var t=nr(),e=YB(),r=sd(),n=cr().Buffer,s=new Array(160);function i(){this.init(),this._w=s,r.call(this,128,112)}return t(i,e),i.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},i.prototype._hash=function(){var o=n.allocUnsafe(48);function l(u,d,p){o.writeInt32BE(u,p),o.writeInt32BE(d,p+4)}return l(this._ah,this._al,0),l(this._bh,this._bl,8),l(this._ch,this._cl,16),l(this._dh,this._dl,24),l(this._eh,this._el,32),l(this._fh,this._fl,40),o},Qb=i,Qb}var SA;function lE(){if(SA)return Wb.exports;SA=1;var t=Wb.exports=function(r){r=r.toLowerCase();var n=t[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n};return t.sha=_J(),t.sha1=SJ(),t.sha224=EJ(),t.sha256=GB(),t.sha384=MJ(),t.sha512=YB(),Wb.exports}var e2,EA;function Gc(){if(EA)return e2;EA=1;var t=cr().Buffer,e=WB().Transform,r=lp.StringDecoder,n=nr();function s(u){e.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(s,e);var i=typeof Uint8Array<"u",o=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function l(u,d){if(u instanceof t)return u;if(typeof u=="string")return t.from(u,d);if(o&&ArrayBuffer.isView(u)){if(u.byteLength===0)return t.alloc(0);var p=t.from(u.buffer,u.byteOffset,u.byteLength);if(p.byteLength===u.byteLength)return p}if(i&&u instanceof Uint8Array||t.isBuffer(u)&&u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u))return t.from(u);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return s.prototype.update=function(u,d,p){var v=l(u,d),b=this._update(v);return this.hashMode?this:(p&&(b=this._toString(b,p)),b)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(u,d,p){var v;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(b){v=b}finally{p(v)}},s.prototype._flush=function(u){var d;try{this.push(this.__final())}catch(p){d=p}u(d)},s.prototype._finalOrDigest=function(u){var d=this.__final()||t.alloc(0);return u&&(d=this._toString(d,u,!0)),d},s.prototype._toString=function(u,d,p){if(this._decoder||(this._decoder=new r(d),this._encoding=d),this._encoding!==d)throw new Error("cant switch encodings");var v=this._decoder.write(u);return p&&(v+=this._decoder.end()),v},e2=s,e2}var t2,MA;function Gp(){if(MA)return t2;MA=1;var t=nr(),e=oE(),r=aE(),n=lE(),s=Gc();function i(o){s.call(this,"digest"),this._hash=o}return t(i,s),i.prototype._update=function(o){this._hash.update(o)},i.prototype._final=function(){return this._hash.digest()},t2=function(l){return l=l.toLowerCase(),l==="md5"?new e:l==="rmd160"||l==="ripemd160"?new r:new i(n(l))},t2}var r2,AA;function AJ(){if(AA)return r2;AA=1;var t=nr(),e=cr().Buffer,r=Gc(),n=e.alloc(128),s=64;function i(o,l){r.call(this,"digest"),typeof l=="string"&&(l=e.from(l)),this._alg=o,this._key=l,l.length>s?l=o(l):l.length<s&&(l=e.concat([l,n],s));for(var u=this._ipad=e.allocUnsafe(s),d=this._opad=e.allocUnsafe(s),p=0;p<s;p++)u[p]=l[p]^54,d[p]=l[p]^92;this._hash=[u]}return t(i,r),i.prototype._update=function(o){this._hash.push(o)},i.prototype._final=function(){var o=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,o]))},r2=i,r2}var n2,kA;function ZB(){if(kA)return n2;kA=1;var t=oE();return n2=function(e){return new t().update(e).digest()},n2}var i2,IA;function JB(){if(IA)return i2;IA=1;var t=nr(),e=AJ(),r=Gc(),n=cr().Buffer,s=ZB(),i=aE(),o=lE(),l=n.alloc(128);function u(d,p){r.call(this,"digest"),typeof p=="string"&&(p=n.from(p));var v=d==="sha512"||d==="sha384"?128:64;if(this._alg=d,this._key=p,p.length>v){var b=d==="rmd160"?new i:o(d);p=b.update(p).digest()}else p.length<v&&(p=n.concat([p,l],v));for(var _=this._ipad=n.allocUnsafe(v),M=this._opad=n.allocUnsafe(v),A=0;A<v;A++)_[A]=p[A]^54,M[A]=p[A]^92;this._hash=d==="rmd160"?new i:o(d),this._hash.update(_)}return t(u,r),u.prototype._update=function(d){this._hash.update(d)},u.prototype._final=function(){var d=this._hash.digest(),p=this._alg==="rmd160"?new i:o(this._alg);return p.update(this._opad).update(d).digest()},i2=function(p,v){return p=p.toLowerCase(),p==="rmd160"||p==="ripemd160"?new u("rmd160",v):p==="md5"?new e(s,v):new u(p,v)},i2}const kJ={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},IJ={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},RJ={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},CJ={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},TJ={sign:"ecdsa",hash:"sha256",id:""},PJ={sign:"ecdsa",hash:"sha224",id:""},OJ={sign:"ecdsa",hash:"sha384",id:""},NJ={sign:"ecdsa",hash:"sha512",id:""},BJ={sign:"dsa",hash:"sha1",id:""},LJ={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},DJ={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},XB={sha224WithRSAEncryption:kJ,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:IJ,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:RJ,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:CJ,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:TJ,sha224:PJ,sha384:OJ,sha512:NJ,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:BJ,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:LJ,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:DJ,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var s2,RA;function $J(){return RA||(RA=1,s2=XB),s2}var Jg={},o2,CA;function QB(){if(CA)return o2;CA=1;var t=Math.pow(2,30)-1;return o2=function(e,r){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>t||r!==r)throw new TypeError("Bad key length")},o2}var a2,TA;function eL(){if(TA)return a2;TA=1;var t;if(globalThis.process&&globalThis.process.browser)t="utf-8";else if(globalThis.process&&globalThis.process.version){var e=parseInt(process.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return a2=t,a2}var l2,PA;function tL(){if(PA)return l2;PA=1;var t=cr().Buffer;return l2=function(e,r,n){if(t.isBuffer(e))return e;if(typeof e=="string")return t.from(e,r);if(ArrayBuffer.isView(e))return t.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},l2}var c2,OA;function rL(){if(OA)return c2;OA=1;var t=ZB(),e=aE(),r=lE(),n=cr().Buffer,s=QB(),i=eL(),o=tL(),l=n.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(b,_,M){var A=p(b),I=b==="sha512"||b==="sha384"?128:64;_.length>I?_=A(_):_.length<I&&(_=n.concat([_,l],I));for(var k=n.allocUnsafe(I+u[b]),R=n.allocUnsafe(I+u[b]),C=0;C<I;C++)k[C]=_[C]^54,R[C]=_[C]^92;var P=n.allocUnsafe(I+M+4);k.copy(P,0,0,I),this.ipad1=P,this.ipad2=k,this.opad=R,this.alg=b,this.blocksize=I,this.hash=A,this.size=u[b]}d.prototype.run=function(b,_){b.copy(_,this.blocksize);var M=this.hash(_);return M.copy(this.opad,this.blocksize),this.hash(this.opad)};function p(b){function _(A){return r(b).update(A).digest()}function M(A){return new e().update(A).digest()}return b==="rmd160"||b==="ripemd160"?M:b==="md5"?t:_}function v(b,_,M,A,I){s(M,A),b=o(b,i,"Password"),_=o(_,i,"Salt"),I=I||"sha1";var k=new d(I,b,_.length),R=n.allocUnsafe(A),C=n.allocUnsafe(_.length+4);_.copy(C,0,0,_.length);for(var P=0,N=u[I],U=Math.ceil(A/N),q=1;q<=U;q++){C.writeUInt32BE(q,_.length);for(var F=k.run(C,k.ipad1),L=F,ie=1;ie<M;ie++){L=k.run(L,k.ipad2);for(var E=0;E<N;E++)F[E]^=L[E]}F.copy(R,P),P+=N}return R}return c2=v,c2}var u2,NA;function UJ(){if(NA)return u2;NA=1;var t=cr().Buffer,e=QB(),r=eL(),n=rL(),s=tL(),i,o=globalThis.crypto&&globalThis.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function d(M){if(globalThis.process&&!globalThis.process.browser||!o||!o.importKey||!o.deriveBits)return Promise.resolve(!1);if(u[M]!==void 0)return u[M];i=i||t.alloc(8);var A=b(i,i,10,128,M).then(function(){return!0}).catch(function(){return!1});return u[M]=A,A}var p;function v(){return p||(globalThis.process&&globalThis.process.nextTick?p=globalThis.process.nextTick:globalThis.queueMicrotask?p=globalThis.queueMicrotask:globalThis.setImmediate?p=globalThis.setImmediate:p=globalThis.setTimeout,p)}function b(M,A,I,k,R){return o.importKey("raw",M,{name:"PBKDF2"},!1,["deriveBits"]).then(function(C){return o.deriveBits({name:"PBKDF2",salt:A,iterations:I,hash:{name:R}},C,k<<3)}).then(function(C){return t.from(C)})}function _(M,A){M.then(function(I){v()(function(){A(null,I)})},function(I){v()(function(){A(I)})})}return u2=function(M,A,I,k,R,C){typeof R=="function"&&(C=R,R=void 0),R=R||"sha1";var P=l[R.toLowerCase()];if(!P||typeof globalThis.Promise!="function"){v()(function(){var N;try{N=n(M,A,I,k,R)}catch(U){return C(U)}C(null,N)});return}if(e(I,k),M=s(M,r,"Password"),A=s(A,r,"Salt"),typeof C!="function")throw new Error("No callback provided to pbkdf2");_(d(P).then(function(N){return N?b(M,A,I,k,P):n(M,A,I,k,R)}),C)},u2}var BA;function nL(){return BA||(BA=1,Jg.pbkdf2=UJ(),Jg.pbkdf2Sync=rL()),Jg}var Qs={},eu={},Ps={},LA;function iL(){if(LA)return Ps;LA=1,Ps.readUInt32BE=function(s,i){var o=s[0+i]<<24|s[1+i]<<16|s[2+i]<<8|s[3+i];return o>>>0},Ps.writeUInt32BE=function(s,i,o){s[0+o]=i>>>24,s[1+o]=i>>>16&255,s[2+o]=i>>>8&255,s[3+o]=i&255},Ps.ip=function(s,i,o,l){for(var u=0,d=0,p=6;p>=0;p-=2){for(var v=0;v<=24;v+=8)u<<=1,u|=i>>>v+p&1;for(var v=0;v<=24;v+=8)u<<=1,u|=s>>>v+p&1}for(var p=6;p>=0;p-=2){for(var v=1;v<=25;v+=8)d<<=1,d|=i>>>v+p&1;for(var v=1;v<=25;v+=8)d<<=1,d|=s>>>v+p&1}o[l+0]=u>>>0,o[l+1]=d>>>0},Ps.rip=function(s,i,o,l){for(var u=0,d=0,p=0;p<4;p++)for(var v=24;v>=0;v-=8)u<<=1,u|=i>>>v+p&1,u<<=1,u|=s>>>v+p&1;for(var p=4;p<8;p++)for(var v=24;v>=0;v-=8)d<<=1,d|=i>>>v+p&1,d<<=1,d|=s>>>v+p&1;o[l+0]=u>>>0,o[l+1]=d>>>0},Ps.pc1=function(s,i,o,l){for(var u=0,d=0,p=7;p>=5;p--){for(var v=0;v<=24;v+=8)u<<=1,u|=i>>v+p&1;for(var v=0;v<=24;v+=8)u<<=1,u|=s>>v+p&1}for(var v=0;v<=24;v+=8)u<<=1,u|=i>>v+p&1;for(var p=1;p<=3;p++){for(var v=0;v<=24;v+=8)d<<=1,d|=i>>v+p&1;for(var v=0;v<=24;v+=8)d<<=1,d|=s>>v+p&1}for(var v=0;v<=24;v+=8)d<<=1,d|=s>>v+p&1;o[l+0]=u>>>0,o[l+1]=d>>>0},Ps.r28shl=function(s,i){return s<<i&268435455|s>>>28-i};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Ps.pc2=function(s,i,o,l){for(var u=0,d=0,p=t.length>>>1,v=0;v<p;v++)u<<=1,u|=s>>>t[v]&1;for(var v=p;v<t.length;v++)d<<=1,d|=i>>>t[v]&1;o[l+0]=u>>>0,o[l+1]=d>>>0},Ps.expand=function(s,i,o){var l=0,u=0;l=(s&1)<<5|s>>>27;for(var d=23;d>=15;d-=4)l<<=6,l|=s>>>d&63;for(var d=11;d>=3;d-=4)u|=s>>>d&63,u<<=6;u|=(s&31)<<1|s>>>31,i[o+0]=l>>>0,i[o+1]=u>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Ps.substitute=function(s,i){for(var o=0,l=0;l<4;l++){var u=s>>>18-l*6&63,d=e[l*64+u];o<<=4,o|=d}for(var l=0;l<4;l++){var u=i>>>18-l*6&63,d=e[4*64+l*64+u];o<<=4,o|=d}return o>>>0};var r=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return Ps.permute=function(s){for(var i=0,o=0;o<r.length;o++)i<<=1,i|=s>>>r[o]&1;return i>>>0},Ps.padSplit=function(s,i,o){for(var l=s.toString(2);l.length<i;)l="0"+l;for(var u=[],d=0;d<i;d+=o)u.push(l.slice(d,d+o));return u.join(" ")},Ps}var f2,DA;function cE(){if(DA)return f2;DA=1;var t=Mo;function e(r){this.options=r,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=r.padding!==!1}return f2=e,e.prototype._init=function(){},e.prototype.update=function(n){return n.length===0?[]:this.type==="decrypt"?this._updateDecrypt(n):this._updateEncrypt(n)},e.prototype._buffer=function(n,s){for(var i=Math.min(this.buffer.length-this.bufferOff,n.length-s),o=0;o<i;o++)this.buffer[this.bufferOff+o]=n[s+o];return this.bufferOff+=i,i},e.prototype._flushBuffer=function(n,s){return this._update(this.buffer,0,n,s),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(n){var s=0,i=0,o=(this.bufferOff+n.length)/this.blockSize|0,l=new Array(o*this.blockSize);this.bufferOff!==0&&(s+=this._buffer(n,s),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(l,i)));for(var u=n.length-(n.length-s)%this.blockSize;s<u;s+=this.blockSize)this._update(n,s,l,i),i+=this.blockSize;for(;s<n.length;s++,this.bufferOff++)this.buffer[this.bufferOff]=n[s];return l},e.prototype._updateDecrypt=function(n){for(var s=0,i=0,o=Math.ceil((this.bufferOff+n.length)/this.blockSize)-1,l=new Array(o*this.blockSize);o>0;o--)s+=this._buffer(n,s),i+=this._flushBuffer(l,i);return s+=this._buffer(n,s),l},e.prototype.final=function(n){var s;n&&(s=this.update(n));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),s?s.concat(i):i},e.prototype._pad=function(n,s){if(s===0)return!1;for(;s<n.length;)n[s++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var n=new Array(this.blockSize);return this._update(this.buffer,0,n,0),n},e.prototype._unpad=function(n){return n},e.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var n=new Array(this.blockSize);return this._flushBuffer(n,0),this._unpad(n)},f2}var h2,$A;function sL(){if($A)return h2;$A=1;var t=Mo,e=nr(),r=iL(),n=cE();function s(){this.tmp=new Array(2),this.keys=null}function i(l){n.call(this,l);var u=new s;this._desState=u,this.deriveKeys(u,l.key)}e(i,n),h2=i,i.create=function(u){return new i(u)};var o=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return i.prototype.deriveKeys=function(u,d){u.keys=new Array(16*2),t.equal(d.length,this.blockSize,"Invalid key length");var p=r.readUInt32BE(d,0),v=r.readUInt32BE(d,4);r.pc1(p,v,u.tmp,0),p=u.tmp[0],v=u.tmp[1];for(var b=0;b<u.keys.length;b+=2){var _=o[b>>>1];p=r.r28shl(p,_),v=r.r28shl(v,_),r.pc2(p,v,u.keys,b)}},i.prototype._update=function(u,d,p,v){var b=this._desState,_=r.readUInt32BE(u,d),M=r.readUInt32BE(u,d+4);r.ip(_,M,b.tmp,0),_=b.tmp[0],M=b.tmp[1],this.type==="encrypt"?this._encrypt(b,_,M,b.tmp,0):this._decrypt(b,_,M,b.tmp,0),_=b.tmp[0],M=b.tmp[1],r.writeUInt32BE(p,_,v),r.writeUInt32BE(p,M,v+4)},i.prototype._pad=function(u,d){if(this.padding===!1)return!1;for(var p=u.length-d,v=d;v<u.length;v++)u[v]=p;return!0},i.prototype._unpad=function(u){if(this.padding===!1)return u;for(var d=u[u.length-1],p=u.length-d;p<u.length;p++)t.equal(u[p],d);return u.slice(0,u.length-d)},i.prototype._encrypt=function(u,d,p,v,b){for(var _=d,M=p,A=0;A<u.keys.length;A+=2){var I=u.keys[A],k=u.keys[A+1];r.expand(M,u.tmp,0),I^=u.tmp[0],k^=u.tmp[1];var R=r.substitute(I,k),C=r.permute(R),P=M;M=(_^C)>>>0,_=P}r.rip(M,_,v,b)},i.prototype._decrypt=function(u,d,p,v,b){for(var _=p,M=d,A=u.keys.length-2;A>=0;A-=2){var I=u.keys[A],k=u.keys[A+1];r.expand(_,u.tmp,0),I^=u.tmp[0],k^=u.tmp[1];var R=r.substitute(I,k),C=r.permute(R),P=_;_=(M^C)>>>0,M=P}r.rip(_,M,v,b)},h2}var d2={},UA;function FJ(){if(UA)return d2;UA=1;var t=Mo,e=nr(),r={};function n(i){t.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var o=0;o<this.iv.length;o++)this.iv[o]=i[o]}function s(i){function o(p){i.call(this,p),this._cbcInit()}e(o,i);for(var l=Object.keys(r),u=0;u<l.length;u++){var d=l[u];o.prototype[d]=r[d]}return o.create=function(v){return new o(v)},o}return d2.instantiate=s,r._cbcInit=function(){var o=new n(this.options.iv);this._cbcState=o},r._update=function(o,l,u,d){var p=this._cbcState,v=this.constructor.super_.prototype,b=p.iv;if(this.type==="encrypt"){for(var _=0;_<this.blockSize;_++)b[_]^=o[l+_];v._update.call(this,b,0,u,d);for(var _=0;_<this.blockSize;_++)b[_]=u[d+_]}else{v._update.call(this,o,l,u,d);for(var _=0;_<this.blockSize;_++)u[d+_]^=b[_];for(var _=0;_<this.blockSize;_++)b[_]=o[l+_]}},d2}var p2,FA;function jJ(){if(FA)return p2;FA=1;var t=Mo,e=nr(),r=cE(),n=sL();function s(o,l){t.equal(l.length,24,"Invalid key length");var u=l.slice(0,8),d=l.slice(8,16),p=l.slice(16,24);o==="encrypt"?this.ciphers=[n.create({type:"encrypt",key:u}),n.create({type:"decrypt",key:d}),n.create({type:"encrypt",key:p})]:this.ciphers=[n.create({type:"decrypt",key:p}),n.create({type:"encrypt",key:d}),n.create({type:"decrypt",key:u})]}function i(o){r.call(this,o);var l=new s(this.type,this.options.key);this._edeState=l}return e(i,r),p2=i,i.create=function(l){return new i(l)},i.prototype._update=function(l,u,d,p){var v=this._edeState;v.ciphers[0]._update(l,u,d,p),v.ciphers[1]._update(d,p,d,p),v.ciphers[2]._update(d,p,d,p)},i.prototype._pad=n.prototype._pad,i.prototype._unpad=n.prototype._unpad,p2}var jA;function qJ(){return jA||(jA=1,eu.utils=iL(),eu.Cipher=cE(),eu.DES=sL(),eu.CBC=FJ(),eu.EDE=jJ()),eu}var g2,qA;function zJ(){if(qA)return g2;qA=1;var t=Gc(),e=qJ(),r=nr(),n=cr().Buffer,s={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],g2=i,r(i,t);function i(o){t.call(this);var l=o.mode.toLowerCase(),u=s[l],d;o.decrypt?d="decrypt":d="encrypt";var p=o.key;n.isBuffer(p)||(p=n.from(p)),(l==="des-ede"||l==="des-ede-cbc")&&(p=n.concat([p,p.slice(0,8)]));var v=o.iv;n.isBuffer(v)||(v=n.from(v)),this._des=u.create({key:p,iv:v,type:d})}return i.prototype._update=function(o){return n.from(this._des.update(o))},i.prototype._final=function(){return n.from(this._des.final())},g2}var eo={},Xg={},Qg={},zA;function HJ(){return zA||(zA=1,Qg.encrypt=function(t,e){return t._cipher.encryptBlock(e)},Qg.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),Qg}var em={},m2,HA;function Yp(){return HA||(HA=1,m2=function(e,r){for(var n=Math.min(e.length,r.length),s=new Buffer(n),i=0;i<n;++i)s[i]=e[i]^r[i];return s}),m2}var KA;function KJ(){if(KA)return em;KA=1;var t=Yp();return em.encrypt=function(e,r){var n=t(r,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},em.decrypt=function(e,r){var n=e._prev;e._prev=r;var s=e._cipher.decryptBlock(r);return t(s,n)},em}var y2={},WA;function WJ(){if(WA)return y2;WA=1;var t=cr().Buffer,e=Yp();function r(n,s,i){var o=s.length,l=e(s,n._cache);return n._cache=n._cache.slice(o),n._prev=t.concat([n._prev,i?s:l]),l}return y2.encrypt=function(n,s,i){for(var o=t.allocUnsafe(0),l;s.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=t.allocUnsafe(0)),n._cache.length<=s.length)l=n._cache.length,o=t.concat([o,r(n,s.slice(0,l),i)]),s=s.slice(l);else{o=t.concat([o,r(n,s,i)]);break}return o},y2}var v2={},VA;function VJ(){if(VA)return v2;VA=1;var t=cr().Buffer;function e(r,n,s){var i=r._cipher.encryptBlock(r._prev),o=i[0]^n;return r._prev=t.concat([r._prev.slice(1),t.from([s?n:o])]),o}return v2.encrypt=function(r,n,s){for(var i=n.length,o=t.allocUnsafe(i),l=-1;++l<i;)o[l]=e(r,n[l],s);return o},v2}var w2={},GA;function GJ(){if(GA)return w2;GA=1;var t=cr().Buffer;function e(n,s,i){for(var o,l=-1,u=8,d=0,p,v;++l<u;)o=n._cipher.encryptBlock(n._prev),p=s&1<<7-l?128:0,v=o[0]^p,d+=(v&128)>>l%8,n._prev=r(n._prev,i?p:v);return d}function r(n,s){var i=n.length,o=-1,l=t.allocUnsafe(n.length);for(n=t.concat([n,t.from([s])]);++o<i;)l[o]=n[o]<<1|n[o+1]>>7;return l}return w2.encrypt=function(n,s,i){for(var o=s.length,l=t.allocUnsafe(o),u=-1;++u<o;)l[u]=e(n,s[u],i);return l},w2}var b2={},YA;function YJ(){if(YA)return b2;YA=1;var t=Yp();function e(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}return b2.encrypt=function(r,n){for(;r._cache.length<n.length;)r._cache=Buffer.concat([r._cache,e(r)]);var s=r._cache.slice(0,n.length);return r._cache=r._cache.slice(n.length),t(n,s)},b2}var x2={},_2,ZA;function oL(){if(ZA)return _2;ZA=1;function t(e){for(var r=e.length,n;r--;)if(n=e.readUInt8(r),n===255)e.writeUInt8(0,r);else{n++,e.writeUInt8(n,r);break}}return _2=t,_2}var JA;function XA(){if(JA)return x2;JA=1;var t=Yp(),e=cr().Buffer,r=oL();function n(i){var o=i._cipher.encryptBlockRaw(i._prev);return r(i._prev),o}var s=16;return x2.encrypt=function(i,o){var l=Math.ceil(o.length/s),u=i._cache.length;i._cache=e.concat([i._cache,e.allocUnsafe(l*s)]);for(var d=0;d<l;d++){var p=n(i),v=u+d*s;i._cache.writeUInt32BE(p[0],v+0),i._cache.writeUInt32BE(p[1],v+4),i._cache.writeUInt32BE(p[2],v+8),i._cache.writeUInt32BE(p[3],v+12)}var b=i._cache.slice(0,o.length);return i._cache=i._cache.slice(o.length),t(o,b)},x2}const ZJ={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},JJ={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},XJ={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aL={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:ZJ,aes192:JJ,aes256:XJ,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var S2,QA;function uE(){if(QA)return S2;QA=1;var t={ECB:HJ(),CBC:KJ(),CFB:WJ(),CFB8:VJ(),CFB1:GJ(),OFB:YJ(),CTR:XA(),GCM:XA()},e=aL;for(var r in e)e[r].module=t[e[r].mode];return S2=e,S2}var E2={},ek;function bv(){if(ek)return E2;ek=1;var t=cr().Buffer;function e(l){t.isBuffer(l)||(l=t.from(l));for(var u=l.length/4|0,d=new Array(u),p=0;p<u;p++)d[p]=l.readUInt32BE(p*4);return d}function r(l){for(var u=0;u<l.length;l++)l[u]=0}function n(l,u,d,p,v){for(var b=d[0],_=d[1],M=d[2],A=d[3],I=l[0]^u[0],k=l[1]^u[1],R=l[2]^u[2],C=l[3]^u[3],P,N,U,q,F=4,L=1;L<v;L++)P=b[I>>>24]^_[k>>>16&255]^M[R>>>8&255]^A[C&255]^u[F++],N=b[k>>>24]^_[R>>>16&255]^M[C>>>8&255]^A[I&255]^u[F++],U=b[R>>>24]^_[C>>>16&255]^M[I>>>8&255]^A[k&255]^u[F++],q=b[C>>>24]^_[I>>>16&255]^M[k>>>8&255]^A[R&255]^u[F++],I=P,k=N,R=U,C=q;return P=(p[I>>>24]<<24|p[k>>>16&255]<<16|p[R>>>8&255]<<8|p[C&255])^u[F++],N=(p[k>>>24]<<24|p[R>>>16&255]<<16|p[C>>>8&255]<<8|p[I&255])^u[F++],U=(p[R>>>24]<<24|p[C>>>16&255]<<16|p[I>>>8&255]<<8|p[k&255])^u[F++],q=(p[C>>>24]<<24|p[I>>>16&255]<<16|p[k>>>8&255]<<8|p[R&255])^u[F++],P=P>>>0,N=N>>>0,U=U>>>0,q=q>>>0,[P,N,U,q]}var s=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var l=new Array(256),u=0;u<256;u++)u<128?l[u]=u<<1:l[u]=u<<1^283;for(var d=[],p=[],v=[[],[],[],[]],b=[[],[],[],[]],_=0,M=0,A=0;A<256;++A){var I=M^M<<1^M<<2^M<<3^M<<4;I=I>>>8^I&255^99,d[_]=I,p[I]=_;var k=l[_],R=l[k],C=l[R],P=l[I]*257^I*16843008;v[0][_]=P<<24|P>>>8,v[1][_]=P<<16|P>>>16,v[2][_]=P<<8|P>>>24,v[3][_]=P,P=C*16843009^R*65537^k*257^_*16843008,b[0][I]=P<<24|P>>>8,b[1][I]=P<<16|P>>>16,b[2][I]=P<<8|P>>>24,b[3][I]=P,_===0?_=M=1:(_=k^l[l[l[C^k]]],M^=l[l[M]])}return{SBOX:d,INV_SBOX:p,SUB_MIX:v,INV_SUB_MIX:b}}();function o(l){this._key=e(l),this._reset()}return o.blockSize=4*4,o.keySize=256/8,o.prototype.blockSize=o.blockSize,o.prototype.keySize=o.keySize,o.prototype._reset=function(){for(var l=this._key,u=l.length,d=u+6,p=(d+1)*4,v=[],b=0;b<u;b++)v[b]=l[b];for(b=u;b<p;b++){var _=v[b-1];b%u===0?(_=_<<8|_>>>24,_=i.SBOX[_>>>24]<<24|i.SBOX[_>>>16&255]<<16|i.SBOX[_>>>8&255]<<8|i.SBOX[_&255],_^=s[b/u|0]<<24):u>6&&b%u===4&&(_=i.SBOX[_>>>24]<<24|i.SBOX[_>>>16&255]<<16|i.SBOX[_>>>8&255]<<8|i.SBOX[_&255]),v[b]=v[b-u]^_}for(var M=[],A=0;A<p;A++){var I=p-A,k=v[I-(A%4?0:4)];A<4||I<=4?M[A]=k:M[A]=i.INV_SUB_MIX[0][i.SBOX[k>>>24]]^i.INV_SUB_MIX[1][i.SBOX[k>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[k>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[k&255]]}this._nRounds=d,this._keySchedule=v,this._invKeySchedule=M},o.prototype.encryptBlockRaw=function(l){return l=e(l),n(l,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},o.prototype.encryptBlock=function(l){var u=this.encryptBlockRaw(l),d=t.allocUnsafe(16);return d.writeUInt32BE(u[0],0),d.writeUInt32BE(u[1],4),d.writeUInt32BE(u[2],8),d.writeUInt32BE(u[3],12),d},o.prototype.decryptBlock=function(l){l=e(l);var u=l[1];l[1]=l[3],l[3]=u;var d=n(l,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),p=t.allocUnsafe(16);return p.writeUInt32BE(d[0],0),p.writeUInt32BE(d[3],4),p.writeUInt32BE(d[2],8),p.writeUInt32BE(d[1],12),p},o.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},E2.AES=o,E2}var M2,tk;function QJ(){if(tk)return M2;tk=1;var t=cr().Buffer,e=t.alloc(16,0);function r(i){return[i.readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)]}function n(i){var o=t.allocUnsafe(16);return o.writeUInt32BE(i[0]>>>0,0),o.writeUInt32BE(i[1]>>>0,4),o.writeUInt32BE(i[2]>>>0,8),o.writeUInt32BE(i[3]>>>0,12),o}function s(i){this.h=i,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return s.prototype.ghash=function(i){for(var o=-1;++o<i.length;)this.state[o]^=i[o];this._multiply()},s.prototype._multiply=function(){for(var i=r(this.h),o=[0,0,0,0],l,u,d,p=-1;++p<128;){for(u=(this.state[~~(p/8)]&1<<7-p%8)!==0,u&&(o[0]^=i[0],o[1]^=i[1],o[2]^=i[2],o[3]^=i[3]),d=(i[3]&1)!==0,l=3;l>0;l--)i[l]=i[l]>>>1|(i[l-1]&1)<<31;i[0]=i[0]>>>1,d&&(i[0]=i[0]^225<<24)}this.state=n(o)},s.prototype.update=function(i){this.cache=t.concat([this.cache,i]);for(var o;this.cache.length>=16;)o=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(o)},s.prototype.final=function(i,o){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(n([0,i,0,o])),this.state},M2=s,M2}var A2,rk;function lL(){if(rk)return A2;rk=1;var t=bv(),e=cr().Buffer,r=Gc(),n=nr(),s=QJ(),i=Yp(),o=oL();function l(p,v){var b=0;p.length!==v.length&&b++;for(var _=Math.min(p.length,v.length),M=0;M<_;++M)b+=p[M]^v[M];return b}function u(p,v,b){if(v.length===12)return p._finID=e.concat([v,e.from([0,0,0,1])]),e.concat([v,e.from([0,0,0,2])]);var _=new s(b),M=v.length,A=M%16;_.update(v),A&&(A=16-A,_.update(e.alloc(A,0))),_.update(e.alloc(8,0));var I=M*8,k=e.alloc(8);k.writeUIntBE(I,0,8),_.update(k),p._finID=_.state;var R=e.from(p._finID);return o(R),R}function d(p,v,b,_){r.call(this);var M=e.alloc(4,0);this._cipher=new t.AES(v);var A=this._cipher.encryptBlock(M);this._ghash=new s(A),b=u(this,b,A),this._prev=e.from(b),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=_,this._alen=0,this._len=0,this._mode=p,this._authTag=null,this._called=!1}return n(d,r),d.prototype._update=function(p){if(!this._called&&this._alen){var v=16-this._alen%16;v<16&&(v=e.alloc(v,0),this._ghash.update(v))}this._called=!0;var b=this._mode.encrypt(this,p);return this._decrypt?this._ghash.update(p):this._ghash.update(b),this._len+=p.length,b},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var p=i(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&l(p,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=p,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(v){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=v},d.prototype.setAAD=function(v){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(v),this._alen+=v.length},A2=d,A2}var k2,nk;function cL(){if(nk)return k2;nk=1;var t=bv(),e=cr().Buffer,r=Gc(),n=nr();function s(i,o,l,u){r.call(this),this._cipher=new t.AES(o),this._prev=e.from(l),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=u,this._mode=i}return n(s,r),s.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},k2=s,k2}var I2,ik;function xv(){if(ik)return I2;ik=1;var t=cr().Buffer,e=oE();function r(n,s,i,o){if(t.isBuffer(n)||(n=t.from(n,"binary")),s&&(t.isBuffer(s)||(s=t.from(s,"binary")),s.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var l=i/8,u=t.alloc(l),d=t.alloc(o||0),p=t.alloc(0);l>0||o>0;){var v=new e;v.update(p),v.update(n),s&&v.update(s),p=v.digest();var b=0;if(l>0){var _=u.length-l;b=Math.min(l,p.length),p.copy(u,_,0,b),l-=b}if(b<p.length&&o>0){var M=d.length-o,A=Math.min(o,p.length-b);p.copy(d,M,b,b+A),o-=A}}return p.fill(0),{key:u,iv:d}}return I2=r,I2}var sk;function eX(){if(sk)return Xg;sk=1;var t=uE(),e=lL(),r=cr().Buffer,n=cL(),s=Gc(),i=bv(),o=xv(),l=nr();function u(_,M,A){s.call(this),this._cache=new p,this._cipher=new i.AES(M),this._prev=r.from(A),this._mode=_,this._autopadding=!0}l(u,s),u.prototype._update=function(_){this._cache.add(_);for(var M,A,I=[];M=this._cache.get();)A=this._mode.encrypt(this,M),I.push(A);return r.concat(I)};var d=r.alloc(16,16);u.prototype._final=function(){var _=this._cache.flush();if(this._autopadding)return _=this._mode.encrypt(this,_),this._cipher.scrub(),_;if(!_.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(_){return this._autopadding=!!_,this};function p(){this.cache=r.allocUnsafe(0)}p.prototype.add=function(_){this.cache=r.concat([this.cache,_])},p.prototype.get=function(){if(this.cache.length>15){var _=this.cache.slice(0,16);return this.cache=this.cache.slice(16),_}return null},p.prototype.flush=function(){for(var _=16-this.cache.length,M=r.allocUnsafe(_),A=-1;++A<_;)M.writeUInt8(_,A);return r.concat([this.cache,M])};function v(_,M,A){var I=t[_.toLowerCase()];if(!I)throw new TypeError("invalid suite type");if(typeof M=="string"&&(M=r.from(M)),M.length!==I.key/8)throw new TypeError("invalid key length "+M.length);if(typeof A=="string"&&(A=r.from(A)),I.mode!=="GCM"&&A.length!==I.iv)throw new TypeError("invalid iv length "+A.length);return I.type==="stream"?new n(I.module,M,A):I.type==="auth"?new e(I.module,M,A):new u(I.module,M,A)}function b(_,M){var A=t[_.toLowerCase()];if(!A)throw new TypeError("invalid suite type");var I=o(M,!1,A.key,A.iv);return v(_,I.key,I.iv)}return Xg.createCipheriv=v,Xg.createCipher=b,Xg}var tm={},ok;function tX(){if(ok)return tm;ok=1;var t=lL(),e=cr().Buffer,r=uE(),n=cL(),s=Gc(),i=bv(),o=xv(),l=nr();function u(_,M,A){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new i.AES(M),this._prev=e.from(A),this._mode=_,this._autopadding=!0}l(u,s),u.prototype._update=function(_){this._cache.add(_);for(var M,A,I=[];M=this._cache.get(this._autopadding);)A=this._mode.decrypt(this,M),I.push(A);return e.concat(I)},u.prototype._final=function(){var _=this._cache.flush();if(this._autopadding)return p(this._mode.decrypt(this,_));if(_)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(_){return this._autopadding=!!_,this};function d(){this.cache=e.allocUnsafe(0)}d.prototype.add=function(_){this.cache=e.concat([this.cache,_])},d.prototype.get=function(_){var M;if(_){if(this.cache.length>16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M}else if(this.cache.length>=16)return M=this.cache.slice(0,16),this.cache=this.cache.slice(16),M;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache};function p(_){var M=_[15];if(M<1||M>16)throw new Error("unable to decrypt data");for(var A=-1;++A<M;)if(_[A+(16-M)]!==M)throw new Error("unable to decrypt data");if(M!==16)return _.slice(0,16-M)}function v(_,M,A){var I=r[_.toLowerCase()];if(!I)throw new TypeError("invalid suite type");if(typeof A=="string"&&(A=e.from(A)),I.mode!=="GCM"&&A.length!==I.iv)throw new TypeError("invalid iv length "+A.length);if(typeof M=="string"&&(M=e.from(M)),M.length!==I.key/8)throw new TypeError("invalid key length "+M.length);return I.type==="stream"?new n(I.module,M,A,!0):I.type==="auth"?new t(I.module,M,A,!0):new u(I.module,M,A)}function b(_,M){var A=r[_.toLowerCase()];if(!A)throw new TypeError("invalid suite type");var I=o(M,!1,A.key,A.iv);return v(_,I.key,I.iv)}return tm.createDecipher=b,tm.createDecipheriv=v,tm}var ak;function fE(){if(ak)return eo;ak=1;var t=eX(),e=tX(),r=aL;function n(){return Object.keys(r)}return eo.createCipher=eo.Cipher=t.createCipher,eo.createCipheriv=eo.Cipheriv=t.createCipheriv,eo.createDecipher=eo.Decipher=e.createDecipher,eo.createDecipheriv=eo.Decipheriv=e.createDecipheriv,eo.listCiphers=eo.getCiphers=n,eo}var R2={},lk;function rX(){return lk||(lk=1,function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}}(R2)),R2}var ck;function nX(){if(ck)return Qs;ck=1;var t=zJ(),e=fE(),r=uE(),n=rX(),s=xv();function i(p,v){p=p.toLowerCase();var b,_;if(r[p])b=r[p].key,_=r[p].iv;else if(n[p])b=n[p].key*8,_=n[p].iv;else throw new TypeError("invalid suite type");var M=s(v,!1,b,_);return l(p,M.key,M.iv)}function o(p,v){p=p.toLowerCase();var b,_;if(r[p])b=r[p].key,_=r[p].iv;else if(n[p])b=n[p].key*8,_=n[p].iv;else throw new TypeError("invalid suite type");var M=s(v,!1,b,_);return u(p,M.key,M.iv)}function l(p,v,b){if(p=p.toLowerCase(),r[p])return e.createCipheriv(p,v,b);if(n[p])return new t({key:v,iv:b,mode:p});throw new TypeError("invalid suite type")}function u(p,v,b){if(p=p.toLowerCase(),r[p])return e.createDecipheriv(p,v,b);if(n[p])return new t({key:v,iv:b,mode:p,decrypt:!0});throw new TypeError("invalid suite type")}function d(){return Object.keys(n).concat(e.getCiphers())}return Qs.createCipher=Qs.Cipher=i,Qs.createCipheriv=Qs.Cipheriv=l,Qs.createDecipher=Qs.Decipher=o,Qs.createDecipheriv=Qs.Decipheriv=u,Qs.listCiphers=Qs.getCiphers=d,Qs}var tu={},a1={exports:{}};a1.exports;var uk;function uL(){return uk||(uk=1,function(t){(function(e,r){function n(E,a){if(!E)throw new Error(a||"Assertion failed")}function s(E,a){E.super_=a;var f=function(){};f.prototype=a.prototype,E.prototype=new f,E.prototype.constructor=E}function i(E,a,f){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(E||0,a||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Eo.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,h){if(typeof a=="number")return this._initNumber(a,f,h);if(typeof a=="object")return this._initArray(a,f,h);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(f===16?this._parseHex(a,g,h):(this._parseBase(a,f,g),h==="le"&&this._initArray(this.toArray(),f,h)))},i.prototype._initNumber=function(a,f,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),f,h)},i.prototype._initArray=function(a,f,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x,S=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)x=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)x=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);return this.strip()};function l(E,a){var f=E.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(E,a,f){var h=l(E,f);return f-1>=a&&(h|=l(E,f-1)<<4),h}i.prototype._parseHex=function(a,f,h){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,x=0,S;if(h==="be")for(g=a.length-1;g>=f;g-=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8;else{var m=a.length-f;for(g=m%2===0?f+1:f;g<a.length;g+=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8}this.strip()};function d(E,a,f,h){for(var g=0,y=Math.min(E.length,f),x=a;x<y;x++){var S=E.charCodeAt(x)-48;g*=h,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}i.prototype._parseBase=function(a,f,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=f)g++;g--,y=y/f|0;for(var x=a.length-h,S=x%g,m=Math.min(x,x-S)+h,c=0,w=h;w<m;w+=g)c=d(a,w,w+g,f),this.imuln(y),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(S!==0){var T=1;for(c=d(a,w,a.length,f),w=0;w<S;w++)T*=f;this.imuln(T),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,x=0;x<this.length;x++){var S=this.words[x],m=((S<<g|y)&16777215).toString(16);y=S>>>24-g&16777215,g+=2,g>=26&&(g-=26,x--),y!==0||x!==this.length-1?h=p[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var c=v[a],w=b[a];h="";var T=this.clone();for(T.negative=0;!T.isZero();){var O=T.modn(w).toString(a);T=T.idivn(w),T.isZero()?h=O+h:h=p[c-O.length]+O+h}for(this.isZero()&&(h="0"+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return n(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,h){var g=this.byteLength(),y=h||Math.max(1,g);n(g<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var x=f==="le",S=new a(y),m,c,w=this.clone();if(x){for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[c]=m;for(;c<y;c++)S[c]=0}else{for(c=0;c<y-g;c++)S[c]=0;for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[y-c-1]=m}return S},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,h=0;return f>=4096&&(h+=13,f>>>=13),f>=64&&(h+=7,f>>>=7),f>=8&&(h+=4,f>>>=4),f>=2&&(h+=2,f>>>=2),h+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,h=0;return f&8191||(h+=13,f>>>=13),f&127||(h+=7,f>>>=7),f&15||(h+=4,f>>>=4),f&3||(h+=2,f>>>=2),f&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function _(E){for(var a=new Array(E.bitLength()),f=0;f<a.length;f++){var h=f/26|0,g=f%26;a[f]=(E.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var h=this._zeroBits(this.words[f]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,h;this.length>a.length?(f=this,h=a):(f=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=f.words[g]^h.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,h=a%26;this._expand(f),h>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),f?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,x=0;x<g.length;x++)f=(h.words[x]|0)+(g.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;for(;y!==0&&x<h.length;x++)f=(h.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var x=0,S=0;S<y.length;S++)f=(g.words[S]|0)-(y.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;for(;x!==0&&S<g.length;S++)f=(g.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;if(x===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function M(E,a,f){f.negative=a.negative^E.negative;var h=E.length+a.length|0;f.length=h,h=h-1|0;var g=E.words[0]|0,y=a.words[0]|0,x=g*y,S=x&67108863,m=x/67108864|0;f.words[0]=S;for(var c=1;c<h;c++){for(var w=m>>>26,T=m&67108863,O=Math.min(c,a.length-1),K=Math.max(0,c-E.length+1);K<=O;K++){var ee=c-K|0;g=E.words[ee]|0,y=a.words[K]|0,x=g*y+T,w+=x/67108864|0,T=x&67108863}f.words[c]=T|0,m=w|0}return m!==0?f.words[c]=m|0:f.length--,f.strip()}var A=function(a,f,h){var g=a.words,y=f.words,x=h.words,S=0,m,c,w,T=g[0]|0,O=T&8191,K=T>>>13,ee=g[1]|0,J=ee&8191,$=ee>>>13,z=g[2]|0,Y=z&8191,te=z>>>13,G=g[3]|0,j=G&8191,W=G>>>13,oe=g[4]|0,ae=oe&8191,he=oe>>>13,Oe=g[5]|0,me=Oe&8191,Ee=Oe>>>13,it=g[6]|0,Se=it&8191,xe=it>>>13,Mt=g[7]|0,Ie=Mt&8191,Ne=Mt>>>13,qt=g[8]|0,Z=qt&8191,B=qt>>>13,H=g[9]|0,ne=H&8191,ce=H>>>13,Me=y[0]|0,de=Me&8191,Ce=Me>>>13,Rt=y[1]|0,ke=Rt&8191,De=Rt>>>13,St=y[2]|0,Be=St&8191,He=St>>>13,Jt=y[3]|0,Ue=Jt&8191,Ke=Jt>>>13,zt=y[4]|0,Le=zt&8191,ze=zt>>>13,le=y[5]|0,se=le&8191,be=le>>>13,Ge=y[6]|0,we=Ge&8191,Fe=Ge>>>13,V=y[7]|0,X=V&8191,Q=V>>>13,D=y[8]|0,re=D&8191,ue=D>>>13,_e=y[9]|0,ge=_e&8191,ve=_e>>>13;h.negative=a.negative^f.negative,h.length=19,m=Math.imul(O,de),c=Math.imul(O,Ce),c=c+Math.imul(K,de)|0,w=Math.imul(K,Ce);var Ze=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,m=Math.imul(J,de),c=Math.imul(J,Ce),c=c+Math.imul($,de)|0,w=Math.imul($,Ce),m=m+Math.imul(O,ke)|0,c=c+Math.imul(O,De)|0,c=c+Math.imul(K,ke)|0,w=w+Math.imul(K,De)|0;var Ye=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,m=Math.imul(Y,de),c=Math.imul(Y,Ce),c=c+Math.imul(te,de)|0,w=Math.imul(te,Ce),m=m+Math.imul(J,ke)|0,c=c+Math.imul(J,De)|0,c=c+Math.imul($,ke)|0,w=w+Math.imul($,De)|0,m=m+Math.imul(O,Be)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(K,Be)|0,w=w+Math.imul(K,He)|0;var Bt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(j,de),c=Math.imul(j,Ce),c=c+Math.imul(W,de)|0,w=Math.imul(W,Ce),m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(te,ke)|0,w=w+Math.imul(te,De)|0,m=m+Math.imul(J,Be)|0,c=c+Math.imul(J,He)|0,c=c+Math.imul($,Be)|0,w=w+Math.imul($,He)|0,m=m+Math.imul(O,Ue)|0,c=c+Math.imul(O,Ke)|0,c=c+Math.imul(K,Ue)|0,w=w+Math.imul(K,Ke)|0;var rt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,m=Math.imul(ae,de),c=Math.imul(ae,Ce),c=c+Math.imul(he,de)|0,w=Math.imul(he,Ce),m=m+Math.imul(j,ke)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(W,ke)|0,w=w+Math.imul(W,De)|0,m=m+Math.imul(Y,Be)|0,c=c+Math.imul(Y,He)|0,c=c+Math.imul(te,Be)|0,w=w+Math.imul(te,He)|0,m=m+Math.imul(J,Ue)|0,c=c+Math.imul(J,Ke)|0,c=c+Math.imul($,Ue)|0,w=w+Math.imul($,Ke)|0,m=m+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(K,Le)|0,w=w+Math.imul(K,ze)|0;var Et=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(me,de),c=Math.imul(me,Ce),c=c+Math.imul(Ee,de)|0,w=Math.imul(Ee,Ce),m=m+Math.imul(ae,ke)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(he,ke)|0,w=w+Math.imul(he,De)|0,m=m+Math.imul(j,Be)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(W,Be)|0,w=w+Math.imul(W,He)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(te,Ue)|0,w=w+Math.imul(te,Ke)|0,m=m+Math.imul(J,Le)|0,c=c+Math.imul(J,ze)|0,c=c+Math.imul($,Le)|0,w=w+Math.imul($,ze)|0,m=m+Math.imul(O,se)|0,c=c+Math.imul(O,be)|0,c=c+Math.imul(K,se)|0,w=w+Math.imul(K,be)|0;var At=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(Se,de),c=Math.imul(Se,Ce),c=c+Math.imul(xe,de)|0,w=Math.imul(xe,Ce),m=m+Math.imul(me,ke)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(Ee,ke)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(ae,Be)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(he,Be)|0,w=w+Math.imul(he,He)|0,m=m+Math.imul(j,Ue)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(W,Ue)|0,w=w+Math.imul(W,Ke)|0,m=m+Math.imul(Y,Le)|0,c=c+Math.imul(Y,ze)|0,c=c+Math.imul(te,Le)|0,w=w+Math.imul(te,ze)|0,m=m+Math.imul(J,se)|0,c=c+Math.imul(J,be)|0,c=c+Math.imul($,se)|0,w=w+Math.imul($,be)|0,m=m+Math.imul(O,we)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(K,we)|0,w=w+Math.imul(K,Fe)|0;var _t=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(Ie,de),c=Math.imul(Ie,Ce),c=c+Math.imul(Ne,de)|0,w=Math.imul(Ne,Ce),m=m+Math.imul(Se,ke)|0,c=c+Math.imul(Se,De)|0,c=c+Math.imul(xe,ke)|0,w=w+Math.imul(xe,De)|0,m=m+Math.imul(me,Be)|0,c=c+Math.imul(me,He)|0,c=c+Math.imul(Ee,Be)|0,w=w+Math.imul(Ee,He)|0,m=m+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Ke)|0,c=c+Math.imul(he,Ue)|0,w=w+Math.imul(he,Ke)|0,m=m+Math.imul(j,Le)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(W,Le)|0,w=w+Math.imul(W,ze)|0,m=m+Math.imul(Y,se)|0,c=c+Math.imul(Y,be)|0,c=c+Math.imul(te,se)|0,w=w+Math.imul(te,be)|0,m=m+Math.imul(J,we)|0,c=c+Math.imul(J,Fe)|0,c=c+Math.imul($,we)|0,w=w+Math.imul($,Fe)|0,m=m+Math.imul(O,X)|0,c=c+Math.imul(O,Q)|0,c=c+Math.imul(K,X)|0,w=w+Math.imul(K,Q)|0;var Ot=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(Z,de),c=Math.imul(Z,Ce),c=c+Math.imul(B,de)|0,w=Math.imul(B,Ce),m=m+Math.imul(Ie,ke)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Ne,ke)|0,w=w+Math.imul(Ne,De)|0,m=m+Math.imul(Se,Be)|0,c=c+Math.imul(Se,He)|0,c=c+Math.imul(xe,Be)|0,w=w+Math.imul(xe,He)|0,m=m+Math.imul(me,Ue)|0,c=c+Math.imul(me,Ke)|0,c=c+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,Ke)|0,m=m+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(he,Le)|0,w=w+Math.imul(he,ze)|0,m=m+Math.imul(j,se)|0,c=c+Math.imul(j,be)|0,c=c+Math.imul(W,se)|0,w=w+Math.imul(W,be)|0,m=m+Math.imul(Y,we)|0,c=c+Math.imul(Y,Fe)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Fe)|0,m=m+Math.imul(J,X)|0,c=c+Math.imul(J,Q)|0,c=c+Math.imul($,X)|0,w=w+Math.imul($,Q)|0,m=m+Math.imul(O,re)|0,c=c+Math.imul(O,ue)|0,c=c+Math.imul(K,re)|0,w=w+Math.imul(K,ue)|0;var kt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(ne,de),c=Math.imul(ne,Ce),c=c+Math.imul(ce,de)|0,w=Math.imul(ce,Ce),m=m+Math.imul(Z,ke)|0,c=c+Math.imul(Z,De)|0,c=c+Math.imul(B,ke)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(Ie,Be)|0,c=c+Math.imul(Ie,He)|0,c=c+Math.imul(Ne,Be)|0,w=w+Math.imul(Ne,He)|0,m=m+Math.imul(Se,Ue)|0,c=c+Math.imul(Se,Ke)|0,c=c+Math.imul(xe,Ue)|0,w=w+Math.imul(xe,Ke)|0,m=m+Math.imul(me,Le)|0,c=c+Math.imul(me,ze)|0,c=c+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(ae,se)|0,c=c+Math.imul(ae,be)|0,c=c+Math.imul(he,se)|0,w=w+Math.imul(he,be)|0,m=m+Math.imul(j,we)|0,c=c+Math.imul(j,Fe)|0,c=c+Math.imul(W,we)|0,w=w+Math.imul(W,Fe)|0,m=m+Math.imul(Y,X)|0,c=c+Math.imul(Y,Q)|0,c=c+Math.imul(te,X)|0,w=w+Math.imul(te,Q)|0,m=m+Math.imul(J,re)|0,c=c+Math.imul(J,ue)|0,c=c+Math.imul($,re)|0,w=w+Math.imul($,ue)|0,m=m+Math.imul(O,ge)|0,c=c+Math.imul(O,ve)|0,c=c+Math.imul(K,ge)|0,w=w+Math.imul(K,ve)|0;var Ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ne,ke),c=Math.imul(ne,De),c=c+Math.imul(ce,ke)|0,w=Math.imul(ce,De),m=m+Math.imul(Z,Be)|0,c=c+Math.imul(Z,He)|0,c=c+Math.imul(B,Be)|0,w=w+Math.imul(B,He)|0,m=m+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Ke)|0,c=c+Math.imul(Ne,Ue)|0,w=w+Math.imul(Ne,Ke)|0,m=m+Math.imul(Se,Le)|0,c=c+Math.imul(Se,ze)|0,c=c+Math.imul(xe,Le)|0,w=w+Math.imul(xe,ze)|0,m=m+Math.imul(me,se)|0,c=c+Math.imul(me,be)|0,c=c+Math.imul(Ee,se)|0,w=w+Math.imul(Ee,be)|0,m=m+Math.imul(ae,we)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(he,we)|0,w=w+Math.imul(he,Fe)|0,m=m+Math.imul(j,X)|0,c=c+Math.imul(j,Q)|0,c=c+Math.imul(W,X)|0,w=w+Math.imul(W,Q)|0,m=m+Math.imul(Y,re)|0,c=c+Math.imul(Y,ue)|0,c=c+Math.imul(te,re)|0,w=w+Math.imul(te,ue)|0,m=m+Math.imul(J,ge)|0,c=c+Math.imul(J,ve)|0,c=c+Math.imul($,ge)|0,w=w+Math.imul($,ve)|0;var It=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(ne,Be),c=Math.imul(ne,He),c=c+Math.imul(ce,Be)|0,w=Math.imul(ce,He),m=m+Math.imul(Z,Ue)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(B,Ue)|0,w=w+Math.imul(B,Ke)|0,m=m+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,ze)|0,m=m+Math.imul(Se,se)|0,c=c+Math.imul(Se,be)|0,c=c+Math.imul(xe,se)|0,w=w+Math.imul(xe,be)|0,m=m+Math.imul(me,we)|0,c=c+Math.imul(me,Fe)|0,c=c+Math.imul(Ee,we)|0,w=w+Math.imul(Ee,Fe)|0,m=m+Math.imul(ae,X)|0,c=c+Math.imul(ae,Q)|0,c=c+Math.imul(he,X)|0,w=w+Math.imul(he,Q)|0,m=m+Math.imul(j,re)|0,c=c+Math.imul(j,ue)|0,c=c+Math.imul(W,re)|0,w=w+Math.imul(W,ue)|0,m=m+Math.imul(Y,ge)|0,c=c+Math.imul(Y,ve)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,ve)|0;var ft=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(ne,Ue),c=Math.imul(ne,Ke),c=c+Math.imul(ce,Ue)|0,w=Math.imul(ce,Ke),m=m+Math.imul(Z,Le)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(B,Le)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(Ie,se)|0,c=c+Math.imul(Ie,be)|0,c=c+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,be)|0,m=m+Math.imul(Se,we)|0,c=c+Math.imul(Se,Fe)|0,c=c+Math.imul(xe,we)|0,w=w+Math.imul(xe,Fe)|0,m=m+Math.imul(me,X)|0,c=c+Math.imul(me,Q)|0,c=c+Math.imul(Ee,X)|0,w=w+Math.imul(Ee,Q)|0,m=m+Math.imul(ae,re)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(he,re)|0,w=w+Math.imul(he,ue)|0,m=m+Math.imul(j,ge)|0,c=c+Math.imul(j,ve)|0,c=c+Math.imul(W,ge)|0,w=w+Math.imul(W,ve)|0;var pt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(ne,Le),c=Math.imul(ne,ze),c=c+Math.imul(ce,Le)|0,w=Math.imul(ce,ze),m=m+Math.imul(Z,se)|0,c=c+Math.imul(Z,be)|0,c=c+Math.imul(B,se)|0,w=w+Math.imul(B,be)|0,m=m+Math.imul(Ie,we)|0,c=c+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ne,we)|0,w=w+Math.imul(Ne,Fe)|0,m=m+Math.imul(Se,X)|0,c=c+Math.imul(Se,Q)|0,c=c+Math.imul(xe,X)|0,w=w+Math.imul(xe,Q)|0,m=m+Math.imul(me,re)|0,c=c+Math.imul(me,ue)|0,c=c+Math.imul(Ee,re)|0,w=w+Math.imul(Ee,ue)|0,m=m+Math.imul(ae,ge)|0,c=c+Math.imul(ae,ve)|0,c=c+Math.imul(he,ge)|0,w=w+Math.imul(he,ve)|0;var at=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(ne,se),c=Math.imul(ne,be),c=c+Math.imul(ce,se)|0,w=Math.imul(ce,be),m=m+Math.imul(Z,we)|0,c=c+Math.imul(Z,Fe)|0,c=c+Math.imul(B,we)|0,w=w+Math.imul(B,Fe)|0,m=m+Math.imul(Ie,X)|0,c=c+Math.imul(Ie,Q)|0,c=c+Math.imul(Ne,X)|0,w=w+Math.imul(Ne,Q)|0,m=m+Math.imul(Se,re)|0,c=c+Math.imul(Se,ue)|0,c=c+Math.imul(xe,re)|0,w=w+Math.imul(xe,ue)|0,m=m+Math.imul(me,ge)|0,c=c+Math.imul(me,ve)|0,c=c+Math.imul(Ee,ge)|0,w=w+Math.imul(Ee,ve)|0;var ht=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(ne,we),c=Math.imul(ne,Fe),c=c+Math.imul(ce,we)|0,w=Math.imul(ce,Fe),m=m+Math.imul(Z,X)|0,c=c+Math.imul(Z,Q)|0,c=c+Math.imul(B,X)|0,w=w+Math.imul(B,Q)|0,m=m+Math.imul(Ie,re)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(Ne,re)|0,w=w+Math.imul(Ne,ue)|0,m=m+Math.imul(Se,ge)|0,c=c+Math.imul(Se,ve)|0,c=c+Math.imul(xe,ge)|0,w=w+Math.imul(xe,ve)|0;var ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(ne,X),c=Math.imul(ne,Q),c=c+Math.imul(ce,X)|0,w=Math.imul(ce,Q),m=m+Math.imul(Z,re)|0,c=c+Math.imul(Z,ue)|0,c=c+Math.imul(B,re)|0,w=w+Math.imul(B,ue)|0,m=m+Math.imul(Ie,ge)|0,c=c+Math.imul(Ie,ve)|0,c=c+Math.imul(Ne,ge)|0,w=w+Math.imul(Ne,ve)|0;var st=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,m=Math.imul(ne,re),c=Math.imul(ne,ue),c=c+Math.imul(ce,re)|0,w=Math.imul(ce,ue),m=m+Math.imul(Z,ge)|0,c=c+Math.imul(Z,ve)|0,c=c+Math.imul(B,ge)|0,w=w+Math.imul(B,ve)|0;var Te=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(ne,ge),c=Math.imul(ne,ve),c=c+Math.imul(ce,ge)|0,w=Math.imul(ce,ve);var Pe=(S+m|0)+((c&8191)<<13)|0;return S=(w+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,x[0]=Ze,x[1]=Ye,x[2]=Bt,x[3]=rt,x[4]=Et,x[5]=At,x[6]=_t,x[7]=Ot,x[8]=kt,x[9]=Ct,x[10]=It,x[11]=ft,x[12]=pt,x[13]=at,x[14]=ht,x[15]=ct,x[16]=st,x[17]=Te,x[18]=Pe,S!==0&&(x[19]=S,h.length++),h};Math.imul||(A=M);function I(E,a,f){f.negative=a.negative^E.negative,f.length=E.length+a.length;for(var h=0,g=0,y=0;y<f.length-1;y++){var x=g;g=0;for(var S=h&67108863,m=Math.min(y,a.length-1),c=Math.max(0,y-E.length+1);c<=m;c++){var w=y-c,T=E.words[w]|0,O=a.words[c]|0,K=T*O,ee=K&67108863;x=x+(K/67108864|0)|0,ee=ee+S|0,S=ee&67108863,x=x+(ee>>>26)|0,g+=x>>>26,x&=67108863}f.words[y]=S,h=x,x=g}return h!==0?f.words[y]=h:f.length--,f.strip()}function k(E,a,f){var h=new R;return h.mulp(E,a,f)}i.prototype.mulTo=function(a,f){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=A(this,a,f):g<63?h=M(this,a,f):g<1024?h=I(this,a,f):h=k(this,a,f),h};function R(E,a){this.x=E,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,h,a);return f},R.prototype.revBin=function(a,f,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<f;y++)g|=(a&1)<<f-y-1,a>>=1;return g},R.prototype.permute=function(a,f,h,g,y,x){for(var S=0;S<x;S++)g[S]=f[a[S]],y[S]=h[a[S]]},R.prototype.transform=function(a,f,h,g,y,x){this.permute(x,a,f,h,g,y);for(var S=1;S<y;S<<=1)for(var m=S<<1,c=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),T=0;T<y;T+=m)for(var O=c,K=w,ee=0;ee<S;ee++){var J=h[T+ee],$=g[T+ee],z=h[T+ee+S],Y=g[T+ee+S],te=O*z-K*Y;Y=O*Y+K*z,z=te,h[T+ee]=J+z,g[T+ee]=$+Y,h[T+ee+S]=J-z,g[T+ee+S]=$-Y,ee!==m&&(te=c*O-w*K,K=c*K+w*O,O=te)}},R.prototype.guessLen13b=function(a,f){var h=Math.max(f,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},R.prototype.conjugate=function(a,f,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=f[g],f[g]=-f[h-g-1],f[h-g-1]=-y}},R.prototype.normalize13b=function(a,f){for(var h=0,g=0;g<f/2;g++){var y=Math.round(a[2*g+1]/f)*8192+Math.round(a[2*g]/f)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},R.prototype.convert13b=function(a,f,h,g){for(var y=0,x=0;x<f;x++)y=y+(a[x]|0),h[2*x]=y&8191,y=y>>>13,h[2*x+1]=y&8191,y=y>>>13;for(x=2*f;x<g;++x)h[x]=0;n(y===0),n((y&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),h=0;h<a;h++)f[h]=0;return f},R.prototype.mulp=function(a,f,h){var g=2*this.guessLen13b(a.length,f.length),y=this.makeRBT(g),x=this.stub(g),S=new Array(g),m=new Array(g),c=new Array(g),w=new Array(g),T=new Array(g),O=new Array(g),K=h.words;K.length=g,this.convert13b(a.words,a.length,S,g),this.convert13b(f.words,f.length,w,g),this.transform(S,x,m,c,g,y),this.transform(w,x,T,O,g,y);for(var ee=0;ee<g;ee++){var J=m[ee]*T[ee]-c[ee]*O[ee];c[ee]=m[ee]*O[ee]+c[ee]*T[ee],m[ee]=J}return this.conjugate(m,c,g),this.transform(m,c,K,x,g,y),this.conjugate(K,x,g),this.normalize13b(K,g),h.negative=a.negative^f.negative,h.length=a.length+f.length,h.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),k(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var f=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=y>>>26,this.words[h]=y&67108863}return f!==0&&(this.words[h]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=_(a);if(f.length===0)return new i(1);for(var h=this,g=0;g<f.length&&f[g]===0;g++,h=h.sqr());if(++g<f.length)for(var y=h.sqr();g<f.length;g++,y=y.sqr())f[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=67108863>>>26-f<<26-f,y;if(f!==0){var x=0;for(y=0;y<this.length;y++){var S=this.words[y]&g,m=(this.words[y]|0)-S<<f;this.words[y]=m|x,x=S>>>26-f}x&&(this.words[y]=x,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,h){n(typeof a=="number"&&a>=0);var g;f?g=(f-f%26)/26:g=0;var y=a%26,x=Math.min((a-y)/26,this.length),S=67108863^67108863>>>y<<y,m=h;if(g-=x,g=Math.max(0,g),m){for(var c=0;c<x;c++)m.words[c]=this.words[c];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,c=0;c<this.length;c++)this.words[c]=this.words[c+x];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=g);c--){var T=this.words[c]|0;this.words[c]=w<<26-y|T>>>y,w=T&S}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,h){return n(this.negative===0),this.iushrn(a,f,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(f!==0&&h++,this.length=Math.min(h,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,h){var g=a.length+h,y;this._expand(g);var x,S=0;for(y=0;y<a.length;y++){x=(this.words[y+h]|0)+S;var m=(a.words[y]|0)*f;x-=m&67108863,S=(x>>26)-(m/67108864|0),this.words[y+h]=x&67108863}for(;y<this.length-h;y++)x=(this.words[y+h]|0)+S,S=x>>26,this.words[y+h]=x&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,y=0;y<this.length;y++)x=-(this.words[y]|0)+S,S=x>>26,this.words[y]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var h=this.length-a.length,g=this.clone(),y=a,x=y.words[y.length-1]|0,S=this._countBits(x);h=26-S,h!==0&&(y=y.ushln(h),g.iushln(h),x=y.words[y.length-1]|0);var m=g.length-y.length,c;if(f!=="mod"){c=new i(null),c.length=m+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var T=g.clone()._ishlnsubmul(y,1,m);T.negative===0&&(g=T,c&&(c.words[m]=1));for(var O=m-1;O>=0;O--){var K=(g.words[y.length+O]|0)*67108864+(g.words[y.length+O-1]|0);for(K=Math.min(K/x|0,67108863),g._ishlnsubmul(y,K,O);g.negative!==0;)K--,g.negative=0,g._ishlnsubmul(y,1,O),g.isZero()||(g.negative^=1);c&&(c.words[O]=K)}return c&&c.strip(),g.strip(),f!=="div"&&h!==0&&g.iushrn(h),{div:c||null,mod:g}},i.prototype.divmod=function(a,f,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,x;return this.negative!==0&&a.negative===0?(x=this.neg().divmod(a,f),f!=="mod"&&(g=x.div.neg()),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(x=this.divmod(a.neg(),f),f!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):this.negative&a.negative?(x=this.neg().divmod(a.neg(),f),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:x.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var h=f.div.negative!==0?f.mod.isub(a):f.mod,g=a.ushrn(1),y=a.andln(1),x=h.cmp(g);return x<0||y===1&&x===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var f=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(f*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+f*67108864;this.words[h]=g/a|0,f=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=new i(0),S=new i(1),m=0;f.isEven()&&h.isEven();)f.iushrn(1),h.iushrn(1),++m;for(var c=h.clone(),w=f.clone();!f.isZero();){for(var T=0,O=1;!(f.words[0]&O)&&T<26;++T,O<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(c),y.isub(w)),g.iushrn(1),y.iushrn(1);for(var K=0,ee=1;!(h.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(c),S.isub(w)),x.iushrn(1),S.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(x),y.isub(S)):(h.isub(f),x.isub(g),S.isub(y))}return{a:x,b:S,gcd:h.iushln(m)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=h.clone();f.cmpn(1)>0&&h.cmpn(1)>0;){for(var S=0,m=1;!(f.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);for(var c=0,w=1;!(h.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(h.iushrn(c);c-- >0;)y.isOdd()&&y.iadd(x),y.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(y)):(h.isub(f),y.isub(g))}var T;return f.cmpn(1)===0?T=g:T=y,T.cmpn(0)<0&&T.iadd(a),T},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),h=a.clone();f.negative=0,h.negative=0;for(var g=0;f.isEven()&&h.isEven();g++)f.iushrn(1),h.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=f.cmp(h);if(y<0){var x=f;f=h,h=x}else if(y===0||h.cmpn(1)===0)break;f.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,x=h;y!==0&&x<this.length;x++){var S=this.words[x]|0;S+=y,y=S>>>26,S&=67108863,this.words[x]=S}return y!==0&&(this.words[x]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var h;if(this.length>1)h=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?f=-1:g>y&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new L(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function P(E,a){this.name=E,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,h;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),h=f.bitLength();while(h>this.n);var g=h<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function N(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,P),N.prototype.split=function(a,f){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)f.words[y]=a.words[y];if(f.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var x=a.words[9];for(f.words[f.length++]=x&h,y=10;y<a.length;y++){var S=a.words[y]|0;a.words[y-10]=(S&h)<<4|x>>>22,x=S}x>>>=22,a.words[y-10]=x,x===0&&a.length>10?a.length-=10:a.length-=9},N.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,h=0;h<a.length;h++){var g=a.words[h]|0;f+=g*977,a.words[h]=f&67108863,f=g*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,P);function q(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,P);function F(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(F,P),F.prototype.imulK=function(a){for(var f=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+f,y=g&67108863;g>>>=26,a.words[h]=y,f=g}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(C[a])return C[a];var f;if(a==="k256")f=new N;else if(a==="p224")f=new U;else if(a==="p192")f=new q;else if(a==="p25519")f=new F;else throw new Error("Unknown prime "+a);return C[a]=f,f};function L(E){if(typeof E=="string"){var a=i._prime(E);this.m=a.p,this.prime=a}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},L.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},L.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},L.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},L.prototype.add=function(a,f){this._verify2(a,f);var h=a.add(f);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(a,f){this._verify2(a,f);var h=a.iadd(f);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(a,f){this._verify2(a,f);var h=a.sub(f);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(a,f){this._verify2(a,f);var h=a.isub(f);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},L.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},L.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},L.prototype.isqr=function(a){return this.imul(a,a.clone())},L.prototype.sqr=function(a){return this.mul(a,a)},L.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);n(!g.isZero());var x=new i(1).toRed(this),S=x.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,m).cmp(S)!==0;)c.redIAdd(S);for(var w=this.pow(c,g),T=this.pow(a,g.addn(1).iushrn(1)),O=this.pow(a,g),K=y;O.cmp(x)!==0;){for(var ee=O,J=0;ee.cmp(x)!==0;J++)ee=ee.redSqr();n(J<K);var $=this.pow(w,new i(1).iushln(K-J-1));T=T.redMul($),w=$.redSqr(),O=O.redMul(w),K=J}return T},L.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},L.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var x=g[0],S=0,m=0,c=f.bitLength()%26;for(c===0&&(c=26),y=f.length-1;y>=0;y--){for(var w=f.words[y],T=c-1;T>=0;T--){var O=w>>T&1;if(x!==g[0]&&(x=this.sqr(x)),O===0&&S===0){m=0;continue}S<<=1,S|=O,m++,!(m!==h&&(y!==0||T!==0))&&(x=this.mul(x,g[S]),m=0,S=0)}c=26}return x},L.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},L.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ie,L),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var h=a.mul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Rn)}(a1)),a1.exports}var l1={exports:{}};l1.exports;var fk;function iX(){return fk||(fk=1,function(t){(function(e,r){function n(E,a){if(!E)throw new Error(a||"Assertion failed")}function s(E,a){E.super_=a;var f=function(){};f.prototype=a.prototype,E.prototype=new f,E.prototype.constructor=E}function i(E,a,f){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(E||0,a||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Eo.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,h){if(typeof a=="number")return this._initNumber(a,f,h);if(typeof a=="object")return this._initArray(a,f,h);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(f===16?this._parseHex(a,g,h):(this._parseBase(a,f,g),h==="le"&&this._initArray(this.toArray(),f,h)))},i.prototype._initNumber=function(a,f,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),f,h)},i.prototype._initArray=function(a,f,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x,S=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)x=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)x=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);return this.strip()};function l(E,a){var f=E.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(E,a,f){var h=l(E,f);return f-1>=a&&(h|=l(E,f-1)<<4),h}i.prototype._parseHex=function(a,f,h){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,x=0,S;if(h==="be")for(g=a.length-1;g>=f;g-=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8;else{var m=a.length-f;for(g=m%2===0?f+1:f;g<a.length;g+=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8}this.strip()};function d(E,a,f,h){for(var g=0,y=Math.min(E.length,f),x=a;x<y;x++){var S=E.charCodeAt(x)-48;g*=h,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}i.prototype._parseBase=function(a,f,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=f)g++;g--,y=y/f|0;for(var x=a.length-h,S=x%g,m=Math.min(x,x-S)+h,c=0,w=h;w<m;w+=g)c=d(a,w,w+g,f),this.imuln(y),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(S!==0){var T=1;for(c=d(a,w,a.length,f),w=0;w<S;w++)T*=f;this.imuln(T),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,x=0;x<this.length;x++){var S=this.words[x],m=((S<<g|y)&16777215).toString(16);y=S>>>24-g&16777215,g+=2,g>=26&&(g-=26,x--),y!==0||x!==this.length-1?h=p[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var c=v[a],w=b[a];h="";var T=this.clone();for(T.negative=0;!T.isZero();){var O=T.modn(w).toString(a);T=T.idivn(w),T.isZero()?h=O+h:h=p[c-O.length]+O+h}for(this.isZero()&&(h="0"+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return n(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,h){var g=this.byteLength(),y=h||Math.max(1,g);n(g<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var x=f==="le",S=new a(y),m,c,w=this.clone();if(x){for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[c]=m;for(;c<y;c++)S[c]=0}else{for(c=0;c<y-g;c++)S[c]=0;for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[y-c-1]=m}return S},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,h=0;return f>=4096&&(h+=13,f>>>=13),f>=64&&(h+=7,f>>>=7),f>=8&&(h+=4,f>>>=4),f>=2&&(h+=2,f>>>=2),h+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,h=0;return f&8191||(h+=13,f>>>=13),f&127||(h+=7,f>>>=7),f&15||(h+=4,f>>>=4),f&3||(h+=2,f>>>=2),f&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function _(E){for(var a=new Array(E.bitLength()),f=0;f<a.length;f++){var h=f/26|0,g=f%26;a[f]=(E.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var h=this._zeroBits(this.words[f]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,h;this.length>a.length?(f=this,h=a):(f=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=f.words[g]^h.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,h=a%26;this._expand(f),h>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),f?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,x=0;x<g.length;x++)f=(h.words[x]|0)+(g.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;for(;y!==0&&x<h.length;x++)f=(h.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var x=0,S=0;S<y.length;S++)f=(g.words[S]|0)-(y.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;for(;x!==0&&S<g.length;S++)f=(g.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;if(x===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function M(E,a,f){f.negative=a.negative^E.negative;var h=E.length+a.length|0;f.length=h,h=h-1|0;var g=E.words[0]|0,y=a.words[0]|0,x=g*y,S=x&67108863,m=x/67108864|0;f.words[0]=S;for(var c=1;c<h;c++){for(var w=m>>>26,T=m&67108863,O=Math.min(c,a.length-1),K=Math.max(0,c-E.length+1);K<=O;K++){var ee=c-K|0;g=E.words[ee]|0,y=a.words[K]|0,x=g*y+T,w+=x/67108864|0,T=x&67108863}f.words[c]=T|0,m=w|0}return m!==0?f.words[c]=m|0:f.length--,f.strip()}var A=function(a,f,h){var g=a.words,y=f.words,x=h.words,S=0,m,c,w,T=g[0]|0,O=T&8191,K=T>>>13,ee=g[1]|0,J=ee&8191,$=ee>>>13,z=g[2]|0,Y=z&8191,te=z>>>13,G=g[3]|0,j=G&8191,W=G>>>13,oe=g[4]|0,ae=oe&8191,he=oe>>>13,Oe=g[5]|0,me=Oe&8191,Ee=Oe>>>13,it=g[6]|0,Se=it&8191,xe=it>>>13,Mt=g[7]|0,Ie=Mt&8191,Ne=Mt>>>13,qt=g[8]|0,Z=qt&8191,B=qt>>>13,H=g[9]|0,ne=H&8191,ce=H>>>13,Me=y[0]|0,de=Me&8191,Ce=Me>>>13,Rt=y[1]|0,ke=Rt&8191,De=Rt>>>13,St=y[2]|0,Be=St&8191,He=St>>>13,Jt=y[3]|0,Ue=Jt&8191,Ke=Jt>>>13,zt=y[4]|0,Le=zt&8191,ze=zt>>>13,le=y[5]|0,se=le&8191,be=le>>>13,Ge=y[6]|0,we=Ge&8191,Fe=Ge>>>13,V=y[7]|0,X=V&8191,Q=V>>>13,D=y[8]|0,re=D&8191,ue=D>>>13,_e=y[9]|0,ge=_e&8191,ve=_e>>>13;h.negative=a.negative^f.negative,h.length=19,m=Math.imul(O,de),c=Math.imul(O,Ce),c=c+Math.imul(K,de)|0,w=Math.imul(K,Ce);var Ze=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,m=Math.imul(J,de),c=Math.imul(J,Ce),c=c+Math.imul($,de)|0,w=Math.imul($,Ce),m=m+Math.imul(O,ke)|0,c=c+Math.imul(O,De)|0,c=c+Math.imul(K,ke)|0,w=w+Math.imul(K,De)|0;var Ye=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,m=Math.imul(Y,de),c=Math.imul(Y,Ce),c=c+Math.imul(te,de)|0,w=Math.imul(te,Ce),m=m+Math.imul(J,ke)|0,c=c+Math.imul(J,De)|0,c=c+Math.imul($,ke)|0,w=w+Math.imul($,De)|0,m=m+Math.imul(O,Be)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(K,Be)|0,w=w+Math.imul(K,He)|0;var Bt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(j,de),c=Math.imul(j,Ce),c=c+Math.imul(W,de)|0,w=Math.imul(W,Ce),m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(te,ke)|0,w=w+Math.imul(te,De)|0,m=m+Math.imul(J,Be)|0,c=c+Math.imul(J,He)|0,c=c+Math.imul($,Be)|0,w=w+Math.imul($,He)|0,m=m+Math.imul(O,Ue)|0,c=c+Math.imul(O,Ke)|0,c=c+Math.imul(K,Ue)|0,w=w+Math.imul(K,Ke)|0;var rt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,m=Math.imul(ae,de),c=Math.imul(ae,Ce),c=c+Math.imul(he,de)|0,w=Math.imul(he,Ce),m=m+Math.imul(j,ke)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(W,ke)|0,w=w+Math.imul(W,De)|0,m=m+Math.imul(Y,Be)|0,c=c+Math.imul(Y,He)|0,c=c+Math.imul(te,Be)|0,w=w+Math.imul(te,He)|0,m=m+Math.imul(J,Ue)|0,c=c+Math.imul(J,Ke)|0,c=c+Math.imul($,Ue)|0,w=w+Math.imul($,Ke)|0,m=m+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(K,Le)|0,w=w+Math.imul(K,ze)|0;var Et=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(me,de),c=Math.imul(me,Ce),c=c+Math.imul(Ee,de)|0,w=Math.imul(Ee,Ce),m=m+Math.imul(ae,ke)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(he,ke)|0,w=w+Math.imul(he,De)|0,m=m+Math.imul(j,Be)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(W,Be)|0,w=w+Math.imul(W,He)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(te,Ue)|0,w=w+Math.imul(te,Ke)|0,m=m+Math.imul(J,Le)|0,c=c+Math.imul(J,ze)|0,c=c+Math.imul($,Le)|0,w=w+Math.imul($,ze)|0,m=m+Math.imul(O,se)|0,c=c+Math.imul(O,be)|0,c=c+Math.imul(K,se)|0,w=w+Math.imul(K,be)|0;var At=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(Se,de),c=Math.imul(Se,Ce),c=c+Math.imul(xe,de)|0,w=Math.imul(xe,Ce),m=m+Math.imul(me,ke)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(Ee,ke)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(ae,Be)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(he,Be)|0,w=w+Math.imul(he,He)|0,m=m+Math.imul(j,Ue)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(W,Ue)|0,w=w+Math.imul(W,Ke)|0,m=m+Math.imul(Y,Le)|0,c=c+Math.imul(Y,ze)|0,c=c+Math.imul(te,Le)|0,w=w+Math.imul(te,ze)|0,m=m+Math.imul(J,se)|0,c=c+Math.imul(J,be)|0,c=c+Math.imul($,se)|0,w=w+Math.imul($,be)|0,m=m+Math.imul(O,we)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(K,we)|0,w=w+Math.imul(K,Fe)|0;var _t=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(Ie,de),c=Math.imul(Ie,Ce),c=c+Math.imul(Ne,de)|0,w=Math.imul(Ne,Ce),m=m+Math.imul(Se,ke)|0,c=c+Math.imul(Se,De)|0,c=c+Math.imul(xe,ke)|0,w=w+Math.imul(xe,De)|0,m=m+Math.imul(me,Be)|0,c=c+Math.imul(me,He)|0,c=c+Math.imul(Ee,Be)|0,w=w+Math.imul(Ee,He)|0,m=m+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Ke)|0,c=c+Math.imul(he,Ue)|0,w=w+Math.imul(he,Ke)|0,m=m+Math.imul(j,Le)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(W,Le)|0,w=w+Math.imul(W,ze)|0,m=m+Math.imul(Y,se)|0,c=c+Math.imul(Y,be)|0,c=c+Math.imul(te,se)|0,w=w+Math.imul(te,be)|0,m=m+Math.imul(J,we)|0,c=c+Math.imul(J,Fe)|0,c=c+Math.imul($,we)|0,w=w+Math.imul($,Fe)|0,m=m+Math.imul(O,X)|0,c=c+Math.imul(O,Q)|0,c=c+Math.imul(K,X)|0,w=w+Math.imul(K,Q)|0;var Ot=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(Z,de),c=Math.imul(Z,Ce),c=c+Math.imul(B,de)|0,w=Math.imul(B,Ce),m=m+Math.imul(Ie,ke)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Ne,ke)|0,w=w+Math.imul(Ne,De)|0,m=m+Math.imul(Se,Be)|0,c=c+Math.imul(Se,He)|0,c=c+Math.imul(xe,Be)|0,w=w+Math.imul(xe,He)|0,m=m+Math.imul(me,Ue)|0,c=c+Math.imul(me,Ke)|0,c=c+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,Ke)|0,m=m+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(he,Le)|0,w=w+Math.imul(he,ze)|0,m=m+Math.imul(j,se)|0,c=c+Math.imul(j,be)|0,c=c+Math.imul(W,se)|0,w=w+Math.imul(W,be)|0,m=m+Math.imul(Y,we)|0,c=c+Math.imul(Y,Fe)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Fe)|0,m=m+Math.imul(J,X)|0,c=c+Math.imul(J,Q)|0,c=c+Math.imul($,X)|0,w=w+Math.imul($,Q)|0,m=m+Math.imul(O,re)|0,c=c+Math.imul(O,ue)|0,c=c+Math.imul(K,re)|0,w=w+Math.imul(K,ue)|0;var kt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(ne,de),c=Math.imul(ne,Ce),c=c+Math.imul(ce,de)|0,w=Math.imul(ce,Ce),m=m+Math.imul(Z,ke)|0,c=c+Math.imul(Z,De)|0,c=c+Math.imul(B,ke)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(Ie,Be)|0,c=c+Math.imul(Ie,He)|0,c=c+Math.imul(Ne,Be)|0,w=w+Math.imul(Ne,He)|0,m=m+Math.imul(Se,Ue)|0,c=c+Math.imul(Se,Ke)|0,c=c+Math.imul(xe,Ue)|0,w=w+Math.imul(xe,Ke)|0,m=m+Math.imul(me,Le)|0,c=c+Math.imul(me,ze)|0,c=c+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(ae,se)|0,c=c+Math.imul(ae,be)|0,c=c+Math.imul(he,se)|0,w=w+Math.imul(he,be)|0,m=m+Math.imul(j,we)|0,c=c+Math.imul(j,Fe)|0,c=c+Math.imul(W,we)|0,w=w+Math.imul(W,Fe)|0,m=m+Math.imul(Y,X)|0,c=c+Math.imul(Y,Q)|0,c=c+Math.imul(te,X)|0,w=w+Math.imul(te,Q)|0,m=m+Math.imul(J,re)|0,c=c+Math.imul(J,ue)|0,c=c+Math.imul($,re)|0,w=w+Math.imul($,ue)|0,m=m+Math.imul(O,ge)|0,c=c+Math.imul(O,ve)|0,c=c+Math.imul(K,ge)|0,w=w+Math.imul(K,ve)|0;var Ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ne,ke),c=Math.imul(ne,De),c=c+Math.imul(ce,ke)|0,w=Math.imul(ce,De),m=m+Math.imul(Z,Be)|0,c=c+Math.imul(Z,He)|0,c=c+Math.imul(B,Be)|0,w=w+Math.imul(B,He)|0,m=m+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Ke)|0,c=c+Math.imul(Ne,Ue)|0,w=w+Math.imul(Ne,Ke)|0,m=m+Math.imul(Se,Le)|0,c=c+Math.imul(Se,ze)|0,c=c+Math.imul(xe,Le)|0,w=w+Math.imul(xe,ze)|0,m=m+Math.imul(me,se)|0,c=c+Math.imul(me,be)|0,c=c+Math.imul(Ee,se)|0,w=w+Math.imul(Ee,be)|0,m=m+Math.imul(ae,we)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(he,we)|0,w=w+Math.imul(he,Fe)|0,m=m+Math.imul(j,X)|0,c=c+Math.imul(j,Q)|0,c=c+Math.imul(W,X)|0,w=w+Math.imul(W,Q)|0,m=m+Math.imul(Y,re)|0,c=c+Math.imul(Y,ue)|0,c=c+Math.imul(te,re)|0,w=w+Math.imul(te,ue)|0,m=m+Math.imul(J,ge)|0,c=c+Math.imul(J,ve)|0,c=c+Math.imul($,ge)|0,w=w+Math.imul($,ve)|0;var It=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(ne,Be),c=Math.imul(ne,He),c=c+Math.imul(ce,Be)|0,w=Math.imul(ce,He),m=m+Math.imul(Z,Ue)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(B,Ue)|0,w=w+Math.imul(B,Ke)|0,m=m+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,ze)|0,m=m+Math.imul(Se,se)|0,c=c+Math.imul(Se,be)|0,c=c+Math.imul(xe,se)|0,w=w+Math.imul(xe,be)|0,m=m+Math.imul(me,we)|0,c=c+Math.imul(me,Fe)|0,c=c+Math.imul(Ee,we)|0,w=w+Math.imul(Ee,Fe)|0,m=m+Math.imul(ae,X)|0,c=c+Math.imul(ae,Q)|0,c=c+Math.imul(he,X)|0,w=w+Math.imul(he,Q)|0,m=m+Math.imul(j,re)|0,c=c+Math.imul(j,ue)|0,c=c+Math.imul(W,re)|0,w=w+Math.imul(W,ue)|0,m=m+Math.imul(Y,ge)|0,c=c+Math.imul(Y,ve)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,ve)|0;var ft=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(ne,Ue),c=Math.imul(ne,Ke),c=c+Math.imul(ce,Ue)|0,w=Math.imul(ce,Ke),m=m+Math.imul(Z,Le)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(B,Le)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(Ie,se)|0,c=c+Math.imul(Ie,be)|0,c=c+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,be)|0,m=m+Math.imul(Se,we)|0,c=c+Math.imul(Se,Fe)|0,c=c+Math.imul(xe,we)|0,w=w+Math.imul(xe,Fe)|0,m=m+Math.imul(me,X)|0,c=c+Math.imul(me,Q)|0,c=c+Math.imul(Ee,X)|0,w=w+Math.imul(Ee,Q)|0,m=m+Math.imul(ae,re)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(he,re)|0,w=w+Math.imul(he,ue)|0,m=m+Math.imul(j,ge)|0,c=c+Math.imul(j,ve)|0,c=c+Math.imul(W,ge)|0,w=w+Math.imul(W,ve)|0;var pt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(ne,Le),c=Math.imul(ne,ze),c=c+Math.imul(ce,Le)|0,w=Math.imul(ce,ze),m=m+Math.imul(Z,se)|0,c=c+Math.imul(Z,be)|0,c=c+Math.imul(B,se)|0,w=w+Math.imul(B,be)|0,m=m+Math.imul(Ie,we)|0,c=c+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ne,we)|0,w=w+Math.imul(Ne,Fe)|0,m=m+Math.imul(Se,X)|0,c=c+Math.imul(Se,Q)|0,c=c+Math.imul(xe,X)|0,w=w+Math.imul(xe,Q)|0,m=m+Math.imul(me,re)|0,c=c+Math.imul(me,ue)|0,c=c+Math.imul(Ee,re)|0,w=w+Math.imul(Ee,ue)|0,m=m+Math.imul(ae,ge)|0,c=c+Math.imul(ae,ve)|0,c=c+Math.imul(he,ge)|0,w=w+Math.imul(he,ve)|0;var at=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(ne,se),c=Math.imul(ne,be),c=c+Math.imul(ce,se)|0,w=Math.imul(ce,be),m=m+Math.imul(Z,we)|0,c=c+Math.imul(Z,Fe)|0,c=c+Math.imul(B,we)|0,w=w+Math.imul(B,Fe)|0,m=m+Math.imul(Ie,X)|0,c=c+Math.imul(Ie,Q)|0,c=c+Math.imul(Ne,X)|0,w=w+Math.imul(Ne,Q)|0,m=m+Math.imul(Se,re)|0,c=c+Math.imul(Se,ue)|0,c=c+Math.imul(xe,re)|0,w=w+Math.imul(xe,ue)|0,m=m+Math.imul(me,ge)|0,c=c+Math.imul(me,ve)|0,c=c+Math.imul(Ee,ge)|0,w=w+Math.imul(Ee,ve)|0;var ht=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(ne,we),c=Math.imul(ne,Fe),c=c+Math.imul(ce,we)|0,w=Math.imul(ce,Fe),m=m+Math.imul(Z,X)|0,c=c+Math.imul(Z,Q)|0,c=c+Math.imul(B,X)|0,w=w+Math.imul(B,Q)|0,m=m+Math.imul(Ie,re)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(Ne,re)|0,w=w+Math.imul(Ne,ue)|0,m=m+Math.imul(Se,ge)|0,c=c+Math.imul(Se,ve)|0,c=c+Math.imul(xe,ge)|0,w=w+Math.imul(xe,ve)|0;var ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(ne,X),c=Math.imul(ne,Q),c=c+Math.imul(ce,X)|0,w=Math.imul(ce,Q),m=m+Math.imul(Z,re)|0,c=c+Math.imul(Z,ue)|0,c=c+Math.imul(B,re)|0,w=w+Math.imul(B,ue)|0,m=m+Math.imul(Ie,ge)|0,c=c+Math.imul(Ie,ve)|0,c=c+Math.imul(Ne,ge)|0,w=w+Math.imul(Ne,ve)|0;var st=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,m=Math.imul(ne,re),c=Math.imul(ne,ue),c=c+Math.imul(ce,re)|0,w=Math.imul(ce,ue),m=m+Math.imul(Z,ge)|0,c=c+Math.imul(Z,ve)|0,c=c+Math.imul(B,ge)|0,w=w+Math.imul(B,ve)|0;var Te=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(ne,ge),c=Math.imul(ne,ve),c=c+Math.imul(ce,ge)|0,w=Math.imul(ce,ve);var Pe=(S+m|0)+((c&8191)<<13)|0;return S=(w+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,x[0]=Ze,x[1]=Ye,x[2]=Bt,x[3]=rt,x[4]=Et,x[5]=At,x[6]=_t,x[7]=Ot,x[8]=kt,x[9]=Ct,x[10]=It,x[11]=ft,x[12]=pt,x[13]=at,x[14]=ht,x[15]=ct,x[16]=st,x[17]=Te,x[18]=Pe,S!==0&&(x[19]=S,h.length++),h};Math.imul||(A=M);function I(E,a,f){f.negative=a.negative^E.negative,f.length=E.length+a.length;for(var h=0,g=0,y=0;y<f.length-1;y++){var x=g;g=0;for(var S=h&67108863,m=Math.min(y,a.length-1),c=Math.max(0,y-E.length+1);c<=m;c++){var w=y-c,T=E.words[w]|0,O=a.words[c]|0,K=T*O,ee=K&67108863;x=x+(K/67108864|0)|0,ee=ee+S|0,S=ee&67108863,x=x+(ee>>>26)|0,g+=x>>>26,x&=67108863}f.words[y]=S,h=x,x=g}return h!==0?f.words[y]=h:f.length--,f.strip()}function k(E,a,f){var h=new R;return h.mulp(E,a,f)}i.prototype.mulTo=function(a,f){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=A(this,a,f):g<63?h=M(this,a,f):g<1024?h=I(this,a,f):h=k(this,a,f),h};function R(E,a){this.x=E,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,h,a);return f},R.prototype.revBin=function(a,f,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<f;y++)g|=(a&1)<<f-y-1,a>>=1;return g},R.prototype.permute=function(a,f,h,g,y,x){for(var S=0;S<x;S++)g[S]=f[a[S]],y[S]=h[a[S]]},R.prototype.transform=function(a,f,h,g,y,x){this.permute(x,a,f,h,g,y);for(var S=1;S<y;S<<=1)for(var m=S<<1,c=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),T=0;T<y;T+=m)for(var O=c,K=w,ee=0;ee<S;ee++){var J=h[T+ee],$=g[T+ee],z=h[T+ee+S],Y=g[T+ee+S],te=O*z-K*Y;Y=O*Y+K*z,z=te,h[T+ee]=J+z,g[T+ee]=$+Y,h[T+ee+S]=J-z,g[T+ee+S]=$-Y,ee!==m&&(te=c*O-w*K,K=c*K+w*O,O=te)}},R.prototype.guessLen13b=function(a,f){var h=Math.max(f,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},R.prototype.conjugate=function(a,f,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=f[g],f[g]=-f[h-g-1],f[h-g-1]=-y}},R.prototype.normalize13b=function(a,f){for(var h=0,g=0;g<f/2;g++){var y=Math.round(a[2*g+1]/f)*8192+Math.round(a[2*g]/f)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},R.prototype.convert13b=function(a,f,h,g){for(var y=0,x=0;x<f;x++)y=y+(a[x]|0),h[2*x]=y&8191,y=y>>>13,h[2*x+1]=y&8191,y=y>>>13;for(x=2*f;x<g;++x)h[x]=0;n(y===0),n((y&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),h=0;h<a;h++)f[h]=0;return f},R.prototype.mulp=function(a,f,h){var g=2*this.guessLen13b(a.length,f.length),y=this.makeRBT(g),x=this.stub(g),S=new Array(g),m=new Array(g),c=new Array(g),w=new Array(g),T=new Array(g),O=new Array(g),K=h.words;K.length=g,this.convert13b(a.words,a.length,S,g),this.convert13b(f.words,f.length,w,g),this.transform(S,x,m,c,g,y),this.transform(w,x,T,O,g,y);for(var ee=0;ee<g;ee++){var J=m[ee]*T[ee]-c[ee]*O[ee];c[ee]=m[ee]*O[ee]+c[ee]*T[ee],m[ee]=J}return this.conjugate(m,c,g),this.transform(m,c,K,x,g,y),this.conjugate(K,x,g),this.normalize13b(K,g),h.negative=a.negative^f.negative,h.length=a.length+f.length,h.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),k(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var f=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=y>>>26,this.words[h]=y&67108863}return f!==0&&(this.words[h]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=_(a);if(f.length===0)return new i(1);for(var h=this,g=0;g<f.length&&f[g]===0;g++,h=h.sqr());if(++g<f.length)for(var y=h.sqr();g<f.length;g++,y=y.sqr())f[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=67108863>>>26-f<<26-f,y;if(f!==0){var x=0;for(y=0;y<this.length;y++){var S=this.words[y]&g,m=(this.words[y]|0)-S<<f;this.words[y]=m|x,x=S>>>26-f}x&&(this.words[y]=x,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,h){n(typeof a=="number"&&a>=0);var g;f?g=(f-f%26)/26:g=0;var y=a%26,x=Math.min((a-y)/26,this.length),S=67108863^67108863>>>y<<y,m=h;if(g-=x,g=Math.max(0,g),m){for(var c=0;c<x;c++)m.words[c]=this.words[c];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,c=0;c<this.length;c++)this.words[c]=this.words[c+x];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=g);c--){var T=this.words[c]|0;this.words[c]=w<<26-y|T>>>y,w=T&S}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,h){return n(this.negative===0),this.iushrn(a,f,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(f!==0&&h++,this.length=Math.min(h,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,h){var g=a.length+h,y;this._expand(g);var x,S=0;for(y=0;y<a.length;y++){x=(this.words[y+h]|0)+S;var m=(a.words[y]|0)*f;x-=m&67108863,S=(x>>26)-(m/67108864|0),this.words[y+h]=x&67108863}for(;y<this.length-h;y++)x=(this.words[y+h]|0)+S,S=x>>26,this.words[y+h]=x&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,y=0;y<this.length;y++)x=-(this.words[y]|0)+S,S=x>>26,this.words[y]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var h=this.length-a.length,g=this.clone(),y=a,x=y.words[y.length-1]|0,S=this._countBits(x);h=26-S,h!==0&&(y=y.ushln(h),g.iushln(h),x=y.words[y.length-1]|0);var m=g.length-y.length,c;if(f!=="mod"){c=new i(null),c.length=m+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var T=g.clone()._ishlnsubmul(y,1,m);T.negative===0&&(g=T,c&&(c.words[m]=1));for(var O=m-1;O>=0;O--){var K=(g.words[y.length+O]|0)*67108864+(g.words[y.length+O-1]|0);for(K=Math.min(K/x|0,67108863),g._ishlnsubmul(y,K,O);g.negative!==0;)K--,g.negative=0,g._ishlnsubmul(y,1,O),g.isZero()||(g.negative^=1);c&&(c.words[O]=K)}return c&&c.strip(),g.strip(),f!=="div"&&h!==0&&g.iushrn(h),{div:c||null,mod:g}},i.prototype.divmod=function(a,f,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,x;return this.negative!==0&&a.negative===0?(x=this.neg().divmod(a,f),f!=="mod"&&(g=x.div.neg()),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(x=this.divmod(a.neg(),f),f!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):this.negative&a.negative?(x=this.neg().divmod(a.neg(),f),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:x.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var h=f.div.negative!==0?f.mod.isub(a):f.mod,g=a.ushrn(1),y=a.andln(1),x=h.cmp(g);return x<0||y===1&&x===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var f=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(f*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+f*67108864;this.words[h]=g/a|0,f=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=new i(0),S=new i(1),m=0;f.isEven()&&h.isEven();)f.iushrn(1),h.iushrn(1),++m;for(var c=h.clone(),w=f.clone();!f.isZero();){for(var T=0,O=1;!(f.words[0]&O)&&T<26;++T,O<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(c),y.isub(w)),g.iushrn(1),y.iushrn(1);for(var K=0,ee=1;!(h.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(c),S.isub(w)),x.iushrn(1),S.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(x),y.isub(S)):(h.isub(f),x.isub(g),S.isub(y))}return{a:x,b:S,gcd:h.iushln(m)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=h.clone();f.cmpn(1)>0&&h.cmpn(1)>0;){for(var S=0,m=1;!(f.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);for(var c=0,w=1;!(h.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(h.iushrn(c);c-- >0;)y.isOdd()&&y.iadd(x),y.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(y)):(h.isub(f),y.isub(g))}var T;return f.cmpn(1)===0?T=g:T=y,T.cmpn(0)<0&&T.iadd(a),T},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),h=a.clone();f.negative=0,h.negative=0;for(var g=0;f.isEven()&&h.isEven();g++)f.iushrn(1),h.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=f.cmp(h);if(y<0){var x=f;f=h,h=x}else if(y===0||h.cmpn(1)===0)break;f.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,x=h;y!==0&&x<this.length;x++){var S=this.words[x]|0;S+=y,y=S>>>26,S&=67108863,this.words[x]=S}return y!==0&&(this.words[x]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var h;if(this.length>1)h=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?f=-1:g>y&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new L(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function P(E,a){this.name=E,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,h;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),h=f.bitLength();while(h>this.n);var g=h<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function N(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,P),N.prototype.split=function(a,f){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)f.words[y]=a.words[y];if(f.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var x=a.words[9];for(f.words[f.length++]=x&h,y=10;y<a.length;y++){var S=a.words[y]|0;a.words[y-10]=(S&h)<<4|x>>>22,x=S}x>>>=22,a.words[y-10]=x,x===0&&a.length>10?a.length-=10:a.length-=9},N.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,h=0;h<a.length;h++){var g=a.words[h]|0;f+=g*977,a.words[h]=f&67108863,f=g*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,P);function q(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,P);function F(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(F,P),F.prototype.imulK=function(a){for(var f=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+f,y=g&67108863;g>>>=26,a.words[h]=y,f=g}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(C[a])return C[a];var f;if(a==="k256")f=new N;else if(a==="p224")f=new U;else if(a==="p192")f=new q;else if(a==="p25519")f=new F;else throw new Error("Unknown prime "+a);return C[a]=f,f};function L(E){if(typeof E=="string"){var a=i._prime(E);this.m=a.p,this.prime=a}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},L.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},L.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},L.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},L.prototype.add=function(a,f){this._verify2(a,f);var h=a.add(f);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(a,f){this._verify2(a,f);var h=a.iadd(f);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(a,f){this._verify2(a,f);var h=a.sub(f);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(a,f){this._verify2(a,f);var h=a.isub(f);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},L.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},L.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},L.prototype.isqr=function(a){return this.imul(a,a.clone())},L.prototype.sqr=function(a){return this.mul(a,a)},L.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);n(!g.isZero());var x=new i(1).toRed(this),S=x.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,m).cmp(S)!==0;)c.redIAdd(S);for(var w=this.pow(c,g),T=this.pow(a,g.addn(1).iushrn(1)),O=this.pow(a,g),K=y;O.cmp(x)!==0;){for(var ee=O,J=0;ee.cmp(x)!==0;J++)ee=ee.redSqr();n(J<K);var $=this.pow(w,new i(1).iushln(K-J-1));T=T.redMul($),w=$.redSqr(),O=O.redMul(w),K=J}return T},L.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},L.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var x=g[0],S=0,m=0,c=f.bitLength()%26;for(c===0&&(c=26),y=f.length-1;y>=0;y--){for(var w=f.words[y],T=c-1;T>=0;T--){var O=w>>T&1;if(x!==g[0]&&(x=this.sqr(x)),O===0&&S===0){m=0;continue}S<<=1,S|=O,m++,!(m!==h&&(y!==0||T!==0))&&(x=this.mul(x,g[S]),m=0,S=0)}c=26}return x},L.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},L.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ie,L),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var h=a.mul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Rn)}(l1)),l1.exports}var C2,hk;function fL(){if(hk)return C2;hk=1;var t=iX(),e=gE();function r(n){this.rand=n||new e.Rand}return C2=r,r.create=function(s){return new r(s)},r.prototype._randbelow=function(s){var i=s.bitLength(),o=Math.ceil(i/8);do var l=new t(this.rand.generate(o));while(l.cmp(s)>=0);return l},r.prototype._randrange=function(s,i){var o=i.sub(s);return s.add(this._randbelow(o))},r.prototype.test=function(s,i,o){var l=s.bitLength(),u=t.mont(s),d=new t(1).toRed(u);i||(i=Math.max(1,l/48|0));for(var p=s.subn(1),v=0;!p.testn(v);v++);for(var b=s.shrn(v),_=p.toRed(u),M=!0;i>0;i--){var A=this._randrange(new t(2),p);o&&o(A);var I=A.toRed(u).redPow(b);if(!(I.cmp(d)===0||I.cmp(_)===0)){for(var k=1;k<v;k++){if(I=I.redSqr(),I.cmp(d)===0)return!1;if(I.cmp(_)===0)break}if(k===v)return!1}}return M},r.prototype.getDivisor=function(s,i){var o=s.bitLength(),l=t.mont(s),u=new t(1).toRed(l);i||(i=Math.max(1,o/48|0));for(var d=s.subn(1),p=0;!d.testn(p);p++);for(var v=s.shrn(p),b=d.toRed(l);i>0;i--){var _=this._randrange(new t(2),d),M=s.gcd(_);if(M.cmpn(1)!==0)return M;var A=_.toRed(l).redPow(v);if(!(A.cmp(u)===0||A.cmp(b)===0)){for(var I=1;I<p;I++){if(A=A.redSqr(),A.cmp(u)===0)return A.fromRed().subn(1).gcd(s);if(A.cmp(b)===0)break}if(I===p)return A=A.redSqr(),A.fromRed().subn(1).gcd(s)}}return!1},C2}var T2,dk;function hL(){if(dk)return T2;dk=1;var t=nd();T2=I,I.simpleSieve=M,I.fermatTest=A;var e=uL(),r=new e(24),n=fL(),s=new n,i=new e(1),o=new e(2),l=new e(5);new e(16),new e(8);var u=new e(10),d=new e(3);new e(7);var p=new e(11),v=new e(4);new e(12);var b=null;function _(){if(b!==null)return b;var k=1048576,R=[];R[0]=2;for(var C=1,P=3;P<k;P+=2){for(var N=Math.ceil(Math.sqrt(P)),U=0;U<C&&R[U]<=N&&P%R[U]!==0;U++);C!==U&&R[U]<=N||(R[C++]=P)}return b=R,R}function M(k){for(var R=_(),C=0;C<R.length;C++)if(k.modn(R[C])===0)return k.cmpn(R[C])===0;return!0}function A(k){var R=e.mont(k);return o.toRed(R).redPow(k.subn(1)).fromRed().cmpn(1)===0}function I(k,R){if(k<16)return R===2||R===5?new e([140,123]):new e([140,39]);R=new e(R);for(var C,P;;){for(C=new e(t(Math.ceil(k/8)));C.bitLength()>k;)C.ishrn(1);if(C.isEven()&&C.iadd(i),C.testn(1)||C.iadd(o),R.cmp(o)){if(!R.cmp(l))for(;C.mod(u).cmp(d);)C.iadd(v)}else for(;C.mod(r).cmp(p);)C.iadd(v);if(P=C.shrn(1),M(P)&&M(C)&&A(P)&&A(C)&&s.test(P)&&s.test(C))return C}}return T2}const sX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},oX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},aX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},lX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},cX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},uX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},fX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},hX={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},dX={modp1:sX,modp2:oX,modp5:aX,modp14:lX,modp15:cX,modp16:uX,modp17:fX,modp18:hX};var P2,pk;function pX(){if(pk)return P2;pk=1;var t=uL(),e=fL(),r=new e,n=new t(24),s=new t(11),i=new t(10),o=new t(3),l=new t(7),u=hL(),d=nd();P2=M;function p(I,k){return k=k||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,k)),this._pub=new t(I),this}function v(I,k){return k=k||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,k)),this._priv=new t(I),this}var b={};function _(I,k){var R=k.toString("hex"),C=[R,I.toString(16)].join("_");if(C in b)return b[C];var P=0;if(I.isEven()||!u.simpleSieve||!u.fermatTest(I)||!r.test(I))return P+=1,R==="02"||R==="05"?P+=8:P+=4,b[C]=P,P;r.test(I.shrn(1))||(P+=2);var N;switch(R){case"02":I.mod(n).cmp(s)&&(P+=8);break;case"05":N=I.mod(i),N.cmp(o)&&N.cmp(l)&&(P+=8);break;default:P+=4}return b[C]=P,P}function M(I,k,R){this.setGenerator(k),this.__prime=new t(I),this._prime=t.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=p,this.setPrivateKey=v):this._primeCode=8}Object.defineProperty(M.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=_(this.__prime,this.__gen)),this._primeCode}}),M.prototype.generateKeys=function(){return this._priv||(this._priv=new t(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},M.prototype.computeSecret=function(I){I=new t(I),I=I.toRed(this._prime);var k=I.redPow(this._priv).fromRed(),R=new Buffer(k.toArray()),C=this.getPrime();if(R.length<C.length){var P=new Buffer(C.length-R.length);P.fill(0),R=Buffer.concat([P,R])}return R},M.prototype.getPublicKey=function(k){return A(this._pub,k)},M.prototype.getPrivateKey=function(k){return A(this._priv,k)},M.prototype.getPrime=function(I){return A(this.__prime,I)},M.prototype.getGenerator=function(I){return A(this._gen,I)},M.prototype.setGenerator=function(I,k){return k=k||"utf8",Buffer.isBuffer(I)||(I=new Buffer(I,k)),this.__gen=I,this._gen=new t(I),this};function A(I,k){var R=new Buffer(I.toArray());return k?R.toString(k):R}return P2}var gk;function gX(){if(gk)return tu;gk=1;var t=hL(),e=dX,r=pX();function n(o){var l=new Buffer(e[o].prime,"hex"),u=new Buffer(e[o].gen,"hex");return new r(l,u)}var s={binary:!0,hex:!0,base64:!0};function i(o,l,u,d){return Buffer.isBuffer(l)||s[l]===void 0?i(o,"binary",l,u):(l=l||"binary",d=d||"binary",u=u||new Buffer([2]),Buffer.isBuffer(u)||(u=new Buffer(u,d)),typeof o=="number"?new r(t(o,u),u,!0):(Buffer.isBuffer(o)||(o=new Buffer(o,l)),new r(o,u,!0)))}return tu.DiffieHellmanGroup=tu.createDiffieHellmanGroup=tu.getDiffieHellman=n,tu.createDiffieHellman=tu.DiffieHellman=i,tu}var rm={exports:{}},nm={exports:{}},mk;function _v(){if(mk)return nm.exports;mk=1,typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?nm.exports={nextTick:t}:nm.exports=process;function t(e,r,n,s){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,l;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,r)});case 3:return process.nextTick(function(){e.call(null,r,n)});case 4:return process.nextTick(function(){e.call(null,r,n,s)});default:for(o=new Array(i-1),l=0;l<o.length;)o[l++]=arguments[l];return process.nextTick(function(){e.apply(null,o)})}}return nm.exports}var O2,yk;function mX(){if(yk)return O2;yk=1;var t={}.toString;return O2=Array.isArray||function(e){return t.call(e)=="[object Array]"},O2}var N2,vk;function dL(){return vk||(vk=1,N2=Tn.EventEmitter),N2}var im={exports:{}},wk;function hE(){return wk||(wk=1,function(t,e){var r=Nt,n=r.Buffer;function s(o,l){for(var u in o)l[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(o,l,u){return n(o,l,u)}s(n,i),i.from=function(o,l,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,u)},i.alloc=function(o,l,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return l!==void 0?typeof u=="string"?d.fill(l,u):d.fill(l):d.fill(0),d},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(im,im.exports)),im.exports}var mi={},bk;function Zp(){if(bk)return mi;bk=1;function t(A){return Array.isArray?Array.isArray(A):M(A)==="[object Array]"}mi.isArray=t;function e(A){return typeof A=="boolean"}mi.isBoolean=e;function r(A){return A===null}mi.isNull=r;function n(A){return A==null}mi.isNullOrUndefined=n;function s(A){return typeof A=="number"}mi.isNumber=s;function i(A){return typeof A=="string"}mi.isString=i;function o(A){return typeof A=="symbol"}mi.isSymbol=o;function l(A){return A===void 0}mi.isUndefined=l;function u(A){return M(A)==="[object RegExp]"}mi.isRegExp=u;function d(A){return typeof A=="object"&&A!==null}mi.isObject=d;function p(A){return M(A)==="[object Date]"}mi.isDate=p;function v(A){return M(A)==="[object Error]"||A instanceof Error}mi.isError=v;function b(A){return typeof A=="function"}mi.isFunction=b;function _(A){return A===null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||typeof A=="symbol"||typeof A>"u"}mi.isPrimitive=_,mi.isBuffer=Nt.Buffer.isBuffer;function M(A){return Object.prototype.toString.call(A)}return mi}var B2={exports:{}},xk;function yX(){return xk||(xk=1,function(t){function e(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}var r=hE().Buffer,n=Eo;function s(i,o,l){i.copy(o,l)}t.exports=function(){function i(){e(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(l){var u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},i.prototype.unshift=function(l){var u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},i.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(l){if(this.length===0)return"";for(var u=this.head,d=""+u.data;u=u.next;)d+=l+u.data;return d},i.prototype.concat=function(l){if(this.length===0)return r.alloc(0);for(var u=r.allocUnsafe(l>>>0),d=this.head,p=0;d;)s(d.data,u,p),p+=d.data.length,d=d.next;return u},i}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var i=n.inspect({length:this.length});return this.constructor.name+" "+i})}(B2)),B2.exports}var L2,_k;function pL(){if(_k)return L2;_k=1;var t=_v();function e(s,i){var o=this,l=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return l||u?(i?i(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(n,this,s)):t.nextTick(n,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(d){!i&&d?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,t.nextTick(n,o,d)):t.nextTick(n,o,d):i&&i(d)}),this)}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function n(s,i){s.emit("error",i)}return L2={destroy:e,undestroy:r},L2}var D2,Sk;function gL(){if(Sk)return D2;Sk=1;var t=_v();D2=A;function e(x){var S=this;this.next=null,this.entry=null,this.finish=function(){y(S,x)}}var r=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:t.nextTick,n;A.WritableState=_;var s=Object.create(Zp());s.inherits=nr();var i={deprecate:qB()},o=dL(),l=hE().Buffer,u=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(x){return l.from(x)}function p(x){return l.isBuffer(x)||x instanceof u}var v=pL();s.inherits(A,o);function b(){}function _(x,S){n=n||Ih(),x=x||{};var m=S instanceof n;this.objectMode=!!x.objectMode,m&&(this.objectMode=this.objectMode||!!x.writableObjectMode);var c=x.highWaterMark,w=x.writableHighWaterMark,T=this.objectMode?16:16*1024;c||c===0?this.highWaterMark=c:m&&(w||w===0)?this.highWaterMark=w:this.highWaterMark=T,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var O=x.decodeStrings===!1;this.decodeStrings=!O,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){q(S,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}_.prototype.getBuffer=function(){for(var S=this.bufferedRequest,m=[];S;)m.push(S),S=S.next;return m},function(){try{Object.defineProperty(_.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var M;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(M=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(x){return M.call(this,x)?!0:this!==A?!1:x&&x._writableState instanceof _}})):M=function(x){return x instanceof this};function A(x){if(n=n||Ih(),!M.call(A,this)&&!(this instanceof n))return new A(x);this._writableState=new _(x,this),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),o.call(this)}A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function I(x,S){var m=new Error("write after end");x.emit("error",m),t.nextTick(S,m)}function k(x,S,m,c){var w=!0,T=!1;return m===null?T=new TypeError("May not write null values to stream"):typeof m!="string"&&m!==void 0&&!S.objectMode&&(T=new TypeError("Invalid non-string/buffer chunk")),T&&(x.emit("error",T),t.nextTick(c,T),w=!1),w}A.prototype.write=function(x,S,m){var c=this._writableState,w=!1,T=!c.objectMode&&p(x);return T&&!l.isBuffer(x)&&(x=d(x)),typeof S=="function"&&(m=S,S=null),T?S="buffer":S||(S=c.defaultEncoding),typeof m!="function"&&(m=b),c.ended?I(this,m):(T||k(this,c,x,m))&&(c.pendingcb++,w=C(this,c,T,x,S,m)),w},A.prototype.cork=function(){var x=this._writableState;x.corked++},A.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,!x.writing&&!x.corked&&!x.bufferProcessing&&x.bufferedRequest&&ie(this,x))},A.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+S);return this._writableState.defaultEncoding=S,this};function R(x,S,m){return!x.objectMode&&x.decodeStrings!==!1&&typeof S=="string"&&(S=l.from(S,m)),S}Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(x,S,m,c,w,T){if(!m){var O=R(S,c,w);c!==O&&(m=!0,w="buffer",c=O)}var K=S.objectMode?1:c.length;S.length+=K;var ee=S.length<S.highWaterMark;if(ee||(S.needDrain=!0),S.writing||S.corked){var J=S.lastBufferedRequest;S.lastBufferedRequest={chunk:c,encoding:w,isBuf:m,callback:T,next:null},J?J.next=S.lastBufferedRequest:S.bufferedRequest=S.lastBufferedRequest,S.bufferedRequestCount+=1}else P(x,S,!1,K,c,w,T);return ee}function P(x,S,m,c,w,T,O){S.writelen=c,S.writecb=O,S.writing=!0,S.sync=!0,m?x._writev(w,S.onwrite):x._write(w,T,S.onwrite),S.sync=!1}function N(x,S,m,c,w){--S.pendingcb,m?(t.nextTick(w,c),t.nextTick(h,x,S),x._writableState.errorEmitted=!0,x.emit("error",c)):(w(c),x._writableState.errorEmitted=!0,x.emit("error",c),h(x,S))}function U(x){x.writing=!1,x.writecb=null,x.length-=x.writelen,x.writelen=0}function q(x,S){var m=x._writableState,c=m.sync,w=m.writecb;if(U(m),S)N(x,m,c,S,w);else{var T=E(m);!T&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&ie(x,m),c?r(F,x,m,T,w):F(x,m,T,w)}}function F(x,S,m,c){m||L(x,S),S.pendingcb--,c(),h(x,S)}function L(x,S){S.length===0&&S.needDrain&&(S.needDrain=!1,x.emit("drain"))}function ie(x,S){S.bufferProcessing=!0;var m=S.bufferedRequest;if(x._writev&&m&&m.next){var c=S.bufferedRequestCount,w=new Array(c),T=S.corkedRequestsFree;T.entry=m;for(var O=0,K=!0;m;)w[O]=m,m.isBuf||(K=!1),m=m.next,O+=1;w.allBuffers=K,P(x,S,!0,S.length,w,"",T.finish),S.pendingcb++,S.lastBufferedRequest=null,T.next?(S.corkedRequestsFree=T.next,T.next=null):S.corkedRequestsFree=new e(S),S.bufferedRequestCount=0}else{for(;m;){var ee=m.chunk,J=m.encoding,$=m.callback,z=S.objectMode?1:ee.length;if(P(x,S,!1,z,ee,J,$),m=m.next,S.bufferedRequestCount--,S.writing)break}m===null&&(S.lastBufferedRequest=null)}S.bufferedRequest=m,S.bufferProcessing=!1}A.prototype._write=function(x,S,m){m(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(x,S,m){var c=this._writableState;typeof x=="function"?(m=x,x=null,S=null):typeof S=="function"&&(m=S,S=null),x!=null&&this.write(x,S),c.corked&&(c.corked=1,this.uncork()),c.ending||g(this,c,m)};function E(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function a(x,S){x._final(function(m){S.pendingcb--,m&&x.emit("error",m),S.prefinished=!0,x.emit("prefinish"),h(x,S)})}function f(x,S){!S.prefinished&&!S.finalCalled&&(typeof x._final=="function"?(S.pendingcb++,S.finalCalled=!0,t.nextTick(a,x,S)):(S.prefinished=!0,x.emit("prefinish")))}function h(x,S){var m=E(S);return m&&(f(x,S),S.pendingcb===0&&(S.finished=!0,x.emit("finish"))),m}function g(x,S,m){S.ending=!0,h(x,S),m&&(S.finished?t.nextTick(m):x.once("finish",m)),S.ended=!0,x.writable=!1}function y(x,S,m){var c=x.entry;for(x.entry=null;c;){var w=c.callback;S.pendingcb--,w(m),c=c.next}S.corkedRequestsFree.next=x}return Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),A.prototype.destroy=v.destroy,A.prototype._undestroy=v.undestroy,A.prototype._destroy=function(x,S){this.end(),S(x)},D2}var $2,Ek;function Ih(){if(Ek)return $2;Ek=1;var t=_v(),e=Object.keys||function(v){var b=[];for(var _ in v)b.push(_);return b};$2=u;var r=Object.create(Zp());r.inherits=nr();var n=mL(),s=gL();r.inherits(u,n);for(var i=e(s.prototype),o=0;o<i.length;o++){var l=i[o];u.prototype[l]||(u.prototype[l]=s.prototype[l])}function u(v){if(!(this instanceof u))return new u(v);n.call(this,v),s.call(this,v),v&&v.readable===!1&&(this.readable=!1),v&&v.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,v&&v.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(){this.allowHalfOpen||this._writableState.ended||t.nextTick(p,this)}function p(v){v.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),u.prototype._destroy=function(v,b){this.push(null),this.end(),t.nextTick(b,v)},$2}var U2={},sm={exports:{}},Mk;function vX(){return Mk||(Mk=1,function(t,e){var r=Nt,n=r.Buffer;function s(o,l){for(var u in o)l[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(o,l,u){return n(o,l,u)}s(n,i),i.from=function(o,l,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,u)},i.alloc=function(o,l,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var d=n(o);return l!==void 0?typeof u=="string"?d.fill(l,u):d.fill(l):d.fill(0),d},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(sm,sm.exports)),sm.exports}var Ak;function kk(){if(Ak)return U2;Ak=1;var t=vX().Buffer,e=t.isEncoding||function(k){switch(k=""+k,k&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(k){if(!k)return"utf8";for(var R;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(R)return;k=(""+k).toLowerCase(),R=!0}}function n(k){var R=r(k);if(typeof R!="string"&&(t.isEncoding===e||!e(k)))throw new Error("Unknown encoding: "+k);return R||k}U2.StringDecoder=s;function s(k){this.encoding=n(k);var R;switch(this.encoding){case"utf16le":this.text=v,this.end=b,R=4;break;case"utf8":this.fillLast=u,R=4;break;case"base64":this.text=_,this.end=M,R=3;break;default:this.write=A,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(R)}s.prototype.write=function(k){if(k.length===0)return"";var R,C;if(this.lastNeed){if(R=this.fillLast(k),R===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<k.length?R?R+this.text(k,C):this.text(k,C):R||""},s.prototype.end=p,s.prototype.text=d,s.prototype.fillLast=function(k){if(this.lastNeed<=k.length)return k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,k.length),this.lastNeed-=k.length};function i(k){return k<=127?0:k>>5===6?2:k>>4===14?3:k>>3===30?4:k>>6===2?-1:-2}function o(k,R,C){var P=R.length-1;if(P<C)return 0;var N=i(R[P]);return N>=0?(N>0&&(k.lastNeed=N-1),N):--P<C||N===-2?0:(N=i(R[P]),N>=0?(N>0&&(k.lastNeed=N-2),N):--P<C||N===-2?0:(N=i(R[P]),N>=0?(N>0&&(N===2?N=0:k.lastNeed=N-3),N):0))}function l(k,R,C){if((R[0]&192)!==128)return k.lastNeed=0,"";if(k.lastNeed>1&&R.length>1){if((R[1]&192)!==128)return k.lastNeed=1,"";if(k.lastNeed>2&&R.length>2&&(R[2]&192)!==128)return k.lastNeed=2,""}}function u(k){var R=this.lastTotal-this.lastNeed,C=l(this,k);if(C!==void 0)return C;if(this.lastNeed<=k.length)return k.copy(this.lastChar,R,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,R,0,k.length),this.lastNeed-=k.length}function d(k,R){var C=o(this,k,R);if(!this.lastNeed)return k.toString("utf8",R);this.lastTotal=C;var P=k.length-(C-this.lastNeed);return k.copy(this.lastChar,0,P),k.toString("utf8",R,P)}function p(k){var R=k&&k.length?this.write(k):"";return this.lastNeed?R+"":R}function v(k,R){if((k.length-R)%2===0){var C=k.toString("utf16le",R);if(C){var P=C.charCodeAt(C.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=k[k.length-1],k.toString("utf16le",R,k.length-1)}function b(k){var R=k&&k.length?this.write(k):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return R+this.lastChar.toString("utf16le",0,C)}return R}function _(k,R){var C=(k.length-R)%3;return C===0?k.toString("base64",R):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=k[k.length-1]:(this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1]),k.toString("base64",R,k.length-C))}function M(k){var R=k&&k.length?this.write(k):"";return this.lastNeed?R+this.lastChar.toString("base64",0,3-this.lastNeed):R}function A(k){return k.toString(this.encoding)}function I(k){return k&&k.length?this.write(k):""}return U2}var F2,Ik;function mL(){if(Ik)return F2;Ik=1;var t=_v();F2=R;var e=mX(),r;R.ReadableState=k,Tn.EventEmitter;var n=function($,z){return $.listeners(z).length},s=dL(),i=hE().Buffer,o=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l($){return i.from($)}function u($){return i.isBuffer($)||$ instanceof o}var d=Object.create(Zp());d.inherits=nr();var p=Eo,v=void 0;p&&p.debuglog?v=p.debuglog("stream"):v=function(){};var b=yX(),_=pL(),M;d.inherits(R,s);var A=["error","close","destroy","pause","resume"];function I($,z,Y){if(typeof $.prependListener=="function")return $.prependListener(z,Y);!$._events||!$._events[z]?$.on(z,Y):e($._events[z])?$._events[z].unshift(Y):$._events[z]=[Y,$._events[z]]}function k($,z){r=r||Ih(),$=$||{};var Y=z instanceof r;this.objectMode=!!$.objectMode,Y&&(this.objectMode=this.objectMode||!!$.readableObjectMode);var te=$.highWaterMark,G=$.readableHighWaterMark,j=this.objectMode?16:16*1024;te||te===0?this.highWaterMark=te:Y&&(G||G===0)?this.highWaterMark=G:this.highWaterMark=j,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(M||(M=kk().StringDecoder),this.decoder=new M($.encoding),this.encoding=$.encoding)}function R($){if(r=r||Ih(),!(this instanceof R))return new R($);this._readableState=new k($,this),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),s.call(this)}Object.defineProperty(R.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),R.prototype.destroy=_.destroy,R.prototype._undestroy=_.undestroy,R.prototype._destroy=function($,z){this.push(null),z($)},R.prototype.push=function($,z){var Y=this._readableState,te;return Y.objectMode?te=!0:typeof $=="string"&&(z=z||Y.defaultEncoding,z!==Y.encoding&&($=i.from($,z),z=""),te=!0),C(this,$,z,!1,te)},R.prototype.unshift=function($){return C(this,$,null,!0,!1)};function C($,z,Y,te,G){var j=$._readableState;if(z===null)j.reading=!1,ie($,j);else{var W;G||(W=N(j,z)),W?$.emit("error",W):j.objectMode||z&&z.length>0?(typeof z!="string"&&!j.objectMode&&Object.getPrototypeOf(z)!==i.prototype&&(z=l(z)),te?j.endEmitted?$.emit("error",new Error("stream.unshift() after end event")):P($,j,z,!0):j.ended?$.emit("error",new Error("stream.push() after EOF")):(j.reading=!1,j.decoder&&!Y?(z=j.decoder.write(z),j.objectMode||z.length!==0?P($,j,z,!1):f($,j)):P($,j,z,!1))):te||(j.reading=!1)}return U(j)}function P($,z,Y,te){z.flowing&&z.length===0&&!z.sync?($.emit("data",Y),$.read(0)):(z.length+=z.objectMode?1:Y.length,te?z.buffer.unshift(Y):z.buffer.push(Y),z.needReadable&&E($)),f($,z)}function N($,z){var Y;return!u(z)&&typeof z!="string"&&z!==void 0&&!$.objectMode&&(Y=new TypeError("Invalid non-string/buffer chunk")),Y}function U($){return!$.ended&&($.needReadable||$.length<$.highWaterMark||$.length===0)}R.prototype.isPaused=function(){return this._readableState.flowing===!1},R.prototype.setEncoding=function($){return M||(M=kk().StringDecoder),this._readableState.decoder=new M($),this._readableState.encoding=$,this};var q=8388608;function F($){return $>=q?$=q:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}function L($,z){return $<=0||z.length===0&&z.ended?0:z.objectMode?1:$!==$?z.flowing&&z.length?z.buffer.head.data.length:z.length:($>z.highWaterMark&&(z.highWaterMark=F($)),$<=z.length?$:z.ended?z.length:(z.needReadable=!0,0))}R.prototype.read=function($){v("read",$),$=parseInt($,10);var z=this._readableState,Y=$;if($!==0&&(z.emittedReadable=!1),$===0&&z.needReadable&&(z.length>=z.highWaterMark||z.ended))return v("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?K(this):E(this),null;if($=L($,z),$===0&&z.ended)return z.length===0&&K(this),null;var te=z.needReadable;v("need readable",te),(z.length===0||z.length-$<z.highWaterMark)&&(te=!0,v("length less than watermark",te)),z.ended||z.reading?(te=!1,v("reading or ended",te)):te&&(v("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||($=L(Y,z)));var G;return $>0?G=c($,z):G=null,G===null?(z.needReadable=!0,$=0):z.length-=$,z.length===0&&(z.ended||(z.needReadable=!0),Y!==$&&z.ended&&K(this)),G!==null&&this.emit("data",G),G};function ie($,z){if(!z.ended){if(z.decoder){var Y=z.decoder.end();Y&&Y.length&&(z.buffer.push(Y),z.length+=z.objectMode?1:Y.length)}z.ended=!0,E($)}}function E($){var z=$._readableState;z.needReadable=!1,z.emittedReadable||(v("emitReadable",z.flowing),z.emittedReadable=!0,z.sync?t.nextTick(a,$):a($))}function a($){v("emit readable"),$.emit("readable"),m($)}function f($,z){z.readingMore||(z.readingMore=!0,t.nextTick(h,$,z))}function h($,z){for(var Y=z.length;!z.reading&&!z.flowing&&!z.ended&&z.length<z.highWaterMark&&(v("maybeReadMore read 0"),$.read(0),Y!==z.length);)Y=z.length;z.readingMore=!1}R.prototype._read=function($){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function($,z){var Y=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=$;break;case 1:te.pipes=[te.pipes,$];break;default:te.pipes.push($);break}te.pipesCount+=1,v("pipe count=%d opts=%j",te.pipesCount,z);var G=(!z||z.end!==!1)&&$!==process.stdout&&$!==process.stderr,j=G?oe:Mt;te.endEmitted?t.nextTick(j):Y.once("end",j),$.on("unpipe",W);function W(Ie,Ne){v("onunpipe"),Ie===Y&&Ne&&Ne.hasUnpiped===!1&&(Ne.hasUnpiped=!0,Oe())}function oe(){v("onend"),$.end()}var ae=g(Y);$.on("drain",ae);var he=!1;function Oe(){v("cleanup"),$.removeListener("close",Se),$.removeListener("finish",xe),$.removeListener("drain",ae),$.removeListener("error",it),$.removeListener("unpipe",W),Y.removeListener("end",oe),Y.removeListener("end",Mt),Y.removeListener("data",Ee),he=!0,te.awaitDrain&&(!$._writableState||$._writableState.needDrain)&&ae()}var me=!1;Y.on("data",Ee);function Ee(Ie){v("ondata"),me=!1;var Ne=$.write(Ie);Ne===!1&&!me&&((te.pipesCount===1&&te.pipes===$||te.pipesCount>1&&J(te.pipes,$)!==-1)&&!he&&(v("false write response, pause",te.awaitDrain),te.awaitDrain++,me=!0),Y.pause())}function it(Ie){v("onerror",Ie),Mt(),$.removeListener("error",it),n($,"error")===0&&$.emit("error",Ie)}I($,"error",it);function Se(){$.removeListener("finish",xe),Mt()}$.once("close",Se);function xe(){v("onfinish"),$.removeListener("close",Se),Mt()}$.once("finish",xe);function Mt(){v("unpipe"),Y.unpipe($)}return $.emit("pipe",Y),te.flowing||(v("pipe resume"),Y.resume()),$};function g($){return function(){var z=$._readableState;v("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,z.awaitDrain===0&&n($,"data")&&(z.flowing=!0,m($))}}R.prototype.unpipe=function($){var z=this._readableState,Y={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return $&&$!==z.pipes?this:($||($=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,$&&$.emit("unpipe",this,Y),this);if(!$){var te=z.pipes,G=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var j=0;j<G;j++)te[j].emit("unpipe",this,{hasUnpiped:!1});return this}var W=J(z.pipes,$);return W===-1?this:(z.pipes.splice(W,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),$.emit("unpipe",this,Y),this)},R.prototype.on=function($,z){var Y=s.prototype.on.call(this,$,z);if($==="data")this._readableState.flowing!==!1&&this.resume();else if($==="readable"){var te=this._readableState;!te.endEmitted&&!te.readableListening&&(te.readableListening=te.needReadable=!0,te.emittedReadable=!1,te.reading?te.length&&E(this):t.nextTick(y,this))}return Y},R.prototype.addListener=R.prototype.on;function y($){v("readable nexttick read 0"),$.read(0)}R.prototype.resume=function(){var $=this._readableState;return $.flowing||(v("resume"),$.flowing=!0,x(this,$)),this};function x($,z){z.resumeScheduled||(z.resumeScheduled=!0,t.nextTick(S,$,z))}function S($,z){z.reading||(v("resume read 0"),$.read(0)),z.resumeScheduled=!1,z.awaitDrain=0,$.emit("resume"),m($),z.flowing&&!z.reading&&$.read(0)}R.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function m($){var z=$._readableState;for(v("flow",z.flowing);z.flowing&&$.read()!==null;);}R.prototype.wrap=function($){var z=this,Y=this._readableState,te=!1;$.on("end",function(){if(v("wrapped end"),Y.decoder&&!Y.ended){var W=Y.decoder.end();W&&W.length&&z.push(W)}z.push(null)}),$.on("data",function(W){if(v("wrapped data"),Y.decoder&&(W=Y.decoder.write(W)),!(Y.objectMode&&W==null)&&!(!Y.objectMode&&(!W||!W.length))){var oe=z.push(W);oe||(te=!0,$.pause())}});for(var G in $)this[G]===void 0&&typeof $[G]=="function"&&(this[G]=function(W){return function(){return $[W].apply($,arguments)}}(G));for(var j=0;j<A.length;j++)$.on(A[j],this.emit.bind(this,A[j]));return this._read=function(W){v("wrapped _read",W),te&&(te=!1,$.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),R._fromList=c;function c($,z){if(z.length===0)return null;var Y;return z.objectMode?Y=z.buffer.shift():!$||$>=z.length?(z.decoder?Y=z.buffer.join(""):z.buffer.length===1?Y=z.buffer.head.data:Y=z.buffer.concat(z.length),z.buffer.clear()):Y=w($,z.buffer,z.decoder),Y}function w($,z,Y){var te;return $<z.head.data.length?(te=z.head.data.slice(0,$),z.head.data=z.head.data.slice($)):$===z.head.data.length?te=z.shift():te=Y?T($,z):O($,z),te}function T($,z){var Y=z.head,te=1,G=Y.data;for($-=G.length;Y=Y.next;){var j=Y.data,W=$>j.length?j.length:$;if(W===j.length?G+=j:G+=j.slice(0,$),$-=W,$===0){W===j.length?(++te,Y.next?z.head=Y.next:z.head=z.tail=null):(z.head=Y,Y.data=j.slice(W));break}++te}return z.length-=te,G}function O($,z){var Y=i.allocUnsafe($),te=z.head,G=1;for(te.data.copy(Y),$-=te.data.length;te=te.next;){var j=te.data,W=$>j.length?j.length:$;if(j.copy(Y,Y.length-$,0,W),$-=W,$===0){W===j.length?(++G,te.next?z.head=te.next:z.head=z.tail=null):(z.head=te,te.data=j.slice(W));break}++G}return z.length-=G,Y}function K($){var z=$._readableState;if(z.length>0)throw new Error('"endReadable()" called on non-empty stream');z.endEmitted||(z.ended=!0,t.nextTick(ee,z,$))}function ee($,z){!$.endEmitted&&$.length===0&&($.endEmitted=!0,z.readable=!1,z.emit("end"))}function J($,z){for(var Y=0,te=$.length;Y<te;Y++)if($[Y]===z)return Y;return-1}return F2}var j2,Rk;function yL(){if(Rk)return j2;Rk=1,j2=n;var t=Ih(),e=Object.create(Zp());e.inherits=nr(),e.inherits(n,t);function r(o,l){var u=this._transformState;u.transforming=!1;var d=u.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,l!=null&&this.push(l),d(o);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function n(o){if(!(this instanceof n))return new n(o);t.call(this,o),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",s)}function s(){var o=this;typeof this._flush=="function"?this._flush(function(l,u){i(o,l,u)}):i(this,null,null)}n.prototype.push=function(o,l){return this._transformState.needTransform=!1,t.prototype.push.call(this,o,l)},n.prototype._transform=function(o,l,u){throw new Error("_transform() is not implemented")},n.prototype._write=function(o,l,u){var d=this._transformState;if(d.writecb=u,d.writechunk=o,d.writeencoding=l,!d.transforming){var p=this._readableState;(d.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},n.prototype._read=function(o){var l=this._transformState;l.writechunk!==null&&l.writecb&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},n.prototype._destroy=function(o,l){var u=this;t.prototype._destroy.call(this,o,function(d){l(d),u.emit("close")})};function i(o,l,u){if(l)return o.emit("error",l);if(u!=null&&o.push(u),o._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(o._transformState.transforming)throw new Error("Calling transform done when still transforming");return o.push(null)}return j2}var q2,Ck;function wX(){if(Ck)return q2;Ck=1,q2=r;var t=yL(),e=Object.create(Zp());e.inherits=nr(),e.inherits(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,s,i){i(null,n)},q2}var Tk;function bX(){return Tk||(Tk=1,function(t,e){e=t.exports=mL(),e.Stream=e,e.Readable=e,e.Writable=gL(),e.Duplex=Ih(),e.Transform=yL(),e.PassThrough=wX()}(rm,rm.exports)),rm.exports}var Ud={exports:{}},z2,Pk;function dE(){if(Pk)return z2;Pk=1;var t=zp,e=nd(),r=cr().Buffer;function n(o){var l=o.modulus.byteLength(),u;do u=new t(e(l));while(u.cmp(o.modulus)>=0||!u.umod(o.prime1)||!u.umod(o.prime2));return u}function s(o){var l=n(o),u=l.toRed(t.mont(o.modulus)).redPow(new t(o.publicExponent)).fromRed();return{blinder:u,unblinder:l.invm(o.modulus)}}function i(o,l){var u=s(l),d=l.modulus.byteLength(),p=new t(o).mul(u.blinder).umod(l.modulus),v=p.toRed(t.mont(l.prime1)),b=p.toRed(t.mont(l.prime2)),_=l.coefficient,M=l.prime1,A=l.prime2,I=v.redPow(l.exponent1).fromRed(),k=b.redPow(l.exponent2).fromRed(),R=I.isub(k).imul(_).umod(M).imul(A);return k.iadd(R).imul(u.unblinder).umod(l.modulus).toArrayLike(r,"be",d)}return i.getr=n,z2=i,z2}var to={},H2={},c1={exports:{}};c1.exports;var Ok;function xX(){return Ok||(Ok=1,function(t){(function(e,r){function n(E,a){if(!E)throw new Error(a||"Assertion failed")}function s(E,a){E.super_=a;var f=function(){};f.prototype=a.prototype,E.prototype=new f,E.prototype.constructor=E}function i(E,a,f){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(E||0,a||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Eo.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,h){if(typeof a=="number")return this._initNumber(a,f,h);if(typeof a=="object")return this._initArray(a,f,h);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(f===16?this._parseHex(a,g,h):(this._parseBase(a,f,g),h==="le"&&this._initArray(this.toArray(),f,h)))},i.prototype._initNumber=function(a,f,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),f,h)},i.prototype._initArray=function(a,f,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x,S=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)x=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)x=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);return this.strip()};function l(E,a){var f=E.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(E,a,f){var h=l(E,f);return f-1>=a&&(h|=l(E,f-1)<<4),h}i.prototype._parseHex=function(a,f,h){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,x=0,S;if(h==="be")for(g=a.length-1;g>=f;g-=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8;else{var m=a.length-f;for(g=m%2===0?f+1:f;g<a.length;g+=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8}this.strip()};function d(E,a,f,h){for(var g=0,y=Math.min(E.length,f),x=a;x<y;x++){var S=E.charCodeAt(x)-48;g*=h,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}i.prototype._parseBase=function(a,f,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=f)g++;g--,y=y/f|0;for(var x=a.length-h,S=x%g,m=Math.min(x,x-S)+h,c=0,w=h;w<m;w+=g)c=d(a,w,w+g,f),this.imuln(y),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(S!==0){var T=1;for(c=d(a,w,a.length,f),w=0;w<S;w++)T*=f;this.imuln(T),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,x=0;x<this.length;x++){var S=this.words[x],m=((S<<g|y)&16777215).toString(16);y=S>>>24-g&16777215,g+=2,g>=26&&(g-=26,x--),y!==0||x!==this.length-1?h=p[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var c=v[a],w=b[a];h="";var T=this.clone();for(T.negative=0;!T.isZero();){var O=T.modn(w).toString(a);T=T.idivn(w),T.isZero()?h=O+h:h=p[c-O.length]+O+h}for(this.isZero()&&(h="0"+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return n(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,h){var g=this.byteLength(),y=h||Math.max(1,g);n(g<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var x=f==="le",S=new a(y),m,c,w=this.clone();if(x){for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[c]=m;for(;c<y;c++)S[c]=0}else{for(c=0;c<y-g;c++)S[c]=0;for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[y-c-1]=m}return S},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,h=0;return f>=4096&&(h+=13,f>>>=13),f>=64&&(h+=7,f>>>=7),f>=8&&(h+=4,f>>>=4),f>=2&&(h+=2,f>>>=2),h+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,h=0;return f&8191||(h+=13,f>>>=13),f&127||(h+=7,f>>>=7),f&15||(h+=4,f>>>=4),f&3||(h+=2,f>>>=2),f&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function _(E){for(var a=new Array(E.bitLength()),f=0;f<a.length;f++){var h=f/26|0,g=f%26;a[f]=(E.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var h=this._zeroBits(this.words[f]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,h;this.length>a.length?(f=this,h=a):(f=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=f.words[g]^h.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,h=a%26;this._expand(f),h>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),f?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,x=0;x<g.length;x++)f=(h.words[x]|0)+(g.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;for(;y!==0&&x<h.length;x++)f=(h.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var x=0,S=0;S<y.length;S++)f=(g.words[S]|0)-(y.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;for(;x!==0&&S<g.length;S++)f=(g.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;if(x===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function M(E,a,f){f.negative=a.negative^E.negative;var h=E.length+a.length|0;f.length=h,h=h-1|0;var g=E.words[0]|0,y=a.words[0]|0,x=g*y,S=x&67108863,m=x/67108864|0;f.words[0]=S;for(var c=1;c<h;c++){for(var w=m>>>26,T=m&67108863,O=Math.min(c,a.length-1),K=Math.max(0,c-E.length+1);K<=O;K++){var ee=c-K|0;g=E.words[ee]|0,y=a.words[K]|0,x=g*y+T,w+=x/67108864|0,T=x&67108863}f.words[c]=T|0,m=w|0}return m!==0?f.words[c]=m|0:f.length--,f.strip()}var A=function(a,f,h){var g=a.words,y=f.words,x=h.words,S=0,m,c,w,T=g[0]|0,O=T&8191,K=T>>>13,ee=g[1]|0,J=ee&8191,$=ee>>>13,z=g[2]|0,Y=z&8191,te=z>>>13,G=g[3]|0,j=G&8191,W=G>>>13,oe=g[4]|0,ae=oe&8191,he=oe>>>13,Oe=g[5]|0,me=Oe&8191,Ee=Oe>>>13,it=g[6]|0,Se=it&8191,xe=it>>>13,Mt=g[7]|0,Ie=Mt&8191,Ne=Mt>>>13,qt=g[8]|0,Z=qt&8191,B=qt>>>13,H=g[9]|0,ne=H&8191,ce=H>>>13,Me=y[0]|0,de=Me&8191,Ce=Me>>>13,Rt=y[1]|0,ke=Rt&8191,De=Rt>>>13,St=y[2]|0,Be=St&8191,He=St>>>13,Jt=y[3]|0,Ue=Jt&8191,Ke=Jt>>>13,zt=y[4]|0,Le=zt&8191,ze=zt>>>13,le=y[5]|0,se=le&8191,be=le>>>13,Ge=y[6]|0,we=Ge&8191,Fe=Ge>>>13,V=y[7]|0,X=V&8191,Q=V>>>13,D=y[8]|0,re=D&8191,ue=D>>>13,_e=y[9]|0,ge=_e&8191,ve=_e>>>13;h.negative=a.negative^f.negative,h.length=19,m=Math.imul(O,de),c=Math.imul(O,Ce),c=c+Math.imul(K,de)|0,w=Math.imul(K,Ce);var Ze=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,m=Math.imul(J,de),c=Math.imul(J,Ce),c=c+Math.imul($,de)|0,w=Math.imul($,Ce),m=m+Math.imul(O,ke)|0,c=c+Math.imul(O,De)|0,c=c+Math.imul(K,ke)|0,w=w+Math.imul(K,De)|0;var Ye=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,m=Math.imul(Y,de),c=Math.imul(Y,Ce),c=c+Math.imul(te,de)|0,w=Math.imul(te,Ce),m=m+Math.imul(J,ke)|0,c=c+Math.imul(J,De)|0,c=c+Math.imul($,ke)|0,w=w+Math.imul($,De)|0,m=m+Math.imul(O,Be)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(K,Be)|0,w=w+Math.imul(K,He)|0;var Bt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(j,de),c=Math.imul(j,Ce),c=c+Math.imul(W,de)|0,w=Math.imul(W,Ce),m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(te,ke)|0,w=w+Math.imul(te,De)|0,m=m+Math.imul(J,Be)|0,c=c+Math.imul(J,He)|0,c=c+Math.imul($,Be)|0,w=w+Math.imul($,He)|0,m=m+Math.imul(O,Ue)|0,c=c+Math.imul(O,Ke)|0,c=c+Math.imul(K,Ue)|0,w=w+Math.imul(K,Ke)|0;var rt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,m=Math.imul(ae,de),c=Math.imul(ae,Ce),c=c+Math.imul(he,de)|0,w=Math.imul(he,Ce),m=m+Math.imul(j,ke)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(W,ke)|0,w=w+Math.imul(W,De)|0,m=m+Math.imul(Y,Be)|0,c=c+Math.imul(Y,He)|0,c=c+Math.imul(te,Be)|0,w=w+Math.imul(te,He)|0,m=m+Math.imul(J,Ue)|0,c=c+Math.imul(J,Ke)|0,c=c+Math.imul($,Ue)|0,w=w+Math.imul($,Ke)|0,m=m+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(K,Le)|0,w=w+Math.imul(K,ze)|0;var Et=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(me,de),c=Math.imul(me,Ce),c=c+Math.imul(Ee,de)|0,w=Math.imul(Ee,Ce),m=m+Math.imul(ae,ke)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(he,ke)|0,w=w+Math.imul(he,De)|0,m=m+Math.imul(j,Be)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(W,Be)|0,w=w+Math.imul(W,He)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(te,Ue)|0,w=w+Math.imul(te,Ke)|0,m=m+Math.imul(J,Le)|0,c=c+Math.imul(J,ze)|0,c=c+Math.imul($,Le)|0,w=w+Math.imul($,ze)|0,m=m+Math.imul(O,se)|0,c=c+Math.imul(O,be)|0,c=c+Math.imul(K,se)|0,w=w+Math.imul(K,be)|0;var At=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(Se,de),c=Math.imul(Se,Ce),c=c+Math.imul(xe,de)|0,w=Math.imul(xe,Ce),m=m+Math.imul(me,ke)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(Ee,ke)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(ae,Be)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(he,Be)|0,w=w+Math.imul(he,He)|0,m=m+Math.imul(j,Ue)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(W,Ue)|0,w=w+Math.imul(W,Ke)|0,m=m+Math.imul(Y,Le)|0,c=c+Math.imul(Y,ze)|0,c=c+Math.imul(te,Le)|0,w=w+Math.imul(te,ze)|0,m=m+Math.imul(J,se)|0,c=c+Math.imul(J,be)|0,c=c+Math.imul($,se)|0,w=w+Math.imul($,be)|0,m=m+Math.imul(O,we)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(K,we)|0,w=w+Math.imul(K,Fe)|0;var _t=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(Ie,de),c=Math.imul(Ie,Ce),c=c+Math.imul(Ne,de)|0,w=Math.imul(Ne,Ce),m=m+Math.imul(Se,ke)|0,c=c+Math.imul(Se,De)|0,c=c+Math.imul(xe,ke)|0,w=w+Math.imul(xe,De)|0,m=m+Math.imul(me,Be)|0,c=c+Math.imul(me,He)|0,c=c+Math.imul(Ee,Be)|0,w=w+Math.imul(Ee,He)|0,m=m+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Ke)|0,c=c+Math.imul(he,Ue)|0,w=w+Math.imul(he,Ke)|0,m=m+Math.imul(j,Le)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(W,Le)|0,w=w+Math.imul(W,ze)|0,m=m+Math.imul(Y,se)|0,c=c+Math.imul(Y,be)|0,c=c+Math.imul(te,se)|0,w=w+Math.imul(te,be)|0,m=m+Math.imul(J,we)|0,c=c+Math.imul(J,Fe)|0,c=c+Math.imul($,we)|0,w=w+Math.imul($,Fe)|0,m=m+Math.imul(O,X)|0,c=c+Math.imul(O,Q)|0,c=c+Math.imul(K,X)|0,w=w+Math.imul(K,Q)|0;var Ot=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(Z,de),c=Math.imul(Z,Ce),c=c+Math.imul(B,de)|0,w=Math.imul(B,Ce),m=m+Math.imul(Ie,ke)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Ne,ke)|0,w=w+Math.imul(Ne,De)|0,m=m+Math.imul(Se,Be)|0,c=c+Math.imul(Se,He)|0,c=c+Math.imul(xe,Be)|0,w=w+Math.imul(xe,He)|0,m=m+Math.imul(me,Ue)|0,c=c+Math.imul(me,Ke)|0,c=c+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,Ke)|0,m=m+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(he,Le)|0,w=w+Math.imul(he,ze)|0,m=m+Math.imul(j,se)|0,c=c+Math.imul(j,be)|0,c=c+Math.imul(W,se)|0,w=w+Math.imul(W,be)|0,m=m+Math.imul(Y,we)|0,c=c+Math.imul(Y,Fe)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Fe)|0,m=m+Math.imul(J,X)|0,c=c+Math.imul(J,Q)|0,c=c+Math.imul($,X)|0,w=w+Math.imul($,Q)|0,m=m+Math.imul(O,re)|0,c=c+Math.imul(O,ue)|0,c=c+Math.imul(K,re)|0,w=w+Math.imul(K,ue)|0;var kt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(ne,de),c=Math.imul(ne,Ce),c=c+Math.imul(ce,de)|0,w=Math.imul(ce,Ce),m=m+Math.imul(Z,ke)|0,c=c+Math.imul(Z,De)|0,c=c+Math.imul(B,ke)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(Ie,Be)|0,c=c+Math.imul(Ie,He)|0,c=c+Math.imul(Ne,Be)|0,w=w+Math.imul(Ne,He)|0,m=m+Math.imul(Se,Ue)|0,c=c+Math.imul(Se,Ke)|0,c=c+Math.imul(xe,Ue)|0,w=w+Math.imul(xe,Ke)|0,m=m+Math.imul(me,Le)|0,c=c+Math.imul(me,ze)|0,c=c+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(ae,se)|0,c=c+Math.imul(ae,be)|0,c=c+Math.imul(he,se)|0,w=w+Math.imul(he,be)|0,m=m+Math.imul(j,we)|0,c=c+Math.imul(j,Fe)|0,c=c+Math.imul(W,we)|0,w=w+Math.imul(W,Fe)|0,m=m+Math.imul(Y,X)|0,c=c+Math.imul(Y,Q)|0,c=c+Math.imul(te,X)|0,w=w+Math.imul(te,Q)|0,m=m+Math.imul(J,re)|0,c=c+Math.imul(J,ue)|0,c=c+Math.imul($,re)|0,w=w+Math.imul($,ue)|0,m=m+Math.imul(O,ge)|0,c=c+Math.imul(O,ve)|0,c=c+Math.imul(K,ge)|0,w=w+Math.imul(K,ve)|0;var Ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ne,ke),c=Math.imul(ne,De),c=c+Math.imul(ce,ke)|0,w=Math.imul(ce,De),m=m+Math.imul(Z,Be)|0,c=c+Math.imul(Z,He)|0,c=c+Math.imul(B,Be)|0,w=w+Math.imul(B,He)|0,m=m+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Ke)|0,c=c+Math.imul(Ne,Ue)|0,w=w+Math.imul(Ne,Ke)|0,m=m+Math.imul(Se,Le)|0,c=c+Math.imul(Se,ze)|0,c=c+Math.imul(xe,Le)|0,w=w+Math.imul(xe,ze)|0,m=m+Math.imul(me,se)|0,c=c+Math.imul(me,be)|0,c=c+Math.imul(Ee,se)|0,w=w+Math.imul(Ee,be)|0,m=m+Math.imul(ae,we)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(he,we)|0,w=w+Math.imul(he,Fe)|0,m=m+Math.imul(j,X)|0,c=c+Math.imul(j,Q)|0,c=c+Math.imul(W,X)|0,w=w+Math.imul(W,Q)|0,m=m+Math.imul(Y,re)|0,c=c+Math.imul(Y,ue)|0,c=c+Math.imul(te,re)|0,w=w+Math.imul(te,ue)|0,m=m+Math.imul(J,ge)|0,c=c+Math.imul(J,ve)|0,c=c+Math.imul($,ge)|0,w=w+Math.imul($,ve)|0;var It=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(ne,Be),c=Math.imul(ne,He),c=c+Math.imul(ce,Be)|0,w=Math.imul(ce,He),m=m+Math.imul(Z,Ue)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(B,Ue)|0,w=w+Math.imul(B,Ke)|0,m=m+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,ze)|0,m=m+Math.imul(Se,se)|0,c=c+Math.imul(Se,be)|0,c=c+Math.imul(xe,se)|0,w=w+Math.imul(xe,be)|0,m=m+Math.imul(me,we)|0,c=c+Math.imul(me,Fe)|0,c=c+Math.imul(Ee,we)|0,w=w+Math.imul(Ee,Fe)|0,m=m+Math.imul(ae,X)|0,c=c+Math.imul(ae,Q)|0,c=c+Math.imul(he,X)|0,w=w+Math.imul(he,Q)|0,m=m+Math.imul(j,re)|0,c=c+Math.imul(j,ue)|0,c=c+Math.imul(W,re)|0,w=w+Math.imul(W,ue)|0,m=m+Math.imul(Y,ge)|0,c=c+Math.imul(Y,ve)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,ve)|0;var ft=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(ne,Ue),c=Math.imul(ne,Ke),c=c+Math.imul(ce,Ue)|0,w=Math.imul(ce,Ke),m=m+Math.imul(Z,Le)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(B,Le)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(Ie,se)|0,c=c+Math.imul(Ie,be)|0,c=c+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,be)|0,m=m+Math.imul(Se,we)|0,c=c+Math.imul(Se,Fe)|0,c=c+Math.imul(xe,we)|0,w=w+Math.imul(xe,Fe)|0,m=m+Math.imul(me,X)|0,c=c+Math.imul(me,Q)|0,c=c+Math.imul(Ee,X)|0,w=w+Math.imul(Ee,Q)|0,m=m+Math.imul(ae,re)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(he,re)|0,w=w+Math.imul(he,ue)|0,m=m+Math.imul(j,ge)|0,c=c+Math.imul(j,ve)|0,c=c+Math.imul(W,ge)|0,w=w+Math.imul(W,ve)|0;var pt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(ne,Le),c=Math.imul(ne,ze),c=c+Math.imul(ce,Le)|0,w=Math.imul(ce,ze),m=m+Math.imul(Z,se)|0,c=c+Math.imul(Z,be)|0,c=c+Math.imul(B,se)|0,w=w+Math.imul(B,be)|0,m=m+Math.imul(Ie,we)|0,c=c+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ne,we)|0,w=w+Math.imul(Ne,Fe)|0,m=m+Math.imul(Se,X)|0,c=c+Math.imul(Se,Q)|0,c=c+Math.imul(xe,X)|0,w=w+Math.imul(xe,Q)|0,m=m+Math.imul(me,re)|0,c=c+Math.imul(me,ue)|0,c=c+Math.imul(Ee,re)|0,w=w+Math.imul(Ee,ue)|0,m=m+Math.imul(ae,ge)|0,c=c+Math.imul(ae,ve)|0,c=c+Math.imul(he,ge)|0,w=w+Math.imul(he,ve)|0;var at=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(ne,se),c=Math.imul(ne,be),c=c+Math.imul(ce,se)|0,w=Math.imul(ce,be),m=m+Math.imul(Z,we)|0,c=c+Math.imul(Z,Fe)|0,c=c+Math.imul(B,we)|0,w=w+Math.imul(B,Fe)|0,m=m+Math.imul(Ie,X)|0,c=c+Math.imul(Ie,Q)|0,c=c+Math.imul(Ne,X)|0,w=w+Math.imul(Ne,Q)|0,m=m+Math.imul(Se,re)|0,c=c+Math.imul(Se,ue)|0,c=c+Math.imul(xe,re)|0,w=w+Math.imul(xe,ue)|0,m=m+Math.imul(me,ge)|0,c=c+Math.imul(me,ve)|0,c=c+Math.imul(Ee,ge)|0,w=w+Math.imul(Ee,ve)|0;var ht=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(ne,we),c=Math.imul(ne,Fe),c=c+Math.imul(ce,we)|0,w=Math.imul(ce,Fe),m=m+Math.imul(Z,X)|0,c=c+Math.imul(Z,Q)|0,c=c+Math.imul(B,X)|0,w=w+Math.imul(B,Q)|0,m=m+Math.imul(Ie,re)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(Ne,re)|0,w=w+Math.imul(Ne,ue)|0,m=m+Math.imul(Se,ge)|0,c=c+Math.imul(Se,ve)|0,c=c+Math.imul(xe,ge)|0,w=w+Math.imul(xe,ve)|0;var ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(ne,X),c=Math.imul(ne,Q),c=c+Math.imul(ce,X)|0,w=Math.imul(ce,Q),m=m+Math.imul(Z,re)|0,c=c+Math.imul(Z,ue)|0,c=c+Math.imul(B,re)|0,w=w+Math.imul(B,ue)|0,m=m+Math.imul(Ie,ge)|0,c=c+Math.imul(Ie,ve)|0,c=c+Math.imul(Ne,ge)|0,w=w+Math.imul(Ne,ve)|0;var st=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,m=Math.imul(ne,re),c=Math.imul(ne,ue),c=c+Math.imul(ce,re)|0,w=Math.imul(ce,ue),m=m+Math.imul(Z,ge)|0,c=c+Math.imul(Z,ve)|0,c=c+Math.imul(B,ge)|0,w=w+Math.imul(B,ve)|0;var Te=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(ne,ge),c=Math.imul(ne,ve),c=c+Math.imul(ce,ge)|0,w=Math.imul(ce,ve);var Pe=(S+m|0)+((c&8191)<<13)|0;return S=(w+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,x[0]=Ze,x[1]=Ye,x[2]=Bt,x[3]=rt,x[4]=Et,x[5]=At,x[6]=_t,x[7]=Ot,x[8]=kt,x[9]=Ct,x[10]=It,x[11]=ft,x[12]=pt,x[13]=at,x[14]=ht,x[15]=ct,x[16]=st,x[17]=Te,x[18]=Pe,S!==0&&(x[19]=S,h.length++),h};Math.imul||(A=M);function I(E,a,f){f.negative=a.negative^E.negative,f.length=E.length+a.length;for(var h=0,g=0,y=0;y<f.length-1;y++){var x=g;g=0;for(var S=h&67108863,m=Math.min(y,a.length-1),c=Math.max(0,y-E.length+1);c<=m;c++){var w=y-c,T=E.words[w]|0,O=a.words[c]|0,K=T*O,ee=K&67108863;x=x+(K/67108864|0)|0,ee=ee+S|0,S=ee&67108863,x=x+(ee>>>26)|0,g+=x>>>26,x&=67108863}f.words[y]=S,h=x,x=g}return h!==0?f.words[y]=h:f.length--,f.strip()}function k(E,a,f){var h=new R;return h.mulp(E,a,f)}i.prototype.mulTo=function(a,f){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=A(this,a,f):g<63?h=M(this,a,f):g<1024?h=I(this,a,f):h=k(this,a,f),h};function R(E,a){this.x=E,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,h,a);return f},R.prototype.revBin=function(a,f,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<f;y++)g|=(a&1)<<f-y-1,a>>=1;return g},R.prototype.permute=function(a,f,h,g,y,x){for(var S=0;S<x;S++)g[S]=f[a[S]],y[S]=h[a[S]]},R.prototype.transform=function(a,f,h,g,y,x){this.permute(x,a,f,h,g,y);for(var S=1;S<y;S<<=1)for(var m=S<<1,c=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),T=0;T<y;T+=m)for(var O=c,K=w,ee=0;ee<S;ee++){var J=h[T+ee],$=g[T+ee],z=h[T+ee+S],Y=g[T+ee+S],te=O*z-K*Y;Y=O*Y+K*z,z=te,h[T+ee]=J+z,g[T+ee]=$+Y,h[T+ee+S]=J-z,g[T+ee+S]=$-Y,ee!==m&&(te=c*O-w*K,K=c*K+w*O,O=te)}},R.prototype.guessLen13b=function(a,f){var h=Math.max(f,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},R.prototype.conjugate=function(a,f,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=f[g],f[g]=-f[h-g-1],f[h-g-1]=-y}},R.prototype.normalize13b=function(a,f){for(var h=0,g=0;g<f/2;g++){var y=Math.round(a[2*g+1]/f)*8192+Math.round(a[2*g]/f)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},R.prototype.convert13b=function(a,f,h,g){for(var y=0,x=0;x<f;x++)y=y+(a[x]|0),h[2*x]=y&8191,y=y>>>13,h[2*x+1]=y&8191,y=y>>>13;for(x=2*f;x<g;++x)h[x]=0;n(y===0),n((y&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),h=0;h<a;h++)f[h]=0;return f},R.prototype.mulp=function(a,f,h){var g=2*this.guessLen13b(a.length,f.length),y=this.makeRBT(g),x=this.stub(g),S=new Array(g),m=new Array(g),c=new Array(g),w=new Array(g),T=new Array(g),O=new Array(g),K=h.words;K.length=g,this.convert13b(a.words,a.length,S,g),this.convert13b(f.words,f.length,w,g),this.transform(S,x,m,c,g,y),this.transform(w,x,T,O,g,y);for(var ee=0;ee<g;ee++){var J=m[ee]*T[ee]-c[ee]*O[ee];c[ee]=m[ee]*O[ee]+c[ee]*T[ee],m[ee]=J}return this.conjugate(m,c,g),this.transform(m,c,K,x,g,y),this.conjugate(K,x,g),this.normalize13b(K,g),h.negative=a.negative^f.negative,h.length=a.length+f.length,h.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),k(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var f=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=y>>>26,this.words[h]=y&67108863}return f!==0&&(this.words[h]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=_(a);if(f.length===0)return new i(1);for(var h=this,g=0;g<f.length&&f[g]===0;g++,h=h.sqr());if(++g<f.length)for(var y=h.sqr();g<f.length;g++,y=y.sqr())f[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=67108863>>>26-f<<26-f,y;if(f!==0){var x=0;for(y=0;y<this.length;y++){var S=this.words[y]&g,m=(this.words[y]|0)-S<<f;this.words[y]=m|x,x=S>>>26-f}x&&(this.words[y]=x,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,h){n(typeof a=="number"&&a>=0);var g;f?g=(f-f%26)/26:g=0;var y=a%26,x=Math.min((a-y)/26,this.length),S=67108863^67108863>>>y<<y,m=h;if(g-=x,g=Math.max(0,g),m){for(var c=0;c<x;c++)m.words[c]=this.words[c];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,c=0;c<this.length;c++)this.words[c]=this.words[c+x];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=g);c--){var T=this.words[c]|0;this.words[c]=w<<26-y|T>>>y,w=T&S}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,h){return n(this.negative===0),this.iushrn(a,f,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(f!==0&&h++,this.length=Math.min(h,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,h){var g=a.length+h,y;this._expand(g);var x,S=0;for(y=0;y<a.length;y++){x=(this.words[y+h]|0)+S;var m=(a.words[y]|0)*f;x-=m&67108863,S=(x>>26)-(m/67108864|0),this.words[y+h]=x&67108863}for(;y<this.length-h;y++)x=(this.words[y+h]|0)+S,S=x>>26,this.words[y+h]=x&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,y=0;y<this.length;y++)x=-(this.words[y]|0)+S,S=x>>26,this.words[y]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var h=this.length-a.length,g=this.clone(),y=a,x=y.words[y.length-1]|0,S=this._countBits(x);h=26-S,h!==0&&(y=y.ushln(h),g.iushln(h),x=y.words[y.length-1]|0);var m=g.length-y.length,c;if(f!=="mod"){c=new i(null),c.length=m+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var T=g.clone()._ishlnsubmul(y,1,m);T.negative===0&&(g=T,c&&(c.words[m]=1));for(var O=m-1;O>=0;O--){var K=(g.words[y.length+O]|0)*67108864+(g.words[y.length+O-1]|0);for(K=Math.min(K/x|0,67108863),g._ishlnsubmul(y,K,O);g.negative!==0;)K--,g.negative=0,g._ishlnsubmul(y,1,O),g.isZero()||(g.negative^=1);c&&(c.words[O]=K)}return c&&c.strip(),g.strip(),f!=="div"&&h!==0&&g.iushrn(h),{div:c||null,mod:g}},i.prototype.divmod=function(a,f,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,x;return this.negative!==0&&a.negative===0?(x=this.neg().divmod(a,f),f!=="mod"&&(g=x.div.neg()),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(x=this.divmod(a.neg(),f),f!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):this.negative&a.negative?(x=this.neg().divmod(a.neg(),f),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:x.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var h=f.div.negative!==0?f.mod.isub(a):f.mod,g=a.ushrn(1),y=a.andln(1),x=h.cmp(g);return x<0||y===1&&x===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var f=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(f*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+f*67108864;this.words[h]=g/a|0,f=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=new i(0),S=new i(1),m=0;f.isEven()&&h.isEven();)f.iushrn(1),h.iushrn(1),++m;for(var c=h.clone(),w=f.clone();!f.isZero();){for(var T=0,O=1;!(f.words[0]&O)&&T<26;++T,O<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(c),y.isub(w)),g.iushrn(1),y.iushrn(1);for(var K=0,ee=1;!(h.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(c),S.isub(w)),x.iushrn(1),S.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(x),y.isub(S)):(h.isub(f),x.isub(g),S.isub(y))}return{a:x,b:S,gcd:h.iushln(m)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=h.clone();f.cmpn(1)>0&&h.cmpn(1)>0;){for(var S=0,m=1;!(f.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);for(var c=0,w=1;!(h.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(h.iushrn(c);c-- >0;)y.isOdd()&&y.iadd(x),y.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(y)):(h.isub(f),y.isub(g))}var T;return f.cmpn(1)===0?T=g:T=y,T.cmpn(0)<0&&T.iadd(a),T},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),h=a.clone();f.negative=0,h.negative=0;for(var g=0;f.isEven()&&h.isEven();g++)f.iushrn(1),h.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=f.cmp(h);if(y<0){var x=f;f=h,h=x}else if(y===0||h.cmpn(1)===0)break;f.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,x=h;y!==0&&x<this.length;x++){var S=this.words[x]|0;S+=y,y=S>>>26,S&=67108863,this.words[x]=S}return y!==0&&(this.words[x]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var h;if(this.length>1)h=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?f=-1:g>y&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new L(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function P(E,a){this.name=E,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,h;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),h=f.bitLength();while(h>this.n);var g=h<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function N(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,P),N.prototype.split=function(a,f){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)f.words[y]=a.words[y];if(f.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var x=a.words[9];for(f.words[f.length++]=x&h,y=10;y<a.length;y++){var S=a.words[y]|0;a.words[y-10]=(S&h)<<4|x>>>22,x=S}x>>>=22,a.words[y-10]=x,x===0&&a.length>10?a.length-=10:a.length-=9},N.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,h=0;h<a.length;h++){var g=a.words[h]|0;f+=g*977,a.words[h]=f&67108863,f=g*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,P);function q(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,P);function F(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(F,P),F.prototype.imulK=function(a){for(var f=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+f,y=g&67108863;g>>>=26,a.words[h]=y,f=g}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(C[a])return C[a];var f;if(a==="k256")f=new N;else if(a==="p224")f=new U;else if(a==="p192")f=new q;else if(a==="p25519")f=new F;else throw new Error("Unknown prime "+a);return C[a]=f,f};function L(E){if(typeof E=="string"){var a=i._prime(E);this.m=a.p,this.prime=a}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},L.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},L.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},L.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},L.prototype.add=function(a,f){this._verify2(a,f);var h=a.add(f);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(a,f){this._verify2(a,f);var h=a.iadd(f);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(a,f){this._verify2(a,f);var h=a.sub(f);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(a,f){this._verify2(a,f);var h=a.isub(f);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},L.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},L.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},L.prototype.isqr=function(a){return this.imul(a,a.clone())},L.prototype.sqr=function(a){return this.mul(a,a)},L.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);n(!g.isZero());var x=new i(1).toRed(this),S=x.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,m).cmp(S)!==0;)c.redIAdd(S);for(var w=this.pow(c,g),T=this.pow(a,g.addn(1).iushrn(1)),O=this.pow(a,g),K=y;O.cmp(x)!==0;){for(var ee=O,J=0;ee.cmp(x)!==0;J++)ee=ee.redSqr();n(J<K);var $=this.pow(w,new i(1).iushln(K-J-1));T=T.redMul($),w=$.redSqr(),O=O.redMul(w),K=J}return T},L.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},L.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var x=g[0],S=0,m=0,c=f.bitLength()%26;for(c===0&&(c=26),y=f.length-1;y>=0;y--){for(var w=f.words[y],T=c-1;T>=0;T--){var O=w>>T&1;if(x!==g[0]&&(x=this.sqr(x)),O===0&&S===0){m=0;continue}S<<=1,S|=O,m++,!(m!==h&&(y!==0||T!==0))&&(x=this.mul(x,g[S]),m=0,S=0)}c=26}return x},L.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},L.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ie,L),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var h=a.mul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Rn)}(c1)),c1.exports}var K2={},Nk;function _X(){return Nk||(Nk=1,function(t){var e=Jp(),r=nr(),n=t;n.define=function(o,l){return new s(o,l)};function s(i,o){this.name=i,this.body=o,this.decoders={},this.encoders={}}s.prototype._createNamed=function(o){var l;try{l=Eo.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{l=function(d){this._initNamed(d)}}return r(l,o),l.prototype._initNamed=function(d){o.call(this,d)},new l(this)},s.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(e.decoders[o])),this.decoders[o]},s.prototype.decode=function(o,l,u){return this._getDecoder(l).decode(o,u)},s.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(e.encoders[o])),this.encoders[o]},s.prototype.encode=function(o,l,u){return this._getEncoder(l).encode(o,u)}}(K2)),K2}var W2={},V2={},Bk;function SX(){if(Bk)return V2;Bk=1;var t=nr();function e(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}V2.Reporter=e,e.prototype.isError=function(s){return s instanceof r},e.prototype.save=function(){var s=this._reporterState;return{obj:s.obj,pathLen:s.path.length}},e.prototype.restore=function(s){var i=this._reporterState;i.obj=s.obj,i.path=i.path.slice(0,s.pathLen)},e.prototype.enterKey=function(s){return this._reporterState.path.push(s)},e.prototype.exitKey=function(s){var i=this._reporterState;i.path=i.path.slice(0,s-1)},e.prototype.leaveKey=function(s,i,o){var l=this._reporterState;this.exitKey(s),l.obj!==null&&(l.obj[i]=o)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var s=this._reporterState,i=s.obj;return s.obj={},i},e.prototype.leaveObject=function(s){var i=this._reporterState,o=i.obj;return i.obj=s,o},e.prototype.error=function(s){var i,o=this._reporterState,l=s instanceof r;if(l?i=s:i=new r(o.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),s.message||s,s.stack),!o.options.partial)throw i;return l||o.errors.push(i),i},e.prototype.wrapResult=function(s){var i=this._reporterState;return i.options.partial?{result:this.isError(s)?null:s,errors:i.errors}:s};function r(n,s){this.path=n,this.rethrow(s)}return t(r,Error),r.prototype.rethrow=function(s){if(this.message=s+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this},V2}var om={},Lk;function Dk(){if(Lk)return om;Lk=1;var t=nr(),e=A0().Reporter,r=Nt.Buffer;function n(i,o){if(e.call(this,o),!r.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}t(n,e),om.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},n.prototype.restore=function(o){var l=new n(this.base);return l.offset=o.offset,l.length=this.offset,this.offset=o.offset,e.prototype.restore.call(this,o.reporter),l},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,l){if(!(this.offset+o<=this.length))return this.error(l||"DecoderBuffer overrun");var u=new n(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+o,this.offset+=o,u},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function s(i,o){if(Array.isArray(i))this.length=0,this.value=i.map(function(l){return l instanceof s||(l=new s(l,o)),this.length+=l.length,l},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return o.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=r.byteLength(i);else if(r.isBuffer(i))this.value=i,this.length=i.length;else return o.error("Unsupported type: "+typeof i)}return om.EncoderBuffer=s,s.prototype.join=function(o,l){return o||(o=new r(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(o,l),l+=u.length}):(typeof this.value=="number"?o[l]=this.value:typeof this.value=="string"?o.write(this.value,l):r.isBuffer(this.value)&&this.value.copy(o,l),l+=this.length)),o},om}var G2,$k;function EX(){if($k)return G2;$k=1;var t=A0().Reporter,e=A0().EncoderBuffer,r=A0().DecoderBuffer,n=Mo,s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),o=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function l(d,p){var v={};this._baseState=v,v.enc=d,v.parent=p||null,v.children=null,v.tag=null,v.args=null,v.reverseArgs=null,v.choice=null,v.optional=!1,v.any=!1,v.obj=!1,v.use=null,v.useDecoder=null,v.key=null,v.default=null,v.explicit=null,v.implicit=null,v.contains=null,v.parent||(v.children=[],this._wrap())}G2=l;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return l.prototype.clone=function(){var p=this._baseState,v={};u.forEach(function(_){v[_]=p[_]});var b=new this.constructor(v.parent);return b._baseState=v,b},l.prototype._wrap=function(){var p=this._baseState;i.forEach(function(v){this[v]=function(){var _=new this.constructor(this);return p.children.push(_),_[v].apply(_,arguments)}},this)},l.prototype._init=function(p){var v=this._baseState;n(v.parent===null),p.call(this),v.children=v.children.filter(function(b){return b._baseState.parent===this},this),n.equal(v.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(p){var v=this._baseState,b=p.filter(function(_){return _ instanceof this.constructor},this);p=p.filter(function(_){return!(_ instanceof this.constructor)},this),b.length!==0&&(n(v.children===null),v.children=b,b.forEach(function(_){_._baseState.parent=this},this)),p.length!==0&&(n(v.args===null),v.args=p,v.reverseArgs=p.map(function(_){if(typeof _!="object"||_.constructor!==Object)return _;var M={};return Object.keys(_).forEach(function(A){A==(A|0)&&(A|=0);var I=_[A];M[I]=A}),M}))},o.forEach(function(d){l.prototype[d]=function(){var v=this._baseState;throw new Error(d+" not implemented for encoding: "+v.enc)}}),s.forEach(function(d){l.prototype[d]=function(){var v=this._baseState,b=Array.prototype.slice.call(arguments);return n(v.tag===null),v.tag=d,this._useArgs(b),this}}),l.prototype.use=function(p){n(p);var v=this._baseState;return n(v.use===null),v.use=p,this},l.prototype.optional=function(){var p=this._baseState;return p.optional=!0,this},l.prototype.def=function(p){var v=this._baseState;return n(v.default===null),v.default=p,v.optional=!0,this},l.prototype.explicit=function(p){var v=this._baseState;return n(v.explicit===null&&v.implicit===null),v.explicit=p,this},l.prototype.implicit=function(p){var v=this._baseState;return n(v.explicit===null&&v.implicit===null),v.implicit=p,this},l.prototype.obj=function(){var p=this._baseState,v=Array.prototype.slice.call(arguments);return p.obj=!0,v.length!==0&&this._useArgs(v),this},l.prototype.key=function(p){var v=this._baseState;return n(v.key===null),v.key=p,this},l.prototype.any=function(){var p=this._baseState;return p.any=!0,this},l.prototype.choice=function(p){var v=this._baseState;return n(v.choice===null),v.choice=p,this._useArgs(Object.keys(p).map(function(b){return p[b]})),this},l.prototype.contains=function(p){var v=this._baseState;return n(v.use===null),v.contains=p,this},l.prototype._decode=function(p,v){var b=this._baseState;if(b.parent===null)return p.wrapResult(b.children[0]._decode(p,v));var _=b.default,M=!0,A=null;if(b.key!==null&&(A=p.enterKey(b.key)),b.optional){var I=null;if(b.explicit!==null?I=b.explicit:b.implicit!==null?I=b.implicit:b.tag!==null&&(I=b.tag),I===null&&!b.any){var k=p.save();try{b.choice===null?this._decodeGeneric(b.tag,p,v):this._decodeChoice(p,v),M=!0}catch{M=!1}p.restore(k)}else if(M=this._peekTag(p,I,b.any),p.isError(M))return M}var R;if(b.obj&&M&&(R=p.enterObject()),M){if(b.explicit!==null){var C=this._decodeTag(p,b.explicit);if(p.isError(C))return C;p=C}var P=p.offset;if(b.use===null&&b.choice===null){if(b.any)var k=p.save();var N=this._decodeTag(p,b.implicit!==null?b.implicit:b.tag,b.any);if(p.isError(N))return N;b.any?_=p.raw(k):p=N}if(v&&v.track&&b.tag!==null&&v.track(p.path(),P,p.length,"tagged"),v&&v.track&&b.tag!==null&&v.track(p.path(),p.offset,p.length,"content"),b.any?_=_:b.choice===null?_=this._decodeGeneric(b.tag,p,v):_=this._decodeChoice(p,v),p.isError(_))return _;if(!b.any&&b.choice===null&&b.children!==null&&b.children.forEach(function(F){F._decode(p,v)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){var U=new r(_);_=this._getUse(b.contains,p._reporterState.obj)._decode(U,v)}}return b.obj&&M&&(_=p.leaveObject(R)),b.key!==null&&(_!==null||M===!0)?p.leaveKey(A,b.key,_):A!==null&&p.exitKey(A),_},l.prototype._decodeGeneric=function(p,v,b){var _=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(v,p,_.args[0],b):/str$/.test(p)?this._decodeStr(v,p,b):p==="objid"&&_.args?this._decodeObjid(v,_.args[0],_.args[1],b):p==="objid"?this._decodeObjid(v,null,null,b):p==="gentime"||p==="utctime"?this._decodeTime(v,p,b):p==="null_"?this._decodeNull(v,b):p==="bool"?this._decodeBool(v,b):p==="objDesc"?this._decodeStr(v,p,b):p==="int"||p==="enum"?this._decodeInt(v,_.args&&_.args[0],b):_.use!==null?this._getUse(_.use,v._reporterState.obj)._decode(v,b):v.error("unknown tag: "+p)},l.prototype._getUse=function(p,v){var b=this._baseState;return b.useDecoder=this._use(p,v),n(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},l.prototype._decodeChoice=function(p,v){var b=this._baseState,_=null,M=!1;return Object.keys(b.choice).some(function(A){var I=p.save(),k=b.choice[A];try{var R=k._decode(p,v);if(p.isError(R))return!1;_={type:A,value:R},M=!0}catch{return p.restore(I),!1}return!0},this),M?_:p.error("Choice not matched")},l.prototype._createEncoderBuffer=function(p){return new e(p,this.reporter)},l.prototype._encode=function(p,v,b){var _=this._baseState;if(!(_.default!==null&&_.default===p)){var M=this._encodeValue(p,v,b);if(M!==void 0&&!this._skipDefault(M,v,b))return M}},l.prototype._encodeValue=function(p,v,b){var _=this._baseState;if(_.parent===null)return _.children[0]._encode(p,v||new t);var k=null;if(this.reporter=v,_.optional&&p===void 0)if(_.default!==null)p=_.default;else return;var M=null,A=!1;if(_.any)k=this._createEncoderBuffer(p);else if(_.choice)k=this._encodeChoice(p,v);else if(_.contains)M=this._getUse(_.contains,b)._encode(p,v),A=!0;else if(_.children)M=_.children.map(function(P){if(P._baseState.tag==="null_")return P._encode(null,v,p);if(P._baseState.key===null)return v.error("Child should have a key");var N=v.enterKey(P._baseState.key);if(typeof p!="object")return v.error("Child expected, but input is not object");var U=P._encode(p[P._baseState.key],v,p);return v.leaveKey(N),U},this).filter(function(P){return P}),M=this._createEncoderBuffer(M);else if(_.tag==="seqof"||_.tag==="setof"){if(!(_.args&&_.args.length===1))return v.error("Too many args for : "+_.tag);if(!Array.isArray(p))return v.error("seqof/setof, but data is not Array");var I=this.clone();I._baseState.implicit=null,M=this._createEncoderBuffer(p.map(function(P){var N=this._baseState;return this._getUse(N.args[0],p)._encode(P,v)},I))}else _.use!==null?k=this._getUse(_.use,b)._encode(p,v):(M=this._encodePrimitive(_.tag,p),A=!0);var k;if(!_.any&&_.choice===null){var R=_.implicit!==null?_.implicit:_.tag,C=_.implicit===null?"universal":"context";R===null?_.use===null&&v.error("Tag could be omitted only for .use()"):_.use===null&&(k=this._encodeComposite(R,A,C,M))}return _.explicit!==null&&(k=this._encodeComposite(_.explicit,!1,"context",k)),k},l.prototype._encodeChoice=function(p,v){var b=this._baseState,_=b.choice[p.type];return _||n(!1,p.type+" not found in "+JSON.stringify(Object.keys(b.choice))),_._encode(p.value,v)},l.prototype._encodePrimitive=function(p,v){var b=this._baseState;if(/str$/.test(p))return this._encodeStr(v,p);if(p==="objid"&&b.args)return this._encodeObjid(v,b.reverseArgs[0],b.args[1]);if(p==="objid")return this._encodeObjid(v,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(v,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(v,b.args&&b.reverseArgs[0]);if(p==="bool")return this._encodeBool(v);if(p==="objDesc")return this._encodeStr(v,p);throw new Error("Unsupported tag: "+p)},l.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},l.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(p)},G2}var Uk;function A0(){return Uk||(Uk=1,function(t){var e=t;e.Reporter=SX().Reporter,e.DecoderBuffer=Dk().DecoderBuffer,e.EncoderBuffer=Dk().EncoderBuffer,e.Node=EX()}(W2)),W2}var Y2={},Z2={},Fk;function MX(){return Fk||(Fk=1,function(t){var e=vL();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}(Z2)),Z2}var jk;function vL(){return jk||(jk=1,function(t){var e=t;e._reverse=function(n){var s={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);var o=n[i];s[o]=i}),s},e.der=MX()}(Y2)),Y2}var J2={},X2,qk;function wL(){if(qk)return X2;qk=1;var t=nr(),e=Jp(),r=e.base,n=e.bignum,s=e.constants.der;function i(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new o,this.tree._init(d.body)}X2=i,i.prototype.decode=function(p,v){return p instanceof r.DecoderBuffer||(p=new r.DecoderBuffer(p,v)),this.tree._decode(p,v)};function o(d){r.Node.call(this,"der",d)}t(o,r.Node),o.prototype._peekTag=function(p,v,b){if(p.isEmpty())return!1;var _=p.save(),M=l(p,'Failed to peek tag: "'+v+'"');return p.isError(M)?M:(p.restore(_),M.tag===v||M.tagStr===v||M.tagStr+"of"===v||b)},o.prototype._decodeTag=function(p,v,b){var _=l(p,'Failed to decode tag of "'+v+'"');if(p.isError(_))return _;var M=u(p,_.primitive,'Failed to get length of "'+v+'"');if(p.isError(M))return M;if(!b&&_.tag!==v&&_.tagStr!==v&&_.tagStr+"of"!==v)return p.error('Failed to match tag: "'+v+'"');if(_.primitive||M!==null)return p.skip(M,'Failed to match body of: "'+v+'"');var A=p.save(),I=this._skipUntilEnd(p,'Failed to skip indefinite length body: "'+this.tag+'"');return p.isError(I)?I:(M=p.offset-A.offset,p.restore(A),p.skip(M,'Failed to match body of: "'+v+'"'))},o.prototype._skipUntilEnd=function(p,v){for(;;){var b=l(p,v);if(p.isError(b))return b;var _=u(p,b.primitive,v);if(p.isError(_))return _;var M;if(b.primitive||_!==null?M=p.skip(_):M=this._skipUntilEnd(p,v),p.isError(M))return M;if(b.tagStr==="end")break}},o.prototype._decodeList=function(p,v,b,_){for(var M=[];!p.isEmpty();){var A=this._peekTag(p,"end");if(p.isError(A))return A;var I=b.decode(p,"der",_);if(p.isError(I)&&A)break;M.push(I)}return M},o.prototype._decodeStr=function(p,v){if(v==="bitstr"){var b=p.readUInt8();return p.isError(b)?b:{unused:b,data:p.raw()}}else if(v==="bmpstr"){var _=p.raw();if(_.length%2===1)return p.error("Decoding of string type: bmpstr length mismatch");for(var M="",A=0;A<_.length/2;A++)M+=String.fromCharCode(_.readUInt16BE(A*2));return M}else if(v==="numstr"){var I=p.raw().toString("ascii");return this._isNumstr(I)?I:p.error("Decoding of string type: numstr unsupported characters")}else{if(v==="octstr")return p.raw();if(v==="objDesc")return p.raw();if(v==="printstr"){var k=p.raw().toString("ascii");return this._isPrintstr(k)?k:p.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(v)?p.raw().toString():p.error("Decoding of string type: "+v+" unsupported")}},o.prototype._decodeObjid=function(p,v,b){for(var _,M=[],A=0;!p.isEmpty();){var I=p.readUInt8();A<<=7,A|=I&127,I&128||(M.push(A),A=0)}I&128&&M.push(A);var k=M[0]/40|0,R=M[0]%40;if(b?_=M:_=[k,R].concat(M.slice(1)),v){var C=v[_.join(" ")];C===void 0&&(C=v[_.join(".")]),C!==void 0&&(_=C)}return _},o.prototype._decodeTime=function(p,v){var b=p.raw().toString();if(v==="gentime")var _=b.slice(0,4)|0,M=b.slice(4,6)|0,A=b.slice(6,8)|0,I=b.slice(8,10)|0,k=b.slice(10,12)|0,R=b.slice(12,14)|0;else if(v==="utctime"){var _=b.slice(0,2)|0,M=b.slice(2,4)|0,A=b.slice(4,6)|0,I=b.slice(6,8)|0,k=b.slice(8,10)|0,R=b.slice(10,12)|0;_<70?_=2e3+_:_=1900+_}else return p.error("Decoding "+v+" time is not supported yet");return Date.UTC(_,M-1,A,I,k,R,0)},o.prototype._decodeNull=function(p){return null},o.prototype._decodeBool=function(p){var v=p.readUInt8();return p.isError(v)?v:v!==0},o.prototype._decodeInt=function(p,v){var b=p.raw(),_=new n(b);return v&&(_=v[_.toString(10)]||_),_},o.prototype._use=function(p,v){return typeof p=="function"&&(p=p(v)),p._getDecoder("der").tree};function l(d,p){var v=d.readUInt8(p);if(d.isError(v))return v;var b=s.tagClass[v>>6],_=(v&32)===0;if((v&31)===31){var M=v;for(v=0;(M&128)===128;){if(M=d.readUInt8(p),d.isError(M))return M;v<<=7,v|=M&127}}else v&=31;var A=s.tag[v];return{cls:b,primitive:_,tag:v,tagStr:A}}function u(d,p,v){var b=d.readUInt8(v);if(d.isError(b))return b;if(!p&&b===128)return null;if(!(b&128))return b;var _=b&127;if(_>4)return d.error("length octect is too long");b=0;for(var M=0;M<_;M++){b<<=8;var A=d.readUInt8(v);if(d.isError(A))return A;b|=A}return b}return X2}var Q2,zk;function AX(){if(zk)return Q2;zk=1;var t=nr(),e=Nt.Buffer,r=wL();function n(s){r.call(this,s),this.enc="pem"}return t(n,r),Q2=n,n.prototype.decode=function(i,o){for(var l=i.toString().split(/[\r\n]+/g),u=o.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/,p=-1,v=-1,b=0;b<l.length;b++){var _=l[b].match(d);if(_!==null&&_[2]===u)if(p===-1){if(_[1]!=="BEGIN")break;p=b}else{if(_[1]!=="END")break;v=b;break}}if(p===-1||v===-1)throw new Error("PEM section not found for: "+u);var M=l.slice(p+1,v).join("");M.replace(/[^a-z0-9\+\/=]+/gi,"");var A=new e(M,"base64");return r.prototype.decode.call(this,A,o)},Q2}var Hk;function kX(){return Hk||(Hk=1,function(t){var e=t;e.der=wL(),e.pem=AX()}(J2)),J2}var e3={},t3,Kk;function bL(){if(Kk)return t3;Kk=1;var t=nr(),e=Nt.Buffer,r=Jp(),n=r.base,s=r.constants.der;function i(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new o,this.tree._init(d.body)}t3=i,i.prototype.encode=function(p,v){return this.tree._encode(p,v).join()};function o(d){n.Node.call(this,"der",d)}t(o,n.Node),o.prototype._encodeComposite=function(p,v,b,_){var M=u(p,v,b,this.reporter);if(_.length<128){var k=new e(2);return k[0]=M,k[1]=_.length,this._createEncoderBuffer([k,_])}for(var A=1,I=_.length;I>=256;I>>=8)A++;var k=new e(2+A);k[0]=M,k[1]=128|A;for(var I=1+A,R=_.length;R>0;I--,R>>=8)k[I]=R&255;return this._createEncoderBuffer([k,_])},o.prototype._encodeStr=function(p,v){if(v==="bitstr")return this._createEncoderBuffer([p.unused|0,p.data]);if(v==="bmpstr"){for(var b=new e(p.length*2),_=0;_<p.length;_++)b.writeUInt16BE(p.charCodeAt(_),_*2);return this._createEncoderBuffer(b)}else return v==="numstr"?this._isNumstr(p)?this._createEncoderBuffer(p):this.reporter.error("Encoding of string type: numstr supports only digits and space"):v==="printstr"?this._isPrintstr(p)?this._createEncoderBuffer(p):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(v)?this._createEncoderBuffer(p):v==="objDesc"?this._createEncoderBuffer(p):this.reporter.error("Encoding of string type: "+v+" unsupported")},o.prototype._encodeObjid=function(p,v,b){if(typeof p=="string"){if(!v)return this.reporter.error("string objid given, but no values map found");if(!v.hasOwnProperty(p))return this.reporter.error("objid not found in values map");p=v[p].split(/[\s\.]+/g);for(var _=0;_<p.length;_++)p[_]|=0}else if(Array.isArray(p)){p=p.slice();for(var _=0;_<p.length;_++)p[_]|=0}if(!Array.isArray(p))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(p));if(!b){if(p[1]>=40)return this.reporter.error("Second objid identifier OOB");p.splice(0,2,p[0]*40+p[1])}for(var M=0,_=0;_<p.length;_++){var A=p[_];for(M++;A>=128;A>>=7)M++}for(var I=new e(M),k=I.length-1,_=p.length-1;_>=0;_--){var A=p[_];for(I[k--]=A&127;(A>>=7)>0;)I[k--]=128|A&127}return this._createEncoderBuffer(I)};function l(d){return d<10?"0"+d:d}o.prototype._encodeTime=function(p,v){var b,_=new Date(p);return v==="gentime"?b=[l(_.getFullYear()),l(_.getUTCMonth()+1),l(_.getUTCDate()),l(_.getUTCHours()),l(_.getUTCMinutes()),l(_.getUTCSeconds()),"Z"].join(""):v==="utctime"?b=[l(_.getFullYear()%100),l(_.getUTCMonth()+1),l(_.getUTCDate()),l(_.getUTCHours()),l(_.getUTCMinutes()),l(_.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+v+" time is not supported yet"),this._encodeStr(b,"octstr")},o.prototype._encodeNull=function(){return this._createEncoderBuffer("")},o.prototype._encodeInt=function(p,v){if(typeof p=="string"){if(!v)return this.reporter.error("String int or enum given, but no values map");if(!v.hasOwnProperty(p))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(p));p=v[p]}if(typeof p!="number"&&!e.isBuffer(p)){var b=p.toArray();!p.sign&&b[0]&128&&b.unshift(0),p=new e(b)}if(e.isBuffer(p)){var _=p.length;p.length===0&&_++;var A=new e(_);return p.copy(A),p.length===0&&(A[0]=0),this._createEncoderBuffer(A)}if(p<128)return this._createEncoderBuffer(p);if(p<256)return this._createEncoderBuffer([0,p]);for(var _=1,M=p;M>=256;M>>=8)_++;for(var A=new Array(_),M=A.length-1;M>=0;M--)A[M]=p&255,p>>=8;return A[0]&128&&A.unshift(0),this._createEncoderBuffer(new e(A))},o.prototype._encodeBool=function(p){return this._createEncoderBuffer(p?255:0)},o.prototype._use=function(p,v){return typeof p=="function"&&(p=p(v)),p._getEncoder("der").tree},o.prototype._skipDefault=function(p,v,b){var _=this._baseState,M;if(_.default===null)return!1;var A=p.join();if(_.defaultBuffer===void 0&&(_.defaultBuffer=this._encodeValue(_.default,v,b).join()),A.length!==_.defaultBuffer.length)return!1;for(M=0;M<A.length;M++)if(A[M]!==_.defaultBuffer[M])return!1;return!0};function u(d,p,v,b){var _;if(d==="seqof"?d="seq":d==="setof"&&(d="set"),s.tagByName.hasOwnProperty(d))_=s.tagByName[d];else if(typeof d=="number"&&(d|0)===d)_=d;else return b.error("Unknown tag: "+d);return _>=31?b.error("Multi-octet tag encoding unsupported"):(p||(_|=32),_|=s.tagClassByName[v||"universal"]<<6,_)}return t3}var r3,Wk;function IX(){if(Wk)return r3;Wk=1;var t=nr(),e=bL();function r(n){e.call(this,n),this.enc="pem"}return t(r,e),r3=r,r.prototype.encode=function(s,i){for(var o=e.prototype.encode.call(this,s),l=o.toString("base64"),u=["-----BEGIN "+i.label+"-----"],d=0;d<l.length;d+=64)u.push(l.slice(d,d+64));return u.push("-----END "+i.label+"-----"),u.join(`
`)},r3}var Vk;function RX(){return Vk||(Vk=1,function(t){var e=t;e.der=bL(),e.pem=IX()}(e3)),e3}var Gk;function Jp(){return Gk||(Gk=1,function(t){var e=t;e.bignum=xX(),e.define=_X().define,e.base=A0(),e.constants=vL(),e.decoders=kX(),e.encoders=RX()}(H2)),H2}var n3,Yk;function CX(){if(Yk)return n3;Yk=1;var t=Jp(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),i=t.define("RelativeDistinguishedName",function(){this.setof(r)}),o=t.define("RDNSequence",function(){this.seqof(i)}),l=t.define("Name",function(){this.choice({rdnSequence:this.use(o)})}),u=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),d=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),p=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(l),this.key("validity").use(u),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),v=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});return n3=v,n3}var Zk;function TX(){if(Zk)return to;Zk=1;var t=Jp();to.certificate=CX();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});to.RSAPrivateKey=e;var r=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});to.RSAPublicKey=r;var n=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),s=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});to.PublicKey=s;var i=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});to.PrivateKey=i;var o=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});to.EncryptedPrivateKey=o;var l=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});to.DSAPrivateKey=l,to.DSAparam=t.define("DSAparam",function(){this.int()});var u=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),d=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});return to.ECPrivateKey=d,to.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),to}const PX={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var i3,Jk;function OX(){if(Jk)return i3;Jk=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=xv(),s=fE(),i=cr().Buffer;return i3=function(o,l){var u=o.toString(),d=u.match(t),p;if(d){var b="aes"+d[1],_=i.from(d[2],"hex"),M=i.from(d[3].replace(/[\r\n]/g,""),"base64"),A=n(l,_.slice(0,8),parseInt(d[1],10)).key,I=[],k=s.createDecipheriv(b,A,_);I.push(k.update(M)),I.push(k.final()),p=i.concat(I)}else{var v=u.match(r);p=i.from(v[2].replace(/[\r\n]/g,""),"base64")}var R=u.match(e)[1];return{tag:R,data:p}},i3}var s3,Xk;function Sv(){if(Xk)return s3;Xk=1;var t=TX(),e=PX,r=OX(),n=fE(),s=nL(),i=cr().Buffer;function o(u,d){var p=u.algorithm.decrypt.kde.kdeparams.salt,v=parseInt(u.algorithm.decrypt.kde.kdeparams.iters.toString(),10),b=e[u.algorithm.decrypt.cipher.algo.join(".")],_=u.algorithm.decrypt.cipher.iv,M=u.subjectPrivateKey,A=parseInt(b.split("-")[1],10)/8,I=s.pbkdf2Sync(d,p,v,A,"sha1"),k=n.createDecipheriv(b,I,_),R=[];return R.push(k.update(M)),R.push(k.final()),i.concat(R)}function l(u){var d;typeof u=="object"&&!i.isBuffer(u)&&(d=u.passphrase,u=u.key),typeof u=="string"&&(u=i.from(u));var p=r(u,d),v=p.tag,b=p.data,_,M;switch(v){case"CERTIFICATE":M=t.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(M||(M=t.PublicKey.decode(b,"der")),_=M.algorithm.algorithm.join("."),_){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(M.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return M.subjectPrivateKey=M.subjectPublicKey,{type:"ec",data:M};case"1.2.840.10040.4.1":return M.algorithm.params.pub_key=t.DSAparam.decode(M.subjectPublicKey.data,"der"),{type:"dsa",data:M.algorithm.params};default:throw new Error("unknown key id "+_)}case"ENCRYPTED PRIVATE KEY":b=t.EncryptedPrivateKey.decode(b,"der"),b=o(b,d);case"PRIVATE KEY":switch(M=t.PrivateKey.decode(b,"der"),_=M.algorithm.algorithm.join("."),_){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(M.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:M.algorithm.curve,privateKey:t.ECPrivateKey.decode(M.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return M.algorithm.params.priv_key=t.DSAparam.decode(M.subjectPrivateKey,"der"),{type:"dsa",params:M.algorithm.params};default:throw new Error("unknown key id "+_)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return b=t.ECPrivateKey.decode(b,"der"),{curve:b.parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+v)}}return l.signature=t.signature,s3=l,s3}const xL={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var Qk;function NX(){if(Qk)return Ud.exports;Qk=1;var t=cr().Buffer,e=JB(),r=dE(),n=Mv().ec,s=zp,i=Sv(),o=xL,l=1;function u(k,R,C,P,N){var U=i(R);if(U.curve){if(P!=="ecdsa"&&P!=="ecdsa/rsa")throw new Error("wrong private key type");return d(k,U)}else if(U.type==="dsa"){if(P!=="dsa")throw new Error("wrong private key type");return p(k,U,C)}if(P!=="rsa"&&P!=="ecdsa/rsa")throw new Error("wrong private key type");if(R.padding!==void 0&&R.padding!==l)throw new Error("illegal or unsupported padding mode");k=t.concat([N,k]);for(var q=U.modulus.byteLength(),F=[0,1];k.length+F.length+1<q;)F.push(255);F.push(0);for(var L=-1;++L<k.length;)F.push(k[L]);var ie=r(F,U);return ie}function d(k,R){var C=o[R.curve.join(".")];if(!C)throw new Error("unknown curve "+R.curve.join("."));var P=new n(C),N=P.keyFromPrivate(R.privateKey),U=N.sign(k);return t.from(U.toDER())}function p(k,R,C){for(var P=R.params.priv_key,N=R.params.p,U=R.params.q,q=R.params.g,F=new s(0),L,ie=_(k,U).mod(U),E=!1,a=b(P,U,k,C);E===!1;)L=A(U,a,C),F=I(q,L,N,U),E=L.invm(U).imul(ie.add(P.mul(F))).mod(U),E.cmpn(0)===0&&(E=!1,F=new s(0));return v(F,E)}function v(k,R){k=k.toArray(),R=R.toArray(),k[0]&128&&(k=[0].concat(k)),R[0]&128&&(R=[0].concat(R));var C=k.length+R.length+4,P=[48,C,2,k.length];return P=P.concat(k,[2,R.length],R),t.from(P)}function b(k,R,C,P){if(k=t.from(k.toArray()),k.length<R.byteLength()){var N=t.alloc(R.byteLength()-k.length);k=t.concat([N,k])}var U=C.length,q=M(C,R),F=t.alloc(U);F.fill(1);var L=t.alloc(U);return L=e(P,L).update(F).update(t.from([0])).update(k).update(q).digest(),F=e(P,L).update(F).digest(),L=e(P,L).update(F).update(t.from([1])).update(k).update(q).digest(),F=e(P,L).update(F).digest(),{k:L,v:F}}function _(k,R){var C=new s(k),P=(k.length<<3)-R.bitLength();return P>0&&C.ishrn(P),C}function M(k,R){k=_(k,R),k=k.mod(R);var C=t.from(k.toArray());if(C.length<R.byteLength()){var P=t.alloc(R.byteLength()-C.length);C=t.concat([P,C])}return C}function A(k,R,C){var P,N;do{for(P=t.alloc(0);P.length*8<k.bitLength();)R.v=e(C,R.k).update(R.v).digest(),P=t.concat([P,R.v]);N=_(P,k),R.k=e(C,R.k).update(R.v).update(t.from([0])).digest(),R.v=e(C,R.k).update(R.v).digest()}while(N.cmp(k)!==-1);return N}function I(k,R,C,P){return k.toRed(s.mont(C)).redPow(R).fromRed().mod(P)}return Ud.exports=u,Ud.exports.getKey=b,Ud.exports.makeKey=A,Ud.exports}var o3,e7;function BX(){if(e7)return o3;e7=1;var t=cr().Buffer,e=zp,r=Mv().ec,n=Sv(),s=xL;function i(d,p,v,b,_){var M=n(v);if(M.type==="ec"){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");return o(d,p,M)}else if(M.type==="dsa"){if(b!=="dsa")throw new Error("wrong public key type");return l(d,p,M)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");p=t.concat([_,p]);for(var A=M.modulus.byteLength(),I=[1],k=0;p.length+I.length+2<A;)I.push(255),k+=1;I.push(0);for(var R=-1;++R<p.length;)I.push(p[R]);I=t.from(I);var C=e.mont(M.modulus);d=new e(d).toRed(C),d=d.redPow(new e(M.publicExponent)),d=t.from(d.fromRed().toArray());var P=k<8?1:0;for(A=Math.min(d.length,I.length),d.length!==I.length&&(P=1),R=-1;++R<A;)P|=d[R]^I[R];return P===0}function o(d,p,v){var b=s[v.data.algorithm.curve.join(".")];if(!b)throw new Error("unknown curve "+v.data.algorithm.curve.join("."));var _=new r(b),M=v.data.subjectPrivateKey.data;return _.verify(p,d,M)}function l(d,p,v){var b=v.data.p,_=v.data.q,M=v.data.g,A=v.data.pub_key,I=n.signature.decode(d,"der"),k=I.s,R=I.r;u(k,_),u(R,_);var C=e.mont(b),P=k.invm(_),N=M.toRed(C).redPow(new e(p).mul(P).mod(_)).fromRed().mul(A.toRed(C).redPow(R.mul(P).mod(_)).fromRed()).mod(b).mod(_);return N.cmp(R)===0}function u(d,p){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(p)>=0)throw new Error("invalid sig")}return o3=i,o3}var a3,t7;function LX(){if(t7)return a3;t7=1;var t=cr().Buffer,e=Gp(),r=bX(),n=nr(),s=NX(),i=BX(),o=XB;Object.keys(o).forEach(function(v){o[v].id=t.from(o[v].id,"hex"),o[v.toLowerCase()]=o[v]});function l(v){r.Writable.call(this);var b=o[v];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=e(b.hash),this._tag=b.id,this._signType=b.sign}n(l,r.Writable),l.prototype._write=function(b,_,M){this._hash.update(b),M()},l.prototype.update=function(b,_){return this._hash.update(typeof b=="string"?t.from(b,_):b),this},l.prototype.sign=function(b,_){this.end();var M=this._hash.digest(),A=s(M,b,this._hashType,this._signType,this._tag);return _?A.toString(_):A};function u(v){r.Writable.call(this);var b=o[v];if(!b)throw new Error("Unknown message digest");this._hash=e(b.hash),this._tag=b.id,this._signType=b.sign}n(u,r.Writable),u.prototype._write=function(b,_,M){this._hash.update(b),M()},u.prototype.update=function(b,_){return this._hash.update(typeof b=="string"?t.from(b,_):b),this},u.prototype.verify=function(b,_,M){var A=typeof _=="string"?t.from(_,M):_;this.end();var I=this._hash.digest();return i(A,I,b,this._signType,this._tag)};function d(v){return new l(v)}function p(v){return new u(v)}return a3={Sign:d,Verify:p,createSign:d,createVerify:p},a3}var u1={exports:{}};u1.exports;var r7;function DX(){return r7||(r7=1,function(t){(function(e,r){function n(E,a){if(!E)throw new Error(a||"Assertion failed")}function s(E,a){E.super_=a;var f=function(){};f.prototype=a.prototype,E.prototype=new f,E.prototype.constructor=E}function i(E,a,f){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(E||0,a||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Eo.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,h){if(typeof a=="number")return this._initNumber(a,f,h);if(typeof a=="object")return this._initArray(a,f,h);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(f===16?this._parseHex(a,g,h):(this._parseBase(a,f,g),h==="le"&&this._initArray(this.toArray(),f,h)))},i.prototype._initNumber=function(a,f,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),f,h)},i.prototype._initArray=function(a,f,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x,S=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)x=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)x=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);return this.strip()};function l(E,a){var f=E.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(E,a,f){var h=l(E,f);return f-1>=a&&(h|=l(E,f-1)<<4),h}i.prototype._parseHex=function(a,f,h){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,x=0,S;if(h==="be")for(g=a.length-1;g>=f;g-=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8;else{var m=a.length-f;for(g=m%2===0?f+1:f;g<a.length;g+=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8}this.strip()};function d(E,a,f,h){for(var g=0,y=Math.min(E.length,f),x=a;x<y;x++){var S=E.charCodeAt(x)-48;g*=h,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}i.prototype._parseBase=function(a,f,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=f)g++;g--,y=y/f|0;for(var x=a.length-h,S=x%g,m=Math.min(x,x-S)+h,c=0,w=h;w<m;w+=g)c=d(a,w,w+g,f),this.imuln(y),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(S!==0){var T=1;for(c=d(a,w,a.length,f),w=0;w<S;w++)T*=f;this.imuln(T),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,x=0;x<this.length;x++){var S=this.words[x],m=((S<<g|y)&16777215).toString(16);y=S>>>24-g&16777215,g+=2,g>=26&&(g-=26,x--),y!==0||x!==this.length-1?h=p[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var c=v[a],w=b[a];h="";var T=this.clone();for(T.negative=0;!T.isZero();){var O=T.modn(w).toString(a);T=T.idivn(w),T.isZero()?h=O+h:h=p[c-O.length]+O+h}for(this.isZero()&&(h="0"+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return n(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,h){var g=this.byteLength(),y=h||Math.max(1,g);n(g<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var x=f==="le",S=new a(y),m,c,w=this.clone();if(x){for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[c]=m;for(;c<y;c++)S[c]=0}else{for(c=0;c<y-g;c++)S[c]=0;for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[y-c-1]=m}return S},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,h=0;return f>=4096&&(h+=13,f>>>=13),f>=64&&(h+=7,f>>>=7),f>=8&&(h+=4,f>>>=4),f>=2&&(h+=2,f>>>=2),h+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,h=0;return f&8191||(h+=13,f>>>=13),f&127||(h+=7,f>>>=7),f&15||(h+=4,f>>>=4),f&3||(h+=2,f>>>=2),f&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function _(E){for(var a=new Array(E.bitLength()),f=0;f<a.length;f++){var h=f/26|0,g=f%26;a[f]=(E.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var h=this._zeroBits(this.words[f]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,h;this.length>a.length?(f=this,h=a):(f=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=f.words[g]^h.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,h=a%26;this._expand(f),h>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),f?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,x=0;x<g.length;x++)f=(h.words[x]|0)+(g.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;for(;y!==0&&x<h.length;x++)f=(h.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var x=0,S=0;S<y.length;S++)f=(g.words[S]|0)-(y.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;for(;x!==0&&S<g.length;S++)f=(g.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;if(x===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function M(E,a,f){f.negative=a.negative^E.negative;var h=E.length+a.length|0;f.length=h,h=h-1|0;var g=E.words[0]|0,y=a.words[0]|0,x=g*y,S=x&67108863,m=x/67108864|0;f.words[0]=S;for(var c=1;c<h;c++){for(var w=m>>>26,T=m&67108863,O=Math.min(c,a.length-1),K=Math.max(0,c-E.length+1);K<=O;K++){var ee=c-K|0;g=E.words[ee]|0,y=a.words[K]|0,x=g*y+T,w+=x/67108864|0,T=x&67108863}f.words[c]=T|0,m=w|0}return m!==0?f.words[c]=m|0:f.length--,f.strip()}var A=function(a,f,h){var g=a.words,y=f.words,x=h.words,S=0,m,c,w,T=g[0]|0,O=T&8191,K=T>>>13,ee=g[1]|0,J=ee&8191,$=ee>>>13,z=g[2]|0,Y=z&8191,te=z>>>13,G=g[3]|0,j=G&8191,W=G>>>13,oe=g[4]|0,ae=oe&8191,he=oe>>>13,Oe=g[5]|0,me=Oe&8191,Ee=Oe>>>13,it=g[6]|0,Se=it&8191,xe=it>>>13,Mt=g[7]|0,Ie=Mt&8191,Ne=Mt>>>13,qt=g[8]|0,Z=qt&8191,B=qt>>>13,H=g[9]|0,ne=H&8191,ce=H>>>13,Me=y[0]|0,de=Me&8191,Ce=Me>>>13,Rt=y[1]|0,ke=Rt&8191,De=Rt>>>13,St=y[2]|0,Be=St&8191,He=St>>>13,Jt=y[3]|0,Ue=Jt&8191,Ke=Jt>>>13,zt=y[4]|0,Le=zt&8191,ze=zt>>>13,le=y[5]|0,se=le&8191,be=le>>>13,Ge=y[6]|0,we=Ge&8191,Fe=Ge>>>13,V=y[7]|0,X=V&8191,Q=V>>>13,D=y[8]|0,re=D&8191,ue=D>>>13,_e=y[9]|0,ge=_e&8191,ve=_e>>>13;h.negative=a.negative^f.negative,h.length=19,m=Math.imul(O,de),c=Math.imul(O,Ce),c=c+Math.imul(K,de)|0,w=Math.imul(K,Ce);var Ze=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,m=Math.imul(J,de),c=Math.imul(J,Ce),c=c+Math.imul($,de)|0,w=Math.imul($,Ce),m=m+Math.imul(O,ke)|0,c=c+Math.imul(O,De)|0,c=c+Math.imul(K,ke)|0,w=w+Math.imul(K,De)|0;var Ye=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,m=Math.imul(Y,de),c=Math.imul(Y,Ce),c=c+Math.imul(te,de)|0,w=Math.imul(te,Ce),m=m+Math.imul(J,ke)|0,c=c+Math.imul(J,De)|0,c=c+Math.imul($,ke)|0,w=w+Math.imul($,De)|0,m=m+Math.imul(O,Be)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(K,Be)|0,w=w+Math.imul(K,He)|0;var Bt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(j,de),c=Math.imul(j,Ce),c=c+Math.imul(W,de)|0,w=Math.imul(W,Ce),m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(te,ke)|0,w=w+Math.imul(te,De)|0,m=m+Math.imul(J,Be)|0,c=c+Math.imul(J,He)|0,c=c+Math.imul($,Be)|0,w=w+Math.imul($,He)|0,m=m+Math.imul(O,Ue)|0,c=c+Math.imul(O,Ke)|0,c=c+Math.imul(K,Ue)|0,w=w+Math.imul(K,Ke)|0;var rt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,m=Math.imul(ae,de),c=Math.imul(ae,Ce),c=c+Math.imul(he,de)|0,w=Math.imul(he,Ce),m=m+Math.imul(j,ke)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(W,ke)|0,w=w+Math.imul(W,De)|0,m=m+Math.imul(Y,Be)|0,c=c+Math.imul(Y,He)|0,c=c+Math.imul(te,Be)|0,w=w+Math.imul(te,He)|0,m=m+Math.imul(J,Ue)|0,c=c+Math.imul(J,Ke)|0,c=c+Math.imul($,Ue)|0,w=w+Math.imul($,Ke)|0,m=m+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(K,Le)|0,w=w+Math.imul(K,ze)|0;var Et=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(me,de),c=Math.imul(me,Ce),c=c+Math.imul(Ee,de)|0,w=Math.imul(Ee,Ce),m=m+Math.imul(ae,ke)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(he,ke)|0,w=w+Math.imul(he,De)|0,m=m+Math.imul(j,Be)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(W,Be)|0,w=w+Math.imul(W,He)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(te,Ue)|0,w=w+Math.imul(te,Ke)|0,m=m+Math.imul(J,Le)|0,c=c+Math.imul(J,ze)|0,c=c+Math.imul($,Le)|0,w=w+Math.imul($,ze)|0,m=m+Math.imul(O,se)|0,c=c+Math.imul(O,be)|0,c=c+Math.imul(K,se)|0,w=w+Math.imul(K,be)|0;var At=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(Se,de),c=Math.imul(Se,Ce),c=c+Math.imul(xe,de)|0,w=Math.imul(xe,Ce),m=m+Math.imul(me,ke)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(Ee,ke)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(ae,Be)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(he,Be)|0,w=w+Math.imul(he,He)|0,m=m+Math.imul(j,Ue)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(W,Ue)|0,w=w+Math.imul(W,Ke)|0,m=m+Math.imul(Y,Le)|0,c=c+Math.imul(Y,ze)|0,c=c+Math.imul(te,Le)|0,w=w+Math.imul(te,ze)|0,m=m+Math.imul(J,se)|0,c=c+Math.imul(J,be)|0,c=c+Math.imul($,se)|0,w=w+Math.imul($,be)|0,m=m+Math.imul(O,we)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(K,we)|0,w=w+Math.imul(K,Fe)|0;var _t=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(Ie,de),c=Math.imul(Ie,Ce),c=c+Math.imul(Ne,de)|0,w=Math.imul(Ne,Ce),m=m+Math.imul(Se,ke)|0,c=c+Math.imul(Se,De)|0,c=c+Math.imul(xe,ke)|0,w=w+Math.imul(xe,De)|0,m=m+Math.imul(me,Be)|0,c=c+Math.imul(me,He)|0,c=c+Math.imul(Ee,Be)|0,w=w+Math.imul(Ee,He)|0,m=m+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Ke)|0,c=c+Math.imul(he,Ue)|0,w=w+Math.imul(he,Ke)|0,m=m+Math.imul(j,Le)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(W,Le)|0,w=w+Math.imul(W,ze)|0,m=m+Math.imul(Y,se)|0,c=c+Math.imul(Y,be)|0,c=c+Math.imul(te,se)|0,w=w+Math.imul(te,be)|0,m=m+Math.imul(J,we)|0,c=c+Math.imul(J,Fe)|0,c=c+Math.imul($,we)|0,w=w+Math.imul($,Fe)|0,m=m+Math.imul(O,X)|0,c=c+Math.imul(O,Q)|0,c=c+Math.imul(K,X)|0,w=w+Math.imul(K,Q)|0;var Ot=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(Z,de),c=Math.imul(Z,Ce),c=c+Math.imul(B,de)|0,w=Math.imul(B,Ce),m=m+Math.imul(Ie,ke)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Ne,ke)|0,w=w+Math.imul(Ne,De)|0,m=m+Math.imul(Se,Be)|0,c=c+Math.imul(Se,He)|0,c=c+Math.imul(xe,Be)|0,w=w+Math.imul(xe,He)|0,m=m+Math.imul(me,Ue)|0,c=c+Math.imul(me,Ke)|0,c=c+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,Ke)|0,m=m+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(he,Le)|0,w=w+Math.imul(he,ze)|0,m=m+Math.imul(j,se)|0,c=c+Math.imul(j,be)|0,c=c+Math.imul(W,se)|0,w=w+Math.imul(W,be)|0,m=m+Math.imul(Y,we)|0,c=c+Math.imul(Y,Fe)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Fe)|0,m=m+Math.imul(J,X)|0,c=c+Math.imul(J,Q)|0,c=c+Math.imul($,X)|0,w=w+Math.imul($,Q)|0,m=m+Math.imul(O,re)|0,c=c+Math.imul(O,ue)|0,c=c+Math.imul(K,re)|0,w=w+Math.imul(K,ue)|0;var kt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(ne,de),c=Math.imul(ne,Ce),c=c+Math.imul(ce,de)|0,w=Math.imul(ce,Ce),m=m+Math.imul(Z,ke)|0,c=c+Math.imul(Z,De)|0,c=c+Math.imul(B,ke)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(Ie,Be)|0,c=c+Math.imul(Ie,He)|0,c=c+Math.imul(Ne,Be)|0,w=w+Math.imul(Ne,He)|0,m=m+Math.imul(Se,Ue)|0,c=c+Math.imul(Se,Ke)|0,c=c+Math.imul(xe,Ue)|0,w=w+Math.imul(xe,Ke)|0,m=m+Math.imul(me,Le)|0,c=c+Math.imul(me,ze)|0,c=c+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(ae,se)|0,c=c+Math.imul(ae,be)|0,c=c+Math.imul(he,se)|0,w=w+Math.imul(he,be)|0,m=m+Math.imul(j,we)|0,c=c+Math.imul(j,Fe)|0,c=c+Math.imul(W,we)|0,w=w+Math.imul(W,Fe)|0,m=m+Math.imul(Y,X)|0,c=c+Math.imul(Y,Q)|0,c=c+Math.imul(te,X)|0,w=w+Math.imul(te,Q)|0,m=m+Math.imul(J,re)|0,c=c+Math.imul(J,ue)|0,c=c+Math.imul($,re)|0,w=w+Math.imul($,ue)|0,m=m+Math.imul(O,ge)|0,c=c+Math.imul(O,ve)|0,c=c+Math.imul(K,ge)|0,w=w+Math.imul(K,ve)|0;var Ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ne,ke),c=Math.imul(ne,De),c=c+Math.imul(ce,ke)|0,w=Math.imul(ce,De),m=m+Math.imul(Z,Be)|0,c=c+Math.imul(Z,He)|0,c=c+Math.imul(B,Be)|0,w=w+Math.imul(B,He)|0,m=m+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Ke)|0,c=c+Math.imul(Ne,Ue)|0,w=w+Math.imul(Ne,Ke)|0,m=m+Math.imul(Se,Le)|0,c=c+Math.imul(Se,ze)|0,c=c+Math.imul(xe,Le)|0,w=w+Math.imul(xe,ze)|0,m=m+Math.imul(me,se)|0,c=c+Math.imul(me,be)|0,c=c+Math.imul(Ee,se)|0,w=w+Math.imul(Ee,be)|0,m=m+Math.imul(ae,we)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(he,we)|0,w=w+Math.imul(he,Fe)|0,m=m+Math.imul(j,X)|0,c=c+Math.imul(j,Q)|0,c=c+Math.imul(W,X)|0,w=w+Math.imul(W,Q)|0,m=m+Math.imul(Y,re)|0,c=c+Math.imul(Y,ue)|0,c=c+Math.imul(te,re)|0,w=w+Math.imul(te,ue)|0,m=m+Math.imul(J,ge)|0,c=c+Math.imul(J,ve)|0,c=c+Math.imul($,ge)|0,w=w+Math.imul($,ve)|0;var It=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(ne,Be),c=Math.imul(ne,He),c=c+Math.imul(ce,Be)|0,w=Math.imul(ce,He),m=m+Math.imul(Z,Ue)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(B,Ue)|0,w=w+Math.imul(B,Ke)|0,m=m+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,ze)|0,m=m+Math.imul(Se,se)|0,c=c+Math.imul(Se,be)|0,c=c+Math.imul(xe,se)|0,w=w+Math.imul(xe,be)|0,m=m+Math.imul(me,we)|0,c=c+Math.imul(me,Fe)|0,c=c+Math.imul(Ee,we)|0,w=w+Math.imul(Ee,Fe)|0,m=m+Math.imul(ae,X)|0,c=c+Math.imul(ae,Q)|0,c=c+Math.imul(he,X)|0,w=w+Math.imul(he,Q)|0,m=m+Math.imul(j,re)|0,c=c+Math.imul(j,ue)|0,c=c+Math.imul(W,re)|0,w=w+Math.imul(W,ue)|0,m=m+Math.imul(Y,ge)|0,c=c+Math.imul(Y,ve)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,ve)|0;var ft=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(ne,Ue),c=Math.imul(ne,Ke),c=c+Math.imul(ce,Ue)|0,w=Math.imul(ce,Ke),m=m+Math.imul(Z,Le)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(B,Le)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(Ie,se)|0,c=c+Math.imul(Ie,be)|0,c=c+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,be)|0,m=m+Math.imul(Se,we)|0,c=c+Math.imul(Se,Fe)|0,c=c+Math.imul(xe,we)|0,w=w+Math.imul(xe,Fe)|0,m=m+Math.imul(me,X)|0,c=c+Math.imul(me,Q)|0,c=c+Math.imul(Ee,X)|0,w=w+Math.imul(Ee,Q)|0,m=m+Math.imul(ae,re)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(he,re)|0,w=w+Math.imul(he,ue)|0,m=m+Math.imul(j,ge)|0,c=c+Math.imul(j,ve)|0,c=c+Math.imul(W,ge)|0,w=w+Math.imul(W,ve)|0;var pt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(ne,Le),c=Math.imul(ne,ze),c=c+Math.imul(ce,Le)|0,w=Math.imul(ce,ze),m=m+Math.imul(Z,se)|0,c=c+Math.imul(Z,be)|0,c=c+Math.imul(B,se)|0,w=w+Math.imul(B,be)|0,m=m+Math.imul(Ie,we)|0,c=c+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ne,we)|0,w=w+Math.imul(Ne,Fe)|0,m=m+Math.imul(Se,X)|0,c=c+Math.imul(Se,Q)|0,c=c+Math.imul(xe,X)|0,w=w+Math.imul(xe,Q)|0,m=m+Math.imul(me,re)|0,c=c+Math.imul(me,ue)|0,c=c+Math.imul(Ee,re)|0,w=w+Math.imul(Ee,ue)|0,m=m+Math.imul(ae,ge)|0,c=c+Math.imul(ae,ve)|0,c=c+Math.imul(he,ge)|0,w=w+Math.imul(he,ve)|0;var at=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(ne,se),c=Math.imul(ne,be),c=c+Math.imul(ce,se)|0,w=Math.imul(ce,be),m=m+Math.imul(Z,we)|0,c=c+Math.imul(Z,Fe)|0,c=c+Math.imul(B,we)|0,w=w+Math.imul(B,Fe)|0,m=m+Math.imul(Ie,X)|0,c=c+Math.imul(Ie,Q)|0,c=c+Math.imul(Ne,X)|0,w=w+Math.imul(Ne,Q)|0,m=m+Math.imul(Se,re)|0,c=c+Math.imul(Se,ue)|0,c=c+Math.imul(xe,re)|0,w=w+Math.imul(xe,ue)|0,m=m+Math.imul(me,ge)|0,c=c+Math.imul(me,ve)|0,c=c+Math.imul(Ee,ge)|0,w=w+Math.imul(Ee,ve)|0;var ht=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(ne,we),c=Math.imul(ne,Fe),c=c+Math.imul(ce,we)|0,w=Math.imul(ce,Fe),m=m+Math.imul(Z,X)|0,c=c+Math.imul(Z,Q)|0,c=c+Math.imul(B,X)|0,w=w+Math.imul(B,Q)|0,m=m+Math.imul(Ie,re)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(Ne,re)|0,w=w+Math.imul(Ne,ue)|0,m=m+Math.imul(Se,ge)|0,c=c+Math.imul(Se,ve)|0,c=c+Math.imul(xe,ge)|0,w=w+Math.imul(xe,ve)|0;var ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(ne,X),c=Math.imul(ne,Q),c=c+Math.imul(ce,X)|0,w=Math.imul(ce,Q),m=m+Math.imul(Z,re)|0,c=c+Math.imul(Z,ue)|0,c=c+Math.imul(B,re)|0,w=w+Math.imul(B,ue)|0,m=m+Math.imul(Ie,ge)|0,c=c+Math.imul(Ie,ve)|0,c=c+Math.imul(Ne,ge)|0,w=w+Math.imul(Ne,ve)|0;var st=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,m=Math.imul(ne,re),c=Math.imul(ne,ue),c=c+Math.imul(ce,re)|0,w=Math.imul(ce,ue),m=m+Math.imul(Z,ge)|0,c=c+Math.imul(Z,ve)|0,c=c+Math.imul(B,ge)|0,w=w+Math.imul(B,ve)|0;var Te=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(ne,ge),c=Math.imul(ne,ve),c=c+Math.imul(ce,ge)|0,w=Math.imul(ce,ve);var Pe=(S+m|0)+((c&8191)<<13)|0;return S=(w+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,x[0]=Ze,x[1]=Ye,x[2]=Bt,x[3]=rt,x[4]=Et,x[5]=At,x[6]=_t,x[7]=Ot,x[8]=kt,x[9]=Ct,x[10]=It,x[11]=ft,x[12]=pt,x[13]=at,x[14]=ht,x[15]=ct,x[16]=st,x[17]=Te,x[18]=Pe,S!==0&&(x[19]=S,h.length++),h};Math.imul||(A=M);function I(E,a,f){f.negative=a.negative^E.negative,f.length=E.length+a.length;for(var h=0,g=0,y=0;y<f.length-1;y++){var x=g;g=0;for(var S=h&67108863,m=Math.min(y,a.length-1),c=Math.max(0,y-E.length+1);c<=m;c++){var w=y-c,T=E.words[w]|0,O=a.words[c]|0,K=T*O,ee=K&67108863;x=x+(K/67108864|0)|0,ee=ee+S|0,S=ee&67108863,x=x+(ee>>>26)|0,g+=x>>>26,x&=67108863}f.words[y]=S,h=x,x=g}return h!==0?f.words[y]=h:f.length--,f.strip()}function k(E,a,f){var h=new R;return h.mulp(E,a,f)}i.prototype.mulTo=function(a,f){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=A(this,a,f):g<63?h=M(this,a,f):g<1024?h=I(this,a,f):h=k(this,a,f),h};function R(E,a){this.x=E,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,h,a);return f},R.prototype.revBin=function(a,f,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<f;y++)g|=(a&1)<<f-y-1,a>>=1;return g},R.prototype.permute=function(a,f,h,g,y,x){for(var S=0;S<x;S++)g[S]=f[a[S]],y[S]=h[a[S]]},R.prototype.transform=function(a,f,h,g,y,x){this.permute(x,a,f,h,g,y);for(var S=1;S<y;S<<=1)for(var m=S<<1,c=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),T=0;T<y;T+=m)for(var O=c,K=w,ee=0;ee<S;ee++){var J=h[T+ee],$=g[T+ee],z=h[T+ee+S],Y=g[T+ee+S],te=O*z-K*Y;Y=O*Y+K*z,z=te,h[T+ee]=J+z,g[T+ee]=$+Y,h[T+ee+S]=J-z,g[T+ee+S]=$-Y,ee!==m&&(te=c*O-w*K,K=c*K+w*O,O=te)}},R.prototype.guessLen13b=function(a,f){var h=Math.max(f,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},R.prototype.conjugate=function(a,f,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=f[g],f[g]=-f[h-g-1],f[h-g-1]=-y}},R.prototype.normalize13b=function(a,f){for(var h=0,g=0;g<f/2;g++){var y=Math.round(a[2*g+1]/f)*8192+Math.round(a[2*g]/f)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},R.prototype.convert13b=function(a,f,h,g){for(var y=0,x=0;x<f;x++)y=y+(a[x]|0),h[2*x]=y&8191,y=y>>>13,h[2*x+1]=y&8191,y=y>>>13;for(x=2*f;x<g;++x)h[x]=0;n(y===0),n((y&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),h=0;h<a;h++)f[h]=0;return f},R.prototype.mulp=function(a,f,h){var g=2*this.guessLen13b(a.length,f.length),y=this.makeRBT(g),x=this.stub(g),S=new Array(g),m=new Array(g),c=new Array(g),w=new Array(g),T=new Array(g),O=new Array(g),K=h.words;K.length=g,this.convert13b(a.words,a.length,S,g),this.convert13b(f.words,f.length,w,g),this.transform(S,x,m,c,g,y),this.transform(w,x,T,O,g,y);for(var ee=0;ee<g;ee++){var J=m[ee]*T[ee]-c[ee]*O[ee];c[ee]=m[ee]*O[ee]+c[ee]*T[ee],m[ee]=J}return this.conjugate(m,c,g),this.transform(m,c,K,x,g,y),this.conjugate(K,x,g),this.normalize13b(K,g),h.negative=a.negative^f.negative,h.length=a.length+f.length,h.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),k(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var f=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=y>>>26,this.words[h]=y&67108863}return f!==0&&(this.words[h]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=_(a);if(f.length===0)return new i(1);for(var h=this,g=0;g<f.length&&f[g]===0;g++,h=h.sqr());if(++g<f.length)for(var y=h.sqr();g<f.length;g++,y=y.sqr())f[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=67108863>>>26-f<<26-f,y;if(f!==0){var x=0;for(y=0;y<this.length;y++){var S=this.words[y]&g,m=(this.words[y]|0)-S<<f;this.words[y]=m|x,x=S>>>26-f}x&&(this.words[y]=x,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,h){n(typeof a=="number"&&a>=0);var g;f?g=(f-f%26)/26:g=0;var y=a%26,x=Math.min((a-y)/26,this.length),S=67108863^67108863>>>y<<y,m=h;if(g-=x,g=Math.max(0,g),m){for(var c=0;c<x;c++)m.words[c]=this.words[c];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,c=0;c<this.length;c++)this.words[c]=this.words[c+x];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=g);c--){var T=this.words[c]|0;this.words[c]=w<<26-y|T>>>y,w=T&S}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,h){return n(this.negative===0),this.iushrn(a,f,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(f!==0&&h++,this.length=Math.min(h,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,h){var g=a.length+h,y;this._expand(g);var x,S=0;for(y=0;y<a.length;y++){x=(this.words[y+h]|0)+S;var m=(a.words[y]|0)*f;x-=m&67108863,S=(x>>26)-(m/67108864|0),this.words[y+h]=x&67108863}for(;y<this.length-h;y++)x=(this.words[y+h]|0)+S,S=x>>26,this.words[y+h]=x&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,y=0;y<this.length;y++)x=-(this.words[y]|0)+S,S=x>>26,this.words[y]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var h=this.length-a.length,g=this.clone(),y=a,x=y.words[y.length-1]|0,S=this._countBits(x);h=26-S,h!==0&&(y=y.ushln(h),g.iushln(h),x=y.words[y.length-1]|0);var m=g.length-y.length,c;if(f!=="mod"){c=new i(null),c.length=m+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var T=g.clone()._ishlnsubmul(y,1,m);T.negative===0&&(g=T,c&&(c.words[m]=1));for(var O=m-1;O>=0;O--){var K=(g.words[y.length+O]|0)*67108864+(g.words[y.length+O-1]|0);for(K=Math.min(K/x|0,67108863),g._ishlnsubmul(y,K,O);g.negative!==0;)K--,g.negative=0,g._ishlnsubmul(y,1,O),g.isZero()||(g.negative^=1);c&&(c.words[O]=K)}return c&&c.strip(),g.strip(),f!=="div"&&h!==0&&g.iushrn(h),{div:c||null,mod:g}},i.prototype.divmod=function(a,f,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,x;return this.negative!==0&&a.negative===0?(x=this.neg().divmod(a,f),f!=="mod"&&(g=x.div.neg()),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(x=this.divmod(a.neg(),f),f!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):this.negative&a.negative?(x=this.neg().divmod(a.neg(),f),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:x.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var h=f.div.negative!==0?f.mod.isub(a):f.mod,g=a.ushrn(1),y=a.andln(1),x=h.cmp(g);return x<0||y===1&&x===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var f=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(f*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+f*67108864;this.words[h]=g/a|0,f=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=new i(0),S=new i(1),m=0;f.isEven()&&h.isEven();)f.iushrn(1),h.iushrn(1),++m;for(var c=h.clone(),w=f.clone();!f.isZero();){for(var T=0,O=1;!(f.words[0]&O)&&T<26;++T,O<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(c),y.isub(w)),g.iushrn(1),y.iushrn(1);for(var K=0,ee=1;!(h.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(c),S.isub(w)),x.iushrn(1),S.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(x),y.isub(S)):(h.isub(f),x.isub(g),S.isub(y))}return{a:x,b:S,gcd:h.iushln(m)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=h.clone();f.cmpn(1)>0&&h.cmpn(1)>0;){for(var S=0,m=1;!(f.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);for(var c=0,w=1;!(h.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(h.iushrn(c);c-- >0;)y.isOdd()&&y.iadd(x),y.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(y)):(h.isub(f),y.isub(g))}var T;return f.cmpn(1)===0?T=g:T=y,T.cmpn(0)<0&&T.iadd(a),T},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),h=a.clone();f.negative=0,h.negative=0;for(var g=0;f.isEven()&&h.isEven();g++)f.iushrn(1),h.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=f.cmp(h);if(y<0){var x=f;f=h,h=x}else if(y===0||h.cmpn(1)===0)break;f.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,x=h;y!==0&&x<this.length;x++){var S=this.words[x]|0;S+=y,y=S>>>26,S&=67108863,this.words[x]=S}return y!==0&&(this.words[x]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var h;if(this.length>1)h=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?f=-1:g>y&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new L(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function P(E,a){this.name=E,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,h;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),h=f.bitLength();while(h>this.n);var g=h<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function N(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,P),N.prototype.split=function(a,f){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)f.words[y]=a.words[y];if(f.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var x=a.words[9];for(f.words[f.length++]=x&h,y=10;y<a.length;y++){var S=a.words[y]|0;a.words[y-10]=(S&h)<<4|x>>>22,x=S}x>>>=22,a.words[y-10]=x,x===0&&a.length>10?a.length-=10:a.length-=9},N.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,h=0;h<a.length;h++){var g=a.words[h]|0;f+=g*977,a.words[h]=f&67108863,f=g*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,P);function q(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,P);function F(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(F,P),F.prototype.imulK=function(a){for(var f=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+f,y=g&67108863;g>>>=26,a.words[h]=y,f=g}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(C[a])return C[a];var f;if(a==="k256")f=new N;else if(a==="p224")f=new U;else if(a==="p192")f=new q;else if(a==="p25519")f=new F;else throw new Error("Unknown prime "+a);return C[a]=f,f};function L(E){if(typeof E=="string"){var a=i._prime(E);this.m=a.p,this.prime=a}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},L.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},L.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},L.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},L.prototype.add=function(a,f){this._verify2(a,f);var h=a.add(f);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(a,f){this._verify2(a,f);var h=a.iadd(f);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(a,f){this._verify2(a,f);var h=a.sub(f);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(a,f){this._verify2(a,f);var h=a.isub(f);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},L.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},L.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},L.prototype.isqr=function(a){return this.imul(a,a.clone())},L.prototype.sqr=function(a){return this.mul(a,a)},L.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);n(!g.isZero());var x=new i(1).toRed(this),S=x.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,m).cmp(S)!==0;)c.redIAdd(S);for(var w=this.pow(c,g),T=this.pow(a,g.addn(1).iushrn(1)),O=this.pow(a,g),K=y;O.cmp(x)!==0;){for(var ee=O,J=0;ee.cmp(x)!==0;J++)ee=ee.redSqr();n(J<K);var $=this.pow(w,new i(1).iushln(K-J-1));T=T.redMul($),w=$.redSqr(),O=O.redMul(w),K=J}return T},L.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},L.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var x=g[0],S=0,m=0,c=f.bitLength()%26;for(c===0&&(c=26),y=f.length-1;y>=0;y--){for(var w=f.words[y],T=c-1;T>=0;T--){var O=w>>T&1;if(x!==g[0]&&(x=this.sqr(x)),O===0&&S===0){m=0;continue}S<<=1,S|=O,m++,!(m!==h&&(y!==0||T!==0))&&(x=this.mul(x,g[S]),m=0,S=0)}c=26}return x},L.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},L.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ie,L),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var h=a.mul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Rn)}(u1)),u1.exports}var l3,n7;function $X(){if(n7)return l3;n7=1;var t=Mv(),e=DX();l3=function(o){return new n(o)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(i){this.curveType=r[i],this.curveType||(this.curveType={name:i}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,o)},n.prototype.computeSecret=function(i,o,l){o=o||"utf8",Buffer.isBuffer(i)||(i=new Buffer(i,o));var u=this.curve.keyFromPublic(i).getPublic(),d=u.mul(this.keys.getPrivate()).getX();return s(d,l,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,o){var l=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(l[l.length-1]%2?l[0]=7:l[0]=6),s(l,i)},n.prototype.getPrivateKey=function(i){return s(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,o){return o=o||"utf8",Buffer.isBuffer(i)||(i=new Buffer(i,o)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,o){o=o||"utf8",Buffer.isBuffer(i)||(i=new Buffer(i,o));var l=new e(i);return l=l.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(l),this};function s(i,o,l){Array.isArray(i)||(i=i.toArray());var u=new Buffer(i);if(l&&u.length<l){var d=new Buffer(l-u.length);d.fill(0),u=Buffer.concat([d,u])}return o?u.toString(o):u}return l3}var c3={},u3,i7;function _L(){if(i7)return u3;i7=1;var t=Gp(),e=cr().Buffer;u3=function(n,s){for(var i=e.alloc(0),o=0,l;i.length<s;)l=r(o++),i=e.concat([i,t("sha1").update(n).update(l).digest()]);return i.slice(0,s)};function r(n){var s=e.allocUnsafe(4);return s.writeUInt32BE(n,0),s}return u3}var f3,s7;function SL(){return s7||(s7=1,f3=function(e,r){for(var n=e.length,s=-1;++s<n;)e[s]^=r[s];return e}),f3}var f1={exports:{}};f1.exports;var o7;function pE(){return o7||(o7=1,function(t){(function(e,r){function n(E,a){if(!E)throw new Error(a||"Assertion failed")}function s(E,a){E.super_=a;var f=function(){};f.prototype=a.prototype,E.prototype=new f,E.prototype.constructor=E}function i(E,a,f){if(i.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(E||0,a||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Eo.Buffer}catch{}i.isBN=function(a){return a instanceof i?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===i.wordSize&&Array.isArray(a.words)},i.max=function(a,f){return a.cmp(f)>0?a:f},i.min=function(a,f){return a.cmp(f)<0?a:f},i.prototype._init=function(a,f,h){if(typeof a=="number")return this._initNumber(a,f,h);if(typeof a=="object")return this._initArray(a,f,h);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(f===16?this._parseHex(a,g,h):(this._parseBase(a,f,g),h==="le"&&this._initArray(this.toArray(),f,h)))},i.prototype._initNumber=function(a,f,h){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(n(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),h==="le"&&this._initArray(this.toArray(),f,h)},i.prototype._initArray=function(a,f,h){if(n(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x,S=0;if(h==="be")for(g=a.length-1,y=0;g>=0;g-=3)x=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);else if(h==="le")for(g=0,y=0;g<a.length;g+=3)x=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[y]|=x<<S&67108863,this.words[y+1]=x>>>26-S&67108863,S+=24,S>=26&&(S-=26,y++);return this.strip()};function l(E,a){var f=E.charCodeAt(a);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function u(E,a,f){var h=l(E,f);return f-1>=a&&(h|=l(E,f-1)<<4),h}i.prototype._parseHex=function(a,f,h){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y=0,x=0,S;if(h==="be")for(g=a.length-1;g>=f;g-=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8;else{var m=a.length-f;for(g=m%2===0?f+1:f;g<a.length;g+=2)S=u(a,f,g)<<y,this.words[x]|=S&67108863,y>=18?(y-=18,x+=1,this.words[x]|=S>>>26):y+=8}this.strip()};function d(E,a,f,h){for(var g=0,y=Math.min(E.length,f),x=a;x<y;x++){var S=E.charCodeAt(x)-48;g*=h,S>=49?g+=S-49+10:S>=17?g+=S-17+10:g+=S}return g}i.prototype._parseBase=function(a,f,h){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=f)g++;g--,y=y/f|0;for(var x=a.length-h,S=x%g,m=Math.min(x,x-S)+h,c=0,w=h;w<m;w+=g)c=d(a,w,w+g,f),this.imuln(y),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(S!==0){var T=1;for(c=d(a,w,a.length,f),w=0;w<S;w++)T*=f;this.imuln(T),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},i.prototype.clone=function(){var a=new i(null);return this.copy(a),a},i.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(a,f){a=a||10,f=f|0||1;var h;if(a===16||a==="hex"){h="";for(var g=0,y=0,x=0;x<this.length;x++){var S=this.words[x],m=((S<<g|y)&16777215).toString(16);y=S>>>24-g&16777215,g+=2,g>=26&&(g-=26,x--),y!==0||x!==this.length-1?h=p[6-m.length]+m+h:h=m+h}for(y!==0&&(h=y.toString(16)+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}if(a===(a|0)&&a>=2&&a<=36){var c=v[a],w=b[a];h="";var T=this.clone();for(T.negative=0;!T.isZero();){var O=T.modn(w).toString(a);T=T.idivn(w),T.isZero()?h=O+h:h=p[c-O.length]+O+h}for(this.isZero()&&(h="0"+h);h.length%f!==0;)h="0"+h;return this.negative!==0&&(h="-"+h),h}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(a,f){return n(typeof o<"u"),this.toArrayLike(o,a,f)},i.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},i.prototype.toArrayLike=function(a,f,h){var g=this.byteLength(),y=h||Math.max(1,g);n(g<=y,"byte array longer than desired length"),n(y>0,"Requested array length <= 0"),this.strip();var x=f==="le",S=new a(y),m,c,w=this.clone();if(x){for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[c]=m;for(;c<y;c++)S[c]=0}else{for(c=0;c<y-g;c++)S[c]=0;for(c=0;!w.isZero();c++)m=w.andln(255),w.iushrn(8),S[y-c-1]=m}return S},Math.clz32?i.prototype._countBits=function(a){return 32-Math.clz32(a)}:i.prototype._countBits=function(a){var f=a,h=0;return f>=4096&&(h+=13,f>>>=13),f>=64&&(h+=7,f>>>=7),f>=8&&(h+=4,f>>>=4),f>=2&&(h+=2,f>>>=2),h+f},i.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,h=0;return f&8191||(h+=13,f>>>=13),f&127||(h+=7,f>>>=7),f&15||(h+=4,f>>>=4),f&3||(h+=2,f>>>=2),f&1||h++,h},i.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function _(E){for(var a=new Array(E.bitLength()),f=0;f<a.length;f++){var h=f/26|0,g=f%26;a[f]=(E.words[h]&1<<g)>>>g}return a}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var h=this._zeroBits(this.words[f]);if(a+=h,h!==26)break}return a},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},i.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},i.prototype.ior=function(a){return n((this.negative|a.negative)===0),this.iuor(a)},i.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},i.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},i.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]&a.words[h];return this.length=f.length,this.strip()},i.prototype.iand=function(a){return n((this.negative|a.negative)===0),this.iuand(a)},i.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},i.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},i.prototype.iuxor=function(a){var f,h;this.length>a.length?(f=this,h=a):(f=a,h=this);for(var g=0;g<h.length;g++)this.words[g]=f.words[g]^h.words[g];if(this!==f)for(;g<f.length;g++)this.words[g]=f.words[g];return this.length=f.length,this.strip()},i.prototype.ixor=function(a){return n((this.negative|a.negative)===0),this.iuxor(a)},i.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},i.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},i.prototype.inotn=function(a){n(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,h=a%26;this._expand(f),h>0&&f--;for(var g=0;g<f;g++)this.words[g]=~this.words[g]&67108863;return h>0&&(this.words[g]=~this.words[g]&67108863>>26-h),this.strip()},i.prototype.notn=function(a){return this.clone().inotn(a)},i.prototype.setn=function(a,f){n(typeof a=="number"&&a>=0);var h=a/26|0,g=a%26;return this._expand(h+1),f?this.words[h]=this.words[h]|1<<g:this.words[h]=this.words[h]&~(1<<g),this.strip()},i.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var h,g;this.length>a.length?(h=this,g=a):(h=a,g=this);for(var y=0,x=0;x<g.length;x++)f=(h.words[x]|0)+(g.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;for(;y!==0&&x<h.length;x++)f=(h.words[x]|0)+y,this.words[x]=f&67108863,y=f>>>26;if(this.length=h.length,y!==0)this.words[this.length]=y,this.length++;else if(h!==this)for(;x<h.length;x++)this.words[x]=h.words[x];return this},i.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},i.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var h=this.cmp(a);if(h===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,y;h>0?(g=this,y=a):(g=a,y=this);for(var x=0,S=0;S<y.length;S++)f=(g.words[S]|0)-(y.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;for(;x!==0&&S<g.length;S++)f=(g.words[S]|0)+x,x=f>>26,this.words[S]=f&67108863;if(x===0&&S<g.length&&g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this.length=Math.max(this.length,S),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(a){return this.clone().isub(a)};function M(E,a,f){f.negative=a.negative^E.negative;var h=E.length+a.length|0;f.length=h,h=h-1|0;var g=E.words[0]|0,y=a.words[0]|0,x=g*y,S=x&67108863,m=x/67108864|0;f.words[0]=S;for(var c=1;c<h;c++){for(var w=m>>>26,T=m&67108863,O=Math.min(c,a.length-1),K=Math.max(0,c-E.length+1);K<=O;K++){var ee=c-K|0;g=E.words[ee]|0,y=a.words[K]|0,x=g*y+T,w+=x/67108864|0,T=x&67108863}f.words[c]=T|0,m=w|0}return m!==0?f.words[c]=m|0:f.length--,f.strip()}var A=function(a,f,h){var g=a.words,y=f.words,x=h.words,S=0,m,c,w,T=g[0]|0,O=T&8191,K=T>>>13,ee=g[1]|0,J=ee&8191,$=ee>>>13,z=g[2]|0,Y=z&8191,te=z>>>13,G=g[3]|0,j=G&8191,W=G>>>13,oe=g[4]|0,ae=oe&8191,he=oe>>>13,Oe=g[5]|0,me=Oe&8191,Ee=Oe>>>13,it=g[6]|0,Se=it&8191,xe=it>>>13,Mt=g[7]|0,Ie=Mt&8191,Ne=Mt>>>13,qt=g[8]|0,Z=qt&8191,B=qt>>>13,H=g[9]|0,ne=H&8191,ce=H>>>13,Me=y[0]|0,de=Me&8191,Ce=Me>>>13,Rt=y[1]|0,ke=Rt&8191,De=Rt>>>13,St=y[2]|0,Be=St&8191,He=St>>>13,Jt=y[3]|0,Ue=Jt&8191,Ke=Jt>>>13,zt=y[4]|0,Le=zt&8191,ze=zt>>>13,le=y[5]|0,se=le&8191,be=le>>>13,Ge=y[6]|0,we=Ge&8191,Fe=Ge>>>13,V=y[7]|0,X=V&8191,Q=V>>>13,D=y[8]|0,re=D&8191,ue=D>>>13,_e=y[9]|0,ge=_e&8191,ve=_e>>>13;h.negative=a.negative^f.negative,h.length=19,m=Math.imul(O,de),c=Math.imul(O,Ce),c=c+Math.imul(K,de)|0,w=Math.imul(K,Ce);var Ze=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,m=Math.imul(J,de),c=Math.imul(J,Ce),c=c+Math.imul($,de)|0,w=Math.imul($,Ce),m=m+Math.imul(O,ke)|0,c=c+Math.imul(O,De)|0,c=c+Math.imul(K,ke)|0,w=w+Math.imul(K,De)|0;var Ye=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,m=Math.imul(Y,de),c=Math.imul(Y,Ce),c=c+Math.imul(te,de)|0,w=Math.imul(te,Ce),m=m+Math.imul(J,ke)|0,c=c+Math.imul(J,De)|0,c=c+Math.imul($,ke)|0,w=w+Math.imul($,De)|0,m=m+Math.imul(O,Be)|0,c=c+Math.imul(O,He)|0,c=c+Math.imul(K,Be)|0,w=w+Math.imul(K,He)|0;var Bt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(j,de),c=Math.imul(j,Ce),c=c+Math.imul(W,de)|0,w=Math.imul(W,Ce),m=m+Math.imul(Y,ke)|0,c=c+Math.imul(Y,De)|0,c=c+Math.imul(te,ke)|0,w=w+Math.imul(te,De)|0,m=m+Math.imul(J,Be)|0,c=c+Math.imul(J,He)|0,c=c+Math.imul($,Be)|0,w=w+Math.imul($,He)|0,m=m+Math.imul(O,Ue)|0,c=c+Math.imul(O,Ke)|0,c=c+Math.imul(K,Ue)|0,w=w+Math.imul(K,Ke)|0;var rt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(rt>>>26)|0,rt&=67108863,m=Math.imul(ae,de),c=Math.imul(ae,Ce),c=c+Math.imul(he,de)|0,w=Math.imul(he,Ce),m=m+Math.imul(j,ke)|0,c=c+Math.imul(j,De)|0,c=c+Math.imul(W,ke)|0,w=w+Math.imul(W,De)|0,m=m+Math.imul(Y,Be)|0,c=c+Math.imul(Y,He)|0,c=c+Math.imul(te,Be)|0,w=w+Math.imul(te,He)|0,m=m+Math.imul(J,Ue)|0,c=c+Math.imul(J,Ke)|0,c=c+Math.imul($,Ue)|0,w=w+Math.imul($,Ke)|0,m=m+Math.imul(O,Le)|0,c=c+Math.imul(O,ze)|0,c=c+Math.imul(K,Le)|0,w=w+Math.imul(K,ze)|0;var Et=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(me,de),c=Math.imul(me,Ce),c=c+Math.imul(Ee,de)|0,w=Math.imul(Ee,Ce),m=m+Math.imul(ae,ke)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(he,ke)|0,w=w+Math.imul(he,De)|0,m=m+Math.imul(j,Be)|0,c=c+Math.imul(j,He)|0,c=c+Math.imul(W,Be)|0,w=w+Math.imul(W,He)|0,m=m+Math.imul(Y,Ue)|0,c=c+Math.imul(Y,Ke)|0,c=c+Math.imul(te,Ue)|0,w=w+Math.imul(te,Ke)|0,m=m+Math.imul(J,Le)|0,c=c+Math.imul(J,ze)|0,c=c+Math.imul($,Le)|0,w=w+Math.imul($,ze)|0,m=m+Math.imul(O,se)|0,c=c+Math.imul(O,be)|0,c=c+Math.imul(K,se)|0,w=w+Math.imul(K,be)|0;var At=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(Se,de),c=Math.imul(Se,Ce),c=c+Math.imul(xe,de)|0,w=Math.imul(xe,Ce),m=m+Math.imul(me,ke)|0,c=c+Math.imul(me,De)|0,c=c+Math.imul(Ee,ke)|0,w=w+Math.imul(Ee,De)|0,m=m+Math.imul(ae,Be)|0,c=c+Math.imul(ae,He)|0,c=c+Math.imul(he,Be)|0,w=w+Math.imul(he,He)|0,m=m+Math.imul(j,Ue)|0,c=c+Math.imul(j,Ke)|0,c=c+Math.imul(W,Ue)|0,w=w+Math.imul(W,Ke)|0,m=m+Math.imul(Y,Le)|0,c=c+Math.imul(Y,ze)|0,c=c+Math.imul(te,Le)|0,w=w+Math.imul(te,ze)|0,m=m+Math.imul(J,se)|0,c=c+Math.imul(J,be)|0,c=c+Math.imul($,se)|0,w=w+Math.imul($,be)|0,m=m+Math.imul(O,we)|0,c=c+Math.imul(O,Fe)|0,c=c+Math.imul(K,we)|0,w=w+Math.imul(K,Fe)|0;var _t=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(Ie,de),c=Math.imul(Ie,Ce),c=c+Math.imul(Ne,de)|0,w=Math.imul(Ne,Ce),m=m+Math.imul(Se,ke)|0,c=c+Math.imul(Se,De)|0,c=c+Math.imul(xe,ke)|0,w=w+Math.imul(xe,De)|0,m=m+Math.imul(me,Be)|0,c=c+Math.imul(me,He)|0,c=c+Math.imul(Ee,Be)|0,w=w+Math.imul(Ee,He)|0,m=m+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,Ke)|0,c=c+Math.imul(he,Ue)|0,w=w+Math.imul(he,Ke)|0,m=m+Math.imul(j,Le)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(W,Le)|0,w=w+Math.imul(W,ze)|0,m=m+Math.imul(Y,se)|0,c=c+Math.imul(Y,be)|0,c=c+Math.imul(te,se)|0,w=w+Math.imul(te,be)|0,m=m+Math.imul(J,we)|0,c=c+Math.imul(J,Fe)|0,c=c+Math.imul($,we)|0,w=w+Math.imul($,Fe)|0,m=m+Math.imul(O,X)|0,c=c+Math.imul(O,Q)|0,c=c+Math.imul(K,X)|0,w=w+Math.imul(K,Q)|0;var Ot=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,m=Math.imul(Z,de),c=Math.imul(Z,Ce),c=c+Math.imul(B,de)|0,w=Math.imul(B,Ce),m=m+Math.imul(Ie,ke)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Ne,ke)|0,w=w+Math.imul(Ne,De)|0,m=m+Math.imul(Se,Be)|0,c=c+Math.imul(Se,He)|0,c=c+Math.imul(xe,Be)|0,w=w+Math.imul(xe,He)|0,m=m+Math.imul(me,Ue)|0,c=c+Math.imul(me,Ke)|0,c=c+Math.imul(Ee,Ue)|0,w=w+Math.imul(Ee,Ke)|0,m=m+Math.imul(ae,Le)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(he,Le)|0,w=w+Math.imul(he,ze)|0,m=m+Math.imul(j,se)|0,c=c+Math.imul(j,be)|0,c=c+Math.imul(W,se)|0,w=w+Math.imul(W,be)|0,m=m+Math.imul(Y,we)|0,c=c+Math.imul(Y,Fe)|0,c=c+Math.imul(te,we)|0,w=w+Math.imul(te,Fe)|0,m=m+Math.imul(J,X)|0,c=c+Math.imul(J,Q)|0,c=c+Math.imul($,X)|0,w=w+Math.imul($,Q)|0,m=m+Math.imul(O,re)|0,c=c+Math.imul(O,ue)|0,c=c+Math.imul(K,re)|0,w=w+Math.imul(K,ue)|0;var kt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(ne,de),c=Math.imul(ne,Ce),c=c+Math.imul(ce,de)|0,w=Math.imul(ce,Ce),m=m+Math.imul(Z,ke)|0,c=c+Math.imul(Z,De)|0,c=c+Math.imul(B,ke)|0,w=w+Math.imul(B,De)|0,m=m+Math.imul(Ie,Be)|0,c=c+Math.imul(Ie,He)|0,c=c+Math.imul(Ne,Be)|0,w=w+Math.imul(Ne,He)|0,m=m+Math.imul(Se,Ue)|0,c=c+Math.imul(Se,Ke)|0,c=c+Math.imul(xe,Ue)|0,w=w+Math.imul(xe,Ke)|0,m=m+Math.imul(me,Le)|0,c=c+Math.imul(me,ze)|0,c=c+Math.imul(Ee,Le)|0,w=w+Math.imul(Ee,ze)|0,m=m+Math.imul(ae,se)|0,c=c+Math.imul(ae,be)|0,c=c+Math.imul(he,se)|0,w=w+Math.imul(he,be)|0,m=m+Math.imul(j,we)|0,c=c+Math.imul(j,Fe)|0,c=c+Math.imul(W,we)|0,w=w+Math.imul(W,Fe)|0,m=m+Math.imul(Y,X)|0,c=c+Math.imul(Y,Q)|0,c=c+Math.imul(te,X)|0,w=w+Math.imul(te,Q)|0,m=m+Math.imul(J,re)|0,c=c+Math.imul(J,ue)|0,c=c+Math.imul($,re)|0,w=w+Math.imul($,ue)|0,m=m+Math.imul(O,ge)|0,c=c+Math.imul(O,ve)|0,c=c+Math.imul(K,ge)|0,w=w+Math.imul(K,ve)|0;var Ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,m=Math.imul(ne,ke),c=Math.imul(ne,De),c=c+Math.imul(ce,ke)|0,w=Math.imul(ce,De),m=m+Math.imul(Z,Be)|0,c=c+Math.imul(Z,He)|0,c=c+Math.imul(B,Be)|0,w=w+Math.imul(B,He)|0,m=m+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,Ke)|0,c=c+Math.imul(Ne,Ue)|0,w=w+Math.imul(Ne,Ke)|0,m=m+Math.imul(Se,Le)|0,c=c+Math.imul(Se,ze)|0,c=c+Math.imul(xe,Le)|0,w=w+Math.imul(xe,ze)|0,m=m+Math.imul(me,se)|0,c=c+Math.imul(me,be)|0,c=c+Math.imul(Ee,se)|0,w=w+Math.imul(Ee,be)|0,m=m+Math.imul(ae,we)|0,c=c+Math.imul(ae,Fe)|0,c=c+Math.imul(he,we)|0,w=w+Math.imul(he,Fe)|0,m=m+Math.imul(j,X)|0,c=c+Math.imul(j,Q)|0,c=c+Math.imul(W,X)|0,w=w+Math.imul(W,Q)|0,m=m+Math.imul(Y,re)|0,c=c+Math.imul(Y,ue)|0,c=c+Math.imul(te,re)|0,w=w+Math.imul(te,ue)|0,m=m+Math.imul(J,ge)|0,c=c+Math.imul(J,ve)|0,c=c+Math.imul($,ge)|0,w=w+Math.imul($,ve)|0;var It=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(It>>>26)|0,It&=67108863,m=Math.imul(ne,Be),c=Math.imul(ne,He),c=c+Math.imul(ce,Be)|0,w=Math.imul(ce,He),m=m+Math.imul(Z,Ue)|0,c=c+Math.imul(Z,Ke)|0,c=c+Math.imul(B,Ue)|0,w=w+Math.imul(B,Ke)|0,m=m+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,ze)|0,m=m+Math.imul(Se,se)|0,c=c+Math.imul(Se,be)|0,c=c+Math.imul(xe,se)|0,w=w+Math.imul(xe,be)|0,m=m+Math.imul(me,we)|0,c=c+Math.imul(me,Fe)|0,c=c+Math.imul(Ee,we)|0,w=w+Math.imul(Ee,Fe)|0,m=m+Math.imul(ae,X)|0,c=c+Math.imul(ae,Q)|0,c=c+Math.imul(he,X)|0,w=w+Math.imul(he,Q)|0,m=m+Math.imul(j,re)|0,c=c+Math.imul(j,ue)|0,c=c+Math.imul(W,re)|0,w=w+Math.imul(W,ue)|0,m=m+Math.imul(Y,ge)|0,c=c+Math.imul(Y,ve)|0,c=c+Math.imul(te,ge)|0,w=w+Math.imul(te,ve)|0;var ft=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(ne,Ue),c=Math.imul(ne,Ke),c=c+Math.imul(ce,Ue)|0,w=Math.imul(ce,Ke),m=m+Math.imul(Z,Le)|0,c=c+Math.imul(Z,ze)|0,c=c+Math.imul(B,Le)|0,w=w+Math.imul(B,ze)|0,m=m+Math.imul(Ie,se)|0,c=c+Math.imul(Ie,be)|0,c=c+Math.imul(Ne,se)|0,w=w+Math.imul(Ne,be)|0,m=m+Math.imul(Se,we)|0,c=c+Math.imul(Se,Fe)|0,c=c+Math.imul(xe,we)|0,w=w+Math.imul(xe,Fe)|0,m=m+Math.imul(me,X)|0,c=c+Math.imul(me,Q)|0,c=c+Math.imul(Ee,X)|0,w=w+Math.imul(Ee,Q)|0,m=m+Math.imul(ae,re)|0,c=c+Math.imul(ae,ue)|0,c=c+Math.imul(he,re)|0,w=w+Math.imul(he,ue)|0,m=m+Math.imul(j,ge)|0,c=c+Math.imul(j,ve)|0,c=c+Math.imul(W,ge)|0,w=w+Math.imul(W,ve)|0;var pt=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(ne,Le),c=Math.imul(ne,ze),c=c+Math.imul(ce,Le)|0,w=Math.imul(ce,ze),m=m+Math.imul(Z,se)|0,c=c+Math.imul(Z,be)|0,c=c+Math.imul(B,se)|0,w=w+Math.imul(B,be)|0,m=m+Math.imul(Ie,we)|0,c=c+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ne,we)|0,w=w+Math.imul(Ne,Fe)|0,m=m+Math.imul(Se,X)|0,c=c+Math.imul(Se,Q)|0,c=c+Math.imul(xe,X)|0,w=w+Math.imul(xe,Q)|0,m=m+Math.imul(me,re)|0,c=c+Math.imul(me,ue)|0,c=c+Math.imul(Ee,re)|0,w=w+Math.imul(Ee,ue)|0,m=m+Math.imul(ae,ge)|0,c=c+Math.imul(ae,ve)|0,c=c+Math.imul(he,ge)|0,w=w+Math.imul(he,ve)|0;var at=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(ne,se),c=Math.imul(ne,be),c=c+Math.imul(ce,se)|0,w=Math.imul(ce,be),m=m+Math.imul(Z,we)|0,c=c+Math.imul(Z,Fe)|0,c=c+Math.imul(B,we)|0,w=w+Math.imul(B,Fe)|0,m=m+Math.imul(Ie,X)|0,c=c+Math.imul(Ie,Q)|0,c=c+Math.imul(Ne,X)|0,w=w+Math.imul(Ne,Q)|0,m=m+Math.imul(Se,re)|0,c=c+Math.imul(Se,ue)|0,c=c+Math.imul(xe,re)|0,w=w+Math.imul(xe,ue)|0,m=m+Math.imul(me,ge)|0,c=c+Math.imul(me,ve)|0,c=c+Math.imul(Ee,ge)|0,w=w+Math.imul(Ee,ve)|0;var ht=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ht>>>26)|0,ht&=67108863,m=Math.imul(ne,we),c=Math.imul(ne,Fe),c=c+Math.imul(ce,we)|0,w=Math.imul(ce,Fe),m=m+Math.imul(Z,X)|0,c=c+Math.imul(Z,Q)|0,c=c+Math.imul(B,X)|0,w=w+Math.imul(B,Q)|0,m=m+Math.imul(Ie,re)|0,c=c+Math.imul(Ie,ue)|0,c=c+Math.imul(Ne,re)|0,w=w+Math.imul(Ne,ue)|0,m=m+Math.imul(Se,ge)|0,c=c+Math.imul(Se,ve)|0,c=c+Math.imul(xe,ge)|0,w=w+Math.imul(xe,ve)|0;var ct=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(ct>>>26)|0,ct&=67108863,m=Math.imul(ne,X),c=Math.imul(ne,Q),c=c+Math.imul(ce,X)|0,w=Math.imul(ce,Q),m=m+Math.imul(Z,re)|0,c=c+Math.imul(Z,ue)|0,c=c+Math.imul(B,re)|0,w=w+Math.imul(B,ue)|0,m=m+Math.imul(Ie,ge)|0,c=c+Math.imul(Ie,ve)|0,c=c+Math.imul(Ne,ge)|0,w=w+Math.imul(Ne,ve)|0;var st=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(st>>>26)|0,st&=67108863,m=Math.imul(ne,re),c=Math.imul(ne,ue),c=c+Math.imul(ce,re)|0,w=Math.imul(ce,ue),m=m+Math.imul(Z,ge)|0,c=c+Math.imul(Z,ve)|0,c=c+Math.imul(B,ge)|0,w=w+Math.imul(B,ve)|0;var Te=(S+m|0)+((c&8191)<<13)|0;S=(w+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,m=Math.imul(ne,ge),c=Math.imul(ne,ve),c=c+Math.imul(ce,ge)|0,w=Math.imul(ce,ve);var Pe=(S+m|0)+((c&8191)<<13)|0;return S=(w+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,x[0]=Ze,x[1]=Ye,x[2]=Bt,x[3]=rt,x[4]=Et,x[5]=At,x[6]=_t,x[7]=Ot,x[8]=kt,x[9]=Ct,x[10]=It,x[11]=ft,x[12]=pt,x[13]=at,x[14]=ht,x[15]=ct,x[16]=st,x[17]=Te,x[18]=Pe,S!==0&&(x[19]=S,h.length++),h};Math.imul||(A=M);function I(E,a,f){f.negative=a.negative^E.negative,f.length=E.length+a.length;for(var h=0,g=0,y=0;y<f.length-1;y++){var x=g;g=0;for(var S=h&67108863,m=Math.min(y,a.length-1),c=Math.max(0,y-E.length+1);c<=m;c++){var w=y-c,T=E.words[w]|0,O=a.words[c]|0,K=T*O,ee=K&67108863;x=x+(K/67108864|0)|0,ee=ee+S|0,S=ee&67108863,x=x+(ee>>>26)|0,g+=x>>>26,x&=67108863}f.words[y]=S,h=x,x=g}return h!==0?f.words[y]=h:f.length--,f.strip()}function k(E,a,f){var h=new R;return h.mulp(E,a,f)}i.prototype.mulTo=function(a,f){var h,g=this.length+a.length;return this.length===10&&a.length===10?h=A(this,a,f):g<63?h=M(this,a,f):g<1024?h=I(this,a,f):h=k(this,a,f),h};function R(E,a){this.x=E,this.y=a}R.prototype.makeRBT=function(a){for(var f=new Array(a),h=i.prototype._countBits(a)-1,g=0;g<a;g++)f[g]=this.revBin(g,h,a);return f},R.prototype.revBin=function(a,f,h){if(a===0||a===h-1)return a;for(var g=0,y=0;y<f;y++)g|=(a&1)<<f-y-1,a>>=1;return g},R.prototype.permute=function(a,f,h,g,y,x){for(var S=0;S<x;S++)g[S]=f[a[S]],y[S]=h[a[S]]},R.prototype.transform=function(a,f,h,g,y,x){this.permute(x,a,f,h,g,y);for(var S=1;S<y;S<<=1)for(var m=S<<1,c=Math.cos(2*Math.PI/m),w=Math.sin(2*Math.PI/m),T=0;T<y;T+=m)for(var O=c,K=w,ee=0;ee<S;ee++){var J=h[T+ee],$=g[T+ee],z=h[T+ee+S],Y=g[T+ee+S],te=O*z-K*Y;Y=O*Y+K*z,z=te,h[T+ee]=J+z,g[T+ee]=$+Y,h[T+ee+S]=J-z,g[T+ee+S]=$-Y,ee!==m&&(te=c*O-w*K,K=c*K+w*O,O=te)}},R.prototype.guessLen13b=function(a,f){var h=Math.max(f,a)|1,g=h&1,y=0;for(h=h/2|0;h;h=h>>>1)y++;return 1<<y+1+g},R.prototype.conjugate=function(a,f,h){if(!(h<=1))for(var g=0;g<h/2;g++){var y=a[g];a[g]=a[h-g-1],a[h-g-1]=y,y=f[g],f[g]=-f[h-g-1],f[h-g-1]=-y}},R.prototype.normalize13b=function(a,f){for(var h=0,g=0;g<f/2;g++){var y=Math.round(a[2*g+1]/f)*8192+Math.round(a[2*g]/f)+h;a[g]=y&67108863,y<67108864?h=0:h=y/67108864|0}return a},R.prototype.convert13b=function(a,f,h,g){for(var y=0,x=0;x<f;x++)y=y+(a[x]|0),h[2*x]=y&8191,y=y>>>13,h[2*x+1]=y&8191,y=y>>>13;for(x=2*f;x<g;++x)h[x]=0;n(y===0),n((y&-8192)===0)},R.prototype.stub=function(a){for(var f=new Array(a),h=0;h<a;h++)f[h]=0;return f},R.prototype.mulp=function(a,f,h){var g=2*this.guessLen13b(a.length,f.length),y=this.makeRBT(g),x=this.stub(g),S=new Array(g),m=new Array(g),c=new Array(g),w=new Array(g),T=new Array(g),O=new Array(g),K=h.words;K.length=g,this.convert13b(a.words,a.length,S,g),this.convert13b(f.words,f.length,w,g),this.transform(S,x,m,c,g,y),this.transform(w,x,T,O,g,y);for(var ee=0;ee<g;ee++){var J=m[ee]*T[ee]-c[ee]*O[ee];c[ee]=m[ee]*O[ee]+c[ee]*T[ee],m[ee]=J}return this.conjugate(m,c,g),this.transform(m,c,K,x,g,y),this.conjugate(K,x,g),this.normalize13b(K,g),h.negative=a.negative^f.negative,h.length=a.length+f.length,h.strip()},i.prototype.mul=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},i.prototype.mulf=function(a){var f=new i(null);return f.words=new Array(this.length+a.length),k(this,a,f)},i.prototype.imul=function(a){return this.clone().mulTo(a,this)},i.prototype.imuln=function(a){n(typeof a=="number"),n(a<67108864);for(var f=0,h=0;h<this.length;h++){var g=(this.words[h]|0)*a,y=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=y>>>26,this.words[h]=y&67108863}return f!==0&&(this.words[h]=f,this.length++),this},i.prototype.muln=function(a){return this.clone().imuln(a)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(a){var f=_(a);if(f.length===0)return new i(1);for(var h=this,g=0;g<f.length&&f[g]===0;g++,h=h.sqr());if(++g<f.length)for(var y=h.sqr();g<f.length;g++,y=y.sqr())f[g]!==0&&(h=h.mul(y));return h},i.prototype.iushln=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=67108863>>>26-f<<26-f,y;if(f!==0){var x=0;for(y=0;y<this.length;y++){var S=this.words[y]&g,m=(this.words[y]|0)-S<<f;this.words[y]=m|x,x=S>>>26-f}x&&(this.words[y]=x,this.length++)}if(h!==0){for(y=this.length-1;y>=0;y--)this.words[y+h]=this.words[y];for(y=0;y<h;y++)this.words[y]=0;this.length+=h}return this.strip()},i.prototype.ishln=function(a){return n(this.negative===0),this.iushln(a)},i.prototype.iushrn=function(a,f,h){n(typeof a=="number"&&a>=0);var g;f?g=(f-f%26)/26:g=0;var y=a%26,x=Math.min((a-y)/26,this.length),S=67108863^67108863>>>y<<y,m=h;if(g-=x,g=Math.max(0,g),m){for(var c=0;c<x;c++)m.words[c]=this.words[c];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,c=0;c<this.length;c++)this.words[c]=this.words[c+x];else this.words[0]=0,this.length=1;var w=0;for(c=this.length-1;c>=0&&(w!==0||c>=g);c--){var T=this.words[c]|0;this.words[c]=w<<26-y|T>>>y,w=T&S}return m&&w!==0&&(m.words[m.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(a,f,h){return n(this.negative===0),this.iushrn(a,f,h)},i.prototype.shln=function(a){return this.clone().ishln(a)},i.prototype.ushln=function(a){return this.clone().iushln(a)},i.prototype.shrn=function(a){return this.clone().ishrn(a)},i.prototype.ushrn=function(a){return this.clone().iushrn(a)},i.prototype.testn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return!1;var y=this.words[h];return!!(y&g)},i.prototype.imaskn=function(a){n(typeof a=="number"&&a>=0);var f=a%26,h=(a-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=h)return this;if(f!==0&&h++,this.length=Math.min(h,this.length),f!==0){var g=67108863^67108863>>>f<<f;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(a){return this.clone().imaskn(a)},i.prototype.iaddn=function(a){return n(typeof a=="number"),n(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},i.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(a){if(n(typeof a=="number"),n(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(a){return this.clone().iaddn(a)},i.prototype.subn=function(a){return this.clone().isubn(a)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(a,f,h){var g=a.length+h,y;this._expand(g);var x,S=0;for(y=0;y<a.length;y++){x=(this.words[y+h]|0)+S;var m=(a.words[y]|0)*f;x-=m&67108863,S=(x>>26)-(m/67108864|0),this.words[y+h]=x&67108863}for(;y<this.length-h;y++)x=(this.words[y+h]|0)+S,S=x>>26,this.words[y+h]=x&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,y=0;y<this.length;y++)x=-(this.words[y]|0)+S,S=x>>26,this.words[y]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(a,f){var h=this.length-a.length,g=this.clone(),y=a,x=y.words[y.length-1]|0,S=this._countBits(x);h=26-S,h!==0&&(y=y.ushln(h),g.iushln(h),x=y.words[y.length-1]|0);var m=g.length-y.length,c;if(f!=="mod"){c=new i(null),c.length=m+1,c.words=new Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var T=g.clone()._ishlnsubmul(y,1,m);T.negative===0&&(g=T,c&&(c.words[m]=1));for(var O=m-1;O>=0;O--){var K=(g.words[y.length+O]|0)*67108864+(g.words[y.length+O-1]|0);for(K=Math.min(K/x|0,67108863),g._ishlnsubmul(y,K,O);g.negative!==0;)K--,g.negative=0,g._ishlnsubmul(y,1,O),g.isZero()||(g.negative^=1);c&&(c.words[O]=K)}return c&&c.strip(),g.strip(),f!=="div"&&h!==0&&g.iushrn(h),{div:c||null,mod:g}},i.prototype.divmod=function(a,f,h){if(n(!a.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,y,x;return this.negative!==0&&a.negative===0?(x=this.neg().divmod(a,f),f!=="mod"&&(g=x.div.neg()),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.iadd(a)),{div:g,mod:y}):this.negative===0&&a.negative!==0?(x=this.divmod(a.neg(),f),f!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):this.negative&a.negative?(x=this.neg().divmod(a.neg(),f),f!=="div"&&(y=x.mod.neg(),h&&y.negative!==0&&y.isub(a)),{div:x.div,mod:y}):a.length>this.length||this.cmp(a)<0?{div:new i(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new i(this.modn(a.words[0]))}:this._wordDiv(a,f)},i.prototype.div=function(a){return this.divmod(a,"div",!1).div},i.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},i.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},i.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var h=f.div.negative!==0?f.mod.isub(a):f.mod,g=a.ushrn(1),y=a.andln(1),x=h.cmp(g);return x<0||y===1&&x===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(a){n(a<=67108863);for(var f=(1<<26)%a,h=0,g=this.length-1;g>=0;g--)h=(f*h+(this.words[g]|0))%a;return h},i.prototype.idivn=function(a){n(a<=67108863);for(var f=0,h=this.length-1;h>=0;h--){var g=(this.words[h]|0)+f*67108864;this.words[h]=g/a|0,f=g%a}return this.strip()},i.prototype.divn=function(a){return this.clone().idivn(a)},i.prototype.egcd=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=new i(0),S=new i(1),m=0;f.isEven()&&h.isEven();)f.iushrn(1),h.iushrn(1),++m;for(var c=h.clone(),w=f.clone();!f.isZero();){for(var T=0,O=1;!(f.words[0]&O)&&T<26;++T,O<<=1);if(T>0)for(f.iushrn(T);T-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(c),y.isub(w)),g.iushrn(1),y.iushrn(1);for(var K=0,ee=1;!(h.words[0]&ee)&&K<26;++K,ee<<=1);if(K>0)for(h.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(c),S.isub(w)),x.iushrn(1),S.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(x),y.isub(S)):(h.isub(f),x.isub(g),S.isub(y))}return{a:x,b:S,gcd:h.iushln(m)}},i.prototype._invmp=function(a){n(a.negative===0),n(!a.isZero());var f=this,h=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var g=new i(1),y=new i(0),x=h.clone();f.cmpn(1)>0&&h.cmpn(1)>0;){for(var S=0,m=1;!(f.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(x),g.iushrn(1);for(var c=0,w=1;!(h.words[0]&w)&&c<26;++c,w<<=1);if(c>0)for(h.iushrn(c);c-- >0;)y.isOdd()&&y.iadd(x),y.iushrn(1);f.cmp(h)>=0?(f.isub(h),g.isub(y)):(h.isub(f),y.isub(g))}var T;return f.cmpn(1)===0?T=g:T=y,T.cmpn(0)<0&&T.iadd(a),T},i.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),h=a.clone();f.negative=0,h.negative=0;for(var g=0;f.isEven()&&h.isEven();g++)f.iushrn(1),h.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;h.isEven();)h.iushrn(1);var y=f.cmp(h);if(y<0){var x=f;f=h,h=x}else if(y===0||h.cmpn(1)===0)break;f.isub(h)}while(!0);return h.iushln(g)},i.prototype.invm=function(a){return this.egcd(a).a.umod(a)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(a){return this.words[0]&a},i.prototype.bincn=function(a){n(typeof a=="number");var f=a%26,h=(a-f)/26,g=1<<f;if(this.length<=h)return this._expand(h+1),this.words[h]|=g,this;for(var y=g,x=h;y!==0&&x<this.length;x++){var S=this.words[x]|0;S+=y,y=S>>>26,S&=67108863,this.words[x]=S}return y!==0&&(this.words[x]=y,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var h;if(this.length>1)h=1;else{f&&(a=-a),n(a<=67108863,"Number is too big");var g=this.words[0]|0;h=g===a?0:g<a?-1:1}return this.negative!==0?-h|0:h},i.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,h=this.length-1;h>=0;h--){var g=this.words[h]|0,y=a.words[h]|0;if(g!==y){g<y?f=-1:g>y&&(f=1);break}}return f},i.prototype.gtn=function(a){return this.cmpn(a)===1},i.prototype.gt=function(a){return this.cmp(a)===1},i.prototype.gten=function(a){return this.cmpn(a)>=0},i.prototype.gte=function(a){return this.cmp(a)>=0},i.prototype.ltn=function(a){return this.cmpn(a)===-1},i.prototype.lt=function(a){return this.cmp(a)===-1},i.prototype.lten=function(a){return this.cmpn(a)<=0},i.prototype.lte=function(a){return this.cmp(a)<=0},i.prototype.eqn=function(a){return this.cmpn(a)===0},i.prototype.eq=function(a){return this.cmp(a)===0},i.red=function(a){return new L(a)},i.prototype.toRed=function(a){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(a){return this.red=a,this},i.prototype.forceRed=function(a){return n(!this.red,"Already a number in reduction context"),this._forceRed(a)},i.prototype.redAdd=function(a){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},i.prototype.redIAdd=function(a){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},i.prototype.redSub=function(a){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},i.prototype.redISub=function(a){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},i.prototype.redShl=function(a){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},i.prototype.redMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},i.prototype.redIMul=function(a){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(a){return n(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var C={k256:null,p224:null,p192:null,p25519:null};function P(E,a){this.name=E,this.p=new i(a,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var a=new i(null);return a.words=new Array(Math.ceil(this.n/13)),a},P.prototype.ireduce=function(a){var f=a,h;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),h=f.bitLength();while(h>this.n);var g=h<this.n?-1:f.ucmp(this.p);return g===0?(f.words[0]=0,f.length=1):g>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},P.prototype.split=function(a,f){a.iushrn(this.n,0,f)},P.prototype.imulK=function(a){return a.imul(this.k)};function N(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,P),N.prototype.split=function(a,f){for(var h=4194303,g=Math.min(a.length,9),y=0;y<g;y++)f.words[y]=a.words[y];if(f.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var x=a.words[9];for(f.words[f.length++]=x&h,y=10;y<a.length;y++){var S=a.words[y]|0;a.words[y-10]=(S&h)<<4|x>>>22,x=S}x>>>=22,a.words[y-10]=x,x===0&&a.length>10?a.length-=10:a.length-=9},N.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,h=0;h<a.length;h++){var g=a.words[h]|0;f+=g*977,a.words[h]=f&67108863,f=g*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(U,P);function q(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,P);function F(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(F,P),F.prototype.imulK=function(a){for(var f=0,h=0;h<a.length;h++){var g=(a.words[h]|0)*19+f,y=g&67108863;g>>>=26,a.words[h]=y,f=g}return f!==0&&(a.words[a.length++]=f),a},i._prime=function(a){if(C[a])return C[a];var f;if(a==="k256")f=new N;else if(a==="p224")f=new U;else if(a==="p192")f=new q;else if(a==="p25519")f=new F;else throw new Error("Unknown prime "+a);return C[a]=f,f};function L(E){if(typeof E=="string"){var a=i._prime(E);this.m=a.p,this.prime=a}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}L.prototype._verify1=function(a){n(a.negative===0,"red works only with positives"),n(a.red,"red works only with red numbers")},L.prototype._verify2=function(a,f){n((a.negative|f.negative)===0,"red works only with positives"),n(a.red&&a.red===f.red,"red works only with red numbers")},L.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},L.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},L.prototype.add=function(a,f){this._verify2(a,f);var h=a.add(f);return h.cmp(this.m)>=0&&h.isub(this.m),h._forceRed(this)},L.prototype.iadd=function(a,f){this._verify2(a,f);var h=a.iadd(f);return h.cmp(this.m)>=0&&h.isub(this.m),h},L.prototype.sub=function(a,f){this._verify2(a,f);var h=a.sub(f);return h.cmpn(0)<0&&h.iadd(this.m),h._forceRed(this)},L.prototype.isub=function(a,f){this._verify2(a,f);var h=a.isub(f);return h.cmpn(0)<0&&h.iadd(this.m),h},L.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},L.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},L.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},L.prototype.isqr=function(a){return this.imul(a,a.clone())},L.prototype.sqr=function(a){return this.mul(a,a)},L.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var h=this.m.add(new i(1)).iushrn(2);return this.pow(a,h)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);n(!g.isZero());var x=new i(1).toRed(this),S=x.redNeg(),m=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);this.pow(c,m).cmp(S)!==0;)c.redIAdd(S);for(var w=this.pow(c,g),T=this.pow(a,g.addn(1).iushrn(1)),O=this.pow(a,g),K=y;O.cmp(x)!==0;){for(var ee=O,J=0;ee.cmp(x)!==0;J++)ee=ee.redSqr();n(J<K);var $=this.pow(w,new i(1).iushln(K-J-1));T=T.redMul($),w=$.redSqr(),O=O.redMul(w),K=J}return T},L.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},L.prototype.pow=function(a,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var h=4,g=new Array(1<<h);g[0]=new i(1).toRed(this),g[1]=a;for(var y=2;y<g.length;y++)g[y]=this.mul(g[y-1],a);var x=g[0],S=0,m=0,c=f.bitLength()%26;for(c===0&&(c=26),y=f.length-1;y>=0;y--){for(var w=f.words[y],T=c-1;T>=0;T--){var O=w>>T&1;if(x!==g[0]&&(x=this.sqr(x)),O===0&&S===0){m=0;continue}S<<=1,S|=O,m++,!(m!==h&&(y!==0||T!==0))&&(x=this.mul(x,g[S]),m=0,S=0)}c=26}return x},L.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},L.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},i.mont=function(a){return new ie(a)};function ie(E){L.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ie,L),ie.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ie.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var h=a.imul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new i(0)._forceRed(this);var h=a.mul(f),g=h.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=h.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},ie.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,Rn)}(f1)),f1.exports}var h3,a7;function EL(){if(a7)return h3;a7=1;var t=pE(),e=cr().Buffer;function r(n,s){return e.from(n.toRed(t.mont(s.modulus)).redPow(new t(s.publicExponent)).fromRed().toArray())}return h3=r,h3}var d3,l7;function UX(){if(l7)return d3;l7=1;var t=Sv(),e=nd(),r=Gp(),n=_L(),s=SL(),i=pE(),o=EL(),l=dE(),u=cr().Buffer;d3=function(_,M,A){var I;_.padding?I=_.padding:A?I=1:I=4;var k=t(_),R;if(I===4)R=d(k,M);else if(I===1)R=p(k,M,A);else if(I===3){if(R=new i(M),R.cmp(k.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return A?l(R,k):o(R,k)};function d(b,_){var M=b.modulus.byteLength(),A=_.length,I=r("sha1").update(u.alloc(0)).digest(),k=I.length,R=2*k;if(A>M-R-2)throw new Error("message too long");var C=u.alloc(M-A-R-2),P=M-k-1,N=e(k),U=s(u.concat([I,C,u.alloc(1,1),_],P),n(N,P)),q=s(N,n(U,k));return new i(u.concat([u.alloc(1),q,U],M))}function p(b,_,M){var A=_.length,I=b.modulus.byteLength();if(A>I-11)throw new Error("message too long");var k;return M?k=u.alloc(I-A-3,255):k=v(I-A-3),new i(u.concat([u.from([0,M?1:2]),k,u.alloc(1),_],I))}function v(b){for(var _=u.allocUnsafe(b),M=0,A=e(b*2),I=0,k;M<b;)I===A.length&&(A=e(b*2),I=0),k=A[I++],k&&(_[M++]=k);return _}return d3}var p3,c7;function FX(){if(c7)return p3;c7=1;var t=Sv(),e=_L(),r=SL(),n=pE(),s=dE(),i=Gp(),o=EL(),l=cr().Buffer;p3=function(b,_,M){var A;b.padding?A=b.padding:M?A=1:A=4;var I=t(b),k=I.modulus.byteLength();if(_.length>k||new n(_).cmp(I.modulus)>=0)throw new Error("decryption error");var R;M?R=o(new n(_),I):R=s(_,I);var C=l.alloc(k-R.length);if(R=l.concat([C,R],k),A===4)return u(I,R);if(A===1)return d(I,R,M);if(A===3)return R;throw new Error("unknown padding")};function u(v,b){var _=v.modulus.byteLength(),M=i("sha1").update(l.alloc(0)).digest(),A=M.length;if(b[0]!==0)throw new Error("decryption error");var I=b.slice(1,A+1),k=b.slice(A+1),R=r(I,e(k,A)),C=r(k,e(R,_-A-1));if(p(M,C.slice(0,A)))throw new Error("decryption error");for(var P=A;C[P]===0;)P++;if(C[P++]!==1)throw new Error("decryption error");return C.slice(P)}function d(v,b,_){for(var M=b.slice(0,2),A=2,I=0;b[A++]!==0;)if(A>=b.length){I++;break}var k=b.slice(2,A-1);if((M.toString("hex")!=="0002"&&!_||M.toString("hex")!=="0001"&&_)&&I++,k.length<8&&I++,I)throw new Error("decryption error");return b.slice(A)}function p(v,b){v=l.from(v),b=l.from(b);var _=0,M=v.length;v.length!==b.length&&(_++,M=Math.min(v.length,b.length));for(var A=-1;++A<M;)_+=v[A]^b[A];return _}return p3}var u7;function jX(){return u7||(u7=1,function(t){t.publicEncrypt=UX(),t.privateDecrypt=FX(),t.privateEncrypt=function(r,n){return t.publicEncrypt(r,n,!0)},t.publicDecrypt=function(r,n){return t.privateDecrypt(r,n,!0)}}(c3)),c3}var wf={},f7;function qX(){if(f7)return wf;f7=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=cr(),r=nd(),n=e.Buffer,s=e.kMaxLength,i=globalThis.crypto||globalThis.msCrypto,o=Math.pow(2,32)-1;function l(b,_){if(typeof b!="number"||b!==b)throw new TypeError("offset must be a number");if(b>o||b<0)throw new TypeError("offset must be a uint32");if(b>s||b>_)throw new RangeError("offset out of range")}function u(b,_,M){if(typeof b!="number"||b!==b)throw new TypeError("size must be a number");if(b>o||b<0)throw new TypeError("size must be a uint32");if(b+_>M||b>s)throw new RangeError("buffer too small")}i&&i.getRandomValues||!process.browser?(wf.randomFill=d,wf.randomFillSync=v):(wf.randomFill=t,wf.randomFillSync=t);function d(b,_,M,A){if(!n.isBuffer(b)&&!(b instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof _=="function")A=_,_=0,M=b.length;else if(typeof M=="function")A=M,M=b.length-_;else if(typeof A!="function")throw new TypeError('"cb" argument must be a function');return l(_,b.length),u(M,_,b.length),p(b,_,M,A)}function p(b,_,M,A){if(process.browser){var I=b.buffer,k=new Uint8Array(I,_,M);if(i.getRandomValues(k),A){process.nextTick(function(){A(null,b)});return}return b}if(A){r(M,function(C,P){if(C)return A(C);P.copy(b,_),A(null,b)});return}var R=r(M);return R.copy(b,_),b}function v(b,_,M){if(typeof _>"u"&&(_=0),!n.isBuffer(b)&&!(b instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l(_,b.length),M===void 0&&(M=b.length-_),u(M,_,b.length),p(b,_,M)}return wf}var h7;function ML(){if(h7)return lr;h7=1,lr.randomBytes=lr.rng=lr.pseudoRandomBytes=lr.prng=nd(),lr.createHash=lr.Hash=Gp(),lr.createHmac=lr.Hmac=JB();var t=$J(),e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);lr.getHashes=function(){return r};var n=nL();lr.pbkdf2=n.pbkdf2,lr.pbkdf2Sync=n.pbkdf2Sync;var s=nX();lr.Cipher=s.Cipher,lr.createCipher=s.createCipher,lr.Cipheriv=s.Cipheriv,lr.createCipheriv=s.createCipheriv,lr.Decipher=s.Decipher,lr.createDecipher=s.createDecipher,lr.Decipheriv=s.Decipheriv,lr.createDecipheriv=s.createDecipheriv,lr.getCiphers=s.getCiphers,lr.listCiphers=s.listCiphers;var i=gX();lr.DiffieHellmanGroup=i.DiffieHellmanGroup,lr.createDiffieHellmanGroup=i.createDiffieHellmanGroup,lr.getDiffieHellman=i.getDiffieHellman,lr.createDiffieHellman=i.createDiffieHellman,lr.DiffieHellman=i.DiffieHellman;var o=LX();lr.createSign=o.createSign,lr.Sign=o.Sign,lr.createVerify=o.createVerify,lr.Verify=o.Verify,lr.createECDH=$X();var l=jX();lr.publicEncrypt=l.publicEncrypt,lr.privateEncrypt=l.privateEncrypt,lr.publicDecrypt=l.publicDecrypt,lr.privateDecrypt=l.privateDecrypt;var u=qX();return lr.randomFill=u.randomFill,lr.randomFillSync=u.randomFillSync,lr.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},lr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},lr}var d7;function gE(){if(d7)return Gg.exports;d7=1;var t;Gg.exports=function(s){return t||(t=new e(null)),t.generate(s)};function e(n){this.rand=n}if(Gg.exports.Rand=e,e.prototype.generate=function(s){return this._rand(s)},e.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var i=new Uint8Array(s),o=0;o<i.length;o++)i[o]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=ML();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(s){return r.randomBytes(s)}}catch{}return Gg.exports}var g3={},m3,p7;function Ev(){if(p7)return m3;p7=1;var t=Ul(),e=Ao(),r=e.getNAF,n=e.getJSF,s=e.assert;function i(l,u){this.type=l,this.p=new t(u.p,16),this.red=u.prime?t.red(u.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=u.n&&new t(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}m3=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(u,d){s(u.precomputed);var p=u._getDoubles(),v=r(d,1,this._bitLength),b=(1<<p.step+1)-(p.step%2===0?2:1);b/=3;var _=[],M,A;for(M=0;M<v.length;M+=p.step){A=0;for(var I=M+p.step-1;I>=M;I--)A=(A<<1)+v[I];_.push(A)}for(var k=this.jpoint(null,null,null),R=this.jpoint(null,null,null),C=b;C>0;C--){for(M=0;M<_.length;M++)A=_[M],A===C?R=R.mixedAdd(p.points[M]):A===-C&&(R=R.mixedAdd(p.points[M].neg()));k=k.add(R)}return k.toP()},i.prototype._wnafMul=function(u,d){var p=4,v=u._getNAFPoints(p);p=v.wnd;for(var b=v.points,_=r(d,p,this._bitLength),M=this.jpoint(null,null,null),A=_.length-1;A>=0;A--){for(var I=0;A>=0&&_[A]===0;A--)I++;if(A>=0&&I++,M=M.dblp(I),A<0)break;var k=_[A];s(k!==0),u.type==="affine"?k>0?M=M.mixedAdd(b[k-1>>1]):M=M.mixedAdd(b[-k-1>>1].neg()):k>0?M=M.add(b[k-1>>1]):M=M.add(b[-k-1>>1].neg())}return u.type==="affine"?M.toP():M},i.prototype._wnafMulAdd=function(u,d,p,v,b){var _=this._wnafT1,M=this._wnafT2,A=this._wnafT3,I=0,k,R,C;for(k=0;k<v;k++){C=d[k];var P=C._getNAFPoints(u);_[k]=P.wnd,M[k]=P.points}for(k=v-1;k>=1;k-=2){var N=k-1,U=k;if(_[N]!==1||_[U]!==1){A[N]=r(p[N],_[N],this._bitLength),A[U]=r(p[U],_[U],this._bitLength),I=Math.max(A[N].length,I),I=Math.max(A[U].length,I);continue}var q=[d[N],null,null,d[U]];d[N].y.cmp(d[U].y)===0?(q[1]=d[N].add(d[U]),q[2]=d[N].toJ().mixedAdd(d[U].neg())):d[N].y.cmp(d[U].y.redNeg())===0?(q[1]=d[N].toJ().mixedAdd(d[U]),q[2]=d[N].add(d[U].neg())):(q[1]=d[N].toJ().mixedAdd(d[U]),q[2]=d[N].toJ().mixedAdd(d[U].neg()));var F=[-3,-1,-5,-7,0,7,5,1,3],L=n(p[N],p[U]);for(I=Math.max(L[0].length,I),A[N]=new Array(I),A[U]=new Array(I),R=0;R<I;R++){var ie=L[0][R]|0,E=L[1][R]|0;A[N][R]=F[(ie+1)*3+(E+1)],A[U][R]=0,M[N]=q}}var a=this.jpoint(null,null,null),f=this._wnafT4;for(k=I;k>=0;k--){for(var h=0;k>=0;){var g=!0;for(R=0;R<v;R++)f[R]=A[R][k]|0,f[R]!==0&&(g=!1);if(!g)break;h++,k--}if(k>=0&&h++,a=a.dblp(h),k<0)break;for(R=0;R<v;R++){var y=f[R];y!==0&&(y>0?C=M[R][y-1>>1]:y<0&&(C=M[R][-y-1>>1].neg()),C.type==="affine"?a=a.mixedAdd(C):a=a.add(C))}}for(k=0;k<v;k++)M[k]=null;return b?a:a.toP()};function o(l,u){this.curve=l,this.type=u,this.precomputed=null}return i.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(u,d){u=e.toArray(u,d);var p=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1===2*p){u[0]===6?s(u[u.length-1]%2===0):u[0]===7&&s(u[u.length-1]%2===1);var v=this.point(u.slice(1,1+p),u.slice(1+p,1+2*p));return v}else if((u[0]===2||u[0]===3)&&u.length-1===p)return this.pointFromX(u.slice(1,1+p),u[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(u){return this.encode(u,!0)},o.prototype._encode=function(u){var d=this.curve.p.byteLength(),p=this.getX().toArray("be",d);return u?[this.getY().isEven()?2:3].concat(p):[4].concat(p,this.getY().toArray("be",d))},o.prototype.encode=function(u,d){return e.encode(this._encode(d),u)},o.prototype.precompute=function(u){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,u),d.beta=this._getBeta(),this.precomputed=d,this},o.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return d?d.points.length>=Math.ceil((u.bitLength()+1)/d.step):!1},o.prototype._getDoubles=function(u,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var p=[this],v=this,b=0;b<d;b+=u){for(var _=0;_<u;_++)v=v.dbl();p.push(v)}return{step:u,points:p}},o.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],p=(1<<u)-1,v=p===1?null:this.dbl(),b=1;b<p;b++)d[b]=d[b-1].add(v);return{wnd:u,points:d}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(u){for(var d=this,p=0;p<u;p++)d=d.dbl();return d},m3}var y3,g7;function zX(){if(g7)return y3;g7=1;var t=Ao(),e=Ul(),r=nr(),n=Ev(),s=t.assert;function i(u){n.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(i,n),y3=i,i.prototype._getEndomorphism=function(d){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var p,v;if(d.beta)p=new e(d.beta,16).toRed(this.red);else{var b=this._getEndoRoots(this.p);p=b[0].cmp(b[1])<0?b[0]:b[1],p=p.toRed(this.red)}if(d.lambda)v=new e(d.lambda,16);else{var _=this._getEndoRoots(this.n);this.g.mul(_[0]).x.cmp(this.g.x.redMul(p))===0?v=_[0]:(v=_[1],s(this.g.mul(v).x.cmp(this.g.x.redMul(p))===0))}var M;return d.basis?M=d.basis.map(function(A){return{a:new e(A.a,16),b:new e(A.b,16)}}):M=this._getEndoBasis(v),{beta:p,lambda:v,basis:M}}},i.prototype._getEndoRoots=function(d){var p=d===this.p?this.red:e.mont(d),v=new e(2).toRed(p).redInvm(),b=v.redNeg(),_=new e(3).toRed(p).redNeg().redSqrt().redMul(v),M=b.redAdd(_).fromRed(),A=b.redSub(_).fromRed();return[M,A]},i.prototype._getEndoBasis=function(d){for(var p=this.n.ushrn(Math.floor(this.n.bitLength()/2)),v=d,b=this.n.clone(),_=new e(1),M=new e(0),A=new e(0),I=new e(1),k,R,C,P,N,U,q,F=0,L,ie;v.cmpn(0)!==0;){var E=b.div(v);L=b.sub(E.mul(v)),ie=A.sub(E.mul(_));var a=I.sub(E.mul(M));if(!C&&L.cmp(p)<0)k=q.neg(),R=_,C=L.neg(),P=ie;else if(C&&++F===2)break;q=L,b=v,v=L,A=_,_=ie,I=M,M=a}N=L.neg(),U=ie;var f=C.sqr().add(P.sqr()),h=N.sqr().add(U.sqr());return h.cmp(f)>=0&&(N=k,U=R),C.negative&&(C=C.neg(),P=P.neg()),N.negative&&(N=N.neg(),U=U.neg()),[{a:C,b:P},{a:N,b:U}]},i.prototype._endoSplit=function(d){var p=this.endo.basis,v=p[0],b=p[1],_=b.b.mul(d).divRound(this.n),M=v.b.neg().mul(d).divRound(this.n),A=_.mul(v.a),I=M.mul(b.a),k=_.mul(v.b),R=M.mul(b.b),C=d.sub(A).sub(I),P=k.add(R).neg();return{k1:C,k2:P}},i.prototype.pointFromX=function(d,p){d=new e(d,16),d.red||(d=d.toRed(this.red));var v=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),b=v.redSqrt();if(b.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var _=b.fromRed().isOdd();return(p&&!_||!p&&_)&&(b=b.redNeg()),this.point(d,b)},i.prototype.validate=function(d){if(d.inf)return!0;var p=d.x,v=d.y,b=this.a.redMul(p),_=p.redSqr().redMul(p).redIAdd(b).redIAdd(this.b);return v.redSqr().redISub(_).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(d,p,v){for(var b=this._endoWnafT1,_=this._endoWnafT2,M=0;M<d.length;M++){var A=this._endoSplit(p[M]),I=d[M],k=I._getBeta();A.k1.negative&&(A.k1.ineg(),I=I.neg(!0)),A.k2.negative&&(A.k2.ineg(),k=k.neg(!0)),b[M*2]=I,b[M*2+1]=k,_[M*2]=A.k1,_[M*2+1]=A.k2}for(var R=this._wnafMulAdd(1,b,_,M*2,v),C=0;C<M*2;C++)b[C]=null,_[C]=null;return R};function o(u,d,p,v){n.BasePoint.call(this,u,"affine"),d===null&&p===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(d,16),this.y=new e(p,16),v&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(o,n.BasePoint),i.prototype.point=function(d,p,v){return new o(this,d,p,v)},i.prototype.pointFromJSON=function(d,p){return o.fromJSON(this,d,p)},o.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var p=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var v=this.curve,b=function(_){return v.point(_.x.redMul(v.endo.beta),_.y)};d.beta=p,p.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(b)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(b)}}}return p}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(d,p,v){typeof p=="string"&&(p=JSON.parse(p));var b=d.point(p[0],p[1],v);if(!p[2])return b;function _(A){return d.point(A[0],A[1],v)}var M=p[2];return b.precomputed={beta:null,doubles:M.doubles&&{step:M.doubles.step,points:[b].concat(M.doubles.points.map(_))},naf:M.naf&&{wnd:M.naf.wnd,points:[b].concat(M.naf.points.map(_))}},b},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var p=this.y.redSub(d.y);p.cmpn(0)!==0&&(p=p.redMul(this.x.redSub(d.x).redInvm()));var v=p.redSqr().redISub(this.x).redISub(d.x),b=p.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,b)},o.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var p=this.curve.a,v=this.x.redSqr(),b=d.redInvm(),_=v.redAdd(v).redIAdd(v).redIAdd(p).redMul(b),M=_.redSqr().redISub(this.x.redAdd(this.x)),A=_.redMul(this.x.redSub(M)).redISub(this.y);return this.curve.point(M,A)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(d){return d=new e(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},o.prototype.mulAdd=function(d,p,v){var b=[this,p],_=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(b,_):this.curve._wnafMulAdd(1,b,_,2)},o.prototype.jmulAdd=function(d,p,v){var b=[this,p],_=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(b,_,!0):this.curve._wnafMulAdd(1,b,_,2,!0)},o.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},o.prototype.neg=function(d){if(this.inf)return this;var p=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var v=this.precomputed,b=function(_){return _.neg()};p.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(b)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(b)}}}return p},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var d=this.curve.jpoint(this.x,this.y,this.curve.one);return d};function l(u,d,p,v){n.BasePoint.call(this,u,"jacobian"),d===null&&p===null&&v===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(d,16),this.y=new e(p,16),this.z=new e(v,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(l,n.BasePoint),i.prototype.jpoint=function(d,p,v){return new l(this,d,p,v)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),p=d.redSqr(),v=this.x.redMul(p),b=this.y.redMul(p).redMul(d);return this.curve.point(v,b)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var p=d.z.redSqr(),v=this.z.redSqr(),b=this.x.redMul(p),_=d.x.redMul(v),M=this.y.redMul(p.redMul(d.z)),A=d.y.redMul(v.redMul(this.z)),I=b.redSub(_),k=M.redSub(A);if(I.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=I.redSqr(),C=R.redMul(I),P=b.redMul(R),N=k.redSqr().redIAdd(C).redISub(P).redISub(P),U=k.redMul(P.redISub(N)).redISub(M.redMul(C)),q=this.z.redMul(d.z).redMul(I);return this.curve.jpoint(N,U,q)},l.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var p=this.z.redSqr(),v=this.x,b=d.x.redMul(p),_=this.y,M=d.y.redMul(p).redMul(this.z),A=v.redSub(b),I=_.redSub(M);if(A.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=A.redSqr(),R=k.redMul(A),C=v.redMul(k),P=I.redSqr().redIAdd(R).redISub(C).redISub(C),N=I.redMul(C.redISub(P)).redISub(_.redMul(R)),U=this.z.redMul(A);return this.curve.jpoint(P,N,U)},l.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var p;if(this.curve.zeroA||this.curve.threeA){var v=this;for(p=0;p<d;p++)v=v.dbl();return v}var b=this.curve.a,_=this.curve.tinv,M=this.x,A=this.y,I=this.z,k=I.redSqr().redSqr(),R=A.redAdd(A);for(p=0;p<d;p++){var C=M.redSqr(),P=R.redSqr(),N=P.redSqr(),U=C.redAdd(C).redIAdd(C).redIAdd(b.redMul(k)),q=M.redMul(P),F=U.redSqr().redISub(q.redAdd(q)),L=q.redISub(F),ie=U.redMul(L);ie=ie.redIAdd(ie).redISub(N);var E=R.redMul(I);p+1<d&&(k=k.redMul(N)),M=F,I=E,R=ie}return this.curve.jpoint(M,R.redMul(_),I)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var d,p,v;if(this.zOne){var b=this.x.redSqr(),_=this.y.redSqr(),M=_.redSqr(),A=this.x.redAdd(_).redSqr().redISub(b).redISub(M);A=A.redIAdd(A);var I=b.redAdd(b).redIAdd(b),k=I.redSqr().redISub(A).redISub(A),R=M.redIAdd(M);R=R.redIAdd(R),R=R.redIAdd(R),d=k,p=I.redMul(A.redISub(k)).redISub(R),v=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),P=this.y.redSqr(),N=P.redSqr(),U=this.x.redAdd(P).redSqr().redISub(C).redISub(N);U=U.redIAdd(U);var q=C.redAdd(C).redIAdd(C),F=q.redSqr(),L=N.redIAdd(N);L=L.redIAdd(L),L=L.redIAdd(L),d=F.redISub(U).redISub(U),p=q.redMul(U.redISub(d)).redISub(L),v=this.y.redMul(this.z),v=v.redIAdd(v)}return this.curve.jpoint(d,p,v)},l.prototype._threeDbl=function(){var d,p,v;if(this.zOne){var b=this.x.redSqr(),_=this.y.redSqr(),M=_.redSqr(),A=this.x.redAdd(_).redSqr().redISub(b).redISub(M);A=A.redIAdd(A);var I=b.redAdd(b).redIAdd(b).redIAdd(this.curve.a),k=I.redSqr().redISub(A).redISub(A);d=k;var R=M.redIAdd(M);R=R.redIAdd(R),R=R.redIAdd(R),p=I.redMul(A.redISub(k)).redISub(R),v=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),P=this.y.redSqr(),N=this.x.redMul(P),U=this.x.redSub(C).redMul(this.x.redAdd(C));U=U.redAdd(U).redIAdd(U);var q=N.redIAdd(N);q=q.redIAdd(q);var F=q.redAdd(q);d=U.redSqr().redISub(F),v=this.y.redAdd(this.z).redSqr().redISub(P).redISub(C);var L=P.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L),p=U.redMul(q.redISub(d)).redISub(L)}return this.curve.jpoint(d,p,v)},l.prototype._dbl=function(){var d=this.curve.a,p=this.x,v=this.y,b=this.z,_=b.redSqr().redSqr(),M=p.redSqr(),A=v.redSqr(),I=M.redAdd(M).redIAdd(M).redIAdd(d.redMul(_)),k=p.redAdd(p);k=k.redIAdd(k);var R=k.redMul(A),C=I.redSqr().redISub(R.redAdd(R)),P=R.redISub(C),N=A.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var U=I.redMul(P).redISub(N),q=v.redAdd(v).redMul(b);return this.curve.jpoint(C,U,q)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),p=this.y.redSqr(),v=this.z.redSqr(),b=p.redSqr(),_=d.redAdd(d).redIAdd(d),M=_.redSqr(),A=this.x.redAdd(p).redSqr().redISub(d).redISub(b);A=A.redIAdd(A),A=A.redAdd(A).redIAdd(A),A=A.redISub(M);var I=A.redSqr(),k=b.redIAdd(b);k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var R=_.redIAdd(A).redSqr().redISub(M).redISub(I).redISub(k),C=p.redMul(R);C=C.redIAdd(C),C=C.redIAdd(C);var P=this.x.redMul(I).redISub(C);P=P.redIAdd(P),P=P.redIAdd(P);var N=this.y.redMul(R.redMul(k.redISub(R)).redISub(A.redMul(I)));N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N);var U=this.z.redAdd(A).redSqr().redISub(v).redISub(I);return this.curve.jpoint(P,N,U)},l.prototype.mul=function(d,p){return d=new e(d,p),this.curve._wnafMul(this,d)},l.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var p=this.z.redSqr(),v=d.z.redSqr();if(this.x.redMul(v).redISub(d.x.redMul(p)).cmpn(0)!==0)return!1;var b=p.redMul(this.z),_=v.redMul(d.z);return this.y.redMul(_).redISub(d.y.redMul(b)).cmpn(0)===0},l.prototype.eqXToP=function(d){var p=this.z.redSqr(),v=d.toRed(this.curve.red).redMul(p);if(this.x.cmp(v)===0)return!0;for(var b=d.clone(),_=this.curve.redN.redMul(p);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(_),this.x.cmp(v)===0)return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return this.z.cmpn(0)===0},y3}var v3,m7;function HX(){if(m7)return v3;m7=1;var t=Ul(),e=nr(),r=Ev(),n=Ao();function s(o){r.call(this,"mont",o),this.a=new t(o.a,16).toRed(this.red),this.b=new t(o.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(s,r),v3=s,s.prototype.validate=function(l){var u=l.normalize().x,d=u.redSqr(),p=d.redMul(u).redAdd(d.redMul(this.a)).redAdd(u),v=p.redSqrt();return v.redSqr().cmp(p)===0};function i(o,l,u){r.BasePoint.call(this,o,"projective"),l===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(l,16),this.z=new t(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(i,r.BasePoint),s.prototype.decodePoint=function(l,u){return this.point(n.toArray(l,u),1)},s.prototype.point=function(l,u){return new i(this,l,u)},s.prototype.pointFromJSON=function(l){return i.fromJSON(this,l)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(l,u){return new i(l,u[0],u[1]||l.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var l=this.x.redAdd(this.z),u=l.redSqr(),d=this.x.redSub(this.z),p=d.redSqr(),v=u.redSub(p),b=u.redMul(p),_=v.redMul(p.redAdd(this.curve.a24.redMul(v)));return this.curve.point(b,_)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(l,u){var d=this.x.redAdd(this.z),p=this.x.redSub(this.z),v=l.x.redAdd(l.z),b=l.x.redSub(l.z),_=b.redMul(d),M=v.redMul(p),A=u.z.redMul(_.redAdd(M).redSqr()),I=u.x.redMul(_.redISub(M).redSqr());return this.curve.point(A,I)},i.prototype.mul=function(l){for(var u=l.clone(),d=this,p=this.curve.point(null,null),v=this,b=[];u.cmpn(0)!==0;u.iushrn(1))b.push(u.andln(1));for(var _=b.length-1;_>=0;_--)b[_]===0?(d=d.diffAdd(p,v),p=p.dbl()):(p=d.diffAdd(p,v),d=d.dbl());return p},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(l){return this.getX().cmp(l.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},v3}var w3,y7;function KX(){if(y7)return w3;y7=1;var t=Ao(),e=Ul(),r=nr(),n=Ev(),s=t.assert;function i(l){this.twisted=(l.a|0)!==1,this.mOneA=this.twisted&&(l.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",l),this.a=new e(l.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(l.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(l.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(l.c|0)===1}r(i,n),w3=i,i.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},i.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},i.prototype.jpoint=function(u,d,p,v){return this.point(u,d,p,v)},i.prototype.pointFromX=function(u,d){u=new e(u,16),u.red||(u=u.toRed(this.red));var p=u.redSqr(),v=this.c2.redSub(this.a.redMul(p)),b=this.one.redSub(this.c2.redMul(this.d).redMul(p)),_=v.redMul(b.redInvm()),M=_.redSqrt();if(M.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");var A=M.fromRed().isOdd();return(d&&!A||!d&&A)&&(M=M.redNeg()),this.point(u,M)},i.prototype.pointFromY=function(u,d){u=new e(u,16),u.red||(u=u.toRed(this.red));var p=u.redSqr(),v=p.redSub(this.c2),b=p.redMul(this.d).redMul(this.c2).redSub(this.a),_=v.redMul(b.redInvm());if(_.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,u)}var M=_.redSqrt();if(M.redSqr().redSub(_).cmp(this.zero)!==0)throw new Error("invalid point");return M.fromRed().isOdd()!==d&&(M=M.redNeg()),this.point(M,u)},i.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var d=u.x.redSqr(),p=u.y.redSqr(),v=d.redMul(this.a).redAdd(p),b=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(p)));return v.cmp(b)===0};function o(l,u,d,p,v){n.BasePoint.call(this,l,"projective"),u===null&&d===null&&p===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(u,16),this.y=new e(d,16),this.z=p?new e(p,16):this.curve.one,this.t=v&&new e(v,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(o,n.BasePoint),i.prototype.pointFromJSON=function(u){return o.fromJSON(this,u)},i.prototype.point=function(u,d,p,v){return new o(this,u,d,p,v)},o.fromJSON=function(u,d){return new o(u,d[0],d[1],d[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var u=this.x.redSqr(),d=this.y.redSqr(),p=this.z.redSqr();p=p.redIAdd(p);var v=this.curve._mulA(u),b=this.x.redAdd(this.y).redSqr().redISub(u).redISub(d),_=v.redAdd(d),M=_.redSub(p),A=v.redSub(d),I=b.redMul(M),k=_.redMul(A),R=b.redMul(A),C=M.redMul(_);return this.curve.point(I,k,C,R)},o.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),p=this.y.redSqr(),v,b,_,M,A,I;if(this.curve.twisted){M=this.curve._mulA(d);var k=M.redAdd(p);this.zOne?(v=u.redSub(d).redSub(p).redMul(k.redSub(this.curve.two)),b=k.redMul(M.redSub(p)),_=k.redSqr().redSub(k).redSub(k)):(A=this.z.redSqr(),I=k.redSub(A).redISub(A),v=u.redSub(d).redISub(p).redMul(I),b=k.redMul(M.redSub(p)),_=k.redMul(I))}else M=d.redAdd(p),A=this.curve._mulC(this.z).redSqr(),I=M.redSub(A).redSub(A),v=this.curve._mulC(u.redISub(M)).redMul(I),b=this.curve._mulC(M).redMul(d.redISub(p)),_=M.redMul(I);return this.curve.point(v,b,_)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(u){var d=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),p=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),v=this.t.redMul(this.curve.dd).redMul(u.t),b=this.z.redMul(u.z.redAdd(u.z)),_=p.redSub(d),M=b.redSub(v),A=b.redAdd(v),I=p.redAdd(d),k=_.redMul(M),R=A.redMul(I),C=_.redMul(I),P=M.redMul(A);return this.curve.point(k,R,P,C)},o.prototype._projAdd=function(u){var d=this.z.redMul(u.z),p=d.redSqr(),v=this.x.redMul(u.x),b=this.y.redMul(u.y),_=this.curve.d.redMul(v).redMul(b),M=p.redSub(_),A=p.redAdd(_),I=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(v).redISub(b),k=d.redMul(M).redMul(I),R,C;return this.curve.twisted?(R=d.redMul(A).redMul(b.redSub(this.curve._mulA(v))),C=M.redMul(A)):(R=d.redMul(A).redMul(b.redSub(v)),C=this.curve._mulC(M).redMul(A)),this.curve.point(k,R,C)},o.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},o.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},o.prototype.mulAdd=function(u,d,p){return this.curve._wnafMulAdd(1,[this,d],[u,p],2,!1)},o.prototype.jmulAdd=function(u,d,p){return this.curve._wnafMulAdd(1,[this,d],[u,p],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},o.prototype.eqXToP=function(u){var d=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var p=u.clone(),v=this.curve.redN.redMul(this.z);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(v),this.x.cmp(d)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,w3}var v7;function AL(){return v7||(v7=1,function(t){var e=t;e.base=Ev(),e.short=zX(),e.mont=HX(),e.edwards=KX()}(g3)),g3}var b3={},x3,w7;function WX(){return w7||(w7=1,x3={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),x3}var b7;function mE(){return b7||(b7=1,function(t){var e=t,r=pv,n=AL(),s=Ao(),i=s.assert;function o(d){d.type==="short"?this.curve=new n.short(d):d.type==="edwards"?this.curve=new n.edwards(d):this.curve=new n.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function l(d,p){Object.defineProperty(e,d,{configurable:!0,enumerable:!0,get:function(){var v=new o(p);return Object.defineProperty(e,d,{configurable:!0,enumerable:!0,value:v}),v}})}l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=WX()}catch{u=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}(b3)),b3}var _3,x7;function VX(){if(x7)return _3;x7=1;var t=pv,e=RB(),r=Mo;function n(s){if(!(this instanceof n))return new n(s);this.hash=s.hash,this.predResist=!!s.predResist,this.outLen=this.hash.outSize,this.minEntropy=s.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=e.toArray(s.entropy,s.entropyEnc||"hex"),o=e.toArray(s.nonce,s.nonceEnc||"hex"),l=e.toArray(s.pers,s.persEnc||"hex");r(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,o,l)}return _3=n,n.prototype._init=function(i,o,l){var u=i.concat(o).concat(l);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},n.prototype._update=function(i){var o=this._hmac().update(this.V).update([0]);i&&(o=o.update(i)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(i,o,l,u){typeof o!="string"&&(u=l,l=o,o=null),i=e.toArray(i,o),l=e.toArray(l,u),r(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(l||[])),this._reseed=1},n.prototype.generate=function(i,o,l,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(u=l,l=o,o=null),l&&(l=e.toArray(l,u||"hex"),this._update(l));for(var d=[];d.length<i;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var p=d.slice(0,i);return this._update(l),this._reseed++,e.encode(p,o)},_3}var S3,_7;function GX(){if(_7)return S3;_7=1;var t=Ul(),e=Ao(),r=e.assert;function n(s,i){this.ec=s,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}return S3=n,n.fromPublic=function(i,o,l){return o instanceof n?o:new n(i,{pub:o,pubEnc:l})},n.fromPrivate=function(i,o,l){return o instanceof n?o:new n(i,{priv:o,privEnc:l})},n.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(i,o){return typeof i=="string"&&(o=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,i):this.pub},n.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(i,o){this.priv=new t(i,o||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(i,o){if(i.x||i.y){this.ec.curve.type==="mont"?r(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,o)},n.prototype.derive=function(i){return i.validate()||r(i.validate(),"public point not validated"),i.mul(this.priv).getX()},n.prototype.sign=function(i,o,l){return this.ec.sign(i,this,o,l)},n.prototype.verify=function(i,o,l){return this.ec.verify(i,o,this,void 0,l)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},S3}var E3,S7;function YX(){if(S7)return E3;S7=1;var t=Ul(),e=Ao(),r=e.assert;function n(u,d){if(u instanceof n)return u;this._importDER(u,d)||(r(u.r&&u.s,"Signature without r or s"),this.r=new t(u.r,16),this.s=new t(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}E3=n;function s(){this.place=0}function i(u,d){var p=u[d.place++];if(!(p&128))return p;var v=p&15;if(v===0||v>4||u[d.place]===0)return!1;for(var b=0,_=0,M=d.place;_<v;_++,M++)b<<=8,b|=u[M],b>>>=0;return b<=127?!1:(d.place=M,b)}function o(u){for(var d=0,p=u.length-1;!u[d]&&!(u[d+1]&128)&&d<p;)d++;return d===0?u:u.slice(d)}n.prototype._importDER=function(d,p){d=e.toArray(d,p);var v=new s;if(d[v.place++]!==48)return!1;var b=i(d,v);if(b===!1||b+v.place!==d.length||d[v.place++]!==2)return!1;var _=i(d,v);if(_===!1||d[v.place]&128)return!1;var M=d.slice(v.place,_+v.place);if(v.place+=_,d[v.place++]!==2)return!1;var A=i(d,v);if(A===!1||d.length!==A+v.place||d[v.place]&128)return!1;var I=d.slice(v.place,A+v.place);if(M[0]===0)if(M[1]&128)M=M.slice(1);else return!1;if(I[0]===0)if(I[1]&128)I=I.slice(1);else return!1;return this.r=new t(M),this.s=new t(I),this.recoveryParam=null,!0};function l(u,d){if(d<128){u.push(d);return}var p=1+(Math.log(d)/Math.LN2>>>3);for(u.push(p|128);--p;)u.push(d>>>(p<<3)&255);u.push(d)}return n.prototype.toDER=function(d){var p=this.r.toArray(),v=this.s.toArray();for(p[0]&128&&(p=[0].concat(p)),v[0]&128&&(v=[0].concat(v)),p=o(p),v=o(v);!v[0]&&!(v[1]&128);)v=v.slice(1);var b=[2];l(b,p.length),b=b.concat(p),b.push(2),l(b,v.length);var _=b.concat(v),M=[48];return l(M,_.length),M=M.concat(_),e.encode(M,d)},E3}var M3,E7;function ZX(){if(E7)return M3;E7=1;var t=Ul(),e=VX(),r=Ao(),n=mE(),s=gE(),i=r.assert,o=GX(),l=YX();function u(d){if(!(this instanceof u))return new u(d);typeof d=="string"&&(i(Object.prototype.hasOwnProperty.call(n,d),"Unknown curve "+d),d=n[d]),d instanceof n.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}return M3=u,u.prototype.keyPair=function(p){return new o(this,p)},u.prototype.keyFromPrivate=function(p,v){return o.fromPrivate(this,p,v)},u.prototype.keyFromPublic=function(p,v){return o.fromPublic(this,p,v)},u.prototype.genKeyPair=function(p){p||(p={});for(var v=new e({hash:this.hash,pers:p.pers,persEnc:p.persEnc||"utf8",entropy:p.entropy||s(this.hash.hmacStrength),entropyEnc:p.entropy&&p.entropyEnc||"utf8",nonce:this.n.toArray()}),b=this.n.byteLength(),_=this.n.sub(new t(2));;){var M=new t(v.generate(b));if(!(M.cmp(_)>0))return M.iaddn(1),this.keyFromPrivate(M)}},u.prototype._truncateToN=function(p,v,b){var _;if(t.isBN(p)||typeof p=="number")p=new t(p,16),_=p.byteLength();else if(typeof p=="object")_=p.length,p=new t(p,16);else{var M=p.toString();_=M.length+1>>>1,p=new t(M,16)}typeof b!="number"&&(b=_*8);var A=b-this.n.bitLength();return A>0&&(p=p.ushrn(A)),!v&&p.cmp(this.n)>=0?p.sub(this.n):p},u.prototype.sign=function(p,v,b,_){if(typeof b=="object"&&(_=b,b=null),_||(_={}),typeof p!="string"&&typeof p!="number"&&!t.isBN(p)){i(typeof p=="object"&&p&&typeof p.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),i(p.length>>>0===p.length);for(var M=0;M<p.length;M++)i((p[M]&255)===p[M])}v=this.keyFromPrivate(v,b),p=this._truncateToN(p,!1,_.msgBitLength),i(!p.isNeg(),"Can not sign a negative message");var A=this.n.byteLength(),I=v.getPrivate().toArray("be",A),k=p.toArray("be",A);i(new t(k).eq(p),"Can not sign message");for(var R=new e({hash:this.hash,entropy:I,nonce:k,pers:_.pers,persEnc:_.persEnc||"utf8"}),C=this.n.sub(new t(1)),P=0;;P++){var N=_.k?_.k(P):new t(R.generate(this.n.byteLength()));if(N=this._truncateToN(N,!0),!(N.cmpn(1)<=0||N.cmp(C)>=0)){var U=this.g.mul(N);if(!U.isInfinity()){var q=U.getX(),F=q.umod(this.n);if(F.cmpn(0)!==0){var L=N.invm(this.n).mul(F.mul(v.getPrivate()).iadd(p));if(L=L.umod(this.n),L.cmpn(0)!==0){var ie=(U.getY().isOdd()?1:0)|(q.cmp(F)!==0?2:0);return _.canonical&&L.cmp(this.nh)>0&&(L=this.n.sub(L),ie^=1),new l({r:F,s:L,recoveryParam:ie})}}}}}},u.prototype.verify=function(p,v,b,_,M){M||(M={}),p=this._truncateToN(p,!1,M.msgBitLength),b=this.keyFromPublic(b,_),v=new l(v,"hex");var A=v.r,I=v.s;if(A.cmpn(1)<0||A.cmp(this.n)>=0||I.cmpn(1)<0||I.cmp(this.n)>=0)return!1;var k=I.invm(this.n),R=k.mul(p).umod(this.n),C=k.mul(A).umod(this.n),P;return this.curve._maxwellTrick?(P=this.g.jmulAdd(R,b.getPublic(),C),P.isInfinity()?!1:P.eqXToP(A)):(P=this.g.mulAdd(R,b.getPublic(),C),P.isInfinity()?!1:P.getX().umod(this.n).cmp(A)===0)},u.prototype.recoverPubKey=function(d,p,v,b){i((3&v)===v,"The recovery param is more than two bits"),p=new l(p,b);var _=this.n,M=new t(d),A=p.r,I=p.s,k=v&1,R=v>>1;if(A.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");R?A=this.curve.pointFromX(A.add(this.curve.n),k):A=this.curve.pointFromX(A,k);var C=p.r.invm(_),P=_.sub(M).mul(C).umod(_),N=I.mul(C).umod(_);return this.g.mulAdd(P,A,N)},u.prototype.getKeyRecoveryParam=function(d,p,v,b){if(p=new l(p,b),p.recoveryParam!==null)return p.recoveryParam;for(var _=0;_<4;_++){var M;try{M=this.recoverPubKey(d,p,_)}catch{continue}if(M.eq(v))return _}throw new Error("Unable to find valid recovery factor")},M3}var A3,M7;function JX(){if(M7)return A3;M7=1;var t=Ao(),e=t.assert,r=t.parseBytes,n=t.cachedProperty;function s(i,o){this.eddsa=i,this._secret=r(o.secret),i.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=r(o.pub)}return s.fromPublic=function(o,l){return l instanceof s?l:new s(o,{pub:l})},s.fromSecret=function(o,l){return l instanceof s?l:new s(o,{secret:l})},s.prototype.secret=function(){return this._secret},n(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(s,"privBytes",function(){var o=this.eddsa,l=this.hash(),u=o.encodingLength-1,d=l.slice(0,o.encodingLength);return d[0]&=248,d[u]&=127,d[u]|=64,d}),n(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},s.prototype.verify=function(o,l){return this.eddsa.verify(o,l,this)},s.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),o)},s.prototype.getPublic=function(o){return t.encode(this.pubBytes(),o)},A3=s,A3}var k3,A7;function XX(){if(A7)return k3;A7=1;var t=Ul(),e=Ao(),r=e.assert,n=e.cachedProperty,s=e.parseBytes;function i(o,l){this.eddsa=o,typeof l!="object"&&(l=s(l)),Array.isArray(l)&&(r(l.length===o.encodingLength*2,"Signature has invalid size"),l={R:l.slice(0,o.encodingLength),S:l.slice(o.encodingLength)}),r(l.R&&l.S,"Signature without R or S"),o.isPoint(l.R)&&(this._R=l.R),l.S instanceof t&&(this._S=l.S),this._Rencoded=Array.isArray(l.R)?l.R:l.Rencoded,this._Sencoded=Array.isArray(l.S)?l.S:l.Sencoded}return n(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},k3=i,k3}var I3,k7;function QX(){if(k7)return I3;k7=1;var t=pv,e=mE(),r=Ao(),n=r.assert,s=r.parseBytes,i=JX(),o=XX();function l(u){if(n(u==="ed25519","only tested with ed25519 so far"),!(this instanceof l))return new l(u);u=e[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=t.sha512}return I3=l,l.prototype.sign=function(d,p){d=s(d);var v=this.keyFromSecret(p),b=this.hashInt(v.messagePrefix(),d),_=this.g.mul(b),M=this.encodePoint(_),A=this.hashInt(M,v.pubBytes(),d).mul(v.priv()),I=b.add(A).umod(this.curve.n);return this.makeSignature({R:_,S:I,Rencoded:M})},l.prototype.verify=function(d,p,v){if(d=s(d),p=this.makeSignature(p),p.S().gte(p.eddsa.curve.n)||p.S().isNeg())return!1;var b=this.keyFromPublic(v),_=this.hashInt(p.Rencoded(),b.pubBytes(),d),M=this.g.mul(p.S()),A=p.R().add(b.pub().mul(_));return A.eq(M)},l.prototype.hashInt=function(){for(var d=this.hash(),p=0;p<arguments.length;p++)d.update(arguments[p]);return r.intFromLE(d.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(d){return i.fromPublic(this,d)},l.prototype.keyFromSecret=function(d){return i.fromSecret(this,d)},l.prototype.makeSignature=function(d){return d instanceof o?d:new o(this,d)},l.prototype.encodePoint=function(d){var p=d.getY().toArray("le",this.encodingLength);return p[this.encodingLength-1]|=d.getX().isOdd()?128:0,p},l.prototype.decodePoint=function(d){d=r.parseBytes(d);var p=d.length-1,v=d.slice(0,p).concat(d[p]&-129),b=(d[p]&128)!==0,_=r.intFromLE(v);return this.curve.pointFromY(_,b)},l.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(d){return r.intFromLE(d)},l.prototype.isPoint=function(d){return d instanceof this.pointClass},I3}var I7;function Mv(){return I7||(I7=1,function(t){var e=t;e.version=JZ.version,e.utils=Ao(),e.rand=gE(),e.curve=AL(),e.curves=mE(),e.ec=ZX(),e.eddsa=QX()}(Sb)),Sb}var kL=Mv();const Ku=jp.getLogger("auth");Ku.setLevel("error");const sn={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},cc={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};sn.MAINNET+"",sn.TESTNET+"",sn.CYAN+"",sn.AQUA+"",sn.CELESTE+"";sn.AQUA+"",cc.SAPPHIRE_MAINNET,sn.CELESTE+"",cc.SAPPHIRE_MAINNET,sn.CYAN+"",cc.SAPPHIRE_MAINNET,sn.MAINNET+"",cc.SAPPHIRE_MAINNET,sn.TESTNET+"",cc.SAPPHIRE_DEVNET;sn.MAINNET+"",sn.TESTNET+"",sn.CYAN+"",sn.AQUA+"",sn.CELESTE+"";const eQ={[cc.SAPPHIRE_MAINNET]:"https://api.web3auth.io/signer-service",[cc.SAPPHIRE_DEVNET]:"https://api.web3auth.io/signer-service",[sn.MAINNET]:"https://api.web3auth.io/signer-service",[sn.TESTNET]:"https://api.web3auth.io/signer-service",[sn.CYAN]:"https://api.web3auth.io/signer-polygon-service",[sn.AQUA]:"https://api.web3auth.io/signer-polygon-service",[sn.CELESTE]:"https://api.web3auth.io/signer-polygon-service"};sn.MAINNET+"",sn.TESTNET+"",sn.CYAN+"",sn.AQUA+"",sn.CELESTE+"";const Av="https://api.web3auth.io/session-service",yE="https://session.web3auth.io";var tQ=function(e){return rQ(e)&&!nQ(e)};function rQ(t){return!!t&&typeof t=="object"}function nQ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||oQ(t)}var iQ=typeof Symbol=="function"&&Symbol.for,sQ=iQ?Symbol.for("react.element"):60103;function oQ(t){return t.$$typeof===sQ}function aQ(t){return Array.isArray(t)?[]:{}}function cp(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Rh(aQ(t),t,e):t}function lQ(t,e,r){return t.concat(e).map(function(n){return cp(n,r)})}function cQ(t,e){if(!e.customMerge)return Rh;var r=e.customMerge(t);return typeof r=="function"?r:Rh}function uQ(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function R7(t){return Object.keys(t).concat(uQ(t))}function IL(t,e){try{return e in t}catch{return!1}}function fQ(t,e){return IL(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function hQ(t,e,r){var n={};return r.isMergeableObject(t)&&R7(t).forEach(function(s){n[s]=cp(t[s],r)}),R7(e).forEach(function(s){fQ(t,s)||(IL(t,s)&&r.isMergeableObject(e[s])?n[s]=cQ(s,r)(t[s],e[s],r):n[s]=cp(e[s],r))}),n}function Rh(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||lQ,r.isMergeableObject=r.isMergeableObject||tQ,r.cloneUnlessOtherwiseSpecified=cp;var n=Array.isArray(e),s=Array.isArray(t),i=n===s;return i?n?r.arrayMerge(t,e,r):hQ(t,e,r):cp(e,r)}Rh.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return Rh(n,s,r)},{})};var dQ=Rh,pQ=dQ;const Jo=Zn(pQ),up=jp.getLogger("http-helpers");up.setLevel(EN.levels.INFO);let gQ="torus-default";const mQ="x-api-key";function yQ(t){up.setLevel(t)}async function kv(t,e){let r=null;try{r=new URL(t)}catch{}return fetch(t,e)}function Iv(){const t={};return t[mQ]=gQ,t}function Rv(t){up.info(`Response: ${t.status} ${t.statusText}`),up.info(`Url: ${t.url}`)}function vQ(t){const e=t.headers.get("x-web3-correlation-id");e&&up.info(`Request tracing with traceID = ${e}`)}const wQ=async(t,e)=>{let r=null;try{const n=new Promise((i,o)=>{r=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),s=await Promise.race([e,n]);return r!=null&&clearTimeout(r),s}catch(n){throw r!=null&&clearTimeout(r),n}},Cv=async(t,e={},r={})=>{const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=qe(qe({},n.headers),Iv())),e.method="GET";const s=Jo(n,e),i=await kv(t,s);if(i.ok){const o=i.headers.get("content-type");return o!=null&&o.includes("application/json")?i.json():i.text()}throw Rv(i),i},Xp=(t,e={},r={},n={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(s.headers=qe(qe({},s.headers),Iv())),r.method="POST";const i=Jo(s,r);return n.isUrlEncodedData?(i.body=e,i.headers["Content-Type"]==="application/json; charset=utf-8"&&delete i.headers["Content-Type"]):i.body=JSON.stringify(e),wQ(n.timeout||6e4,kv(t,i).then(o=>{if(n.logTracingHeader&&vQ(o),o.ok){const l=o.headers.get("content-type");return l!=null&&l.includes("application/json")?o.json():o.text()}throw Rv(o),o}))},bQ=async(t,e={},r={},n={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(s.headers=qe(qe({},s.headers),Iv())),r.method="PATCH";const i=Jo(s,r);n.isUrlEncodedData?(i.body=e,i.headers["Content-Type"]==="application/json; charset=utf-8"&&delete i.headers["Content-Type"]):i.body=JSON.stringify(e);const o=await kv(t,i);if(o.ok){const l=o.headers.get("content-type");return l!=null&&l.includes("application/json")?o.json():o.text()}throw Rv(o),o},xQ=async(t,e={},r={},n={})=>{const s={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(s.headers=qe(qe({},s.headers),Iv())),r.method="PUT";const i=Jo(s,r);n.isUrlEncodedData?(i.body=e,i.headers["Content-Type"]==="application/json; charset=utf-8"&&delete i.headers["Content-Type"]):i.body=JSON.stringify(e);const o=await kv(t,i);if(o.ok){const l=o.headers.get("content-type");return l!=null&&l.includes("application/json")?o.json():o.text()}throw Rv(o),o},p6=t=>t.padStart(64,"0").slice(0,64);class _Q{constructor(){Ve(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=p6(this.sessionId)}request({method:e="GET",url:r,data:n={},headers:s={}}){const i={headers:s};switch(e){case"GET":return Cv(r,i);case"POST":return Xp(r,n,i);case"PUT":return xQ(r,n,i);case"PATCH":return bQ(r,n,i)}throw new Error("Invalid method type")}}const Ch=new kL.ec("secp256k1"),zs=globalThis.crypto||globalThis.msCrypto||{},uc=zs.subtle||zs.webkitSubtle,SQ=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),EQ=Buffer.alloc(32,0);function jn(t,e){if(!t)throw new Error(e||"Assertion failed")}function MQ(t){return Buffer.isBuffer(t)&&t.length===32}function od(t){return MQ(t)?t.compare(EQ)>0&&t.compare(SQ)<0:!1}function AQ(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function k0(t){if(typeof zs.getRandomValues>"u")return Buffer.from(zs.randomBytes(t));const e=new Uint8Array(t);return zs.getRandomValues(e),Buffer.from(e)}async function RL(t){if(!zs.createHash){const n=await uc.digest("SHA-512",t);return new Uint8Array(n)}const r=zs.createHash("sha512").update(t).digest();return new Uint8Array(r)}function CL(t){return async function(e,r,n){if(uc&&uc[t]&&uc.importKey){const s={name:"AES-CBC"},i=await uc.importKey("raw",r,s,!1,[t]),o={name:"AES-CBC",iv:e},l=await uc[t](o,i,n);return Buffer.from(new Uint8Array(l))}else if(t==="encrypt"&&zs.createCipheriv){const s=zs.createCipheriv("aes-256-cbc",r,e),i=s.update(n),o=s.final();return Buffer.concat([i,o])}else if(t==="decrypt"&&zs.createDecipheriv){const s=zs.createDecipheriv("aes-256-cbc",r,e),i=s.update(n),o=s.final();return Buffer.concat([i,o])}throw new Error(`Unsupported operation: ${t}`)}}const kQ=CL("encrypt"),IQ=CL("decrypt");async function TL(t,e){if(!zs.createHmac){const s={name:"HMAC",hash:{name:"SHA-256"}},i=await uc.importKey("raw",new Uint8Array(t),s,!1,["sign","verify"]),o=await uc.sign("HMAC",i,e);return Buffer.from(new Uint8Array(o))}const r=zs.createHmac("sha256",Buffer.from(t));return r.update(e),r.digest()}async function RQ(t,e,r){const n=await TL(t,e);return AQ(n,r)}const CQ=function(){let t=k0(32);for(;!od(t);)t=k0(32);return t},mc=function(t){return jn(t.length===32,"Bad private key"),jn(od(t),"Bad private key"),Buffer.from(Ch.keyFromPrivate(t).getPublic("array"))},h1=async function(t,e){return jn(t.length===32,"Bad private key"),jn(od(t),"Bad private key"),jn(e.length>0,"Message should not be empty"),jn(e.length<=32,"Message is too long"),Buffer.from(Ch.sign(e,t,{canonical:!0}).toDER())},TQ=async function(t,e){jn(Buffer.isBuffer(t),"Bad private key"),jn(Buffer.isBuffer(e),"Bad public key"),jn(t.length===32,"Bad private key"),jn(od(t),"Bad private key"),jn(e.length===65||e.length===33,"Bad public key"),e.length===65&&jn(e[0]===4,"Bad public key"),e.length===33&&jn(e[0]===2||e[0]===3,"Bad public key");const r=Ch.keyFromPrivate(t),n=Ch.keyFromPublic(e),s=r.derive(n.getPublic());return Buffer.from(s.toArray())},PL=TQ,PQ=async function(t,e){jn(Buffer.isBuffer(t),"Bad private key"),jn(Buffer.isBuffer(e),"Bad public key"),jn(t.length===32,"Bad private key"),jn(od(t),"Bad private key"),jn(e.length===65||e.length===33,"Bad public key"),e.length===65&&jn(e[0]===4,"Bad public key"),e.length===33&&jn(e[0]===2||e[0]===3,"Bad public key");const r=Ch.keyFromPrivate(t),n=Ch.keyFromPublic(e),s=r.derive(n.getPublic());return Buffer.from(s.toString(16,64),"hex")},OQ=async function(t,e,r){r=r||{};let n=r.ephemPrivateKey||k0(32);for(;!od(n);)n=r.ephemPrivateKey||k0(32);const s=mc(n),i=await PL(n,t),o=await RL(i),l=r.iv||k0(16),u=o.slice(0,32),d=o.slice(32),v=await kQ(l,Buffer.from(u),e),b=Buffer.concat([l,s,v]),_=await TL(Buffer.from(d),b);return{iv:l,ephemPublicKey:s,ciphertext:v,mac:_}},OL=async function(t,e,r){const n=r??!1,i=await(n?PQ:PL)(t,e.ephemPublicKey),o=await RL(i),l=o.slice(0,32),u=o.slice(32),d=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),p=await RQ(Buffer.from(u),d,e.mac);if(!p&&n===!1)return OL(t,e,!0);if(!p&&n===!0)throw new Error("bad MAC after trying padded");const v=await IQ(e.iv,Buffer.from(l),e.ciphertext);return Buffer.from(new Uint8Array(v))};var am={},R3,C7;function NQ(){if(C7)return R3;C7=1;var t,e,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n;function s(_){throw{name:"SyntaxError",message:_,at:t,text:n}}function i(_){return _&&_!==e&&s("Expected '"+_+"' instead of '"+e+"'"),e=n.charAt(t),t+=1,e}function o(){var _,M="";for(e==="-"&&(M="-",i("-"));e>="0"&&e<="9";)M+=e,i();if(e===".")for(M+=".";i()&&e>="0"&&e<="9";)M+=e;if(e==="e"||e==="E")for(M+=e,i(),(e==="-"||e==="+")&&(M+=e,i());e>="0"&&e<="9";)M+=e,i();return _=Number(M),isFinite(_)||s("Bad number"),_}function l(){var _,M,A="",I;if(e==='"')for(;i();){if(e==='"')return i(),A;if(e==="\\")if(i(),e==="u"){for(I=0,M=0;M<4&&(_=parseInt(i(),16),!!isFinite(_));M+=1)I=I*16+_;A+=String.fromCharCode(I)}else if(typeof r[e]=="string")A+=r[e];else break;else A+=e}s("Bad string")}function u(){for(;e&&e<=" ";)i()}function d(){switch(e){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null;default:s("Unexpected '"+e+"'")}}function p(){var _=[];if(e==="["){if(i("["),u(),e==="]")return i("]"),_;for(;e;){if(_.push(b()),u(),e==="]")return i("]"),_;i(","),u()}}s("Bad array")}function v(){var _,M={};if(e==="{"){if(i("{"),u(),e==="}")return i("}"),M;for(;e;){if(_=l(),u(),i(":"),Object.prototype.hasOwnProperty.call(M,_)&&s('Duplicate key "'+_+'"'),M[_]=b(),u(),e==="}")return i("}"),M;i(","),u()}}s("Bad object")}function b(){switch(u(),e){case"{":return v();case"[":return p();case'"':return l();case"-":return o();default:return e>="0"&&e<="9"?o():d()}}return R3=function(_,M){var A;return n=_,t=0,e=" ",A=b(),u(),e&&s("Syntax error"),typeof M=="function"?function I(k,R){var C,P,N=k[R];if(N&&typeof N=="object")for(C in b)Object.prototype.hasOwnProperty.call(N,C)&&(P=I(N,C),typeof P>"u"?delete N[C]:N[C]=P);return M.call(k,R,N)}({"":A},""):A},R3}var C3,T7;function BQ(){if(T7)return C3;T7=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,r,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;function i(l){return t.lastIndex=0,t.test(l)?'"'+l.replace(t,function(u){var d=n[u];return typeof d=="string"?d:"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'}function o(l,u){var d,p,v,b,_=e,M,A=u[l];switch(A&&typeof A=="object"&&typeof A.toJSON=="function"&&(A=A.toJSON(l)),typeof s=="function"&&(A=s.call(u,l,A)),typeof A){case"string":return i(A);case"number":return isFinite(A)?String(A):"null";case"boolean":case"null":return String(A);case"object":if(!A)return"null";if(e+=r,M=[],Object.prototype.toString.apply(A)==="[object Array]"){for(b=A.length,d=0;d<b;d+=1)M[d]=o(d,A)||"null";return v=M.length===0?"[]":e?`[
`+e+M.join(`,
`+e)+`
`+_+"]":"["+M.join(",")+"]",e=_,v}if(s&&typeof s=="object")for(b=s.length,d=0;d<b;d+=1)p=s[d],typeof p=="string"&&(v=o(p,A),v&&M.push(i(p)+(e?": ":":")+v));else for(p in A)Object.prototype.hasOwnProperty.call(A,p)&&(v=o(p,A),v&&M.push(i(p)+(e?": ":":")+v));return v=M.length===0?"{}":e?`{
`+e+M.join(`,
`+e)+`
`+_+"}":"{"+M.join(",")+"}",e=_,v}}return C3=function(l,u,d){var p;if(e="",r="",typeof d=="number")for(p=0;p<d;p+=1)r+=" ";else typeof d=="string"&&(r=d);if(s=u,u&&typeof u!="function"&&(typeof u!="object"||typeof u.length!="number"))throw new Error("JSON.stringify");return o("",{"":l})},C3}var P7;function LQ(){return P7||(P7=1,am.parse=NQ(),am.stringify=BQ()),am}var DQ={}.toString,$Q=Array.isArray||function(t){return DQ.call(t)=="[object Array]"},lm=(typeof JSON<"u"?JSON:LQ()).stringify,UQ=$Q,FQ=YZ,jQ=KZ,Tv=OZ,qQ=Tv("Array.prototype.join"),O7=Tv("Array.prototype.indexOf"),zQ=Tv("Array.prototype.splice"),HQ=Tv("Array.prototype.sort"),N7=function(e,r){for(var n="",s=0;s<e;s+=1)n+=r;return n},KQ=function(t,e,r){return r},WQ=function(e){var r=arguments.length>1?arguments[1]:void 0,n=r&&r.space||"";typeof n=="number"&&(n=N7(n," "));var s=!!r&&typeof r.cycles=="boolean"&&r.cycles,i=r&&r.replacer?jQ(r.replacer):KQ;if(r&&typeof r.collapseEmpty<"u"&&typeof r.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var o=!!r&&r.collapseEmpty,l=typeof r=="function"?r:r&&r.cmp,u=l&&function(p){var v=l.length>2&&function(_){return p[_]};return function(b,_){return l({key:b,value:p[b]},{key:_,value:p[_]},v?{__proto__:null,get:v}:void 0)}},d=[];return function p(v,b,_,M){var A=n?`
`+N7(M,n):"",I=n?": ":":";if(_&&_.toJSON&&typeof _.toJSON=="function"&&(_=_.toJSON()),_=i(v,b,_),_!==void 0){if(typeof _!="object"||_===null)return lm(_);var k=function(F,L){return o&&F.length===0?L:(L==="[]"?"[":"{")+qQ(F,",")+A+(L==="[]"?"]":"}")};if(UQ(_)){for(var N=[],R=0;R<_.length;R++){var C=p(_,R,_[R],M+1)||lm(null);N[N.length]=A+n+C}return k(N,"[]")}if(O7(d,_)!==-1){if(s)return lm("__cycle__");throw new TypeError("Converting circular structure to JSON")}else d[d.length]=_;for(var P=HQ(FQ(_),u&&u(_)),N=[],R=0;R<P.length;R++){var b=P[R],U=p(_,b,_[b],M+1);if(U){var q=lm(b)+I+U;N[N.length]=A+n+q}}return zQ(d,O7(d,_),1),k(N,"{}")}}({"":e},"",e,0)};const NL=Zn(WQ);function fp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function VQ(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function GQ(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Pv(t,...e){if(!GQ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function YQ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fp(t.outputLen),fp(t.blockLen)}function g6(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function BL(t,e){Pv(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const ZQ={number:fp,bool:VQ,bytes:Pv,hash:YQ,exists:g6,output:BL},cm=BigInt(2**32-1),B7=BigInt(32);function JQ(t,e=!1){return e?{h:Number(t&cm),l:Number(t>>B7&cm)}:{h:Number(t>>B7&cm)|0,l:Number(t&cm)|0}}function XQ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=JQ(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const QQ=(t,e,r)=>t<<r|e>>>32-r,eee=(t,e,r)=>e<<r|t>>>32-r,tee=(t,e,r)=>e<<r-32|t>>>64-r,ree=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nee=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),L7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,iee=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function D7(t){for(let e=0;e<t.length;e++)t[e]=iee(t[e])}function see(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function LL(t){return typeof t=="string"&&(t=see(t)),Pv(t),t}let oee=class{clone(){return this._cloneInto()}};function aee(t){const e=n=>t().update(LL(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const DL=[],$L=[],UL=[],lee=BigInt(0),Fd=BigInt(1),cee=BigInt(2),uee=BigInt(7),fee=BigInt(256),hee=BigInt(113);for(let t=0,e=Fd,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],DL.push(2*(5*n+r)),$L.push((t+1)*(t+2)/2%64);let s=lee;for(let i=0;i<7;i++)e=(e<<Fd^(e>>uee)*hee)%fee,e&cee&&(s^=Fd<<(Fd<<BigInt(i))-Fd);UL.push(s)}const[dee,pee]=XQ(UL,!0),$7=(t,e,r)=>r>32?tee(t,e,r):QQ(t,e,r),U7=(t,e,r)=>r>32?ree(t,e,r):eee(t,e,r);function gee(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,u=(o+2)%10,d=r[u],p=r[u+1],v=$7(d,p,1)^r[l],b=U7(d,p,1)^r[l+1];for(let _=0;_<50;_+=10)t[o+_]^=v,t[o+_+1]^=b}let s=t[2],i=t[3];for(let o=0;o<24;o++){const l=$L[o],u=$7(s,i,l),d=U7(s,i,l),p=DL[o];s=t[p],i=t[p+1],t[p]=u,t[p+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=dee[n],t[1]^=pee[n]}r.fill(0)}let mee=class FL extends oee{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fp(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nee(this.state)}keccak(){L7||D7(this.state32),gee(this.state32,this.rounds),L7||D7(this.state32),this.posOut=0,this.pos=0}update(e){g6(this);const{blockLen:r,state:n}=this;e=LL(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let l=0;l<o;l++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){g6(this,!1),Pv(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return fp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(BL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new FL(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const yee=(t,e,r)=>aee(()=>new mee(e,t,r)),F7=yee(1,136,256/8);function m6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function vee(t){return e=>(ZQ.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof m6=="function"&&m6.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const wee=(()=>{const t=vee(F7);return t.create=F7.create,t})();function uh(t){return Buffer.from(wee(t))}const bee=new kL.ec("secp256k1");function xee(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function _ee(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function d1(t,e){const r=JSON.stringify(e),n=Buffer.from(r,"utf-8"),s=await OQ(mc(Buffer.from(t,"hex")),n),i=_ee(s);return JSON.stringify(i)}async function jL(t,e){const r=JSON.parse(e),n=xee(r),s=bee.keyFromPrivate(t),o=(await OL(Buffer.from(s.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");return JSON.parse(o)}const See=86400;class um extends _Q{constructor({sessionServerBaseUrl:e,sessionNamespace:r,sessionTime:n,sessionId:s,allowedOrigin:i}={}){super(),Ve(this,"sessionServerBaseUrl",Av),Ve(this,"sessionNamespace",void 0),Ve(this,"allowedOrigin",void 0),Ve(this,"sessionTime",See),Ve(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),r&&(this.sessionNamespace=r),n&&(this.sessionTime=n),s&&(this.sessionId=p6(s)),i?this.allowedOrigin=i:this.allowedOrigin="*"}static generateRandomSessionKey(){return p6(CQ().toString("hex"))}async createSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),s=mc(n).toString("hex"),i=await d1(this.sessionId,e),o=(await h1(n,uh(Buffer.from(i,"utf8")))).toString("hex"),l={key:s,data:i,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:l,headers:r}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const n={key:mc(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},s=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:n,headers:e});if(!s.message)throw new Error("Session Expired or Invalid public key");const i=await jL(this.sessionId,s.message);if(i.error)throw new Error("There was an error decrypting data.");return i}async updateSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),s=mc(n).toString("hex"),i=await d1(this.sessionId,e),o=(await h1(n,uh(Buffer.from(i,"utf8")))).toString("hex"),l={key:s,data:i,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:l,headers:r})}async invalidateSession(e={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),n=mc(r).toString("hex"),s=await d1(this.sessionId,{}),i=(await h1(r,uh(Buffer.from(s,"utf8")))).toString("hex"),o={key:n,data:s,signature:i,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}class qL extends _N{constructor(e,r){super(r),Ve(this,"code",void 0),Ve(this,"message",void 0),this.code=e,this.message=r||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class xl extends qL{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,r=""){return new xl(e,`${xl.messages[e]}, ${r}`)}static invalidParams(e=""){return xl.fromCode(5001,e)}static notInitialized(e=""){return xl.fromCode(5002,e)}}Ve(xl,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class Qr extends qL{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,r=""){return new Qr(e,`${Qr.messages[e]}, ${r}`)}static invalidLoginParams(e=""){return Qr.fromCode(5111,e)}static userNotLoggedIn(e=""){return Qr.fromCode(5112,e)}static popupClosed(e=""){return Qr.fromCode(5113,e)}static loginFailed(e=""){return Qr.fromCode(5114,e)}static popupBlocked(e=""){return Qr.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return Qr.fromCode(5116,e)}static mfaNotEnabled(e=""){return Qr.fromCode(5117,e)}}Ve(Qr,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const Ua=Object.create(null);Ua.open="0";Ua.close="1";Ua.ping="2";Ua.pong="3";Ua.message="4";Ua.upgrade="5";Ua.noop="6";const p1=Object.create(null);Object.keys(Ua).forEach(t=>{p1[Ua[t]]=t});const y6={type:"error",data:"parser error"},zL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",HL=typeof ArrayBuffer=="function",KL=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,vE=({type:t,data:e},r,n)=>zL&&e instanceof Blob?r?n(e):j7(e,n):HL&&(e instanceof ArrayBuffer||KL(e))?r?n(e):j7(new Blob([e]),n):n(Ua[t]+(e||"")),j7=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function q7(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let T3;function Eee(t,e){if(zL&&t.data instanceof Blob)return t.data.arrayBuffer().then(q7).then(e);if(HL&&(t.data instanceof ArrayBuffer||KL(t.data)))return e(q7(t.data));vE(t,!1,r=>{T3||(T3=new TextEncoder),e(T3.encode(r))})}const z7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<z7.length;t++)h0[z7.charCodeAt(t)]=t;const Mee=t=>{let e=t.length*.75,r=t.length,n,s=0,i,o,l,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),p=new Uint8Array(d);for(n=0;n<r;n+=4)i=h0[t.charCodeAt(n)],o=h0[t.charCodeAt(n+1)],l=h0[t.charCodeAt(n+2)],u=h0[t.charCodeAt(n+3)],p[s++]=i<<2|o>>4,p[s++]=(o&15)<<4|l>>2,p[s++]=(l&3)<<6|u&63;return d},Aee=typeof ArrayBuffer=="function",wE=(t,e)=>{if(typeof t!="string")return{type:"message",data:WL(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:kee(t.substring(1),e)}:p1[r]?t.length>1?{type:p1[r],data:t.substring(1)}:{type:p1[r]}:y6},kee=(t,e)=>{if(Aee){const r=Mee(t);return WL(r,e)}else return{base64:!0,data:t}},WL=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},VL="",Iee=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((i,o)=>{vE(i,!1,l=>{n[o]=l,++s===r&&e(n.join(VL))})})},Ree=(t,e)=>{const r=t.split(VL),n=[];for(let s=0;s<r.length;s++){const i=wE(r[s],e);if(n.push(i),i.type==="error")break}return n};function Cee(){return new TransformStream({transform(t,e){Eee(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let P3;function fm(t){return t.reduce((e,r)=>e+r.length,0)}function hm(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Tee(t,e){P3||(P3=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(fm(r)<1)break;const u=hm(r,1);i=(u[0]&128)===128,s=u[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(fm(r)<2)break;const u=hm(r,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(fm(r)<8)break;const u=hm(r,8),d=new DataView(u.buffer,u.byteOffset,u.length),p=d.getUint32(0);if(p>Math.pow(2,21)-1){l.enqueue(y6);break}s=p*Math.pow(2,32)+d.getUint32(4),n=3}else{if(fm(r)<s)break;const u=hm(r,s);l.enqueue(wE(i?u:P3.decode(u),e)),n=0}if(s===0||s>t){l.enqueue(y6);break}}}})}const GL=4;function Hn(t){if(t)return Pee(t)}function Pee(t){for(var e in Hn.prototype)t[e]=Hn.prototype[e];return t}Hn.prototype.on=Hn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Hn.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Hn.prototype.off=Hn.prototype.removeListener=Hn.prototype.removeAllListeners=Hn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Hn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};Hn.prototype.emitReserved=Hn.prototype.emit;Hn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Hn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ov=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),go=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Oee="arraybuffer";function YL(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Nee=go.setTimeout,Bee=go.clearTimeout;function Nv(t,e){e.useNativeTimers?(t.setTimeoutFn=Nee.bind(go),t.clearTimeoutFn=Bee.bind(go)):(t.setTimeoutFn=go.setTimeout.bind(go),t.clearTimeoutFn=go.clearTimeout.bind(go))}const Lee=1.33;function Dee(t){return typeof t=="string"?$ee(t):Math.ceil((t.byteLength||t.size)*Lee)}function $ee(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function ZL(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Uee(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function Fee(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class jee extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class bE extends Hn{constructor(e){super(),this.writable=!1,Nv(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new jee(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=wE(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Uee(e);return r.length?"?"+r:""}}class qee extends bE{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Ree(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Iee(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=ZL()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let JL=!1;try{JL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zee=JL;function Hee(){}class Kee extends qee{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let fh=class g1 extends Hn{constructor(e,r,n){super(),this.createRequest=e,Nv(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=YL(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=g1.requestsCount++,g1.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Hee,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete g1.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};fh.requestsCount=0;fh.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",H7);else if(typeof addEventListener=="function"){const t="onpagehide"in go?"pagehide":"unload";addEventListener(t,H7,!1)}}function H7(){for(let t in fh.requests)fh.requests.hasOwnProperty(t)&&fh.requests[t].abort()}const Wee=function(){const t=XL({xdomain:!1});return t&&t.responseType!==null}();class Vee extends Kee{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=Wee&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new fh(XL,this.uri(),e)}}function XL(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||zee))return new XMLHttpRequest}catch{}if(!e)try{return new go[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const QL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Gee extends bE{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=QL?{}:YL(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;vE(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Ov(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=ZL()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const O3=go.WebSocket||go.MozWebSocket;class Yee extends Gee{createSocket(e,r,n){return QL?new O3(e,r,n):r?new O3(e,r):new O3(e)}doWrite(e,r){this.ws.send(r)}}class Zee extends bE{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=Tee(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=Cee();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&Ov(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Jee={websocket:Yee,webtransport:Zee,polling:Vee},Xee=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qee=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function v6(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=Xee.exec(t||""),i={},o=14;for(;o--;)i[Qee[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=ete(i,i.path),i.queryKey=tte(i,i.query),i}function ete(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function tte(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const w6=typeof addEventListener=="function"&&typeof removeEventListener=="function",m1=[];w6&&addEventListener("offline",()=>{m1.forEach(t=>t())},!1);class Rc extends Hn{constructor(e,r){if(super(),this.binaryType=Oee,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=v6(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=v6(r.host).host);Nv(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Fee(this.opts.query)),w6&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},m1.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=GL,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Rc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Rc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=Dee(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ov(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Rc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),w6&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=m1.indexOf(this._offlineEventListener);n!==-1&&m1.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Rc.protocol=GL;class rte extends Rc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Rc.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!n)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Rc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=r.name,this.emitReserved("upgradeError",b)}}))};function i(){n||(n=!0,p(),r.close(),r=null)}const o=v=>{const b=new Error("probe error: "+v);b.transport=r.name,i(),this.emitReserved("upgradeError",b)};function l(){o("transport closed")}function u(){o("socket closed")}function d(v){r&&v.name!==r.name&&i()}const p=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",l),this.off("close",u),this.off("upgrading",d)};r.once("open",s),r.once("error",o),r.once("close",l),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let nte=class extends rte{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>Jee[s]).filter(s=>!!s)),super(e,n)}};function ite(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=v6(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const ste=typeof ArrayBuffer=="function",ote=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,eD=Object.prototype.toString,ate=typeof Blob=="function"||typeof Blob<"u"&&eD.call(Blob)==="[object BlobConstructor]",lte=typeof File=="function"||typeof File<"u"&&eD.call(File)==="[object FileConstructor]";function xE(t){return ste&&(t instanceof ArrayBuffer||ote(t))||ate&&t instanceof Blob||lte&&t instanceof File}function y1(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(y1(t[r]))return!0;return!1}if(xE(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return y1(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&y1(t[r]))return!0;return!1}function cte(t){const e=[],r=t.data,n=t;return n.data=b6(r,e),n.attachments=e.length,{packet:n,buffers:e}}function b6(t,e){if(!t)return t;if(xE(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=b6(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=b6(t[n],e));return r}return t}function ute(t,e){return t.data=x6(t.data,e),delete t.attachments,t}function x6(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=x6(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=x6(t[r],e));return t}const fte=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hte=5;var Ar;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ar||(Ar={}));let dte=class{constructor(e){this.replacer=e}encode(e){return(e.type===Ar.EVENT||e.type===Ar.ACK)&&y1(e)?this.encodeAsBinary({type:e.type===Ar.EVENT?Ar.BINARY_EVENT:Ar.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Ar.BINARY_EVENT||e.type===Ar.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=cte(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}};function K7(t){return Object.prototype.toString.call(t)==="[object Object]"}let pte=class tD extends Hn{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Ar.BINARY_EVENT;n||r.type===Ar.BINARY_ACK?(r.type=n?Ar.EVENT:Ar.ACK,this.reconstructor=new gte(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(xE(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Ar[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ar.BINARY_EVENT||n.type===Ar.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(tD.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Ar.CONNECT:return K7(r);case Ar.DISCONNECT:return r===void 0;case Ar.CONNECT_ERROR:return typeof r=="string"||K7(r);case Ar.EVENT:case Ar.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&fte.indexOf(r[0])===-1);case Ar.ACK:case Ar.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class gte{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=ute(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const mte=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pte,Encoder:dte,get PacketType(){return Ar},protocol:hte},Symbol.toStringTag,{value:"Module"}));function jo(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const yte=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class rD extends Hn{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[jo(e,"open",this.onopen.bind(this)),jo(e,"packet",this.onpacket.bind(this)),jo(e,"error",this.onerror.bind(this)),jo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,i;if(yte.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Ar.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const p=this.ids++,v=r.pop();this._registerAckCallback(p,v),o.id=p}const l=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const i=(o,l)=>o?s(o):n(l);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ar.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ar.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ar.EVENT:case Ar.BINARY_EVENT:this.onevent(e);break;case Ar.ACK:case Ar.BINARY_ACK:this.onack(e);break;case Ar.DISCONNECT:this.ondisconnect();break;case Ar.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Ar.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ar.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function ad(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ad.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};ad.prototype.reset=function(){this.attempts=0};ad.prototype.setMin=function(t){this.ms=t};ad.prototype.setMax=function(t){this.max=t};ad.prototype.setJitter=function(t){this.jitter=t};class _6 extends Hn{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Nv(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ad({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||mte;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new nte(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=jo(r,"open",function(){n.onopen(),e&&e()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=jo(r,"error",i);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(jo(e,"ping",this.onping.bind(this)),jo(e,"data",this.ondata.bind(this)),jo(e,"error",this.onerror.bind(this)),jo(e,"close",this.onclose.bind(this)),jo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Ov(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new rD(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const jd={};function v1(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=ite(t,e.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=jd[s]&&i in jd[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let u;return l?u=new _6(n,e):(jd[s]||(jd[s]=new _6(n,e)),u=jd[s]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}Object.assign(v1,{Manager:_6,Socket:rD,io:v1,connect:v1});var Fi=jp.getLogger("SecurePubSub");class vte{constructor(e={}){Ve(this,"options",void 0),Ve(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||Av,this.options.socketUrl=e.socketUrl||yE,this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.sameOriginCheck=e.sameOriginCheck||!1,this.options.enableLogging?Fi.enableAll():Fi.disableAll()}static setLogLevel(e){Fi.setLevel(e),yQ(e)}async publish(e,r){const n=uh(Buffer.from(e,"utf8")),s=await d1(n.toString("hex"),r),i=await h1(n,uh(Buffer.from(s,"utf8"))),o={key:mc(n).toString("hex"),data:s,signature:i.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck};return Xp(`${this.options.serverUrl}/channel/set`,o)}async subscribe(e){let r=!0;const n=uh(Buffer.from(e,"utf8")),s=mc(n).toString("hex"),i=this.getSocketConnection();i.connected?(Fi.debug("already connected with socket"),i.emit("check_auth_status",s,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})):i.once("connect",()=>{Fi.debug("connected with socket"),i.emit("check_auth_status",s,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})});const o=()=>{i.once("connect",async()=>{Fi.debug("connected with socket using reconnect"),r&&i.emit("check_auth_status",s,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})})},l=()=>{r||document.removeEventListener("visibilitychange",l),!i.connected&&document.visibilityState==="visible"&&o()},u=()=>{Fi.debug("socket disconnected",r),r?(Fi.error("socket disconnected unexpectedly, reconnecting socket"),o()):i.removeListener("disconnect",u)};i.on("disconnect",u);const d=new Promise((p,v)=>{const b=async _=>{try{const M=await jL(n.toString("hex"),_);Fi.info("got data",M),p(M)}catch(M){Fi.error(M),v(M)}finally{r=!1,document.removeEventListener("visibilitychange",l)}};Fi.info("listening to",`${s}_success`),i.once(`${s}_success`,b)});return typeof document<"u"&&document.addEventListener("visibilitychange",l),d}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=v1(this.options.socketUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",r=>{e.io.opts.transports=["polling","websocket"],Fi.error("connect error",r)}),e.on("connect",async()=>{const{engine:r}=e.io;Fi.debug("initially connected to",r.transport.name),r.once("upgrade",()=>{Fi.debug("upgraded",r.transport.name)}),r.once("close",n=>{Fi.debug("connection closed",n)})}),e.on("error",r=>{Fi.error("socket errored",r),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}}const wte={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},nD={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Pn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Qi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},tc={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class tt{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=tt.getVersionPrecision(e),i=tt.getVersionPrecision(r);let o=Math.max(s,i),l=0;const u=tt.map([e,r],d=>{const p=o-tt.getVersionPrecision(d),v=d+new Array(p+1).join(".0");return tt.map(v.split("."),b=>new Array(20-b.length).join("0")+b).reverse()});for(n&&(l=o-Math.min(s,i)),o-=1;o>=l;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===l)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return e}static getBrowserAlias(e){return wte[e]}static getBrowserTypeByAlias(e){return nD[e]||""}}const Vr=/version\/(\d+(\.?_?\d+)+)/i,bte=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=tt.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=tt.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=tt.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=tt.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=tt.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=tt.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=tt.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=tt.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=tt.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=tt.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=tt.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=tt.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=tt.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=tt.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=tt.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=tt.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=tt.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=tt.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=tt.getFirstMatch(Vr,t)||tt.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=tt.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=tt.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=tt.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=tt.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=tt.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=tt.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=tt.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=tt.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=tt.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=tt.getFirstMatch(Vr,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?r:e;return{name:tt.getFirstMatch(s,t),version:tt.getSecondMatch(s,t)}}}],xte=[{test:[/Roku\/DVP/],describe(t){const e=tt.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Qi.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=tt.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Qi.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=tt.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=tt.getWindowsVersionName(e);return{name:Qi.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Qi.iOS},r=tt.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=tt.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=tt.getMacOSVersionName(e),n={name:Qi.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=tt.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Qi.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=tt.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=tt.getAndroidVersionName(e),n={name:Qi.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=tt.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Qi.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=tt.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||tt.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||tt.getFirstMatch(/\bbb(\d+)/i,t);return{name:Qi.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=tt.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Qi.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=tt.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Qi.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Qi.Linux}}},{test:[/CrOS/],describe(){return{name:Qi.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=tt.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Qi.PlayStation4,version:e}}}],_te=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=tt.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Pn.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Pn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Pn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Pn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Pn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Pn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Pn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=tt.getFirstMatch(/(ipod|iphone)/i,t);return{type:Pn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Pn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Pn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:Pn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:Pn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:Pn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:Pn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:Pn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:Pn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:Pn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:Pn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:Pn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:Pn.tv}}}],Ste=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:tc.Blink};const r=tt.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:tc.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:tc.Trident},r=tt.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:tc.Presto},r=tt.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:tc.Gecko},r=tt.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:tc.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:tc.WebKit},r=tt.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class W7{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=tt.find(bte,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=tt.find(xte,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=tt.find(_te,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=tt.find(Ste,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return tt.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(l=>{const u=e[l];typeof u=="string"?(s[l]=u,i+=1):typeof u=="object"&&(r[l]=u,n+=1)}),n>0){const l=Object.keys(r),u=tt.find(l,p=>this.isOS(p));if(u){const p=this.satisfies(r[u]);if(p!==void 0)return p}const d=tt.find(l,p=>this.isPlatform(p));if(d){const p=this.satisfies(r[d]);if(p!==void 0)return p}}if(i>0){const l=Object.keys(s),u=tt.find(l,d=>this.isBrowser(d,!0));if(u!==void 0)return this.compareVersion(s[u])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=tt.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(tt.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Tu{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new W7(e,r)}static parse(e){return new W7(e).getResult()}static get BROWSER_MAP(){return nD}static get ENGINE_MAP(){return tc}static get OS_MAP(){return Qi}static get PLATFORMS_MAP(){return Pn}}var iD={exports:{}},_E={},SE={};Object.defineProperty(SE,"__esModule",{value:!0});function Ete(t){var e=4,r=t.length,n=r%e;if(!n)return t;var s=r,i=e-n,o=r+i,l=Buffer.alloc(o);for(l.write(t);i--;)l.write("=",s++);return l.toString()}SE.default=Ete;Object.defineProperty(_E,"__esModule",{value:!0});var Mte=SE;function sD(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?S6(t.toString("base64")):S6(Buffer.from(t,e).toString("base64"))}function Ate(t,e){return e===void 0&&(e="utf8"),Buffer.from(EE(t),"base64").toString(e)}function EE(t){return t=t.toString(),Mte.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function S6(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kte(t){return Buffer.from(EE(t),"base64")}var ld=sD;ld.encode=sD;ld.decode=Ate;ld.toBase64=EE;ld.fromBase64=S6;ld.toBuffer=kte;_E.default=ld;(function(t){t.exports=_E.default,t.exports.default=t.exports})(iD);var Ite=iD.exports;const Rte=Zn(Ite),oD=Rte;function V7(t){return oD.decode(t)}function dm(t){return oD.encode(JSON.stringify(t))}function G7(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;const s="__storage_test__";return n.setItem(s,s),n.removeItem(s),!0}catch(s){const i=s;return i&&(i.code===22||i.code===1014||i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0}}const aD=sn,Cte=cc,pa={POPUP:"popup",REDIRECT:"redirect"},El=qe(qe({},Cte),aD),Tte={OTHER:"other"},Ur={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",FARCASTER:"farcaster",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",WEBAUTHN:"webauthn",JWT:"jwt",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},qd={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},ia={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},Y7="9.6.4";function Pte(t=!1){const e={},r=new URLSearchParams(window.location.search.slice(1));r.forEach((o,l)=>{l!=="b64Params"&&(e[l]=o)});const n=r.get("b64Params");if(n)try{const o=JSON.parse(V7(n));Object.keys(o).forEach(l=>{e[l]=o[l]})}catch(o){Ku.error(o)}const s=new URLSearchParams(window.location.hash.substring(1));s.forEach((o,l)=>{l!=="b64Params"&&(e[l]=o)});const i=s.get("b64Params");if(i)try{const o=JSON.parse(V7(i));Object.keys(o).forEach(l=>{e[l]=o[l]})}catch(o){Ku.error(o)}if(t){const o=new URL(window.location.origin+window.location.pathname);r.size!==0&&(r.delete("error"),r.delete("state"),r.delete("b64Params"),r.delete("sessionNamespace"),o.search=r.toString()),s.size!==0&&(s.delete("error"),s.delete("state"),s.delete("b64Params"),s.delete("sessionNamespace"),o.hash=s.toString()),window.history.replaceState(qe(qe({},window.history.state),{},{as:o.href,url:o.href}),"",o.href)}return e}function w1(t){const{baseURL:e,query:r,hash:n}=t,s=new URL(e);if(r&&Object.keys(r).forEach(i=>{s.searchParams.append(i,r[i])}),n){const i=new URL(w1({baseURL:e,query:n})).searchParams.toString();s.hash=i}return s.toString()}function Ote(){if(typeof window>"u")return"";const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,r=1200,n=700,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=1,l=Math.abs((s-r)/2/o+t),u=Math.abs((i-n)/2/o+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${n/o},width=${r/o},top=${u},left=${l}`}function Nte(){if(typeof window>"u")return!1;const e=Tu.getParser(window.navigator.userAgent).getPlatform();return e.type===Tu.PLATFORMS_MAP.tablet||e.type===Tu.PLATFORMS_MAP.mobile}function Z7(t){return(t===Ur.FACEBOOK||t===Ur.LINE)&&Nte()?1e3*60*5:1e3*10}class Bte extends Tn.EventEmitter{constructor({url:e,target:r,features:n,timeout:s=3e4,sessionSocketUrl:i,sessionServerUrl:o}){super(),Ve(this,"url",void 0),Ve(this,"target",void 0),Ve(this,"features",void 0),Ve(this,"window",void 0),Ve(this,"windowTimer",void 0),Ve(this,"iClosedWindow",void 0),Ve(this,"timeout",void 0),Ve(this,"sessionSocketUrl",void 0),Ve(this,"sessionServerUrl",void 0),this.url=e,this.target=r||"_blank",this.features=n||Ote(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=s,this.sessionServerUrl=o||Av,this.sessionSocketUrl=i||yE,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw Qr.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const r=new vte({serverUrl:this.sessionServerUrl,socketUrl:this.sessionSocketUrl}),n=await r.subscribe(e);this.close(),r.cleanup();const s=JSON.parse(n);return s.error?{error:s.error,state:s.state}:s.data}}class Lte{constructor(){Ve(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,r){this.store.set(e,r)}removeItem(e){this.store.delete(e)}}class lD{constructor(e,r){Ve(this,"storage",void 0),Ve(this,"_storeKey",void 0),this.storage=r,this._storeKey=e;try{r.getItem(e)||this.resetStore()}catch{}}static getInstance(e,r="local"){if(!this.instanceMap.has(e)){let n;r==="local"&&G7("localStorage")?n=window.localStorage:r==="session"&&G7("sessionStorage")?n=window.sessionStorage:n=new Lte,this.instanceMap.set(e,new this(e,n))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,r){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=r,this.storage.setItem(this._storeKey,JSON.stringify(n))}}Ve(lD,"instanceMap",new Map);class Dte{constructor(e){if(Ve(this,"state",{}),Ve(this,"options",void 0),Ve(this,"sessionManager",void 0),Ve(this,"currentStorage",void 0),Ve(this,"_storageBaseKey","auth_store"),Ve(this,"dappState",void 0),Ve(this,"addVersionInUrls",!0),!e.clientId)throw xl.invalidParams("clientId is required");if(e.network||(e.network=El.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=ia.PRODUCTION),(e.buildEnv===ia.DEVELOPMENT||e.buildEnv===ia.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===ia.DEVELOPMENT?(e.sdkUrl="http://localhost:3000",e.dashboardUrl="http://localhost:5173"):e.buildEnv===ia.STAGING?(e.sdkUrl="https://staging-auth.web3auth.io",e.dashboardUrl="https://staging-account.web3auth.io"):e.buildEnv===ia.TESTING?(e.sdkUrl="https://develop-auth.web3auth.io",e.dashboardUrl="https://develop-account.web3auth.io"):(e.sdkUrl="https://auth.web3auth.io",e.dashboardUrl="https://account.web3auth.io")),e.useMpc&&!e.sdkUrl){if(Object.values(aD).includes(e.network))throw xl.invalidParams("MPC is not supported on legacy networks, please use sapphire_devnet or sapphire_mainnet.");e.buildEnv===ia.DEVELOPMENT?e.sdkUrl="http://localhost:3000":e.buildEnv===ia.STAGING?e.sdkUrl="https://staging-mpc-auth.web3auth.io":e.buildEnv===ia.TESTING?e.sdkUrl="https://develop-mpc-auth.web3auth.io":e.sdkUrl="https://mpc-auth.web3auth.io"}!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=pa.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.loginConfig||(e.loginConfig={}),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=Av),e.sessionSocketUrl||(e.sessionSocketUrl=yE),e.storageKey||(e.storageKey="local"),e.webauthnTransports||(e.webauthnTransports=["internal"]),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${Y7.split(".")[0]}`:`${this.options.sdkUrl}`}get dashboardUrl(){return this.addVersionInUrls?`${this.options.dashboardUrl}/v${Y7.split(".")[0]}`:`${this.options.dashboardUrl}`}async init(){const e=Pte(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const r=this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey;this.currentStorage=lD.getInstance(r,this.options.storageKey);const n=this.currentStorage.get("sessionId");if(this.sessionManager=new um({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:n,allowedOrigin:this.options.sdkUrl}),(this.options.network===El.TESTNET||this.options.network===El.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==ia.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Qr.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const s=await this._authorizeSession();this.updateState(s),Object.keys(s).length===0?this.currentStorage.set("sessionId",""):this.updateState({sessionId:this.sessionManager.sessionId})}}async login(e){if(!e.loginProvider)throw Qr.invalidLoginParams("loginProvider is required");const r={redirectUrl:this.options.redirectUrl},n=qe(qe({loginProvider:e.loginProvider},r),e),s={actionType:qd.LOGIN,options:this.options,params:n},i=await this.authHandler(`${this.baseUrl}/start`,s,Z7(e.loginProvider));if(this.options.uxMode===pa.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Qr.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async logout(){if(!this.sessionManager.sessionId)throw Qr.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",verifier:"",verifierId:"",aggregateVerifier:"",typeOfLogin:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var r;if(!this.sessionId)throw Qr.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw Qr.mfaAlreadyEnabled();const n={redirectUrl:this.options.redirectUrl},s={actionType:qd.ENABLE_MFA,options:this.options,params:qe(qe(qe({},n),e),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},mfaLevel:"mandatory"}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,s,Z7(s.params.loginProvider));if(this.options.uxMode===pa.REDIRECT)return null;if(i.error)throw this.dappState=i.state,Qr.loginFailed(i.error);return this.sessionManager.sessionId=i.sessionId,this.options.sessionNamespace=i.sessionNamespace,this.currentStorage.set("sessionId",i.sessionId),await this.rehydrateSession(),!!(!((r=this.state.userInfo)===null||r===void 0)&&r.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw Qr.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw Qr.mfaNotEnabled();const r={redirectUrl:`${this.dashboardUrl}/wallet/account`,dappUrl:`${window.location.origin}${window.location.pathname}`},n=um.generateRandomSessionKey(),s={actionType:qd.MANAGE_MFA,options:qe(qe({},this.options),{},{uxMode:"redirect"}),params:qe(qe(qe({},r),e),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},appState:dm({loginId:n})}),sessionId:this.sessionId};this.createLoginSession(n,s,s.options.sessionTime,!0);const i={loginId:n,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},o=w1({baseURL:`${this.baseUrl}/start`,hash:{b64Params:dm(i)}});window.open(o,"_blank")}async manageSocialFactor(e,r){if(!this.sessionId)throw Qr.userNotLoggedIn();const n={redirectUrl:this.options.redirectUrl},s={actionType:e,options:this.options,params:qe(qe({},n),r),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,s);if(this.options.uxMode!==pa.REDIRECT)return!i.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw Qr.userNotLoggedIn();const r={redirectUrl:this.options.redirectUrl},n={actionType:qd.ADD_AUTHENTICATOR_FACTOR,options:this.options,params:qe(qe(qe({},r),e),{},{loginProvider:Ur.AUTHENTICATOR}),sessionId:this.sessionId},s=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==pa.REDIRECT)return!s.error}async addPasskeyFactor(e){if(!this.sessionId)throw Qr.userNotLoggedIn();const r={redirectUrl:this.options.redirectUrl},n={actionType:qd.ADD_PASSKEY_FACTOR,options:this.options,params:qe(qe(qe({},r),e),{},{loginProvider:Ur.PASSKEYS}),sessionId:this.sessionId},s=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==pa.REDIRECT)return!s.error}getUserInfo(){if(!this.sessionManager.sessionId)throw Qr.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,r,n=600,s=!1){if(!this.sessionManager)throw xl.notInitialized();const o=new um({sessionServerBaseUrl:r.options.storageServerUrl,sessionNamespace:r.options.sessionNamespace,sessionTime:n,sessionId:e,allowedOrigin:this.options.sdkUrl}).createSession(JSON.parse(JSON.stringify(r)));r.options.uxMode===pa.REDIRECT&&!s&&await o}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return Ku.error("authorization failed",e),{}}}updateState(e){this.state=qe(qe({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,r,n=1e3*10){const s=um.generateRandomSessionKey();await this.createLoginSession(s,r);const i={loginId:s,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===pa.REDIRECT){const u=w1({baseURL:e,hash:{b64Params:dm(i)}});window.location.href=u;return}const o=w1({baseURL:e,hash:{b64Params:dm(i)}}),l=new Bte({url:o,timeout:n,sessionServerUrl:this.options.storageServerUrl,sessionSocketUrl:this.options.sessionSocketUrl});return new Promise((u,d)=>{l.on("close",()=>{d(Qr.popupClosed())}),l.listenOnChannel(s).then(u).catch(d);try{l.open()}catch(p){d(p)}})}}var cD={exports:{}};(function(t){(function(e){var r=function(V){var X,Q=new Float64Array(16);if(V)for(X=0;X<V.length;X++)Q[X]=V[X];return Q},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=r(),l=r([1]),u=r([56129,1]),d=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function M(V,X,Q,D){V[X]=Q>>24&255,V[X+1]=Q>>16&255,V[X+2]=Q>>8&255,V[X+3]=Q&255,V[X+4]=D>>24&255,V[X+5]=D>>16&255,V[X+6]=D>>8&255,V[X+7]=D&255}function A(V,X,Q,D,re){var ue,_e=0;for(ue=0;ue<re;ue++)_e|=V[X+ue]^Q[D+ue];return(1&_e-1>>>8)-1}function I(V,X,Q,D){return A(V,X,Q,D,16)}function k(V,X,Q,D){return A(V,X,Q,D,32)}function R(V,X,Q,D){for(var re=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,ue=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,_e=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,ge=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,ve=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,Ze=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,Ye=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,Bt=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,rt=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,Et=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,At=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,_t=Q[16]&255|(Q[17]&255)<<8|(Q[18]&255)<<16|(Q[19]&255)<<24,Ot=Q[20]&255|(Q[21]&255)<<8|(Q[22]&255)<<16|(Q[23]&255)<<24,kt=Q[24]&255|(Q[25]&255)<<8|(Q[26]&255)<<16|(Q[27]&255)<<24,Ct=Q[28]&255|(Q[29]&255)<<8|(Q[30]&255)<<16|(Q[31]&255)<<24,It=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ft=re,pt=ue,at=_e,ht=ge,ct=ve,st=Ze,Te=Ye,Pe=Bt,et=rt,Je=Et,Xe=At,lt=_t,Ht=Ot,Yt=kt,tr=Ct,Xt=It,ye,or=0;or<20;or+=2)ye=ft+Ht|0,ct^=ye<<7|ye>>>25,ye=ct+ft|0,et^=ye<<9|ye>>>23,ye=et+ct|0,Ht^=ye<<13|ye>>>19,ye=Ht+et|0,ft^=ye<<18|ye>>>14,ye=st+pt|0,Je^=ye<<7|ye>>>25,ye=Je+st|0,Yt^=ye<<9|ye>>>23,ye=Yt+Je|0,pt^=ye<<13|ye>>>19,ye=pt+Yt|0,st^=ye<<18|ye>>>14,ye=Xe+Te|0,tr^=ye<<7|ye>>>25,ye=tr+Xe|0,at^=ye<<9|ye>>>23,ye=at+tr|0,Te^=ye<<13|ye>>>19,ye=Te+at|0,Xe^=ye<<18|ye>>>14,ye=Xt+lt|0,ht^=ye<<7|ye>>>25,ye=ht+Xt|0,Pe^=ye<<9|ye>>>23,ye=Pe+ht|0,lt^=ye<<13|ye>>>19,ye=lt+Pe|0,Xt^=ye<<18|ye>>>14,ye=ft+ht|0,pt^=ye<<7|ye>>>25,ye=pt+ft|0,at^=ye<<9|ye>>>23,ye=at+pt|0,ht^=ye<<13|ye>>>19,ye=ht+at|0,ft^=ye<<18|ye>>>14,ye=st+ct|0,Te^=ye<<7|ye>>>25,ye=Te+st|0,Pe^=ye<<9|ye>>>23,ye=Pe+Te|0,ct^=ye<<13|ye>>>19,ye=ct+Pe|0,st^=ye<<18|ye>>>14,ye=Xe+Je|0,lt^=ye<<7|ye>>>25,ye=lt+Xe|0,et^=ye<<9|ye>>>23,ye=et+lt|0,Je^=ye<<13|ye>>>19,ye=Je+et|0,Xe^=ye<<18|ye>>>14,ye=Xt+tr|0,Ht^=ye<<7|ye>>>25,ye=Ht+Xt|0,Yt^=ye<<9|ye>>>23,ye=Yt+Ht|0,tr^=ye<<13|ye>>>19,ye=tr+Yt|0,Xt^=ye<<18|ye>>>14;ft=ft+re|0,pt=pt+ue|0,at=at+_e|0,ht=ht+ge|0,ct=ct+ve|0,st=st+Ze|0,Te=Te+Ye|0,Pe=Pe+Bt|0,et=et+rt|0,Je=Je+Et|0,Xe=Xe+At|0,lt=lt+_t|0,Ht=Ht+Ot|0,Yt=Yt+kt|0,tr=tr+Ct|0,Xt=Xt+It|0,V[0]=ft>>>0&255,V[1]=ft>>>8&255,V[2]=ft>>>16&255,V[3]=ft>>>24&255,V[4]=pt>>>0&255,V[5]=pt>>>8&255,V[6]=pt>>>16&255,V[7]=pt>>>24&255,V[8]=at>>>0&255,V[9]=at>>>8&255,V[10]=at>>>16&255,V[11]=at>>>24&255,V[12]=ht>>>0&255,V[13]=ht>>>8&255,V[14]=ht>>>16&255,V[15]=ht>>>24&255,V[16]=ct>>>0&255,V[17]=ct>>>8&255,V[18]=ct>>>16&255,V[19]=ct>>>24&255,V[20]=st>>>0&255,V[21]=st>>>8&255,V[22]=st>>>16&255,V[23]=st>>>24&255,V[24]=Te>>>0&255,V[25]=Te>>>8&255,V[26]=Te>>>16&255,V[27]=Te>>>24&255,V[28]=Pe>>>0&255,V[29]=Pe>>>8&255,V[30]=Pe>>>16&255,V[31]=Pe>>>24&255,V[32]=et>>>0&255,V[33]=et>>>8&255,V[34]=et>>>16&255,V[35]=et>>>24&255,V[36]=Je>>>0&255,V[37]=Je>>>8&255,V[38]=Je>>>16&255,V[39]=Je>>>24&255,V[40]=Xe>>>0&255,V[41]=Xe>>>8&255,V[42]=Xe>>>16&255,V[43]=Xe>>>24&255,V[44]=lt>>>0&255,V[45]=lt>>>8&255,V[46]=lt>>>16&255,V[47]=lt>>>24&255,V[48]=Ht>>>0&255,V[49]=Ht>>>8&255,V[50]=Ht>>>16&255,V[51]=Ht>>>24&255,V[52]=Yt>>>0&255,V[53]=Yt>>>8&255,V[54]=Yt>>>16&255,V[55]=Yt>>>24&255,V[56]=tr>>>0&255,V[57]=tr>>>8&255,V[58]=tr>>>16&255,V[59]=tr>>>24&255,V[60]=Xt>>>0&255,V[61]=Xt>>>8&255,V[62]=Xt>>>16&255,V[63]=Xt>>>24&255}function C(V,X,Q,D){for(var re=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,ue=Q[0]&255|(Q[1]&255)<<8|(Q[2]&255)<<16|(Q[3]&255)<<24,_e=Q[4]&255|(Q[5]&255)<<8|(Q[6]&255)<<16|(Q[7]&255)<<24,ge=Q[8]&255|(Q[9]&255)<<8|(Q[10]&255)<<16|(Q[11]&255)<<24,ve=Q[12]&255|(Q[13]&255)<<8|(Q[14]&255)<<16|(Q[15]&255)<<24,Ze=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,Ye=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,Bt=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,rt=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,Et=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,At=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,_t=Q[16]&255|(Q[17]&255)<<8|(Q[18]&255)<<16|(Q[19]&255)<<24,Ot=Q[20]&255|(Q[21]&255)<<8|(Q[22]&255)<<16|(Q[23]&255)<<24,kt=Q[24]&255|(Q[25]&255)<<8|(Q[26]&255)<<16|(Q[27]&255)<<24,Ct=Q[28]&255|(Q[29]&255)<<8|(Q[30]&255)<<16|(Q[31]&255)<<24,It=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,ft=re,pt=ue,at=_e,ht=ge,ct=ve,st=Ze,Te=Ye,Pe=Bt,et=rt,Je=Et,Xe=At,lt=_t,Ht=Ot,Yt=kt,tr=Ct,Xt=It,ye,or=0;or<20;or+=2)ye=ft+Ht|0,ct^=ye<<7|ye>>>25,ye=ct+ft|0,et^=ye<<9|ye>>>23,ye=et+ct|0,Ht^=ye<<13|ye>>>19,ye=Ht+et|0,ft^=ye<<18|ye>>>14,ye=st+pt|0,Je^=ye<<7|ye>>>25,ye=Je+st|0,Yt^=ye<<9|ye>>>23,ye=Yt+Je|0,pt^=ye<<13|ye>>>19,ye=pt+Yt|0,st^=ye<<18|ye>>>14,ye=Xe+Te|0,tr^=ye<<7|ye>>>25,ye=tr+Xe|0,at^=ye<<9|ye>>>23,ye=at+tr|0,Te^=ye<<13|ye>>>19,ye=Te+at|0,Xe^=ye<<18|ye>>>14,ye=Xt+lt|0,ht^=ye<<7|ye>>>25,ye=ht+Xt|0,Pe^=ye<<9|ye>>>23,ye=Pe+ht|0,lt^=ye<<13|ye>>>19,ye=lt+Pe|0,Xt^=ye<<18|ye>>>14,ye=ft+ht|0,pt^=ye<<7|ye>>>25,ye=pt+ft|0,at^=ye<<9|ye>>>23,ye=at+pt|0,ht^=ye<<13|ye>>>19,ye=ht+at|0,ft^=ye<<18|ye>>>14,ye=st+ct|0,Te^=ye<<7|ye>>>25,ye=Te+st|0,Pe^=ye<<9|ye>>>23,ye=Pe+Te|0,ct^=ye<<13|ye>>>19,ye=ct+Pe|0,st^=ye<<18|ye>>>14,ye=Xe+Je|0,lt^=ye<<7|ye>>>25,ye=lt+Xe|0,et^=ye<<9|ye>>>23,ye=et+lt|0,Je^=ye<<13|ye>>>19,ye=Je+et|0,Xe^=ye<<18|ye>>>14,ye=Xt+tr|0,Ht^=ye<<7|ye>>>25,ye=Ht+Xt|0,Yt^=ye<<9|ye>>>23,ye=Yt+Ht|0,tr^=ye<<13|ye>>>19,ye=tr+Yt|0,Xt^=ye<<18|ye>>>14;V[0]=ft>>>0&255,V[1]=ft>>>8&255,V[2]=ft>>>16&255,V[3]=ft>>>24&255,V[4]=st>>>0&255,V[5]=st>>>8&255,V[6]=st>>>16&255,V[7]=st>>>24&255,V[8]=Xe>>>0&255,V[9]=Xe>>>8&255,V[10]=Xe>>>16&255,V[11]=Xe>>>24&255,V[12]=Xt>>>0&255,V[13]=Xt>>>8&255,V[14]=Xt>>>16&255,V[15]=Xt>>>24&255,V[16]=Te>>>0&255,V[17]=Te>>>8&255,V[18]=Te>>>16&255,V[19]=Te>>>24&255,V[20]=Pe>>>0&255,V[21]=Pe>>>8&255,V[22]=Pe>>>16&255,V[23]=Pe>>>24&255,V[24]=et>>>0&255,V[25]=et>>>8&255,V[26]=et>>>16&255,V[27]=et>>>24&255,V[28]=Je>>>0&255,V[29]=Je>>>8&255,V[30]=Je>>>16&255,V[31]=Je>>>24&255}function P(V,X,Q,D){R(V,X,Q,D)}function N(V,X,Q,D){C(V,X,Q,D)}var U=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function q(V,X,Q,D,re,ue,_e){var ge=new Uint8Array(16),ve=new Uint8Array(64),Ze,Ye;for(Ye=0;Ye<16;Ye++)ge[Ye]=0;for(Ye=0;Ye<8;Ye++)ge[Ye]=ue[Ye];for(;re>=64;){for(P(ve,ge,_e,U),Ye=0;Ye<64;Ye++)V[X+Ye]=Q[D+Ye]^ve[Ye];for(Ze=1,Ye=8;Ye<16;Ye++)Ze=Ze+(ge[Ye]&255)|0,ge[Ye]=Ze&255,Ze>>>=8;re-=64,X+=64,D+=64}if(re>0)for(P(ve,ge,_e,U),Ye=0;Ye<re;Ye++)V[X+Ye]=Q[D+Ye]^ve[Ye];return 0}function F(V,X,Q,D,re){var ue=new Uint8Array(16),_e=new Uint8Array(64),ge,ve;for(ve=0;ve<16;ve++)ue[ve]=0;for(ve=0;ve<8;ve++)ue[ve]=D[ve];for(;Q>=64;){for(P(_e,ue,re,U),ve=0;ve<64;ve++)V[X+ve]=_e[ve];for(ge=1,ve=8;ve<16;ve++)ge=ge+(ue[ve]&255)|0,ue[ve]=ge&255,ge>>>=8;Q-=64,X+=64}if(Q>0)for(P(_e,ue,re,U),ve=0;ve<Q;ve++)V[X+ve]=_e[ve];return 0}function L(V,X,Q,D,re){var ue=new Uint8Array(32);N(ue,D,re,U);for(var _e=new Uint8Array(8),ge=0;ge<8;ge++)_e[ge]=D[ge+16];return F(V,X,Q,_e,ue)}function ie(V,X,Q,D,re,ue,_e){var ge=new Uint8Array(32);N(ge,ue,_e,U);for(var ve=new Uint8Array(8),Ze=0;Ze<8;Ze++)ve[Ze]=ue[Ze+16];return q(V,X,Q,D,re,ve,ge)}var E=function(V){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var X,Q,D,re,ue,_e,ge,ve;X=V[0]&255|(V[1]&255)<<8,this.r[0]=X&8191,Q=V[2]&255|(V[3]&255)<<8,this.r[1]=(X>>>13|Q<<3)&8191,D=V[4]&255|(V[5]&255)<<8,this.r[2]=(Q>>>10|D<<6)&7939,re=V[6]&255|(V[7]&255)<<8,this.r[3]=(D>>>7|re<<9)&8191,ue=V[8]&255|(V[9]&255)<<8,this.r[4]=(re>>>4|ue<<12)&255,this.r[5]=ue>>>1&8190,_e=V[10]&255|(V[11]&255)<<8,this.r[6]=(ue>>>14|_e<<2)&8191,ge=V[12]&255|(V[13]&255)<<8,this.r[7]=(_e>>>11|ge<<5)&8065,ve=V[14]&255|(V[15]&255)<<8,this.r[8]=(ge>>>8|ve<<8)&8191,this.r[9]=ve>>>5&127,this.pad[0]=V[16]&255|(V[17]&255)<<8,this.pad[1]=V[18]&255|(V[19]&255)<<8,this.pad[2]=V[20]&255|(V[21]&255)<<8,this.pad[3]=V[22]&255|(V[23]&255)<<8,this.pad[4]=V[24]&255|(V[25]&255)<<8,this.pad[5]=V[26]&255|(V[27]&255)<<8,this.pad[6]=V[28]&255|(V[29]&255)<<8,this.pad[7]=V[30]&255|(V[31]&255)<<8};E.prototype.blocks=function(V,X,Q){for(var D=this.fin?0:2048,re,ue,_e,ge,ve,Ze,Ye,Bt,rt,Et,At,_t,Ot,kt,Ct,It,ft,pt,at,ht=this.h[0],ct=this.h[1],st=this.h[2],Te=this.h[3],Pe=this.h[4],et=this.h[5],Je=this.h[6],Xe=this.h[7],lt=this.h[8],Ht=this.h[9],Yt=this.r[0],tr=this.r[1],Xt=this.r[2],ye=this.r[3],or=this.r[4],_r=this.r[5],Sr=this.r[6],ir=this.r[7],yr=this.r[8],vr=this.r[9];Q>=16;)re=V[X+0]&255|(V[X+1]&255)<<8,ht+=re&8191,ue=V[X+2]&255|(V[X+3]&255)<<8,ct+=(re>>>13|ue<<3)&8191,_e=V[X+4]&255|(V[X+5]&255)<<8,st+=(ue>>>10|_e<<6)&8191,ge=V[X+6]&255|(V[X+7]&255)<<8,Te+=(_e>>>7|ge<<9)&8191,ve=V[X+8]&255|(V[X+9]&255)<<8,Pe+=(ge>>>4|ve<<12)&8191,et+=ve>>>1&8191,Ze=V[X+10]&255|(V[X+11]&255)<<8,Je+=(ve>>>14|Ze<<2)&8191,Ye=V[X+12]&255|(V[X+13]&255)<<8,Xe+=(Ze>>>11|Ye<<5)&8191,Bt=V[X+14]&255|(V[X+15]&255)<<8,lt+=(Ye>>>8|Bt<<8)&8191,Ht+=Bt>>>5|D,rt=0,Et=rt,Et+=ht*Yt,Et+=ct*(5*vr),Et+=st*(5*yr),Et+=Te*(5*ir),Et+=Pe*(5*Sr),rt=Et>>>13,Et&=8191,Et+=et*(5*_r),Et+=Je*(5*or),Et+=Xe*(5*ye),Et+=lt*(5*Xt),Et+=Ht*(5*tr),rt+=Et>>>13,Et&=8191,At=rt,At+=ht*tr,At+=ct*Yt,At+=st*(5*vr),At+=Te*(5*yr),At+=Pe*(5*ir),rt=At>>>13,At&=8191,At+=et*(5*Sr),At+=Je*(5*_r),At+=Xe*(5*or),At+=lt*(5*ye),At+=Ht*(5*Xt),rt+=At>>>13,At&=8191,_t=rt,_t+=ht*Xt,_t+=ct*tr,_t+=st*Yt,_t+=Te*(5*vr),_t+=Pe*(5*yr),rt=_t>>>13,_t&=8191,_t+=et*(5*ir),_t+=Je*(5*Sr),_t+=Xe*(5*_r),_t+=lt*(5*or),_t+=Ht*(5*ye),rt+=_t>>>13,_t&=8191,Ot=rt,Ot+=ht*ye,Ot+=ct*Xt,Ot+=st*tr,Ot+=Te*Yt,Ot+=Pe*(5*vr),rt=Ot>>>13,Ot&=8191,Ot+=et*(5*yr),Ot+=Je*(5*ir),Ot+=Xe*(5*Sr),Ot+=lt*(5*_r),Ot+=Ht*(5*or),rt+=Ot>>>13,Ot&=8191,kt=rt,kt+=ht*or,kt+=ct*ye,kt+=st*Xt,kt+=Te*tr,kt+=Pe*Yt,rt=kt>>>13,kt&=8191,kt+=et*(5*vr),kt+=Je*(5*yr),kt+=Xe*(5*ir),kt+=lt*(5*Sr),kt+=Ht*(5*_r),rt+=kt>>>13,kt&=8191,Ct=rt,Ct+=ht*_r,Ct+=ct*or,Ct+=st*ye,Ct+=Te*Xt,Ct+=Pe*tr,rt=Ct>>>13,Ct&=8191,Ct+=et*Yt,Ct+=Je*(5*vr),Ct+=Xe*(5*yr),Ct+=lt*(5*ir),Ct+=Ht*(5*Sr),rt+=Ct>>>13,Ct&=8191,It=rt,It+=ht*Sr,It+=ct*_r,It+=st*or,It+=Te*ye,It+=Pe*Xt,rt=It>>>13,It&=8191,It+=et*tr,It+=Je*Yt,It+=Xe*(5*vr),It+=lt*(5*yr),It+=Ht*(5*ir),rt+=It>>>13,It&=8191,ft=rt,ft+=ht*ir,ft+=ct*Sr,ft+=st*_r,ft+=Te*or,ft+=Pe*ye,rt=ft>>>13,ft&=8191,ft+=et*Xt,ft+=Je*tr,ft+=Xe*Yt,ft+=lt*(5*vr),ft+=Ht*(5*yr),rt+=ft>>>13,ft&=8191,pt=rt,pt+=ht*yr,pt+=ct*ir,pt+=st*Sr,pt+=Te*_r,pt+=Pe*or,rt=pt>>>13,pt&=8191,pt+=et*ye,pt+=Je*Xt,pt+=Xe*tr,pt+=lt*Yt,pt+=Ht*(5*vr),rt+=pt>>>13,pt&=8191,at=rt,at+=ht*vr,at+=ct*yr,at+=st*ir,at+=Te*Sr,at+=Pe*_r,rt=at>>>13,at&=8191,at+=et*or,at+=Je*ye,at+=Xe*Xt,at+=lt*tr,at+=Ht*Yt,rt+=at>>>13,at&=8191,rt=(rt<<2)+rt|0,rt=rt+Et|0,Et=rt&8191,rt=rt>>>13,At+=rt,ht=Et,ct=At,st=_t,Te=Ot,Pe=kt,et=Ct,Je=It,Xe=ft,lt=pt,Ht=at,X+=16,Q-=16;this.h[0]=ht,this.h[1]=ct,this.h[2]=st,this.h[3]=Te,this.h[4]=Pe,this.h[5]=et,this.h[6]=Je,this.h[7]=Xe,this.h[8]=lt,this.h[9]=Ht},E.prototype.finish=function(V,X){var Q=new Uint16Array(10),D,re,ue,_e;if(this.leftover){for(_e=this.leftover,this.buffer[_e++]=1;_e<16;_e++)this.buffer[_e]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(D=this.h[1]>>>13,this.h[1]&=8191,_e=2;_e<10;_e++)this.h[_e]+=D,D=this.h[_e]>>>13,this.h[_e]&=8191;for(this.h[0]+=D*5,D=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=D,D=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=D,Q[0]=this.h[0]+5,D=Q[0]>>>13,Q[0]&=8191,_e=1;_e<10;_e++)Q[_e]=this.h[_e]+D,D=Q[_e]>>>13,Q[_e]&=8191;for(Q[9]-=8192,re=(D^1)-1,_e=0;_e<10;_e++)Q[_e]&=re;for(re=~re,_e=0;_e<10;_e++)this.h[_e]=this.h[_e]&re|Q[_e];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,ue=this.h[0]+this.pad[0],this.h[0]=ue&65535,_e=1;_e<8;_e++)ue=(this.h[_e]+this.pad[_e]|0)+(ue>>>16)|0,this.h[_e]=ue&65535;V[X+0]=this.h[0]>>>0&255,V[X+1]=this.h[0]>>>8&255,V[X+2]=this.h[1]>>>0&255,V[X+3]=this.h[1]>>>8&255,V[X+4]=this.h[2]>>>0&255,V[X+5]=this.h[2]>>>8&255,V[X+6]=this.h[3]>>>0&255,V[X+7]=this.h[3]>>>8&255,V[X+8]=this.h[4]>>>0&255,V[X+9]=this.h[4]>>>8&255,V[X+10]=this.h[5]>>>0&255,V[X+11]=this.h[5]>>>8&255,V[X+12]=this.h[6]>>>0&255,V[X+13]=this.h[6]>>>8&255,V[X+14]=this.h[7]>>>0&255,V[X+15]=this.h[7]>>>8&255},E.prototype.update=function(V,X,Q){var D,re;if(this.leftover){for(re=16-this.leftover,re>Q&&(re=Q),D=0;D<re;D++)this.buffer[this.leftover+D]=V[X+D];if(Q-=re,X+=re,this.leftover+=re,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Q>=16&&(re=Q-Q%16,this.blocks(V,X,re),X+=re,Q-=re),Q){for(D=0;D<Q;D++)this.buffer[this.leftover+D]=V[X+D];this.leftover+=Q}};function a(V,X,Q,D,re,ue){var _e=new E(ue);return _e.update(Q,D,re),_e.finish(V,X),0}function f(V,X,Q,D,re,ue){var _e=new Uint8Array(16);return a(_e,0,Q,D,re,ue),I(V,X,_e,0)}function h(V,X,Q,D,re){var ue;if(Q<32)return-1;for(ie(V,0,X,0,Q,D,re),a(V,16,V,32,Q-32,V),ue=0;ue<16;ue++)V[ue]=0;return 0}function g(V,X,Q,D,re){var ue,_e=new Uint8Array(32);if(Q<32||(L(_e,0,32,D,re),f(X,16,X,32,Q-32,_e)!==0))return-1;for(ie(V,0,X,0,Q,D,re),ue=0;ue<32;ue++)V[ue]=0;return 0}function y(V,X){var Q;for(Q=0;Q<16;Q++)V[Q]=X[Q]|0}function x(V){var X,Q,D=1;for(X=0;X<16;X++)Q=V[X]+D+65535,D=Math.floor(Q/65536),V[X]=Q-D*65536;V[0]+=D-1+37*(D-1)}function S(V,X,Q){for(var D,re=~(Q-1),ue=0;ue<16;ue++)D=re&(V[ue]^X[ue]),V[ue]^=D,X[ue]^=D}function m(V,X){var Q,D,re,ue=r(),_e=r();for(Q=0;Q<16;Q++)_e[Q]=X[Q];for(x(_e),x(_e),x(_e),D=0;D<2;D++){for(ue[0]=_e[0]-65517,Q=1;Q<15;Q++)ue[Q]=_e[Q]-65535-(ue[Q-1]>>16&1),ue[Q-1]&=65535;ue[15]=_e[15]-32767-(ue[14]>>16&1),re=ue[15]>>16&1,ue[14]&=65535,S(_e,ue,1-re)}for(Q=0;Q<16;Q++)V[2*Q]=_e[Q]&255,V[2*Q+1]=_e[Q]>>8}function c(V,X){var Q=new Uint8Array(32),D=new Uint8Array(32);return m(Q,V),m(D,X),k(Q,0,D,0)}function w(V){var X=new Uint8Array(32);return m(X,V),X[0]&1}function T(V,X){var Q;for(Q=0;Q<16;Q++)V[Q]=X[2*Q]+(X[2*Q+1]<<8);V[15]&=32767}function O(V,X,Q){for(var D=0;D<16;D++)V[D]=X[D]+Q[D]}function K(V,X,Q){for(var D=0;D<16;D++)V[D]=X[D]-Q[D]}function ee(V,X,Q){var D,re,ue=0,_e=0,ge=0,ve=0,Ze=0,Ye=0,Bt=0,rt=0,Et=0,At=0,_t=0,Ot=0,kt=0,Ct=0,It=0,ft=0,pt=0,at=0,ht=0,ct=0,st=0,Te=0,Pe=0,et=0,Je=0,Xe=0,lt=0,Ht=0,Yt=0,tr=0,Xt=0,ye=Q[0],or=Q[1],_r=Q[2],Sr=Q[3],ir=Q[4],yr=Q[5],vr=Q[6],fn=Q[7],kr=Q[8],Fr=Q[9],hn=Q[10],dn=Q[11],Hr=Q[12],Jn=Q[13],Xn=Q[14],Qn=Q[15];D=X[0],ue+=D*ye,_e+=D*or,ge+=D*_r,ve+=D*Sr,Ze+=D*ir,Ye+=D*yr,Bt+=D*vr,rt+=D*fn,Et+=D*kr,At+=D*Fr,_t+=D*hn,Ot+=D*dn,kt+=D*Hr,Ct+=D*Jn,It+=D*Xn,ft+=D*Qn,D=X[1],_e+=D*ye,ge+=D*or,ve+=D*_r,Ze+=D*Sr,Ye+=D*ir,Bt+=D*yr,rt+=D*vr,Et+=D*fn,At+=D*kr,_t+=D*Fr,Ot+=D*hn,kt+=D*dn,Ct+=D*Hr,It+=D*Jn,ft+=D*Xn,pt+=D*Qn,D=X[2],ge+=D*ye,ve+=D*or,Ze+=D*_r,Ye+=D*Sr,Bt+=D*ir,rt+=D*yr,Et+=D*vr,At+=D*fn,_t+=D*kr,Ot+=D*Fr,kt+=D*hn,Ct+=D*dn,It+=D*Hr,ft+=D*Jn,pt+=D*Xn,at+=D*Qn,D=X[3],ve+=D*ye,Ze+=D*or,Ye+=D*_r,Bt+=D*Sr,rt+=D*ir,Et+=D*yr,At+=D*vr,_t+=D*fn,Ot+=D*kr,kt+=D*Fr,Ct+=D*hn,It+=D*dn,ft+=D*Hr,pt+=D*Jn,at+=D*Xn,ht+=D*Qn,D=X[4],Ze+=D*ye,Ye+=D*or,Bt+=D*_r,rt+=D*Sr,Et+=D*ir,At+=D*yr,_t+=D*vr,Ot+=D*fn,kt+=D*kr,Ct+=D*Fr,It+=D*hn,ft+=D*dn,pt+=D*Hr,at+=D*Jn,ht+=D*Xn,ct+=D*Qn,D=X[5],Ye+=D*ye,Bt+=D*or,rt+=D*_r,Et+=D*Sr,At+=D*ir,_t+=D*yr,Ot+=D*vr,kt+=D*fn,Ct+=D*kr,It+=D*Fr,ft+=D*hn,pt+=D*dn,at+=D*Hr,ht+=D*Jn,ct+=D*Xn,st+=D*Qn,D=X[6],Bt+=D*ye,rt+=D*or,Et+=D*_r,At+=D*Sr,_t+=D*ir,Ot+=D*yr,kt+=D*vr,Ct+=D*fn,It+=D*kr,ft+=D*Fr,pt+=D*hn,at+=D*dn,ht+=D*Hr,ct+=D*Jn,st+=D*Xn,Te+=D*Qn,D=X[7],rt+=D*ye,Et+=D*or,At+=D*_r,_t+=D*Sr,Ot+=D*ir,kt+=D*yr,Ct+=D*vr,It+=D*fn,ft+=D*kr,pt+=D*Fr,at+=D*hn,ht+=D*dn,ct+=D*Hr,st+=D*Jn,Te+=D*Xn,Pe+=D*Qn,D=X[8],Et+=D*ye,At+=D*or,_t+=D*_r,Ot+=D*Sr,kt+=D*ir,Ct+=D*yr,It+=D*vr,ft+=D*fn,pt+=D*kr,at+=D*Fr,ht+=D*hn,ct+=D*dn,st+=D*Hr,Te+=D*Jn,Pe+=D*Xn,et+=D*Qn,D=X[9],At+=D*ye,_t+=D*or,Ot+=D*_r,kt+=D*Sr,Ct+=D*ir,It+=D*yr,ft+=D*vr,pt+=D*fn,at+=D*kr,ht+=D*Fr,ct+=D*hn,st+=D*dn,Te+=D*Hr,Pe+=D*Jn,et+=D*Xn,Je+=D*Qn,D=X[10],_t+=D*ye,Ot+=D*or,kt+=D*_r,Ct+=D*Sr,It+=D*ir,ft+=D*yr,pt+=D*vr,at+=D*fn,ht+=D*kr,ct+=D*Fr,st+=D*hn,Te+=D*dn,Pe+=D*Hr,et+=D*Jn,Je+=D*Xn,Xe+=D*Qn,D=X[11],Ot+=D*ye,kt+=D*or,Ct+=D*_r,It+=D*Sr,ft+=D*ir,pt+=D*yr,at+=D*vr,ht+=D*fn,ct+=D*kr,st+=D*Fr,Te+=D*hn,Pe+=D*dn,et+=D*Hr,Je+=D*Jn,Xe+=D*Xn,lt+=D*Qn,D=X[12],kt+=D*ye,Ct+=D*or,It+=D*_r,ft+=D*Sr,pt+=D*ir,at+=D*yr,ht+=D*vr,ct+=D*fn,st+=D*kr,Te+=D*Fr,Pe+=D*hn,et+=D*dn,Je+=D*Hr,Xe+=D*Jn,lt+=D*Xn,Ht+=D*Qn,D=X[13],Ct+=D*ye,It+=D*or,ft+=D*_r,pt+=D*Sr,at+=D*ir,ht+=D*yr,ct+=D*vr,st+=D*fn,Te+=D*kr,Pe+=D*Fr,et+=D*hn,Je+=D*dn,Xe+=D*Hr,lt+=D*Jn,Ht+=D*Xn,Yt+=D*Qn,D=X[14],It+=D*ye,ft+=D*or,pt+=D*_r,at+=D*Sr,ht+=D*ir,ct+=D*yr,st+=D*vr,Te+=D*fn,Pe+=D*kr,et+=D*Fr,Je+=D*hn,Xe+=D*dn,lt+=D*Hr,Ht+=D*Jn,Yt+=D*Xn,tr+=D*Qn,D=X[15],ft+=D*ye,pt+=D*or,at+=D*_r,ht+=D*Sr,ct+=D*ir,st+=D*yr,Te+=D*vr,Pe+=D*fn,et+=D*kr,Je+=D*Fr,Xe+=D*hn,lt+=D*dn,Ht+=D*Hr,Yt+=D*Jn,tr+=D*Xn,Xt+=D*Qn,ue+=38*pt,_e+=38*at,ge+=38*ht,ve+=38*ct,Ze+=38*st,Ye+=38*Te,Bt+=38*Pe,rt+=38*et,Et+=38*Je,At+=38*Xe,_t+=38*lt,Ot+=38*Ht,kt+=38*Yt,Ct+=38*tr,It+=38*Xt,re=1,D=ue+re+65535,re=Math.floor(D/65536),ue=D-re*65536,D=_e+re+65535,re=Math.floor(D/65536),_e=D-re*65536,D=ge+re+65535,re=Math.floor(D/65536),ge=D-re*65536,D=ve+re+65535,re=Math.floor(D/65536),ve=D-re*65536,D=Ze+re+65535,re=Math.floor(D/65536),Ze=D-re*65536,D=Ye+re+65535,re=Math.floor(D/65536),Ye=D-re*65536,D=Bt+re+65535,re=Math.floor(D/65536),Bt=D-re*65536,D=rt+re+65535,re=Math.floor(D/65536),rt=D-re*65536,D=Et+re+65535,re=Math.floor(D/65536),Et=D-re*65536,D=At+re+65535,re=Math.floor(D/65536),At=D-re*65536,D=_t+re+65535,re=Math.floor(D/65536),_t=D-re*65536,D=Ot+re+65535,re=Math.floor(D/65536),Ot=D-re*65536,D=kt+re+65535,re=Math.floor(D/65536),kt=D-re*65536,D=Ct+re+65535,re=Math.floor(D/65536),Ct=D-re*65536,D=It+re+65535,re=Math.floor(D/65536),It=D-re*65536,D=ft+re+65535,re=Math.floor(D/65536),ft=D-re*65536,ue+=re-1+37*(re-1),re=1,D=ue+re+65535,re=Math.floor(D/65536),ue=D-re*65536,D=_e+re+65535,re=Math.floor(D/65536),_e=D-re*65536,D=ge+re+65535,re=Math.floor(D/65536),ge=D-re*65536,D=ve+re+65535,re=Math.floor(D/65536),ve=D-re*65536,D=Ze+re+65535,re=Math.floor(D/65536),Ze=D-re*65536,D=Ye+re+65535,re=Math.floor(D/65536),Ye=D-re*65536,D=Bt+re+65535,re=Math.floor(D/65536),Bt=D-re*65536,D=rt+re+65535,re=Math.floor(D/65536),rt=D-re*65536,D=Et+re+65535,re=Math.floor(D/65536),Et=D-re*65536,D=At+re+65535,re=Math.floor(D/65536),At=D-re*65536,D=_t+re+65535,re=Math.floor(D/65536),_t=D-re*65536,D=Ot+re+65535,re=Math.floor(D/65536),Ot=D-re*65536,D=kt+re+65535,re=Math.floor(D/65536),kt=D-re*65536,D=Ct+re+65535,re=Math.floor(D/65536),Ct=D-re*65536,D=It+re+65535,re=Math.floor(D/65536),It=D-re*65536,D=ft+re+65535,re=Math.floor(D/65536),ft=D-re*65536,ue+=re-1+37*(re-1),V[0]=ue,V[1]=_e,V[2]=ge,V[3]=ve,V[4]=Ze,V[5]=Ye,V[6]=Bt,V[7]=rt,V[8]=Et,V[9]=At,V[10]=_t,V[11]=Ot,V[12]=kt,V[13]=Ct,V[14]=It,V[15]=ft}function J(V,X){ee(V,X,X)}function $(V,X){var Q=r(),D;for(D=0;D<16;D++)Q[D]=X[D];for(D=253;D>=0;D--)J(Q,Q),D!==2&&D!==4&&ee(Q,Q,X);for(D=0;D<16;D++)V[D]=Q[D]}function z(V,X){var Q=r(),D;for(D=0;D<16;D++)Q[D]=X[D];for(D=250;D>=0;D--)J(Q,Q),D!==1&&ee(Q,Q,X);for(D=0;D<16;D++)V[D]=Q[D]}function Y(V,X,Q){var D=new Uint8Array(32),re=new Float64Array(80),ue,_e,ge=r(),ve=r(),Ze=r(),Ye=r(),Bt=r(),rt=r();for(_e=0;_e<31;_e++)D[_e]=X[_e];for(D[31]=X[31]&127|64,D[0]&=248,T(re,Q),_e=0;_e<16;_e++)ve[_e]=re[_e],Ye[_e]=ge[_e]=Ze[_e]=0;for(ge[0]=Ye[0]=1,_e=254;_e>=0;--_e)ue=D[_e>>>3]>>>(_e&7)&1,S(ge,ve,ue),S(Ze,Ye,ue),O(Bt,ge,Ze),K(ge,ge,Ze),O(Ze,ve,Ye),K(ve,ve,Ye),J(Ye,Bt),J(rt,ge),ee(ge,Ze,ge),ee(Ze,ve,Bt),O(Bt,ge,Ze),K(ge,ge,Ze),J(ve,ge),K(Ze,Ye,rt),ee(ge,Ze,u),O(ge,ge,Ye),ee(Ze,Ze,ge),ee(ge,Ye,rt),ee(Ye,ve,re),J(ve,Bt),S(ge,ve,ue),S(Ze,Ye,ue);for(_e=0;_e<16;_e++)re[_e+16]=ge[_e],re[_e+32]=Ze[_e],re[_e+48]=ve[_e],re[_e+64]=Ye[_e];var Et=re.subarray(32),At=re.subarray(16);return $(Et,Et),ee(At,At,Et),m(V,At),0}function te(V,X){return Y(V,X,i)}function G(V,X){return n(X,32),te(V,X)}function j(V,X,Q){var D=new Uint8Array(32);return Y(D,Q,X),N(V,s,D,U)}var W=h,oe=g;function ae(V,X,Q,D,re,ue){var _e=new Uint8Array(32);return j(_e,re,ue),W(V,X,Q,D,_e)}function he(V,X,Q,D,re,ue){var _e=new Uint8Array(32);return j(_e,re,ue),oe(V,X,Q,D,_e)}var Oe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function me(V,X,Q,D){for(var re=new Int32Array(16),ue=new Int32Array(16),_e,ge,ve,Ze,Ye,Bt,rt,Et,At,_t,Ot,kt,Ct,It,ft,pt,at,ht,ct,st,Te,Pe,et,Je,Xe,lt,Ht=V[0],Yt=V[1],tr=V[2],Xt=V[3],ye=V[4],or=V[5],_r=V[6],Sr=V[7],ir=X[0],yr=X[1],vr=X[2],fn=X[3],kr=X[4],Fr=X[5],hn=X[6],dn=X[7],Hr=0;D>=128;){for(ct=0;ct<16;ct++)st=8*ct+Hr,re[ct]=Q[st+0]<<24|Q[st+1]<<16|Q[st+2]<<8|Q[st+3],ue[ct]=Q[st+4]<<24|Q[st+5]<<16|Q[st+6]<<8|Q[st+7];for(ct=0;ct<80;ct++)if(_e=Ht,ge=Yt,ve=tr,Ze=Xt,Ye=ye,Bt=or,rt=_r,Et=Sr,At=ir,_t=yr,Ot=vr,kt=fn,Ct=kr,It=Fr,ft=hn,pt=dn,Te=Sr,Pe=dn,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=(ye>>>14|kr<<18)^(ye>>>18|kr<<14)^(kr>>>9|ye<<23),Pe=(kr>>>14|ye<<18)^(kr>>>18|ye<<14)^(ye>>>9|kr<<23),et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Te=ye&or^~ye&_r,Pe=kr&Fr^~kr&hn,et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Te=Oe[ct*2],Pe=Oe[ct*2+1],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Te=re[ct%16],Pe=ue[ct%16],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,at=Xe&65535|lt<<16,ht=et&65535|Je<<16,Te=at,Pe=ht,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=(Ht>>>28|ir<<4)^(ir>>>2|Ht<<30)^(ir>>>7|Ht<<25),Pe=(ir>>>28|Ht<<4)^(Ht>>>2|ir<<30)^(Ht>>>7|ir<<25),et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Te=Ht&Yt^Ht&tr^Yt&tr,Pe=ir&yr^ir&vr^yr&vr,et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,Et=Xe&65535|lt<<16,pt=et&65535|Je<<16,Te=Ze,Pe=kt,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=at,Pe=ht,et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,Ze=Xe&65535|lt<<16,kt=et&65535|Je<<16,Yt=_e,tr=ge,Xt=ve,ye=Ze,or=Ye,_r=Bt,Sr=rt,Ht=Et,yr=At,vr=_t,fn=Ot,kr=kt,Fr=Ct,hn=It,dn=ft,ir=pt,ct%16===15)for(st=0;st<16;st++)Te=re[st],Pe=ue[st],et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=re[(st+9)%16],Pe=ue[(st+9)%16],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,at=re[(st+1)%16],ht=ue[(st+1)%16],Te=(at>>>1|ht<<31)^(at>>>8|ht<<24)^at>>>7,Pe=(ht>>>1|at<<31)^(ht>>>8|at<<24)^(ht>>>7|at<<25),et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,at=re[(st+14)%16],ht=ue[(st+14)%16],Te=(at>>>19|ht<<13)^(ht>>>29|at<<3)^at>>>6,Pe=(ht>>>19|at<<13)^(at>>>29|ht<<3)^(ht>>>6|at<<26),et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,re[st]=Xe&65535|lt<<16,ue[st]=et&65535|Je<<16;Te=Ht,Pe=ir,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[0],Pe=X[0],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[0]=Ht=Xe&65535|lt<<16,X[0]=ir=et&65535|Je<<16,Te=Yt,Pe=yr,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[1],Pe=X[1],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[1]=Yt=Xe&65535|lt<<16,X[1]=yr=et&65535|Je<<16,Te=tr,Pe=vr,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[2],Pe=X[2],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[2]=tr=Xe&65535|lt<<16,X[2]=vr=et&65535|Je<<16,Te=Xt,Pe=fn,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[3],Pe=X[3],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[3]=Xt=Xe&65535|lt<<16,X[3]=fn=et&65535|Je<<16,Te=ye,Pe=kr,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[4],Pe=X[4],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[4]=ye=Xe&65535|lt<<16,X[4]=kr=et&65535|Je<<16,Te=or,Pe=Fr,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[5],Pe=X[5],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[5]=or=Xe&65535|lt<<16,X[5]=Fr=et&65535|Je<<16,Te=_r,Pe=hn,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[6],Pe=X[6],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[6]=_r=Xe&65535|lt<<16,X[6]=hn=et&65535|Je<<16,Te=Sr,Pe=dn,et=Pe&65535,Je=Pe>>>16,Xe=Te&65535,lt=Te>>>16,Te=V[7],Pe=X[7],et+=Pe&65535,Je+=Pe>>>16,Xe+=Te&65535,lt+=Te>>>16,Je+=et>>>16,Xe+=Je>>>16,lt+=Xe>>>16,V[7]=Sr=Xe&65535|lt<<16,X[7]=dn=et&65535|Je<<16,Hr+=128,D-=128}return D}function Ee(V,X,Q){var D=new Int32Array(8),re=new Int32Array(8),ue=new Uint8Array(256),_e,ge=Q;for(D[0]=1779033703,D[1]=3144134277,D[2]=1013904242,D[3]=2773480762,D[4]=1359893119,D[5]=2600822924,D[6]=528734635,D[7]=1541459225,re[0]=4089235720,re[1]=2227873595,re[2]=4271175723,re[3]=1595750129,re[4]=2917565137,re[5]=725511199,re[6]=4215389547,re[7]=327033209,me(D,re,X,Q),Q%=128,_e=0;_e<Q;_e++)ue[_e]=X[ge-Q+_e];for(ue[Q]=128,Q=256-128*(Q<112?1:0),ue[Q-9]=0,M(ue,Q-8,ge/536870912|0,ge<<3),me(D,re,ue,Q),_e=0;_e<8;_e++)M(V,8*_e,D[_e],re[_e]);return 0}function it(V,X){var Q=r(),D=r(),re=r(),ue=r(),_e=r(),ge=r(),ve=r(),Ze=r(),Ye=r();K(Q,V[1],V[0]),K(Ye,X[1],X[0]),ee(Q,Q,Ye),O(D,V[0],V[1]),O(Ye,X[0],X[1]),ee(D,D,Ye),ee(re,V[3],X[3]),ee(re,re,p),ee(ue,V[2],X[2]),O(ue,ue,ue),K(_e,D,Q),K(ge,ue,re),O(ve,ue,re),O(Ze,D,Q),ee(V[0],_e,ge),ee(V[1],Ze,ve),ee(V[2],ve,ge),ee(V[3],_e,Ze)}function Se(V,X,Q){var D;for(D=0;D<4;D++)S(V[D],X[D],Q)}function xe(V,X){var Q=r(),D=r(),re=r();$(re,X[2]),ee(Q,X[0],re),ee(D,X[1],re),m(V,D),V[31]^=w(Q)<<7}function Mt(V,X,Q){var D,re;for(y(V[0],o),y(V[1],l),y(V[2],l),y(V[3],o),re=255;re>=0;--re)D=Q[re/8|0]>>(re&7)&1,Se(V,X,D),it(X,V),it(V,V),Se(V,X,D)}function Ie(V,X){var Q=[r(),r(),r(),r()];y(Q[0],v),y(Q[1],b),y(Q[2],l),ee(Q[3],v,b),Mt(V,Q,X)}function Ne(V,X,Q){var D=new Uint8Array(64),re=[r(),r(),r(),r()],ue;for(Q||n(X,32),Ee(D,X,32),D[0]&=248,D[31]&=127,D[31]|=64,Ie(re,D),xe(V,re),ue=0;ue<32;ue++)X[ue+32]=V[ue];return 0}var qt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Z(V,X){var Q,D,re,ue;for(D=63;D>=32;--D){for(Q=0,re=D-32,ue=D-12;re<ue;++re)X[re]+=Q-16*X[D]*qt[re-(D-32)],Q=Math.floor((X[re]+128)/256),X[re]-=Q*256;X[re]+=Q,X[D]=0}for(Q=0,re=0;re<32;re++)X[re]+=Q-(X[31]>>4)*qt[re],Q=X[re]>>8,X[re]&=255;for(re=0;re<32;re++)X[re]-=Q*qt[re];for(D=0;D<32;D++)X[D+1]+=X[D]>>8,V[D]=X[D]&255}function B(V){var X=new Float64Array(64),Q;for(Q=0;Q<64;Q++)X[Q]=V[Q];for(Q=0;Q<64;Q++)V[Q]=0;Z(V,X)}function H(V,X,Q,D){var re=new Uint8Array(64),ue=new Uint8Array(64),_e=new Uint8Array(64),ge,ve,Ze=new Float64Array(64),Ye=[r(),r(),r(),r()];Ee(re,D,32),re[0]&=248,re[31]&=127,re[31]|=64;var Bt=Q+64;for(ge=0;ge<Q;ge++)V[64+ge]=X[ge];for(ge=0;ge<32;ge++)V[32+ge]=re[32+ge];for(Ee(_e,V.subarray(32),Q+32),B(_e),Ie(Ye,_e),xe(V,Ye),ge=32;ge<64;ge++)V[ge]=D[ge];for(Ee(ue,V,Q+64),B(ue),ge=0;ge<64;ge++)Ze[ge]=0;for(ge=0;ge<32;ge++)Ze[ge]=_e[ge];for(ge=0;ge<32;ge++)for(ve=0;ve<32;ve++)Ze[ge+ve]+=ue[ge]*re[ve];return Z(V.subarray(32),Ze),Bt}function ne(V,X){var Q=r(),D=r(),re=r(),ue=r(),_e=r(),ge=r(),ve=r();return y(V[2],l),T(V[1],X),J(re,V[1]),ee(ue,re,d),K(re,re,V[2]),O(ue,V[2],ue),J(_e,ue),J(ge,_e),ee(ve,ge,_e),ee(Q,ve,re),ee(Q,Q,ue),z(Q,Q),ee(Q,Q,re),ee(Q,Q,ue),ee(Q,Q,ue),ee(V[0],Q,ue),J(D,V[0]),ee(D,D,ue),c(D,re)&&ee(V[0],V[0],_),J(D,V[0]),ee(D,D,ue),c(D,re)?-1:(w(V[0])===X[31]>>7&&K(V[0],o,V[0]),ee(V[3],V[0],V[1]),0)}function ce(V,X,Q,D){var re,ue=new Uint8Array(32),_e=new Uint8Array(64),ge=[r(),r(),r(),r()],ve=[r(),r(),r(),r()];if(Q<64||ne(ve,D))return-1;for(re=0;re<Q;re++)V[re]=X[re];for(re=0;re<32;re++)V[re+32]=D[re];if(Ee(_e,V,Q),B(_e),Mt(ge,ve,_e),Ie(ve,X.subarray(32)),it(ge,ve),xe(ue,ge),Q-=64,k(X,0,ue,0)){for(re=0;re<Q;re++)V[re]=0;return-1}for(re=0;re<Q;re++)V[re]=X[re+64];return Q}var Me=32,de=24,Ce=32,Rt=16,ke=32,De=32,St=32,Be=32,He=32,Jt=de,Ue=Ce,Ke=Rt,zt=64,Le=32,ze=64,le=32,se=64;e.lowlevel={crypto_core_hsalsa20:N,crypto_stream_xor:ie,crypto_stream:L,crypto_stream_salsa20_xor:q,crypto_stream_salsa20:F,crypto_onetimeauth:a,crypto_onetimeauth_verify:f,crypto_verify_16:I,crypto_verify_32:k,crypto_secretbox:h,crypto_secretbox_open:g,crypto_scalarmult:Y,crypto_scalarmult_base:te,crypto_box_beforenm:j,crypto_box_afternm:W,crypto_box:ae,crypto_box_open:he,crypto_box_keypair:G,crypto_hash:Ee,crypto_sign:H,crypto_sign_keypair:Ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:Me,crypto_secretbox_NONCEBYTES:de,crypto_secretbox_ZEROBYTES:Ce,crypto_secretbox_BOXZEROBYTES:Rt,crypto_scalarmult_BYTES:ke,crypto_scalarmult_SCALARBYTES:De,crypto_box_PUBLICKEYBYTES:St,crypto_box_SECRETKEYBYTES:Be,crypto_box_BEFORENMBYTES:He,crypto_box_NONCEBYTES:Jt,crypto_box_ZEROBYTES:Ue,crypto_box_BOXZEROBYTES:Ke,crypto_sign_BYTES:zt,crypto_sign_PUBLICKEYBYTES:Le,crypto_sign_SECRETKEYBYTES:ze,crypto_sign_SEEDBYTES:le,crypto_hash_BYTES:se,gf:r,D:d,L:qt,pack:xe,pack25519:m,unpack25519:T,M:ee,A:O,S:J,Z:K,pow2523:z,add:it,set25519:y,modL:Z,scalarmult:Mt,scalarbase:Ie};function be(V,X){if(V.length!==Me)throw new Error("bad key size");if(X.length!==de)throw new Error("bad nonce size")}function Ge(V,X){if(V.length!==St)throw new Error("bad public key size");if(X.length!==Be)throw new Error("bad secret key size")}function we(){for(var V=0;V<arguments.length;V++)if(!(arguments[V]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Fe(V){for(var X=0;X<V.length;X++)V[X]=0}e.randomBytes=function(V){var X=new Uint8Array(V);return n(X,V),X},e.secretbox=function(V,X,Q){we(V,X,Q),be(Q,X);for(var D=new Uint8Array(Ce+V.length),re=new Uint8Array(D.length),ue=0;ue<V.length;ue++)D[ue+Ce]=V[ue];return h(re,D,D.length,X,Q),re.subarray(Rt)},e.secretbox.open=function(V,X,Q){we(V,X,Q),be(Q,X);for(var D=new Uint8Array(Rt+V.length),re=new Uint8Array(D.length),ue=0;ue<V.length;ue++)D[ue+Rt]=V[ue];return D.length<32||g(re,D,D.length,X,Q)!==0?null:re.subarray(Ce)},e.secretbox.keyLength=Me,e.secretbox.nonceLength=de,e.secretbox.overheadLength=Rt,e.scalarMult=function(V,X){if(we(V,X),V.length!==De)throw new Error("bad n size");if(X.length!==ke)throw new Error("bad p size");var Q=new Uint8Array(ke);return Y(Q,V,X),Q},e.scalarMult.base=function(V){if(we(V),V.length!==De)throw new Error("bad n size");var X=new Uint8Array(ke);return te(X,V),X},e.scalarMult.scalarLength=De,e.scalarMult.groupElementLength=ke,e.box=function(V,X,Q,D){var re=e.box.before(Q,D);return e.secretbox(V,X,re)},e.box.before=function(V,X){we(V,X),Ge(V,X);var Q=new Uint8Array(He);return j(Q,V,X),Q},e.box.after=e.secretbox,e.box.open=function(V,X,Q,D){var re=e.box.before(Q,D);return e.secretbox.open(V,X,re)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var V=new Uint8Array(St),X=new Uint8Array(Be);return G(V,X),{publicKey:V,secretKey:X}},e.box.keyPair.fromSecretKey=function(V){if(we(V),V.length!==Be)throw new Error("bad secret key size");var X=new Uint8Array(St);return te(X,V),{publicKey:X,secretKey:new Uint8Array(V)}},e.box.publicKeyLength=St,e.box.secretKeyLength=Be,e.box.sharedKeyLength=He,e.box.nonceLength=Jt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(V,X){if(we(V,X),X.length!==ze)throw new Error("bad secret key size");var Q=new Uint8Array(zt+V.length);return H(Q,V,V.length,X),Q},e.sign.open=function(V,X){if(we(V,X),X.length!==Le)throw new Error("bad public key size");var Q=new Uint8Array(V.length),D=ce(Q,V,V.length,X);if(D<0)return null;for(var re=new Uint8Array(D),ue=0;ue<re.length;ue++)re[ue]=Q[ue];return re},e.sign.detached=function(V,X){for(var Q=e.sign(V,X),D=new Uint8Array(zt),re=0;re<D.length;re++)D[re]=Q[re];return D},e.sign.detached.verify=function(V,X,Q){if(we(V,X,Q),X.length!==zt)throw new Error("bad signature size");if(Q.length!==Le)throw new Error("bad public key size");var D=new Uint8Array(zt+V.length),re=new Uint8Array(zt+V.length),ue;for(ue=0;ue<zt;ue++)D[ue]=X[ue];for(ue=0;ue<V.length;ue++)D[ue+zt]=V[ue];return ce(re,D,D.length,Q)>=0},e.sign.keyPair=function(){var V=new Uint8Array(Le),X=new Uint8Array(ze);return Ne(V,X),{publicKey:V,secretKey:X}},e.sign.keyPair.fromSecretKey=function(V){if(we(V),V.length!==ze)throw new Error("bad secret key size");for(var X=new Uint8Array(Le),Q=0;Q<X.length;Q++)X[Q]=V[32+Q];return{publicKey:X,secretKey:new Uint8Array(V)}},e.sign.keyPair.fromSeed=function(V){if(we(V),V.length!==le)throw new Error("bad seed size");for(var X=new Uint8Array(Le),Q=new Uint8Array(ze),D=0;D<32;D++)Q[D]=V[D];return Ne(X,Q,!0),{publicKey:X,secretKey:Q}},e.sign.publicKeyLength=Le,e.sign.secretKeyLength=ze,e.sign.seedLength=le,e.sign.signatureLength=zt,e.hash=function(V){we(V);var X=new Uint8Array(se);return Ee(X,V,V.length),X},e.hash.hashLength=se,e.verify=function(V,X){return we(V,X),V.length===0||X.length===0||V.length!==X.length?!1:A(V,0,X,0,V.length)===0},e.setPRNG=function(V){n=V},function(){var V=typeof self<"u"?self.crypto||self.msCrypto:null;if(V&&V.getRandomValues){var X=65536;e.setPRNG(function(Q,D){var re,ue=new Uint8Array(D);for(re=0;re<D;re+=X)V.getRandomValues(ue.subarray(re,re+Math.min(D-re,X)));for(re=0;re<D;re++)Q[re]=ue[re];Fe(ue)})}else typeof m6<"u"&&(V=ML(),V&&V.randomBytes&&e.setPRNG(function(Q,D){var re,ue=V.randomBytes(D);for(re=0;re<D;re++)Q[re]=ue[re];Fe(ue)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(cD);var $te=cD.exports;const uD=Zn($te),ru=uD.lowlevel;function Ute(t){let e;typeof t=="string"?e=Buffer.from(t,"hex"):e=t;const r=new Uint8Array(64),n=[ru.gf(),ru.gf(),ru.gf(),ru.gf()],s=new Uint8Array([...new Uint8Array(e),...new Uint8Array(32)]),i=new Uint8Array(32);ru.crypto_hash(r,s,32),r[0]&=248,r[31]&=127,r[31]|=64,ru.scalarbase(n,r),ru.pack(i,n);for(let o=0;o<32;o+=1)s[o+32]=i[o];return{sk:Buffer.from(s),pk:Buffer.from(i)}}var Fte={exports:{}},N3={exports:{}};let jte=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};var Sn={AggregateError:jte,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array},fD={exports:{}},hD={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){const s=e.shift();return n==="f"?s.toFixed(6):n==="j"?JSON.stringify(s):n==="s"&&typeof s=="object"?`${s.constructor!==Object?s.constructor.name:""} {}`.trim():s.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}};const{format:qte,inspect:uy}=hD,{AggregateError:zte}=Sn,Hte=globalThis.AggregateError||zte,Kte=Symbol("kIsNodeError"),Wte=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Vte=/^([A-Z][a-z0-9]*)+$/,Gte="__node_internal_",Bv={};function Pu(t,e){if(!t)throw new Bv.ERR_INTERNAL_ASSERTION(e)}function J7(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Yte(t,e,r){if(typeof e=="function")return Pu(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return Pu(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:qte(e,...r)}function Ti(t,e,r){r||(r=Error);class n extends r{constructor(...i){super(Yte(t,e,i))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[Kte]=!0,Bv[t]=n}function X7(t){const e=Gte+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Zte(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new Hte([e,t],e.message);return r.code=e.code,r}return t||e}let Jte=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Bv.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Ti("ERR_ASSERTION","%s",Error);Ti("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Pu(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const s=[],i=[],o=[];for(const u of e)Pu(typeof u=="string","All expected entries have to be of type string"),Wte.includes(u)?s.push(u.toLowerCase()):Vte.test(u)?i.push(u):(Pu(u!=="object",'The value "object" should be written as "Object"'),o.push(u));if(i.length>0){const u=s.indexOf("object");u!==-1&&(s.splice(s,u,1),i.push("Object"))}if(s.length>0){switch(s.length){case 1:n+=`of type ${s[0]}`;break;case 2:n+=`one of type ${s[0]} or ${s[1]}`;break;default:{const u=s.pop();n+=`one of type ${s.join(", ")}, or ${u}`}}(i.length>0||o.length>0)&&(n+=" or ")}if(i.length>0){switch(i.length){case 1:n+=`an instance of ${i[0]}`;break;case 2:n+=`an instance of ${i[0]} or ${i[1]}`;break;default:{const u=i.pop();n+=`an instance of ${i.join(", ")}, or ${u}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const u=o.pop();n+=`one of ${o.join(", ")}, or ${u}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var l;if((l=r.constructor)!==null&&l!==void 0&&l.name)n+=`. Received an instance of ${r.constructor.name}`;else{const u=uy(r,{depth:-1});n+=`. Received ${u}`}}else{let u=uy(r,{colors:!1});u.length>25&&(u=`${u.slice(0,25)}...`),n+=`. Received type ${typeof r} (${u})`}return n},TypeError);Ti("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=uy(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Ti("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;const s=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${s}.`},TypeError);Ti("ERR_MISSING_ARGS",(...t)=>{Pu(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Ti("ERR_OUT_OF_RANGE",(t,e,r)=>{Pu(e,'Missing "range" argument');let n;if(Number.isInteger(r)&&Math.abs(r)>2**32)n=J7(String(r));else if(typeof r=="bigint"){n=String(r);const s=BigInt(2)**BigInt(32);(r>s||r<-s)&&(n=J7(n)),n+="n"}else n=uy(r);return`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Ti("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ti("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ti("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ti("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ti("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ti("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ti("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ti("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ti("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ti("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ti("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var ls={AbortError:Jte,aggregateTwoErrors:X7(Zte),hideStackFrames:X7,codes:Bv},zd={exports:{}},Q7;function hp(){if(Q7)return zd.exports;Q7=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return zd.exports=t,zd.exports.AbortSignal=e,zd.exports.default=t,zd.exports}(function(t){const e=Nt,{format:r,inspect:n}=hD,{codes:{ERR_INVALID_ARG_TYPE:s}}=ls,{kResistStopPropagation:i,AggregateError:o,SymbolDispose:l}=Sn,u=globalThis.AbortSignal||hp().AbortSignal,d=globalThis.AbortController||hp().AbortController,p=Object.getPrototypeOf(async function(){}).constructor,v=globalThis.Blob||e.Blob,b=typeof v<"u"?function(I){return I instanceof v}:function(I){return!1},_=(A,I)=>{if(A!==void 0&&(A===null||typeof A!="object"||!("aborted"in A)))throw new s(I,"AbortSignal",A)},M=(A,I)=>{if(typeof A!="function")throw new s(I,"Function",A)};t.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(A){let I=!1;return function(...k){I||(I=!0,A.apply(this,k))}},createDeferredPromise:function(){let A,I;return{promise:new Promise((R,C)=>{A=R,I=C}),resolve:A,reject:I}},promisify(A){return new Promise((I,k)=>{A((R,...C)=>R?k(R):I(...C))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(A){return A instanceof p},isArrayBufferView(A){return ArrayBuffer.isView(A)}},isBlob:b,deprecate(A,I){return A},addAbortListener:Tn.addAbortListener||function(I,k){if(I===void 0)throw new s("signal","AbortSignal",I);_(I,"signal"),M(k,"listener");let R;return I.aborted?queueMicrotask(()=>k()):(I.addEventListener("abort",k,{__proto__:null,once:!0,[i]:!0}),R=()=>{I.removeEventListener("abort",k)}),{__proto__:null,[l](){var C;(C=R)===null||C===void 0||C()}}},AbortSignalAny:u.any||function(I){if(I.length===1)return I[0];const k=new d,R=()=>k.abort();return I.forEach(C=>{_(C,"signals"),C.addEventListener("abort",R,{once:!0})}),k.signal.addEventListener("abort",()=>{I.forEach(C=>C.removeEventListener("abort",R))},{once:!0}),k.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(fD);var Rs=fD.exports,ME={};const{ArrayIsArray:dD,ArrayPrototypeIncludes:Xte,ArrayPrototypeJoin:Qte,ArrayPrototypeMap:ere,NumberIsInteger:AE,NumberIsNaN:ZEe,NumberMAX_SAFE_INTEGER:tre,NumberMIN_SAFE_INTEGER:rre,NumberParseInt:JEe,ObjectPrototypeHasOwnProperty:nre,RegExpPrototypeExec:XEe,String:ire,StringPrototypeToUpperCase:QEe,StringPrototypeTrim:e4e}=Sn,{hideStackFrames:ko,codes:{ERR_SOCKET_BAD_PORT:t4e,ERR_INVALID_ARG_TYPE:Io,ERR_INVALID_ARG_VALUE:pD,ERR_OUT_OF_RANGE:Th,ERR_UNKNOWN_SIGNAL:r4e}}=ls,{normalizeEncoding:n4e}=Rs,{isAsyncFunction:sre,isArrayBufferView:ore}=Rs.types,are=ko((t,e,r=rre,n=tre)=>{if(typeof t!="number")throw new Io(e,"number",t);if(!AE(t))throw new Th(e,"an integer",t);if(t<r||t>n)throw new Th(e,`>= ${r} && <= ${n}`,t)});ko((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Io(e,"number",t);if(!AE(t))throw new Th(e,"an integer",t);if(t<r||t>n)throw new Th(e,`>= ${r} && <= ${n}`,t)});ko((t,e,r=!1)=>{if(typeof t!="number")throw new Io(e,"number",t);if(!AE(t))throw new Th(e,"an integer",t);const n=r?1:0,s=4294967295;if(t<n||t>s)throw new Th(e,`>= ${n} && <= ${s}`,t)});ko((t,e,r)=>{if(!Xte(r,t)){const s="must be one of: "+Qte(ere(r,i=>typeof i=="string"?`'${i}'`:ire(i)),", ");throw new pD(e,t,s)}});function lre(t,e){if(typeof t!="boolean")throw new Io(e,"boolean",t)}function B3(t,e,r){return t==null||!nre(t,e)?r:t[e]}const cre=ko((t,e,r=null)=>{const n=B3(r,"allowArray",!1),s=B3(r,"allowFunction",!1);if(!B3(r,"nullable",!1)&&t===null||!n&&dD(t)||typeof t!="object"&&(!s||typeof t!="function"))throw new Io(e,"Object",t)});ko((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Io(e,"a dictionary",t)});ko((t,e,r=0)=>{if(!dD(t))throw new Io(e,"Array",t);if(t.length<r){const n=`must be longer than ${r}`;throw new pD(e,t,n)}});ko((t,e="buffer")=>{if(!ore(t))throw new Io(e,["Buffer","TypedArray","DataView"],t)});const ure=ko((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Io(e,"AbortSignal",t)}),fre=ko((t,e)=>{if(typeof t!="function")throw new Io(e,"Function",t)});ko((t,e)=>{if(typeof t!="function"||sre(t))throw new Io(e,"Function",t)});ko((t,e)=>{if(t!==void 0)throw new Io(e,"undefined",t)});var Qp={validateBoolean:lre,validateFunction:fre,validateInteger:are,validateObject:cre,validateAbortSignal:ure},kE={exports:{}};const{SymbolAsyncIterator:eI,SymbolIterator:tI,SymbolFor:nf}=Sn,gD=nf("nodejs.stream.destroyed"),hre=nf("nodejs.stream.errored"),rI=nf("nodejs.stream.readable"),nI=nf("nodejs.stream.writable"),dre=nf("nodejs.stream.disturbed"),pre=nf("nodejs.webstream.isClosedPromise"),gre=nf("nodejs.webstream.controllerErrorFunction");function IE(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Lv(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function mre(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ka(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function mD(t){return!!(t&&!Ka(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function yD(t){return!!(t&&!Ka(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function vD(t){return!!(t&&!Ka(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function yre(t){return mD(t)||yD(t)||vD(t)}function vre(t,e){return t==null?!1:e===!0?typeof t[eI]=="function":e===!1?typeof t[tI]=="function":typeof t[eI]=="function"||typeof t[tI]=="function"}function Dv(t){if(!Ka(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[gD]||n!=null&&n.destroyed)}function wre(t){if(!Lv(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function bre(t,e){if(!Lv(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function wD(t,e){if(!IE(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function bD(t){return t&&t[rI]!=null?t[rI]:typeof(t==null?void 0:t.readable)!="boolean"?null:Dv(t)?!1:IE(t)&&t.readable&&!wD(t)}function xD(t){return t&&t[nI]!=null?t[nI]:typeof(t==null?void 0:t.writable)!="boolean"?null:Dv(t)?!1:Lv(t)&&t.writable&&!wre(t)}function xre(t,e){return Ka(t)?Dv(t)?!0:!((e==null?void 0:e.readable)!==!1&&bD(t)||(e==null?void 0:e.writable)!==!1&&xD(t)):null}function _re(t){var e,r;return Ka(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Sre(t){var e,r;return Ka(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Ere(t){if(!Ka(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(e==null?void 0:e.closed)||(r==null?void 0:r.closed):typeof t._closed=="boolean"&&_D(t)?t._closed:null}function _D(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Mre(t){return typeof t._sent100=="boolean"&&_D(t)}function Are(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function kre(t){if(!Ka(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&Mre(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Ire(t){var e;return!!(t&&((e=t[dre])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Rre(t){var e,r,n,s,i,o,l,u,d,p;return!!(t&&((e=(r=(n=(s=(i=(o=t[hre])!==null&&o!==void 0?o:t.readableErrored)!==null&&i!==void 0?i:t.writableErrored)!==null&&s!==void 0?s:(l=t._readableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&n!==void 0?n:(u=t._writableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(d=t._readableState)===null||d===void 0?void 0:d.errored)!==null&&e!==void 0?e:!((p=t._writableState)===null||p===void 0)&&p.errored))}var Fl={isDestroyed:Dv,kIsDestroyed:gD,isDisturbed:Ire,isErrored:Rre,isReadable:bD,kIsClosedPromise:pre,kControllerErrorFunction:gre,isClosed:Ere,isDuplexNodeStream:mre,isFinished:xre,isIterable:vre,isReadableNodeStream:IE,isReadableStream:mD,isReadableFinished:wD,isReadableErrored:Sre,isNodeStream:Ka,isWebStream:yre,isWritable:xD,isWritableNodeStream:Lv,isWritableStream:yD,isWritableFinished:bre,isWritableErrored:_re,isServerRequest:Are,willEmitClose:kre,isTransformStream:vD};const sc=Hc,{AbortError:SD,codes:Cre}=ls,{ERR_INVALID_ARG_TYPE:Tre,ERR_STREAM_PREMATURE_CLOSE:iI}=Cre,{kEmptyObject:E6,once:M6}=Rs,{validateAbortSignal:Pre,validateFunction:Ore,validateObject:Nre,validateBoolean:Bre}=Qp,{Promise:Lre,PromisePrototypeThen:Dre,SymbolDispose:ED}=Sn,{isClosed:$re,isReadable:sI,isReadableNodeStream:L3,isReadableStream:Ure,isReadableFinished:oI,isReadableErrored:aI,isWritable:lI,isWritableNodeStream:cI,isWritableStream:Fre,isWritableFinished:uI,isWritableErrored:fI,isNodeStream:jre,willEmitClose:qre,kIsClosedPromise:zre}=Fl;let hh;function Hre(t){return t.setHeader&&typeof t.abort=="function"}const A6=()=>{};function MD(t,e,r){var n,s;if(arguments.length===2?(r=e,e=E6):e==null?e=E6:Nre(e,"options"),Ore(r,"callback"),Pre(e.signal,"options.signal"),r=M6(r),Ure(t)||Fre(t))return Kre(t,e,r);if(!jre(t))throw new Tre("stream",["ReadableStream","WritableStream","Stream"],t);const i=(n=e.readable)!==null&&n!==void 0?n:L3(t),o=(s=e.writable)!==null&&s!==void 0?s:cI(t),l=t._writableState,u=t._readableState,d=()=>{t.writable||b()};let p=qre(t)&&L3(t)===i&&cI(t)===o,v=uI(t,!1);const b=()=>{v=!0,t.destroyed&&(p=!1),!(p&&(!t.readable||i))&&(!i||_)&&r.call(t)};let _=oI(t,!1);const M=()=>{_=!0,t.destroyed&&(p=!1),!(p&&(!t.writable||o))&&(!o||v)&&r.call(t)},A=N=>{r.call(t,N)};let I=$re(t);const k=()=>{I=!0;const N=fI(t)||aI(t);if(N&&typeof N!="boolean")return r.call(t,N);if(i&&!_&&L3(t,!0)&&!oI(t,!1))return r.call(t,new iI);if(o&&!v&&!uI(t,!1))return r.call(t,new iI);r.call(t)},R=()=>{I=!0;const N=fI(t)||aI(t);if(N&&typeof N!="boolean")return r.call(t,N);r.call(t)},C=()=>{t.req.on("finish",b)};Hre(t)?(t.on("complete",b),p||t.on("abort",k),t.req?C():t.on("request",C)):o&&!l&&(t.on("end",d),t.on("close",d)),!p&&typeof t.aborted=="boolean"&&t.on("aborted",k),t.on("end",M),t.on("finish",b),e.error!==!1&&t.on("error",A),t.on("close",k),I?sc.nextTick(k):l!=null&&l.errorEmitted||u!=null&&u.errorEmitted?p||sc.nextTick(R):(!i&&(!p||sI(t))&&(v||lI(t)===!1)||!o&&(!p||lI(t))&&(_||sI(t)===!1)||u&&t.req&&t.aborted)&&sc.nextTick(R);const P=()=>{r=A6,t.removeListener("aborted",k),t.removeListener("complete",b),t.removeListener("abort",k),t.removeListener("request",C),t.req&&t.req.removeListener("finish",b),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",b),t.removeListener("end",M),t.removeListener("error",A),t.removeListener("close",k)};if(e.signal&&!I){const N=()=>{const U=r;P(),U.call(t,new SD(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)sc.nextTick(N);else{hh=hh||Rs.addAbortListener;const U=hh(e.signal,N),q=r;r=M6((...F)=>{U[ED](),q.apply(t,F)})}}return P}function Kre(t,e,r){let n=!1,s=A6;if(e.signal)if(s=()=>{n=!0,r.call(t,new SD(void 0,{cause:e.signal.reason}))},e.signal.aborted)sc.nextTick(s);else{hh=hh||Rs.addAbortListener;const o=hh(e.signal,s),l=r;r=M6((...u)=>{o[ED](),l.apply(t,u)})}const i=(...o)=>{n||sc.nextTick(()=>r.apply(t,o))};return Dre(t[zre].promise,i,i),A6}function Wre(t,e){var r;let n=!1;return e===null&&(e=E6),(r=e)!==null&&r!==void 0&&r.cleanup&&(Bre(e.cleanup,"cleanup"),n=e.cleanup),new Lre((s,i)=>{const o=MD(t,e,l=>{n&&o(),l?i(l):s()})})}kE.exports=MD;kE.exports.finished=Wre;var Yc=kE.exports;const Pa=Hc,{aggregateTwoErrors:Vre,codes:{ERR_MULTIPLE_CALLBACK:Gre},AbortError:Yre}=ls,{Symbol:AD}=Sn,{kIsDestroyed:Zre,isDestroyed:Jre,isFinished:Xre,isServerRequest:Qre}=Fl,kD=AD("kDestroy"),k6=AD("kConstruct");function ID(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function ene(t,e){const r=this._readableState,n=this._writableState,s=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(ID(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),s.constructed?hI(this,t,e):this.once(kD,function(i){hI(this,Vre(i,t),e)}),this)}function hI(t,e,r){let n=!1;function s(i){if(n)return;n=!0;const o=t._readableState,l=t._writableState;ID(i,l,o),l&&(l.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(i),i?Pa.nextTick(tne,t,i):Pa.nextTick(RD,t)}try{t._destroy(e||null,s)}catch(i){s(i)}}function tne(t,e){I6(t,e),RD(t)}function RD(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function I6(t,e){const r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function rne(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function R6(t,e,r){const n=t._readableState,s=t._writableState;if(s!=null&&s.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||s!=null&&s.autoDestroy?t.destroy(e):e&&(e.stack,s&&!s.errored&&(s.errored=e),n&&!n.errored&&(n.errored=e),r?Pa.nextTick(I6,t,e):I6(t,e))}function nne(t,e){if(typeof t._construct!="function")return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(k6,e),!(t.listenerCount(k6)>1)&&Pa.nextTick(ine,t)}function ine(t){let e=!1;function r(n){if(e){R6(t,n??new Gre);return}e=!0;const s=t._readableState,i=t._writableState,o=i||s;s&&(s.constructed=!0),i&&(i.constructed=!0),o.destroyed?t.emit(kD,n):n?R6(t,n,!0):Pa.nextTick(sne,t)}try{t._construct(n=>{Pa.nextTick(r,n)})}catch(n){Pa.nextTick(r,n)}}function sne(t){t.emit(k6)}function dI(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function CD(t){t.emit("close")}function one(t,e){t.emit("error",e),Pa.nextTick(CD,t)}function ane(t,e){!t||Jre(t)||(!e&&!Xre(t)&&(e=new Yre),Qre(t)?(t.socket=null,t.destroy(e)):dI(t)?t.abort():dI(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Pa.nextTick(one,t,e):Pa.nextTick(CD,t),t.destroyed||(t[Zre]=!0))}var cd={construct:nne,destroyer:ane,destroy:ene,undestroy:rne,errorOrDestroy:R6};const{ArrayIsArray:lne,ObjectSetPrototypeOf:TD}=Sn,{EventEmitter:$v}=Tn;function Uv(t){$v.call(this,t)}TD(Uv.prototype,$v.prototype);TD(Uv,$v);Uv.prototype.pipe=function(t,e){const r=this;function n(p){t.writable&&t.write(p)===!1&&r.pause&&r.pause()}r.on("data",n);function s(){r.readable&&r.resume&&r.resume()}t.on("drain",s),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",l));let i=!1;function o(){i||(i=!0,t.end())}function l(){i||(i=!0,typeof t.destroy=="function"&&t.destroy())}function u(p){d(),$v.listenerCount(this,"error")===0&&this.emit("error",p)}C6(r,"error",u),C6(t,"error",u);function d(){r.removeListener("data",n),t.removeListener("drain",s),r.removeListener("end",o),r.removeListener("close",l),r.removeListener("error",u),t.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};function C6(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):lne(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var RE={Stream:Uv,prependListener:C6},PD={exports:{}};(function(t){const{SymbolDispose:e}=Sn,{AbortError:r,codes:n}=ls,{isNodeStream:s,isWebStream:i,kControllerErrorFunction:o}=Fl,l=Yc,{ERR_INVALID_ARG_TYPE:u}=n;let d;const p=(v,b)=>{if(typeof v!="object"||!("aborted"in v))throw new u(b,"AbortSignal",v)};t.exports.addAbortSignal=function(b,_){if(p(b,"signal"),!s(_)&&!i(_))throw new u("stream",["ReadableStream","WritableStream","Stream"],_);return t.exports.addAbortSignalNoValidate(b,_)},t.exports.addAbortSignalNoValidate=function(v,b){if(typeof v!="object"||!("aborted"in v))return b;const _=s(b)?()=>{b.destroy(new r(void 0,{cause:v.reason}))}:()=>{b[o](new r(void 0,{cause:v.reason}))};if(v.aborted)_();else{d=d||Rs.addAbortListener;const M=d(v,_);l(b,M[e])}return b}})(PD);var Fv=PD.exports;const{StringPrototypeSlice:pI,SymbolIterator:cne,TypedArrayPrototypeSet:pm,Uint8Array:une}=Sn,{Buffer:D3}=Nt,{inspect:fne}=Rs;var hne=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return D3.alloc(0);const r=D3.allocUnsafe(e>>>0);let n=this.head,s=0;for(;n;)pm(r,n.data,s),s+=n.data.length,n=n.next;return r}consume(e,r){const n=this.head.data;if(e<n.length){const s=n.slice(0,e);return this.head.data=n.slice(e),s}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[cne](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,s=0;do{const i=n.data;if(e>i.length)r+=i,e-=i.length;else{e===i.length?(r+=i,++s,n.next?this.head=n.next:this.head=this.tail=null):(r+=pI(i,0,e),this.head=n,n.data=pI(i,e));break}++s}while((n=n.next)!==null);return this.length-=s,r}_getBuffer(e){const r=D3.allocUnsafe(e),n=e;let s=this.head,i=0;do{const o=s.data;if(e>o.length)pm(r,o,n-e),e-=o.length;else{e===o.length?(pm(r,o,n-e),++i,s.next?this.head=s.next:this.head=this.tail=null):(pm(r,new une(o.buffer,o.byteOffset,e),n-e),this.head=s,s.data=o.slice(e));break}++i}while((s=s.next)!==null);return this.length-=i,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return fne(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:dne,NumberIsInteger:pne}=Sn,{validateInteger:gne}=Qp,{ERR_INVALID_ARG_VALUE:mne}=ls.codes;let OD=16*1024,ND=16;function yne(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function BD(t){return t?ND:OD}function vne(t,e){gne(e,"value",0),t?ND=e:OD=e}function wne(t,e,r,n){const s=yne(e,n,r);if(s!=null){if(!pne(s)||s<0){const i=n?`options.${r}`:"options.highWaterMark";throw new mne(i,s)}return dne(s)}return BD(t.objectMode)}var jv={getHighWaterMark:wne,getDefaultHighWaterMark:BD,setDefaultHighWaterMark:vne};const gI=Hc,{PromisePrototypeThen:bne,SymbolAsyncIterator:mI,SymbolIterator:yI}=Sn,{Buffer:xne}=Nt,{ERR_INVALID_ARG_TYPE:_ne,ERR_STREAM_NULL_VALUES:Sne}=ls.codes;function Ene(t,e,r){let n;if(typeof e=="string"||e instanceof xne)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let s;if(e&&e[mI])s=!0,n=e[mI]();else if(e&&e[yI])s=!1,n=e[yI]();else throw new _ne("iterable",["Iterable"],e);const i=new t({objectMode:!0,highWaterMark:1,...r});let o=!1;i._read=function(){o||(o=!0,u())},i._destroy=function(d,p){bne(l(d),()=>gI.nextTick(p,d),v=>gI.nextTick(p,v||d))};async function l(d){const p=d!=null,v=typeof n.throw=="function";if(p&&v){const{value:b,done:_}=await n.throw(d);if(await b,_)return}if(typeof n.return=="function"){const{value:b}=await n.return();await b}}async function u(){for(;;){try{const{value:d,done:p}=s?await n.next():n.next();if(p)i.push(null);else{const v=d&&typeof d.then=="function"?await d:d;if(v===null)throw o=!1,new Sne;if(i.push(v))continue;o=!1}}catch(d){i.destroy(d)}break}}return i}var LD=Ene,$3,vI;function qv(){if(vI)return $3;vI=1;const t=Hc,{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:s,ObjectDefineProperties:i,ObjectKeys:o,ObjectSetPrototypeOf:l,Promise:u,SafeSet:d,SymbolAsyncDispose:p,SymbolAsyncIterator:v,Symbol:b}=Sn;$3=xe,xe.ReadableState=Se;const{EventEmitter:_}=Tn,{Stream:M,prependListener:A}=RE,{Buffer:I}=Nt,{addAbortSignal:k}=Fv,R=Yc;let C=Rs.debuglog("stream",le=>{C=le});const P=hne,N=cd,{getHighWaterMark:U,getDefaultHighWaterMark:q}=jv,{aggregateTwoErrors:F,codes:{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:ie,ERR_OUT_OF_RANGE:E,ERR_STREAM_PUSH_AFTER_EOF:a,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:f},AbortError:h}=ls,{validateObject:g}=Qp,y=b("kPaused"),{StringDecoder:x}=lp,S=LD;l(xe.prototype,M.prototype),l(xe,M);const m=()=>{},{errorOrDestroy:c}=N,w=1,T=2,O=4,K=8,ee=16,J=32,$=64,z=128,Y=256,te=512,G=1024,j=2048,W=4096,oe=8192,ae=16384,he=32768,Oe=65536,me=1<<17,Ee=1<<18;function it(le){return{enumerable:!1,get(){return(this.state&le)!==0},set(se){se?this.state|=le:this.state&=~le}}}i(Se.prototype,{objectMode:it(w),ended:it(T),endEmitted:it(O),reading:it(K),constructed:it(ee),sync:it(J),needReadable:it($),emittedReadable:it(z),readableListening:it(Y),resumeScheduled:it(te),errorEmitted:it(G),emitClose:it(j),autoDestroy:it(W),destroyed:it(oe),closed:it(ae),closeEmitted:it(he),multiAwaitDrain:it(Oe),readingMore:it(me),dataEmitted:it(Ee)});function Se(le,se,be){typeof be!="boolean"&&(be=se instanceof Nl()),this.state=j|W|ee|J,le&&le.objectMode&&(this.state|=w),be&&le&&le.readableObjectMode&&(this.state|=w),this.highWaterMark=le?U(this,le,"readableHighWaterMark",be):q(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[y]=null,le&&le.emitClose===!1&&(this.state&=-2049),le&&le.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=le&&le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,le&&le.encoding&&(this.decoder=new x(le.encoding),this.encoding=le.encoding)}function xe(le){if(!(this instanceof xe))return new xe(le);const se=this instanceof Nl();this._readableState=new Se(le,this,se),le&&(typeof le.read=="function"&&(this._read=le.read),typeof le.destroy=="function"&&(this._destroy=le.destroy),typeof le.construct=="function"&&(this._construct=le.construct),le.signal&&!se&&k(le.signal,this)),M.call(this,le),N.construct(this,()=>{this._readableState.needReadable&&ce(this,this._readableState)})}xe.prototype.destroy=N.destroy,xe.prototype._undestroy=N.undestroy,xe.prototype._destroy=function(le,se){se(le)},xe.prototype[_.captureRejectionSymbol]=function(le){this.destroy(le)},xe.prototype[p]=function(){let le;return this.destroyed||(le=this.readableEnded?null:new h,this.destroy(le)),new u((se,be)=>R(this,Ge=>Ge&&Ge!==le?be(Ge):se(null)))},xe.prototype.push=function(le,se){return Mt(this,le,se,!1)},xe.prototype.unshift=function(le,se){return Mt(this,le,se,!0)};function Mt(le,se,be,Ge){C("readableAddChunk",se);const we=le._readableState;let Fe;if(we.state&w||(typeof se=="string"?(be=be||we.defaultEncoding,we.encoding!==be&&(Ge&&we.encoding?se=I.from(se,be).toString(we.encoding):(se=I.from(se,be),be=""))):se instanceof I?be="":M._isUint8Array(se)?(se=M._uint8ArrayToBuffer(se),be=""):se!=null&&(Fe=new L("chunk",["string","Buffer","Uint8Array"],se))),Fe)c(le,Fe);else if(se===null)we.state&=-9,B(le,we);else if(we.state&w||se&&se.length>0)if(Ge)if(we.state&O)c(le,new f);else{if(we.destroyed||we.errored)return!1;Ie(le,we,se,!0)}else if(we.ended)c(le,new a);else{if(we.destroyed||we.errored)return!1;we.state&=-9,we.decoder&&!be?(se=we.decoder.write(se),we.objectMode||se.length!==0?Ie(le,we,se,!1):ce(le,we)):Ie(le,we,se,!1)}else Ge||(we.state&=-9,ce(le,we));return!we.ended&&(we.length<we.highWaterMark||we.length===0)}function Ie(le,se,be,Ge){se.flowing&&se.length===0&&!se.sync&&le.listenerCount("data")>0?(se.state&Oe?se.awaitDrainWriters.clear():se.awaitDrainWriters=null,se.dataEmitted=!0,le.emit("data",be)):(se.length+=se.objectMode?1:be.length,Ge?se.buffer.unshift(be):se.buffer.push(be),se.state&$&&H(le)),ce(le,se)}xe.prototype.isPaused=function(){const le=this._readableState;return le[y]===!0||le.flowing===!1},xe.prototype.setEncoding=function(le){const se=new x(le);this._readableState.decoder=se,this._readableState.encoding=this._readableState.decoder.encoding;const be=this._readableState.buffer;let Ge="";for(const we of be)Ge+=se.write(we);return be.clear(),Ge!==""&&be.push(Ge),this._readableState.length=Ge.length,this};const Ne=1073741824;function qt(le){if(le>Ne)throw new E("size","<= 1GiB",le);return le--,le|=le>>>1,le|=le>>>2,le|=le>>>4,le|=le>>>8,le|=le>>>16,le++,le}function Z(le,se){return le<=0||se.length===0&&se.ended?0:se.state&w?1:n(le)?se.flowing&&se.length?se.buffer.first().length:se.length:le<=se.length?le:se.ended?se.length:0}xe.prototype.read=function(le){C("read",le),le===void 0?le=NaN:r(le)||(le=s(le,10));const se=this._readableState,be=le;if(le>se.highWaterMark&&(se.highWaterMark=qt(le)),le!==0&&(se.state&=-129),le===0&&se.needReadable&&((se.highWaterMark!==0?se.length>=se.highWaterMark:se.length>0)||se.ended))return C("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?Ue(this):H(this),null;if(le=Z(le,se),le===0&&se.ended)return se.length===0&&Ue(this),null;let Ge=(se.state&$)!==0;if(C("need readable",Ge),(se.length===0||se.length-le<se.highWaterMark)&&(Ge=!0,C("length less than watermark",Ge)),se.ended||se.reading||se.destroyed||se.errored||!se.constructed)Ge=!1,C("reading, ended or constructing",Ge);else if(Ge){C("do read"),se.state|=K|J,se.length===0&&(se.state|=$);try{this._read(se.highWaterMark)}catch(Fe){c(this,Fe)}se.state&=-33,se.reading||(le=Z(be,se))}let we;return le>0?we=Jt(le,se):we=null,we===null?(se.needReadable=se.length<=se.highWaterMark,le=0):(se.length-=le,se.multiAwaitDrain?se.awaitDrainWriters.clear():se.awaitDrainWriters=null),se.length===0&&(se.ended||(se.needReadable=!0),be!==le&&se.ended&&Ue(this)),we!==null&&!se.errorEmitted&&!se.closeEmitted&&(se.dataEmitted=!0,this.emit("data",we)),we};function B(le,se){if(C("onEofChunk"),!se.ended){if(se.decoder){const be=se.decoder.end();be&&be.length&&(se.buffer.push(be),se.length+=se.objectMode?1:be.length)}se.ended=!0,se.sync?H(le):(se.needReadable=!1,se.emittedReadable=!0,ne(le))}}function H(le){const se=le._readableState;C("emitReadable",se.needReadable,se.emittedReadable),se.needReadable=!1,se.emittedReadable||(C("emitReadable",se.flowing),se.emittedReadable=!0,t.nextTick(ne,le))}function ne(le){const se=le._readableState;C("emitReadable_",se.destroyed,se.length,se.ended),!se.destroyed&&!se.errored&&(se.length||se.ended)&&(le.emit("readable"),se.emittedReadable=!1),se.needReadable=!se.flowing&&!se.ended&&se.length<=se.highWaterMark,St(le)}function ce(le,se){!se.readingMore&&se.constructed&&(se.readingMore=!0,t.nextTick(Me,le,se))}function Me(le,se){for(;!se.reading&&!se.ended&&(se.length<se.highWaterMark||se.flowing&&se.length===0);){const be=se.length;if(C("maybeReadMore read 0"),le.read(0),be===se.length)break}se.readingMore=!1}xe.prototype._read=function(le){throw new ie("_read()")},xe.prototype.pipe=function(le,se){const be=this,Ge=this._readableState;Ge.pipes.length===1&&(Ge.multiAwaitDrain||(Ge.multiAwaitDrain=!0,Ge.awaitDrainWriters=new d(Ge.awaitDrainWriters?[Ge.awaitDrainWriters]:[]))),Ge.pipes.push(le),C("pipe count=%d opts=%j",Ge.pipes.length,se);const Fe=(!se||se.end!==!1)&&le!==t.stdout&&le!==t.stderr?X:Ye;Ge.endEmitted?t.nextTick(Fe):be.once("end",Fe),le.on("unpipe",V);function V(Bt,rt){C("onunpipe"),Bt===be&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,re())}function X(){C("onend"),le.end()}let Q,D=!1;function re(){C("cleanup"),le.removeListener("close",ve),le.removeListener("finish",Ze),Q&&le.removeListener("drain",Q),le.removeListener("error",ge),le.removeListener("unpipe",V),be.removeListener("end",X),be.removeListener("end",Ye),be.removeListener("data",_e),D=!0,Q&&Ge.awaitDrainWriters&&(!le._writableState||le._writableState.needDrain)&&Q()}function ue(){D||(Ge.pipes.length===1&&Ge.pipes[0]===le?(C("false write response, pause",0),Ge.awaitDrainWriters=le,Ge.multiAwaitDrain=!1):Ge.pipes.length>1&&Ge.pipes.includes(le)&&(C("false write response, pause",Ge.awaitDrainWriters.size),Ge.awaitDrainWriters.add(le)),be.pause()),Q||(Q=de(be,le),le.on("drain",Q))}be.on("data",_e);function _e(Bt){C("ondata");const rt=le.write(Bt);C("dest.write",rt),rt===!1&&ue()}function ge(Bt){if(C("onerror",Bt),Ye(),le.removeListener("error",ge),le.listenerCount("error")===0){const rt=le._writableState||le._readableState;rt&&!rt.errorEmitted?c(le,Bt):le.emit("error",Bt)}}A(le,"error",ge);function ve(){le.removeListener("finish",Ze),Ye()}le.once("close",ve);function Ze(){C("onfinish"),le.removeListener("close",ve),Ye()}le.once("finish",Ze);function Ye(){C("unpipe"),be.unpipe(le)}return le.emit("pipe",be),le.writableNeedDrain===!0?ue():Ge.flowing||(C("pipe resume"),be.resume()),le};function de(le,se){return function(){const Ge=le._readableState;Ge.awaitDrainWriters===se?(C("pipeOnDrain",1),Ge.awaitDrainWriters=null):Ge.multiAwaitDrain&&(C("pipeOnDrain",Ge.awaitDrainWriters.size),Ge.awaitDrainWriters.delete(se)),(!Ge.awaitDrainWriters||Ge.awaitDrainWriters.size===0)&&le.listenerCount("data")&&le.resume()}}xe.prototype.unpipe=function(le){const se=this._readableState,be={hasUnpiped:!1};if(se.pipes.length===0)return this;if(!le){const we=se.pipes;se.pipes=[],this.pause();for(let Fe=0;Fe<we.length;Fe++)we[Fe].emit("unpipe",this,{hasUnpiped:!1});return this}const Ge=e(se.pipes,le);return Ge===-1?this:(se.pipes.splice(Ge,1),se.pipes.length===0&&this.pause(),le.emit("unpipe",this,be),this)},xe.prototype.on=function(le,se){const be=M.prototype.on.call(this,le,se),Ge=this._readableState;return le==="data"?(Ge.readableListening=this.listenerCount("readable")>0,Ge.flowing!==!1&&this.resume()):le==="readable"&&!Ge.endEmitted&&!Ge.readableListening&&(Ge.readableListening=Ge.needReadable=!0,Ge.flowing=!1,Ge.emittedReadable=!1,C("on readable",Ge.length,Ge.reading),Ge.length?H(this):Ge.reading||t.nextTick(Rt,this)),be},xe.prototype.addListener=xe.prototype.on,xe.prototype.removeListener=function(le,se){const be=M.prototype.removeListener.call(this,le,se);return le==="readable"&&t.nextTick(Ce,this),be},xe.prototype.off=xe.prototype.removeListener,xe.prototype.removeAllListeners=function(le){const se=M.prototype.removeAllListeners.apply(this,arguments);return(le==="readable"||le===void 0)&&t.nextTick(Ce,this),se};function Ce(le){const se=le._readableState;se.readableListening=le.listenerCount("readable")>0,se.resumeScheduled&&se[y]===!1?se.flowing=!0:le.listenerCount("data")>0?le.resume():se.readableListening||(se.flowing=null)}function Rt(le){C("readable nexttick read 0"),le.read(0)}xe.prototype.resume=function(){const le=this._readableState;return le.flowing||(C("resume"),le.flowing=!le.readableListening,ke(this,le)),le[y]=!1,this};function ke(le,se){se.resumeScheduled||(se.resumeScheduled=!0,t.nextTick(De,le,se))}function De(le,se){C("resume",se.reading),se.reading||le.read(0),se.resumeScheduled=!1,le.emit("resume"),St(le),se.flowing&&!se.reading&&le.read(0)}xe.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[y]=!0,this};function St(le){const se=le._readableState;for(C("flow",se.flowing);se.flowing&&le.read()!==null;);}xe.prototype.wrap=function(le){let se=!1;le.on("data",Ge=>{!this.push(Ge)&&le.pause&&(se=!0,le.pause())}),le.on("end",()=>{this.push(null)}),le.on("error",Ge=>{c(this,Ge)}),le.on("close",()=>{this.destroy()}),le.on("destroy",()=>{this.destroy()}),this._read=()=>{se&&le.resume&&(se=!1,le.resume())};const be=o(le);for(let Ge=1;Ge<be.length;Ge++){const we=be[Ge];this[we]===void 0&&typeof le[we]=="function"&&(this[we]=le[we].bind(le))}return this},xe.prototype[v]=function(){return Be(this)},xe.prototype.iterator=function(le){return le!==void 0&&g(le,"options"),Be(this,le)};function Be(le,se){typeof le.read!="function"&&(le=xe.wrap(le,{objectMode:!0}));const be=He(le,se);return be.stream=le,be}async function*He(le,se){let be=m;function Ge(V){this===le?(be(),be=m):be=V}le.on("readable",Ge);let we;const Fe=R(le,{writable:!1},V=>{we=V?F(we,V):null,be(),be=m});try{for(;;){const V=le.destroyed?null:le.read();if(V!==null)yield V;else{if(we)throw we;if(we===null)return;await new u(Ge)}}}catch(V){throw we=F(we,V),we}finally{(we||(se==null?void 0:se.destroyOnReturn)!==!1)&&(we===void 0||le._readableState.autoDestroy)?N.destroyer(le,null):(le.off("readable",Ge),Fe())}}i(xe.prototype,{readable:{__proto__:null,get(){const le=this._readableState;return!!le&&le.readable!==!1&&!le.destroyed&&!le.errorEmitted&&!le.endEmitted},set(le){this._readableState&&(this._readableState.readable=!!le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(le){this._readableState&&(this._readableState.destroyed=le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),i(Se.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[y]!==!1},set(le){this[y]=!!le}}}),xe._fromList=Jt;function Jt(le,se){if(se.length===0)return null;let be;return se.objectMode?be=se.buffer.shift():!le||le>=se.length?(se.decoder?be=se.buffer.join(""):se.buffer.length===1?be=se.buffer.first():be=se.buffer.concat(se.length),se.buffer.clear()):be=se.buffer.consume(le,se.decoder),be}function Ue(le){const se=le._readableState;C("endReadable",se.endEmitted),se.endEmitted||(se.ended=!0,t.nextTick(Ke,se,le))}function Ke(le,se){if(C("endReadableNT",le.endEmitted,le.length),!le.errored&&!le.closeEmitted&&!le.endEmitted&&le.length===0){if(le.endEmitted=!0,se.emit("end"),se.writable&&se.allowHalfOpen===!1)t.nextTick(zt,se);else if(le.autoDestroy){const be=se._writableState;(!be||be.autoDestroy&&(be.finished||be.writable===!1))&&se.destroy()}}}function zt(le){le.writable&&!le.writableEnded&&!le.destroyed&&le.end()}xe.from=function(le,se){return S(xe,le,se)};let Le;function ze(){return Le===void 0&&(Le={}),Le}return xe.fromWeb=function(le,se){return ze().newStreamReadableFromReadableStream(le,se)},xe.toWeb=function(le,se){return ze().newReadableStreamFromStreamReadable(le,se)},xe.wrap=function(le,se){var be,Ge;return new xe({objectMode:(be=(Ge=le.readableObjectMode)!==null&&Ge!==void 0?Ge:le.objectMode)!==null&&be!==void 0?be:!0,...se,destroy(we,Fe){N.destroyer(le,we),Fe(we)}}).wrap(le)},$3}var U3,wI;function CE(){if(wI)return U3;wI=1;const t=Hc,{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:s,ObjectDefineProperties:i,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:l,Symbol:u,SymbolHasInstance:d}=Sn;U3=g,g.WritableState=f;const{EventEmitter:p}=Tn,v=RE.Stream,{Buffer:b}=Nt,_=cd,{addAbortSignal:M}=Fv,{getHighWaterMark:A,getDefaultHighWaterMark:I}=jv,{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_MULTIPLE_CALLBACK:C,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:N,ERR_STREAM_ALREADY_FINISHED:U,ERR_STREAM_NULL_VALUES:q,ERR_STREAM_WRITE_AFTER_END:F,ERR_UNKNOWN_ENCODING:L}=ls.codes,{errorOrDestroy:ie}=_;o(g.prototype,v.prototype),o(g,v);function E(){}const a=u("kOnFinished");function f(W,oe,ae){typeof ae!="boolean"&&(ae=oe instanceof Nl()),this.objectMode=!!(W&&W.objectMode),ae&&(this.objectMode=this.objectMode||!!(W&&W.writableObjectMode)),this.highWaterMark=W?A(this,W,"writableHighWaterMark",ae):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const he=!!(W&&W.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=W&&W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=c.bind(void 0,oe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,h(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!W||W.emitClose!==!1,this.autoDestroy=!W||W.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[a]=[]}function h(W){W.buffered=[],W.bufferedIndex=0,W.allBuffers=!0,W.allNoop=!0}f.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},s(f.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function g(W){const oe=this instanceof Nl();if(!oe&&!n(g,this))return new g(W);this._writableState=new f(W,this,oe),W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final),typeof W.construct=="function"&&(this._construct=W.construct),W.signal&&M(W.signal,this)),v.call(this,W),_.construct(this,()=>{const ae=this._writableState;ae.writing||K(this,ae),z(this,ae)})}s(g,d,{__proto__:null,value:function(W){return n(this,W)?!0:this!==g?!1:W&&W._writableState instanceof f}}),g.prototype.pipe=function(){ie(this,new P)};function y(W,oe,ae,he){const Oe=W._writableState;if(typeof ae=="function")he=ae,ae=Oe.defaultEncoding;else{if(!ae)ae=Oe.defaultEncoding;else if(ae!=="buffer"&&!b.isEncoding(ae))throw new L(ae);typeof he!="function"&&(he=E)}if(oe===null)throw new q;if(!Oe.objectMode)if(typeof oe=="string")Oe.decodeStrings!==!1&&(oe=b.from(oe,ae),ae="buffer");else if(oe instanceof b)ae="buffer";else if(v._isUint8Array(oe))oe=v._uint8ArrayToBuffer(oe),ae="buffer";else throw new k("chunk",["string","Buffer","Uint8Array"],oe);let me;return Oe.ending?me=new F:Oe.destroyed&&(me=new N("write")),me?(t.nextTick(he,me),ie(W,me,!0),me):(Oe.pendingcb++,x(W,Oe,oe,ae,he))}g.prototype.write=function(W,oe,ae){return y(this,W,oe,ae)===!0},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){const W=this._writableState;W.corked&&(W.corked--,W.writing||K(this,W))},g.prototype.setDefaultEncoding=function(oe){if(typeof oe=="string"&&(oe=l(oe)),!b.isEncoding(oe))throw new L(oe);return this._writableState.defaultEncoding=oe,this};function x(W,oe,ae,he,Oe){const me=oe.objectMode?1:ae.length;oe.length+=me;const Ee=oe.length<oe.highWaterMark;return Ee||(oe.needDrain=!0),oe.writing||oe.corked||oe.errored||!oe.constructed?(oe.buffered.push({chunk:ae,encoding:he,callback:Oe}),oe.allBuffers&&he!=="buffer"&&(oe.allBuffers=!1),oe.allNoop&&Oe!==E&&(oe.allNoop=!1)):(oe.writelen=me,oe.writecb=Oe,oe.writing=!0,oe.sync=!0,W._write(ae,he,oe.onwrite),oe.sync=!1),Ee&&!oe.errored&&!oe.destroyed}function S(W,oe,ae,he,Oe,me,Ee){oe.writelen=he,oe.writecb=Ee,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new N("write")):ae?W._writev(Oe,oe.onwrite):W._write(Oe,me,oe.onwrite),oe.sync=!1}function m(W,oe,ae,he){--oe.pendingcb,he(ae),O(oe),ie(W,ae)}function c(W,oe){const ae=W._writableState,he=ae.sync,Oe=ae.writecb;if(typeof Oe!="function"){ie(W,new C);return}ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0,oe?(oe.stack,ae.errored||(ae.errored=oe),W._readableState&&!W._readableState.errored&&(W._readableState.errored=oe),he?t.nextTick(m,W,ae,oe,Oe):m(W,ae,oe,Oe)):(ae.buffered.length>ae.bufferedIndex&&K(W,ae),he?ae.afterWriteTickInfo!==null&&ae.afterWriteTickInfo.cb===Oe?ae.afterWriteTickInfo.count++:(ae.afterWriteTickInfo={count:1,cb:Oe,stream:W,state:ae},t.nextTick(w,ae.afterWriteTickInfo)):T(W,ae,1,Oe))}function w({stream:W,state:oe,count:ae,cb:he}){return oe.afterWriteTickInfo=null,T(W,oe,ae,he)}function T(W,oe,ae,he){for(!oe.ending&&!W.destroyed&&oe.length===0&&oe.needDrain&&(oe.needDrain=!1,W.emit("drain"));ae-- >0;)oe.pendingcb--,he();oe.destroyed&&O(oe),z(W,oe)}function O(W){if(W.writing)return;for(let Oe=W.bufferedIndex;Oe<W.buffered.length;++Oe){var oe;const{chunk:me,callback:Ee}=W.buffered[Oe],it=W.objectMode?1:me.length;W.length-=it,Ee((oe=W.errored)!==null&&oe!==void 0?oe:new N("write"))}const ae=W[a].splice(0);for(let Oe=0;Oe<ae.length;Oe++){var he;ae[Oe]((he=W.errored)!==null&&he!==void 0?he:new N("end"))}h(W)}function K(W,oe){if(oe.corked||oe.bufferProcessing||oe.destroyed||!oe.constructed)return;const{buffered:ae,bufferedIndex:he,objectMode:Oe}=oe,me=ae.length-he;if(!me)return;let Ee=he;if(oe.bufferProcessing=!0,me>1&&W._writev){oe.pendingcb-=me-1;const it=oe.allNoop?E:xe=>{for(let Mt=Ee;Mt<ae.length;++Mt)ae[Mt].callback(xe)},Se=oe.allNoop&&Ee===0?ae:e(ae,Ee);Se.allBuffers=oe.allBuffers,S(W,oe,!0,oe.length,Se,"",it),h(oe)}else{do{const{chunk:it,encoding:Se,callback:xe}=ae[Ee];ae[Ee++]=null;const Mt=Oe?1:it.length;S(W,oe,!1,Mt,it,Se,xe)}while(Ee<ae.length&&!oe.writing);Ee===ae.length?h(oe):Ee>256?(ae.splice(0,Ee),oe.bufferedIndex=0):oe.bufferedIndex=Ee}oe.bufferProcessing=!1}g.prototype._write=function(W,oe,ae){if(this._writev)this._writev([{chunk:W,encoding:oe}],ae);else throw new R("_write()")},g.prototype._writev=null,g.prototype.end=function(W,oe,ae){const he=this._writableState;typeof W=="function"?(ae=W,W=null,oe=null):typeof oe=="function"&&(ae=oe,oe=null);let Oe;if(W!=null){const me=y(this,W,oe);me instanceof r&&(Oe=me)}return he.corked&&(he.corked=1,this.uncork()),Oe||(!he.errored&&!he.ending?(he.ending=!0,z(this,he,!0),he.ended=!0):he.finished?Oe=new U("end"):he.destroyed&&(Oe=new N("end"))),typeof ae=="function"&&(Oe||he.finished?t.nextTick(ae,Oe):he[a].push(ae)),this};function ee(W){return W.ending&&!W.destroyed&&W.constructed&&W.length===0&&!W.errored&&W.buffered.length===0&&!W.finished&&!W.writing&&!W.errorEmitted&&!W.closeEmitted}function J(W,oe){let ae=!1;function he(Oe){if(ae){ie(W,Oe??C());return}if(ae=!0,oe.pendingcb--,Oe){const me=oe[a].splice(0);for(let Ee=0;Ee<me.length;Ee++)me[Ee](Oe);ie(W,Oe,oe.sync)}else ee(oe)&&(oe.prefinished=!0,W.emit("prefinish"),oe.pendingcb++,t.nextTick(Y,W,oe))}oe.sync=!0,oe.pendingcb++;try{W._final(he)}catch(Oe){he(Oe)}oe.sync=!1}function $(W,oe){!oe.prefinished&&!oe.finalCalled&&(typeof W._final=="function"&&!oe.destroyed?(oe.finalCalled=!0,J(W,oe)):(oe.prefinished=!0,W.emit("prefinish")))}function z(W,oe,ae){ee(oe)&&($(W,oe),oe.pendingcb===0&&(ae?(oe.pendingcb++,t.nextTick((he,Oe)=>{ee(Oe)?Y(he,Oe):Oe.pendingcb--},W,oe)):ee(oe)&&(oe.pendingcb++,Y(W,oe))))}function Y(W,oe){oe.pendingcb--,oe.finished=!0;const ae=oe[a].splice(0);for(let he=0;he<ae.length;he++)ae[he]();if(W.emit("finish"),oe.autoDestroy){const he=W._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&W.destroy()}}i(g.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(W){this._writableState&&(this._writableState.destroyed=W)}},writable:{__proto__:null,get(){const W=this._writableState;return!!W&&W.writable!==!1&&!W.destroyed&&!W.errored&&!W.ending&&!W.ended},set(W){this._writableState&&(this._writableState.writable=!!W)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const W=this._writableState;return W?!W.destroyed&&!W.ending&&W.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const te=_.destroy;g.prototype.destroy=function(W,oe){const ae=this._writableState;return!ae.destroyed&&(ae.bufferedIndex<ae.buffered.length||ae[a].length)&&t.nextTick(O,ae),te.call(this,W,oe),this},g.prototype._undestroy=_.undestroy,g.prototype._destroy=function(W,oe){oe(W)},g.prototype[p.captureRejectionSymbol]=function(W){this.destroy(W)};let G;function j(){return G===void 0&&(G={}),G}return g.fromWeb=function(W,oe){return j().newStreamWritableFromWritableStream(W,oe)},g.toWeb=function(W){return j().newWritableStreamFromStreamWritable(W)},U3}var F3,bI;function Mne(){if(bI)return F3;bI=1;const t=Hc,e=Nt,{isReadable:r,isWritable:n,isIterable:s,isNodeStream:i,isReadableNodeStream:o,isWritableNodeStream:l,isDuplexNodeStream:u,isReadableStream:d,isWritableStream:p}=Fl,v=Yc,{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:M}}=ls,{destroyer:A}=cd,I=Nl(),k=qv(),R=CE(),{createDeferredPromise:C}=Rs,P=LD,N=globalThis.Blob||e.Blob,U=typeof N<"u"?function(f){return f instanceof N}:function(f){return!1},q=globalThis.AbortController||hp().AbortController,{FunctionPrototypeCall:F}=Sn;class L extends I{constructor(f){super(f),(f==null?void 0:f.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(f==null?void 0:f.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}F3=function a(f,h){if(u(f))return f;if(o(f))return E({readable:f});if(l(f))return E({writable:f});if(i(f))return E({writable:!1,readable:!1});if(d(f))return E({readable:k.fromWeb(f)});if(p(f))return E({writable:R.fromWeb(f)});if(typeof f=="function"){const{value:y,write:x,final:S,destroy:m}=ie(f);if(s(y))return P(L,y,{objectMode:!0,write:x,final:S,destroy:m});const c=y==null?void 0:y.then;if(typeof c=="function"){let w;const T=F(c,y,O=>{if(O!=null)throw new M("nully","body",O)},O=>{A(w,O)});return w=new L({objectMode:!0,readable:!1,write:x,final(O){S(async()=>{try{await T,t.nextTick(O,null)}catch(K){t.nextTick(O,K)}})},destroy:m})}throw new M("Iterable, AsyncIterable or AsyncFunction",h,y)}if(U(f))return a(f.arrayBuffer());if(s(f))return P(L,f,{objectMode:!0,writable:!1});if(d(f==null?void 0:f.readable)&&p(f==null?void 0:f.writable))return L.fromWeb(f);if(typeof(f==null?void 0:f.writable)=="object"||typeof(f==null?void 0:f.readable)=="object"){const y=f!=null&&f.readable?o(f==null?void 0:f.readable)?f==null?void 0:f.readable:a(f.readable):void 0,x=f!=null&&f.writable?l(f==null?void 0:f.writable)?f==null?void 0:f.writable:a(f.writable):void 0;return E({readable:y,writable:x})}const g=f==null?void 0:f.then;if(typeof g=="function"){let y;return F(g,f,x=>{x!=null&&y.push(x),y.push(null)},x=>{A(y,x)}),y=new L({objectMode:!0,writable:!1,read(){}})}throw new _(h,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],f)};function ie(a){let{promise:f,resolve:h}=C();const g=new q,y=g.signal;return{value:a(async function*(){for(;;){const S=f;f=null;const{chunk:m,done:c,cb:w}=await S;if(t.nextTick(w),c)return;if(y.aborted)throw new b(void 0,{cause:y.reason});({promise:f,resolve:h}=C()),yield m}}(),{signal:y}),write(S,m,c){const w=h;h=null,w({chunk:S,done:!1,cb:c})},final(S){const m=h;h=null,m({done:!0,cb:S})},destroy(S,m){g.abort(),m(S)}}}function E(a){const f=a.readable&&typeof a.readable.read!="function"?k.wrap(a.readable):a.readable,h=a.writable;let g=!!r(f),y=!!n(h),x,S,m,c,w;function T(O){const K=c;c=null,K?K(O):O&&w.destroy(O)}return w=new L({readableObjectMode:!!(f!=null&&f.readableObjectMode),writableObjectMode:!!(h!=null&&h.writableObjectMode),readable:g,writable:y}),y&&(v(h,O=>{y=!1,O&&A(f,O),T(O)}),w._write=function(O,K,ee){h.write(O,K)?ee():x=ee},w._final=function(O){h.end(),S=O},h.on("drain",function(){if(x){const O=x;x=null,O()}}),h.on("finish",function(){if(S){const O=S;S=null,O()}})),g&&(v(f,O=>{g=!1,O&&A(f,O),T(O)}),f.on("readable",function(){if(m){const O=m;m=null,O()}}),f.on("end",function(){w.push(null)}),w._read=function(){for(;;){const O=f.read();if(O===null){m=w._read;return}if(!w.push(O))return}}),w._destroy=function(O,K){!O&&c!==null&&(O=new b),m=null,x=null,S=null,c===null?K(O):(c=K,A(h,O),A(f,O))},w}return F3}var j3,xI;function Nl(){if(xI)return j3;xI=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=Sn;j3=o;const s=qv(),i=CE();n(o.prototype,s.prototype),n(o,s);{const p=r(i.prototype);for(let v=0;v<p.length;v++){const b=p[v];o.prototype[b]||(o.prototype[b]=i.prototype[b])}}function o(p){if(!(this instanceof o))return new o(p);s.call(this,p),i.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(i.prototype,"writableLength")},writableFinished:{__proto__:null,...e(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});let l;function u(){return l===void 0&&(l={}),l}o.fromWeb=function(p,v){return u().newStreamDuplexFromReadableWritablePair(p,v)},o.toWeb=function(p){return u().newReadableWritablePairFromDuplex(p)};let d;return o.from=function(p){return d||(d=Mne()),d(p,"body")},j3}const{ObjectSetPrototypeOf:DD,Symbol:Ane}=Sn;var $D=Bl;const{ERR_METHOD_NOT_IMPLEMENTED:kne}=ls.codes,TE=Nl(),{getHighWaterMark:Ine}=jv;DD(Bl.prototype,TE.prototype);DD(Bl,TE);const I0=Ane("kCallback");function Bl(t){if(!(this instanceof Bl))return new Bl(t);const e=t?Ine(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),TE.call(this,t),this._readableState.sync=!1,this[I0]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Rne)}function T6(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Rne(){this._final!==T6&&T6.call(this)}Bl.prototype._final=T6;Bl.prototype._transform=function(t,e,r){throw new kne("_transform()")};Bl.prototype._write=function(t,e,r){const n=this._readableState,s=this._writableState,i=n.length;this._transform(t,e,(o,l)=>{if(o){r(o);return}l!=null&&this.push(l),s.ended||i===n.length||n.length<n.highWaterMark?r():this[I0]=r})};Bl.prototype._read=function(){if(this[I0]){const t=this[I0];this[I0]=null,t()}};const{ObjectSetPrototypeOf:UD}=Sn;var FD=Ph;const PE=$D;UD(Ph.prototype,PE.prototype);UD(Ph,PE);function Ph(t){if(!(this instanceof Ph))return new Ph(t);PE.call(this,t)}Ph.prototype._transform=function(t,e,r){r(null,t)};const d0=Hc,{ArrayIsArray:Cne,Promise:Tne,SymbolAsyncIterator:Pne,SymbolDispose:One}=Sn,fy=Yc,{once:Nne}=Rs,Bne=cd,_I=Nl(),{aggregateTwoErrors:Lne,codes:{ERR_INVALID_ARG_TYPE:P6,ERR_INVALID_RETURN_VALUE:q3,ERR_MISSING_ARGS:Dne,ERR_STREAM_DESTROYED:$ne,ERR_STREAM_PREMATURE_CLOSE:Une},AbortError:Fne}=ls,{validateFunction:jne,validateAbortSignal:qne}=Qp,{isIterable:uu,isReadable:z3,isReadableNodeStream:b1,isNodeStream:SI,isTransformStream:Bf,isWebStream:zne,isReadableStream:H3,isReadableFinished:Hne}=Fl,Kne=globalThis.AbortController||hp().AbortController;let K3,W3,V3;function EI(t,e,r){let n=!1;t.on("close",()=>{n=!0});const s=fy(t,{readable:e,writable:r},i=>{n=!i});return{destroy:i=>{n||(n=!0,Bne.destroyer(t,i||new $ne("pipe")))},cleanup:s}}function Wne(t){return jne(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function G3(t){if(uu(t))return t;if(b1(t))return Vne(t);throw new P6("val",["Readable","Iterable","AsyncIterable"],t)}async function*Vne(t){W3||(W3=qv()),yield*W3.prototype[Pne].call(t)}async function gm(t,e,r,{end:n}){let s,i=null;const o=d=>{if(d&&(s=d),i){const p=i;i=null,p()}},l=()=>new Tne((d,p)=>{s?p(s):i=()=>{s?p(s):d()}});e.on("drain",o);const u=fy(e,{readable:!1},o);try{e.writableNeedDrain&&await l();for await(const d of t)e.write(d)||await l();n&&(e.end(),await l()),r()}catch(d){r(s!==d?Lne(s,d):d)}finally{u(),e.off("drain",o)}}async function Y3(t,e,r,{end:n}){Bf(e)&&(e=e.writable);const s=e.getWriter();try{for await(const i of t)await s.ready,s.write(i).catch(()=>{});await s.ready,n&&await s.close(),r()}catch(i){try{await s.abort(i),r(i)}catch(o){r(o)}}}function Gne(...t){return jD(t,Nne(Wne(t)))}function jD(t,e,r){if(t.length===1&&Cne(t[0])&&(t=t[0]),t.length<2)throw new Dne("streams");const n=new Kne,s=n.signal,i=r==null?void 0:r.signal,o=[];qne(i,"options.signal");function l(){M(new Fne)}V3=V3||Rs.addAbortListener;let u;i&&(u=V3(i,l));let d,p;const v=[];let b=0;function _(R){M(R,--b===0)}function M(R,C){var P;if(R&&(!d||d.code==="ERR_STREAM_PREMATURE_CLOSE")&&(d=R),!(!d&&!C)){for(;v.length;)v.shift()(d);(P=u)===null||P===void 0||P[One](),n.abort(),C&&(d||o.forEach(N=>N()),d0.nextTick(e,d,p))}}let A;for(let R=0;R<t.length;R++){const C=t[R],P=R<t.length-1,N=R>0,U=P||(r==null?void 0:r.end)!==!1,q=R===t.length-1;if(SI(C)){let F=function(L){L&&L.name!=="AbortError"&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"&&_(L)};if(U){const{destroy:L,cleanup:ie}=EI(C,P,N);v.push(L),z3(C)&&q&&o.push(ie)}C.on("error",F),z3(C)&&q&&o.push(()=>{C.removeListener("error",F)})}if(R===0)if(typeof C=="function"){if(A=C({signal:s}),!uu(A))throw new q3("Iterable, AsyncIterable or Stream","source",A)}else uu(C)||b1(C)||Bf(C)?A=C:A=_I.from(C);else if(typeof C=="function"){if(Bf(A)){var I;A=G3((I=A)===null||I===void 0?void 0:I.readable)}else A=G3(A);if(A=C(A,{signal:s}),P){if(!uu(A,!0))throw new q3("AsyncIterable",`transform[${R-1}]`,A)}else{var k;K3||(K3=FD);const F=new K3({objectMode:!0}),L=(k=A)===null||k===void 0?void 0:k.then;if(typeof L=="function")b++,L.call(A,a=>{p=a,a!=null&&F.write(a),U&&F.end(),d0.nextTick(_)},a=>{F.destroy(a),d0.nextTick(_,a)});else if(uu(A,!0))b++,gm(A,F,_,{end:U});else if(H3(A)||Bf(A)){const a=A.readable||A;b++,gm(a,F,_,{end:U})}else throw new q3("AsyncIterable or Promise","destination",A);A=F;const{destroy:ie,cleanup:E}=EI(A,!1,!0);v.push(ie),q&&o.push(E)}}else if(SI(C)){if(b1(A)){b+=2;const F=Yne(A,C,_,{end:U});z3(C)&&q&&o.push(F)}else if(Bf(A)||H3(A)){const F=A.readable||A;b++,gm(F,C,_,{end:U})}else if(uu(A))b++,gm(A,C,_,{end:U});else throw new P6("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=C}else if(zne(C)){if(b1(A))b++,Y3(G3(A),C,_,{end:U});else if(H3(A)||uu(A))b++,Y3(A,C,_,{end:U});else if(Bf(A))b++,Y3(A.readable,C,_,{end:U});else throw new P6("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=C}else A=_I.from(C)}return(s!=null&&s.aborted||i!=null&&i.aborted)&&d0.nextTick(l),A}function Yne(t,e,r,{end:n}){let s=!1;if(e.on("close",()=>{s||r(new Une)}),t.pipe(e,{end:!1}),n){let i=function(){s=!0,e.end()};Hne(t)?d0.nextTick(i):t.once("end",i)}else r();return fy(t,{readable:!0,writable:!1},i=>{const o=t._readableState;i&&i.code==="ERR_STREAM_PREMATURE_CLOSE"&&o&&o.ended&&!o.errored&&!o.errorEmitted?t.once("end",r).once("error",r):r(i)}),fy(e,{readable:!1,writable:!0},r)}var OE={pipelineImpl:jD,pipeline:Gne};const{pipeline:Zne}=OE,mm=Nl(),{destroyer:Jne}=cd,{isNodeStream:ym,isReadable:MI,isWritable:AI,isWebStream:Z3,isTransformStream:nu,isWritableStream:kI,isReadableStream:II}=Fl,{AbortError:Xne,codes:{ERR_INVALID_ARG_VALUE:RI,ERR_MISSING_ARGS:Qne}}=ls,eie=Yc;var qD=function(...e){if(e.length===0)throw new Qne("streams");if(e.length===1)return mm.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=mm.from(e[0])),typeof e[e.length-1]=="function"){const _=e.length-1;e[_]=mm.from(e[_])}for(let _=0;_<e.length;++_)if(!(!ym(e[_])&&!Z3(e[_]))){if(_<e.length-1&&!(MI(e[_])||II(e[_])||nu(e[_])))throw new RI(`streams[${_}]`,r[_],"must be readable");if(_>0&&!(AI(e[_])||kI(e[_])||nu(e[_])))throw new RI(`streams[${_}]`,r[_],"must be writable")}let n,s,i,o,l;function u(_){const M=o;o=null,M?M(_):_?l.destroy(_):!b&&!v&&l.destroy()}const d=e[0],p=Zne(e,u),v=!!(AI(d)||kI(d)||nu(d)),b=!!(MI(p)||II(p)||nu(p));if(l=new mm({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(p!=null&&p.readableObjectMode),writable:v,readable:b}),v){if(ym(d))l._write=function(M,A,I){d.write(M,A)?I():n=I},l._final=function(M){d.end(),s=M},d.on("drain",function(){if(n){const M=n;n=null,M()}});else if(Z3(d)){const A=(nu(d)?d.writable:d).getWriter();l._write=async function(I,k,R){try{await A.ready,A.write(I).catch(()=>{}),R()}catch(C){R(C)}},l._final=async function(I){try{await A.ready,A.close().catch(()=>{}),s=I}catch(k){I(k)}}}const _=nu(p)?p.readable:p;eie(_,()=>{if(s){const M=s;s=null,M()}})}if(b){if(ym(p))p.on("readable",function(){if(i){const _=i;i=null,_()}}),p.on("end",function(){l.push(null)}),l._read=function(){for(;;){const _=p.read();if(_===null){i=l._read;return}if(!l.push(_))return}};else if(Z3(p)){const M=(nu(p)?p.readable:p).getReader();l._read=async function(){for(;;)try{const{value:A,done:I}=await M.read();if(!l.push(A))return;if(I){l.push(null);return}}catch{return}}}}return l._destroy=function(_,M){!_&&o!==null&&(_=new Xne),i=null,n=null,s=null,o===null?M(_):(o=M,ym(p)&&Jne(p,_))},l};const tie=globalThis.AbortController||hp().AbortController,{codes:{ERR_INVALID_ARG_VALUE:rie,ERR_INVALID_ARG_TYPE:eg,ERR_MISSING_ARGS:nie,ERR_OUT_OF_RANGE:iie},AbortError:Fa}=ls,{validateAbortSignal:sf,validateInteger:CI,validateObject:of}=Qp,sie=Sn.Symbol("kWeak"),oie=Sn.Symbol("kResistStopPropagation"),{finished:aie}=Yc,lie=qD,{addAbortSignalNoValidate:cie}=Fv,{isWritable:uie,isNodeStream:fie}=Fl,{deprecate:hie}=Rs,{ArrayPrototypePush:die,Boolean:pie,MathFloor:TI,Number:gie,NumberIsNaN:mie,Promise:PI,PromiseReject:OI,PromiseResolve:yie,PromisePrototypeThen:NI,Symbol:zD}=Sn,hy=zD("kEmpty"),BI=zD("kEof");function vie(t,e){if(e!=null&&of(e,"options"),(e==null?void 0:e.signal)!=null&&sf(e.signal,"options.signal"),fie(t)&&!uie(t))throw new rie("stream",t,"must be writable");const r=lie(this,t);return e!=null&&e.signal&&cie(e.signal,r),r}function zv(t,e){if(typeof t!="function")throw new eg("fn",["Function","AsyncFunction"],t);e!=null&&of(e,"options"),(e==null?void 0:e.signal)!=null&&sf(e.signal,"options.signal");let r=1;(e==null?void 0:e.concurrency)!=null&&(r=TI(e.concurrency));let n=r-1;return(e==null?void 0:e.highWaterMark)!=null&&(n=TI(e.highWaterMark)),CI(r,"options.concurrency",1),CI(n,"options.highWaterMark",0),n+=r,(async function*(){const i=Rs.AbortSignalAny([e==null?void 0:e.signal].filter(pie)),o=this,l=[],u={signal:i};let d,p,v=!1,b=0;function _(){v=!0,M()}function M(){b-=1,A()}function A(){p&&!v&&b<r&&l.length<n&&(p(),p=null)}async function I(){try{for await(let k of o){if(v)return;if(i.aborted)throw new Fa;try{if(k=t(k,u),k===hy)continue;k=yie(k)}catch(R){k=OI(R)}b+=1,NI(k,M,_),l.push(k),d&&(d(),d=null),!v&&(l.length>=n||b>=r)&&await new PI(R=>{p=R})}l.push(BI)}catch(k){const R=OI(k);NI(R,M,_),l.push(R)}finally{v=!0,d&&(d(),d=null)}}I();try{for(;;){for(;l.length>0;){const k=await l[0];if(k===BI)return;if(i.aborted)throw new Fa;k!==hy&&(yield k),l.shift(),A()}await new PI(k=>{d=k})}}finally{v=!0,p&&(p(),p=null)}}).call(this)}function wie(t=void 0){return t!=null&&of(t,"options"),(t==null?void 0:t.signal)!=null&&sf(t.signal,"options.signal"),(async function*(){let r=0;for await(const s of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Fa({cause:t.signal.reason});yield[r++,s]}}).call(this)}async function HD(t,e=void 0){for await(const r of NE.call(this,t,e))return!0;return!1}async function bie(t,e=void 0){if(typeof t!="function")throw new eg("fn",["Function","AsyncFunction"],t);return!await HD.call(this,async(...r)=>!await t(...r),e)}async function xie(t,e){for await(const r of NE.call(this,t,e))return r}async function _ie(t,e){if(typeof t!="function")throw new eg("fn",["Function","AsyncFunction"],t);async function r(n,s){return await t(n,s),hy}for await(const n of zv.call(this,r,e));}function NE(t,e){if(typeof t!="function")throw new eg("fn",["Function","AsyncFunction"],t);async function r(n,s){return await t(n,s)?n:hy}return zv.call(this,r,e)}class Sie extends nie{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Eie(t,e,r){var n;if(typeof t!="function")throw new eg("reducer",["Function","AsyncFunction"],t);r!=null&&of(r,"options"),(r==null?void 0:r.signal)!=null&&sf(r.signal,"options.signal");let s=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const d=new Fa(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await aie(this.destroy(d)),d}const i=new tie,o=i.signal;if(r!=null&&r.signal){const d={once:!0,[sie]:this,[oie]:!0};r.signal.addEventListener("abort",()=>i.abort(),d)}let l=!1;try{for await(const d of this){var u;if(l=!0,r!=null&&(u=r.signal)!==null&&u!==void 0&&u.aborted)throw new Fa;s?e=await t(e,d,{signal:o}):(e=d,s=!0)}if(!l&&!s)throw new Sie}finally{i.abort()}return e}async function Mie(t){t!=null&&of(t,"options"),(t==null?void 0:t.signal)!=null&&sf(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Fa(void 0,{cause:t.signal.reason});die(e,n)}return e}function Aie(t,e){const r=zv.call(this,t,e);return(async function*(){for await(const s of r)yield*s}).call(this)}function KD(t){if(t=gie(t),mie(t))return 0;if(t<0)throw new iie("number",">= 0",t);return t}function kie(t,e=void 0){return e!=null&&of(e,"options"),(e==null?void 0:e.signal)!=null&&sf(e.signal,"options.signal"),t=KD(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Fa;for await(const i of this){var s;if(e!=null&&(s=e.signal)!==null&&s!==void 0&&s.aborted)throw new Fa;t--<=0&&(yield i)}}).call(this)}function Iie(t,e=void 0){return e!=null&&of(e,"options"),(e==null?void 0:e.signal)!=null&&sf(e.signal,"options.signal"),t=KD(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Fa;for await(const i of this){var s;if(e!=null&&(s=e.signal)!==null&&s!==void 0&&s.aborted)throw new Fa;if(t-- >0&&(yield i),t<=0)return}}).call(this)}ME.streamReturningOperators={asIndexedPairs:hie(wie,"readable.asIndexedPairs will be removed in a future version."),drop:kie,filter:NE,flatMap:Aie,map:zv,take:Iie,compose:vie};ME.promiseReturningOperators={every:bie,forEach:_ie,reduce:Eie,toArray:Mie,some:HD,find:xie};var J3,LI;function WD(){if(LI)return J3;LI=1;const{ArrayPrototypePop:t,Promise:e}=Sn,{isIterable:r,isNodeStream:n,isWebStream:s}=Fl,{pipelineImpl:i}=OE,{finished:o}=Yc;VD();function l(...u){return new e((d,p)=>{let v,b;const _=u[u.length-1];if(_&&typeof _=="object"&&!n(_)&&!r(_)&&!s(_)){const M=t(u);v=M.signal,b=M.end}i(u,(M,A)=>{M?p(M):d(A)},{signal:v,end:b})})}return J3={finished:o,pipeline:l},J3}var DI;function VD(){if(DI)return N3.exports;DI=1;const{Buffer:t}=Nt,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=Sn,{promisify:{custom:s}}=Rs,{streamReturningOperators:i,promiseReturningOperators:o}=ME,{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=ls,u=qD,{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=jv,{pipeline:v}=OE,{destroyer:b}=cd,_=Yc,M=WD(),A=Fl,I=N3.exports=RE.Stream;I.isDestroyed=A.isDestroyed,I.isDisturbed=A.isDisturbed,I.isErrored=A.isErrored,I.isReadable=A.isReadable,I.isWritable=A.isWritable,I.Readable=qv();for(const R of r(i)){let P=function(...N){if(new.target)throw l();return I.Readable.from(n(C,this,N))};const C=i[R];e(P,"name",{__proto__:null,value:C.name}),e(P,"length",{__proto__:null,value:C.length}),e(I.Readable.prototype,R,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}for(const R of r(o)){let P=function(...N){if(new.target)throw l();return n(C,this,N)};const C=o[R];e(P,"name",{__proto__:null,value:C.name}),e(P,"length",{__proto__:null,value:C.length}),e(I.Readable.prototype,R,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}I.Writable=CE(),I.Duplex=Nl(),I.Transform=$D,I.PassThrough=FD,I.pipeline=v;const{addAbortSignal:k}=Fv;return I.addAbortSignal=k,I.finished=_,I.destroy=b,I.compose=u,I.setDefaultHighWaterMark=d,I.getDefaultHighWaterMark=p,e(I,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return M}}),e(v,s,{__proto__:null,enumerable:!0,get(){return M.pipeline}}),e(_,s,{__proto__:null,enumerable:!0,get(){return M.finished}}),I.Stream=I,I._isUint8Array=function(C){return C instanceof Uint8Array},I._uint8ArrayToBuffer=function(C){return t.from(C.buffer,C.byteOffset,C.byteLength)},N3.exports}(function(t){const e=VD(),r=WD(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(Fte);function $I(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Rie(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class Fc extends Tn.EventEmitter{emit(e,...r){let n=e==="error";const s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const l=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw l.context=o,l}const i=s[e];if(i===void 0)return!1;if(typeof i=="function")$I(i,this,r);else{const o=i.length,l=Rie(i);for(let u=0;u<o;u+=1)$I(l[u],this,r)}return!0}}class Hd extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),Ve(this,"code",void 0),Ve(this,"data",void 0),this.code=e,n!==void 0&&(this.data=n)}toString(){return NL({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const Si={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},UI={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},FI=Si.rpc.internal,Cie="Unspecified error message. This is a bug, please report it.",Tie="Unspecified server error.";function GD(t){return Number.isInteger(t)}function jI(t){return typeof t=="string"&&t.length>0}function dy(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function Pie(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function Oie(t){return t>=-32099&&t<=-32e3}function YD(t){const e=t;return!(!e||!GD(e.code)||!jI(e.message)||e.stack&&!jI(e.stack))}function Hv(t,e=Cie){if(GD(t)){const r=t.toString();if(Object.hasOwn(UI,r))return UI[r].message;if(Oie(t))return Tie}return e}const Nie={code:FI,message:Hv(FI)};function O6(t){try{JSON.parse(JSON.stringify(t,(e,r)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof r=="function"||typeof r=="symbol")throw new Error("Not valid json");return r}),(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r})}catch{return!1}return!0}function qI(t){return Object.getOwnPropertyNames(t).reduce((e,r)=>{const n=t[r];return O6(n)&&(e[r]=n),e},{})}function ZD(t){return Array.isArray(t)?t.map(e=>O6(e)?e:dy(e)?qI(e):null):dy(t)?qI(t):O6(t)?t:null}function Bie(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(YD(t))return t;const r=ZD(t);return qe(qe({},e),{},{data:{cause:r}})}function N6(t,{fallbackError:e=Nie,shouldIncludeStack:r=!0}={}){if(!YD(e))throw new Error("Must provide fallback error with integer number code and string message.");const n=Bie(t,e);return r||delete n.stack,n}function Lie(t){return dy(t)&&Object.hasOwn(t,"cause")&&dy(t.cause)}function Die(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function $ie(t,e){if(e!=="[Circular]")return e}class JD extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');Lie(n)?(super(r,{cause:n.cause}),Ve(this,"cause",void 0),Ve(this,"code",void 0),Ve(this,"data",void 0),Object.hasOwn(this,"cause")||Object.assign(this,{cause:n.cause})):(super(r),Ve(this,"cause",void 0),Ve(this,"code",void 0),Ve(this,"data",void 0)),n!==void 0&&(this.data=n),this.code=e,this.cause=n==null?void 0:n.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,Pie(this.data)&&(e.data.cause=ZD(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return NL(this.serialize(),{replacer:$ie,space:2})}}class XD extends JD{constructor(e,r,n){if(!Die(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function QD(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}function ro(t,e){const[r,n]=QD(e);return new JD(t,r??Hv(t),n)}function Kd(t,e){const[r,n]=QD(e);return new XD(t,r??Hv(t),n)}const Zt={parse:t=>ro(Si.rpc.parse,t),invalidRequest:t=>ro(Si.rpc.invalidRequest,t),invalidParams:t=>ro(Si.rpc.invalidParams,t),methodNotFound:t=>ro(Si.rpc.methodNotFound,t),internal:t=>ro(Si.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ro(e,t)},invalidInput:t=>ro(Si.rpc.invalidInput,t),resourceNotFound:t=>ro(Si.rpc.resourceNotFound,t),resourceUnavailable:t=>ro(Si.rpc.resourceUnavailable,t),transactionRejected:t=>ro(Si.rpc.transactionRejected,t),methodNotSupported:t=>ro(Si.rpc.methodNotSupported,t),limitExceeded:t=>ro(Si.rpc.limitExceeded,t)},vo={userRejectedRequest:t=>Kd(Si.provider.userRejectedRequest,t),unauthorized:t=>Kd(Si.provider.unauthorized,t),unsupportedMethod:t=>Kd(Si.provider.unsupportedMethod,t),disconnected:t=>Kd(Si.provider.disconnected,t),chainDisconnected:t=>Kd(Si.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new XD(e,r,n)}};function BE(t){return(e,r,n,s)=>{const i=t[e.method];return i===void 0?n():typeof i=="function"?i(e,r,n,s):(r.result=i,s())}}function Ei(t){return async(e,r,n,s)=>{let i;const o=new Promise(p=>{i=p});let l=null,u=!1;const d=async()=>{u=!0,n(p=>{l=p,i()}),await o};try{await t(e,r,d),u?(await o,l(null)):s(null)}catch(p){const v=p;l?l(v):s(v)}}}function B6(t){const{message:e="",code:r=-32603,stack:n="Stack trace is not available.",data:s=""}=t,i=parseInt((r==null?void 0:r.toString())||"-32603");return{message:e||(t==null?void 0:t.toString())||Hv(i),code:i,stack:n,data:s||e||(t==null?void 0:t.toString())}}class ps extends Fc{constructor(){super(),Ve(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,r,n){const s=[];let i=null,o=!1;for(const l of n)if([i,o]=await ps._runMiddleware(e,r,l,s),o)break;return[i,o,s.reverse()]}static _runMiddleware(e,r,n,s){return new Promise(i=>{const o=u=>{const d=u||r.error;d&&(typeof d=="object"&&Object.keys(d).includes("stack")===!1&&(d.stack="Stack trace is not available."),Ku.error(d),r.error=N6(d,{shouldIncludeStack:!0,fallbackError:B6(d)})),i([d,!0])},l=u=>{r.error?o(r.error):(u&&(typeof u!="function"&&o(new Hd({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),s.push(u)),i([null,!1]))};try{n(e,r,l,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,s)=>{r(i=>i?s(i):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Hd({code:-32603,message:"Response has no error or result for request"});if(!n)throw new Hd({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,s)=>{try{const[i,o,l]=await ps._runAllMiddleware(e,r,this._middleware);return o?(await ps._runReturnHandlers(l),s(i)):n(async u=>{try{await ps._runReturnHandlers(l)}catch(d){return u(d)}return u()})}catch(i){return s(i)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise((r,n)=>{this._handle(e,(s,i)=>{s&&i===void 0?n(s):r(i)}).catch(n)})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Hd({code:-32603,message:"request must be plain object"});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Hd({code:-32603,message:"method must be string"});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=qe({},e),s={id:n.id,jsonrpc:n.jsonrpc};let i=null;try{await this._processRequest(n,s)}catch(o){i=o}return i&&(delete s.result,s.error||(typeof i=="object"&&Object.keys(i).includes("stack")===!1&&(i.stack="Stack trace is not available."),Ku.error(i),s.error=N6(i,{shouldIncludeStack:!0,fallbackError:B6(i)}))),r(i,s)}async _processRequest(e,r){const[n,s,i]=await ps._runAllMiddleware(e,r,this._middleware);if(ps._checkForCompletion(e,r,s),await ps._runReturnHandlers(i),n)throw n}}function Zc(t){const e=new ps;return t.forEach(r=>{e.push(r)}),e.asMiddleware()}function dp(t){const e=new Fc;return e.sendAsync=async r=>{const n=await t.handle(r);if(n.error){typeof n.error=="object"&&Object.keys(n.error).includes("stack")===!1&&(n.error.stack="Stack trace is not available."),Ku.error(n.error);const s=N6(n.error,{fallbackError:B6(n.error),shouldIncludeStack:!0});throw Zt.internal(s)}return n.result},e.send=(r,n)=>{if(typeof n!="function")throw new Error('Must provide callback to "send" method.');t.handle(r,n)},t.on&&t.on("notification",r=>{e.emit("data",null,r)}),e.request=async r=>{const n=qe(qe({},r),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(n)},e}const io={en:"en",ja:"ja",ko:"ko",de:"de",zh:"zh",es:"es",fr:"fr",pt:"pt",nl:"nl",tr:"tr"},Uie={en:"english",ja:"japanese",ko:"korean",de:"german",zh:"mandarin",es:"spanish",fr:"french",pt:"portuguese",nl:"dutch",tr:"turkish"};var e$={exports:{}},t$={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},r$={exports:{}},Fie=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")},jie=Fie,qie=Array.prototype.concat,zie=Array.prototype.slice,zI=r$.exports=function(e){for(var r=[],n=0,s=e.length;n<s;n++){var i=e[n];jie(i)?r=qie.call(r,zie.call(i)):r.push(i)}return r};zI.wrap=function(t){return function(){return t(zI(arguments))}};var Hie=r$.exports,R0=t$,tg=Hie,n$=Object.hasOwnProperty,i$=Object.create(null);for(var X3 in R0)n$.call(R0,X3)&&(i$[R0[X3]]=X3);var Hs=e$.exports={to:{},get:{}};Hs.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=Hs.get.hsl(t),n="hsl";break;case"hwb":r=Hs.get.hwb(t),n="hwb";break;default:r=Hs.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};Hs.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^(\w+)$/,o=[0,0,0,1],l,u,d;if(l=t.match(r)){for(d=l[2],l=l[1],u=0;u<3;u++){var p=u*2;o[u]=parseInt(l.slice(p,p+2),16)}d&&(o[3]=parseInt(d,16)/255)}else if(l=t.match(e)){for(l=l[1],d=l[3],u=0;u<3;u++)o[u]=parseInt(l[u]+l[u],16);d&&(o[3]=parseInt(d+d,16)/255)}else if(l=t.match(n)){for(u=0;u<3;u++)o[u]=parseInt(l[u+1],0);l[4]&&(l[5]?o[3]=parseFloat(l[4])*.01:o[3]=parseFloat(l[4]))}else if(l=t.match(s)){for(u=0;u<3;u++)o[u]=Math.round(parseFloat(l[u+1])*2.55);l[4]&&(l[5]?o[3]=parseFloat(l[4])*.01:o[3]=parseFloat(l[4]))}else return(l=t.match(i))?l[1]==="transparent"?[0,0,0,0]:n$.call(R0,l[1])?(o=R0[l[1]],o[3]=1,o):null:null;for(u=0;u<3;u++)o[u]=Cc(o[u],0,255);return o[3]=Cc(o[3],0,1),o};Hs.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),s=(parseFloat(r[1])%360+360)%360,i=Cc(parseFloat(r[2]),0,100),o=Cc(parseFloat(r[3]),0,100),l=Cc(isNaN(n)?1:n,0,1);return[s,i,o,l]}return null};Hs.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),s=(parseFloat(r[1])%360+360)%360,i=Cc(parseFloat(r[2]),0,100),o=Cc(parseFloat(r[3]),0,100),l=Cc(isNaN(n)?1:n,0,1);return[s,i,o,l]}return null};Hs.to.hex=function(){var t=tg(arguments);return"#"+vm(t[0])+vm(t[1])+vm(t[2])+(t[3]<1?vm(Math.round(t[3]*255)):"")};Hs.to.rgb=function(){var t=tg(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Hs.to.rgb.percent=function(){var t=tg(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};Hs.to.hsl=function(){var t=tg(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Hs.to.hwb=function(){var t=tg(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Hs.to.keyword=function(t){return i$[t.slice(0,3)]};function Cc(t,e,r){return Math.min(Math.max(e,t),r)}function vm(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var Kie=e$.exports;const pp=t$,s$={};for(const t of Object.keys(pp))s$[pp[t]]=t;const Ft={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var o$=Ft;for(const t of Object.keys(Ft)){if(!("channels"in Ft[t]))throw new Error("missing channels property: "+t);if(!("labels"in Ft[t]))throw new Error("missing channel labels property: "+t);if(Ft[t].labels.length!==Ft[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=Ft[t];delete Ft[t].channels,delete Ft[t].labels,Object.defineProperty(Ft[t],"channels",{value:e}),Object.defineProperty(Ft[t],"labels",{value:r})}Ft.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=i-s;let l,u;i===s?l=0:e===i?l=(r-n)/o:r===i?l=2+(n-e)/o:n===i&&(l=4+(e-r)/o),l=Math.min(l*60,360),l<0&&(l+=360);const d=(s+i)/2;return i===s?u=0:d<=.5?u=o/(i+s):u=o/(2-i-s),[l,u*100,d*100]};Ft.rgb.hsv=function(t){let e,r,n,s,i;const o=t[0]/255,l=t[1]/255,u=t[2]/255,d=Math.max(o,l,u),p=d-Math.min(o,l,u),v=function(b){return(d-b)/6/p+1/2};return p===0?(s=0,i=0):(i=p/d,e=v(o),r=v(l),n=v(u),o===d?s=n-r:l===d?s=1/3+e-n:u===d&&(s=2/3+r-e),s<0?s+=1:s>1&&(s-=1)),[s*360,i*100,d*100]};Ft.rgb.hwb=function(t){const e=t[0],r=t[1];let n=t[2];const s=Ft.rgb.hsl(t)[0],i=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[s,i*100,n*100]};Ft.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.min(1-e,1-r,1-n),i=(1-e-s)/(1-s)||0,o=(1-r-s)/(1-s)||0,l=(1-n-s)/(1-s)||0;return[i*100,o*100,l*100,s*100]};function Wie(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}Ft.rgb.keyword=function(t){const e=s$[t];if(e)return e;let r=1/0,n;for(const s of Object.keys(pp)){const i=pp[s],o=Wie(t,i);o<r&&(r=o,n=s)}return n};Ft.keyword.rgb=function(t){return pp[t]};Ft.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const s=e*.4124+r*.3576+n*.1805,i=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[s*100,i*100,o*100]};Ft.rgb.lab=function(t){const e=Ft.rgb.xyz(t);let r=e[0],n=e[1],s=e[2];r/=95.047,n/=100,s/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const i=116*n-16,o=500*(r-n),l=200*(n-s);return[i,o,l]};Ft.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;let s,i,o;if(r===0)return o=n*255,[o,o,o];n<.5?s=n*(1+r):s=n+r-n*r;const l=2*n-s,u=[0,0,0];for(let d=0;d<3;d++)i=e+1/3*-(d-1),i<0&&i++,i>1&&i--,6*i<1?o=l+(s-l)*6*i:2*i<1?o=s:3*i<2?o=l+(s-l)*(2/3-i)*6:o=l,u[d]=o*255;return u};Ft.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,n=t[2]/100,s=r;const i=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,s*=i<=1?i:2-i;const o=(n+r)/2,l=n===0?2*s/(i+s):2*r/(n+r);return[e,l*100,o*100]};Ft.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let n=t[2]/100;const s=Math.floor(e)%6,i=e-Math.floor(e),o=255*n*(1-r),l=255*n*(1-r*i),u=255*n*(1-r*(1-i));switch(n*=255,s){case 0:return[n,u,o];case 1:return[l,n,o];case 2:return[o,n,u];case 3:return[o,l,n];case 4:return[u,o,n];case 5:return[n,o,l]}};Ft.hsv.hsl=function(t){const e=t[0],r=t[1]/100,n=t[2]/100,s=Math.max(n,.01);let i,o;o=(2-r)*n;const l=(2-r)*s;return i=r*s,i/=l<=1?l:2-l,i=i||0,o/=2,[e,i*100,o*100]};Ft.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,n=t[2]/100;const s=r+n;let i;s>1&&(r/=s,n/=s);const o=Math.floor(6*e),l=1-n;i=6*e-o,o&1&&(i=1-i);const u=r+i*(l-r);let d,p,v;switch(o){default:case 6:case 0:d=l,p=u,v=r;break;case 1:d=u,p=l,v=r;break;case 2:d=r,p=l,v=u;break;case 3:d=r,p=u,v=l;break;case 4:d=u,p=r,v=l;break;case 5:d=l,p=r,v=u;break}return[d*255,p*255,v*255]};Ft.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100,s=t[3]/100,i=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,r*(1-s)+s),l=1-Math.min(1,n*(1-s)+s);return[i*255,o*255,l*255]};Ft.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100;let s,i,o;return s=e*3.2406+r*-1.5372+n*-.4986,i=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=Math.min(Math.max(0,s),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[s*255,i*255,o*255]};Ft.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const s=116*r-16,i=500*(e-r),o=200*(r-n);return[s,i,o]};Ft.lab.xyz=function(t){const e=t[0],r=t[1],n=t[2];let s,i,o;i=(e+16)/116,s=r/500+i,o=i-n/200;const l=i**3,u=s**3,d=o**3;return i=l>.008856?l:(i-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,o=d>.008856?d:(o-16/116)/7.787,s*=95.047,i*=100,o*=108.883,[s,i,o]};Ft.lab.lch=function(t){const e=t[0],r=t[1],n=t[2];let s;s=Math.atan2(n,r)*360/2/Math.PI,s<0&&(s+=360);const o=Math.sqrt(r*r+n*n);return[e,o,s]};Ft.lch.lab=function(t){const e=t[0],r=t[1],s=t[2]/360*2*Math.PI,i=r*Math.cos(s),o=r*Math.sin(s);return[e,i,o]};Ft.rgb.ansi16=function(t,e=null){const[r,n,s]=t;let i=e===null?Ft.rgb.hsv(t)[2]:e;if(i=Math.round(i/50),i===0)return 30;let o=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return i===2&&(o+=60),o};Ft.hsv.ansi16=function(t){return Ft.rgb.ansi16(Ft.hsv.rgb(t),t[2])};Ft.rgb.ansi256=function(t){const e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};Ft.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=(~~(t>50)+1)*.5,n=(e&1)*r*255,s=(e>>1&1)*r*255,i=(e>>2&1)*r*255;return[n,s,i]};Ft.ansi256.rgb=function(t){if(t>=232){const i=(t-232)*10+8;return[i,i,i]}t-=16;let e;const r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,s=e%6/5*255;return[r,n,s]};Ft.rgb.hex=function(t){const r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};Ft.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(l=>l+l).join(""));const n=parseInt(r,16),s=n>>16&255,i=n>>8&255,o=n&255;return[s,i,o]};Ft.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,s=Math.max(Math.max(e,r),n),i=Math.min(Math.min(e,r),n),o=s-i;let l,u;return o<1?l=i/(1-o):l=0,o<=0?u=0:s===e?u=(r-n)/o%6:s===r?u=2+(n-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,l*100]};Ft.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r);let s=0;return n<1&&(s=(r-.5*n)/(1-n)),[t[0],n*100,s*100]};Ft.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=e*r;let s=0;return n<1&&(s=(r-n)/(1-n)),[t[0],n*100,s*100]};Ft.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];const s=[0,0,0],i=e%1*6,o=i%1,l=1-o;let u=0;switch(Math.floor(i)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=l,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=l,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=l}return u=(1-r)*n,[(r*s[0]+u)*255,(r*s[1]+u)*255,(r*s[2]+u)*255]};Ft.hcg.hsv=function(t){const e=t[1]/100,r=t[2]/100,n=e+r*(1-e);let s=0;return n>0&&(s=e/n),[t[0],s*100,n*100]};Ft.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let s=0;return n>0&&n<.5?s=e/(2*n):n>=.5&&n<1&&(s=e/(2*(1-n))),[t[0],s*100,n*100]};Ft.hcg.hwb=function(t){const e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};Ft.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,s=n-e;let i=0;return s<1&&(i=(n-s)/(1-s)),[t[0],s*100,i*100]};Ft.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Ft.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Ft.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Ft.gray.hsl=function(t){return[0,0,t[0]]};Ft.gray.hsv=Ft.gray.hsl;Ft.gray.hwb=function(t){return[0,100,t[0]]};Ft.gray.cmyk=function(t){return[0,0,0,t[0]]};Ft.gray.lab=function(t){return[t[0],0,0]};Ft.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};Ft.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const py=o$;function Vie(){const t={},e=Object.keys(py);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function Gie(t){const e=Vie(),r=[t];for(e[t].distance=0;r.length;){const n=r.pop(),s=Object.keys(py[n]);for(let i=s.length,o=0;o<i;o++){const l=s[o],u=e[l];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(l))}}return e}function Yie(t,e){return function(r){return e(t(r))}}function Zie(t,e){const r=[e[t].parent,t];let n=py[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)r.unshift(e[s].parent),n=Yie(py[e[s].parent][s],n),s=e[s].parent;return n.conversion=r,n}var Jie=function(t){const e=Gie(t),r={},n=Object.keys(e);for(let s=n.length,i=0;i<s;i++){const o=n[i];e[o].parent!==null&&(r[o]=Zie(o,e))}return r};const L6=o$,Xie=Jie,Lf={},Qie=Object.keys(L6);function ese(t){const e=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function tse(t){const e=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const s=t(r);if(typeof s=="object")for(let i=s.length,o=0;o<i;o++)s[o]=Math.round(s[o]);return s};return"conversion"in t&&(e.conversion=t.conversion),e}Qie.forEach(t=>{Lf[t]={},Object.defineProperty(Lf[t],"channels",{value:L6[t].channels}),Object.defineProperty(Lf[t],"labels",{value:L6[t].labels});const e=Xie(t);Object.keys(e).forEach(n=>{const s=e[n];Lf[t][n]=tse(s),Lf[t][n].raw=ese(s)})});var rse=Lf;const Df=Kie,Fs=rse,a$=["keyword","gray","hex"],D6={};for(const t of Object.keys(Fs))D6[[...Fs[t].labels].sort().join("")]=t;const gy={};function ci(t,e){if(!(this instanceof ci))return new ci(t,e);if(e&&e in a$&&(e=null),e&&!(e in Fs))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof ci)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const s=Df.get(t);if(s===null)throw new Error("Unable to parse color from string: "+t);this.model=s.model,n=Fs[this.model].channels,this.color=s.value.slice(0,n),this.valpha=typeof s.value[n]=="number"?s.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=Fs[this.model].channels;const s=Array.prototype.slice.call(t,0,n);this.color=$6(s,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const i=s.sort().join("");if(!(i in D6))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=D6[i];const{labels:o}=Fs[this.model],l=[];for(r=0;r<o.length;r++)l.push(t[o[r]]);this.color=$6(l)}if(gy[this.model])for(n=Fs[this.model].channels,r=0;r<n;r++){const s=gy[this.model][r];s&&(this.color[r]=s(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ci.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in Df.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const r=e.valpha===1?e.color:[...e.color,this.valpha];return Df.to[e.model](r)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return Df.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=Fs[this.model],{labels:r}=Fs[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new ci([...this.color.map(ise(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new ci([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Mn("rgb",0,Kn(255)),green:Mn("rgb",1,Kn(255)),blue:Mn("rgb",2,Kn(255)),hue:Mn(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Mn("hsl",1,Kn(100)),lightness:Mn("hsl",2,Kn(100)),saturationv:Mn("hsv",1,Kn(100)),value:Mn("hsv",2,Kn(100)),chroma:Mn("hcg",1,Kn(100)),gray:Mn("hcg",2,Kn(100)),white:Mn("hwb",1,Kn(100)),wblack:Mn("hwb",2,Kn(100)),cyan:Mn("cmyk",0,Kn(100)),magenta:Mn("cmyk",1,Kn(100)),yellow:Mn("cmyk",2,Kn(100)),black:Mn("cmyk",3,Kn(100)),x:Mn("xyz",0,Kn(95.047)),y:Mn("xyz",1,Kn(100)),z:Mn("xyz",2,Kn(108.833)),l:Mn("lab",0,Kn(100)),a:Mn("lab",1),b:Mn("lab",2),keyword(t){return t!==void 0?new ci(t):Fs[this.model].keyword(this.color)},hex(t){return t!==void 0?new ci(t):Df.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new ci(t);const e=this.rgb().round().color;let r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),Df.to.hex(e)+r},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[r,n]of t.entries()){const s=n/255;e[r]=s<=.04045?s/12.92:((s+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return ci.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const r=t.rgb(),n=this.rgb(),s=e===void 0?.5:e,i=2*s-1,o=r.alpha()-n.alpha(),l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2,u=1-l;return ci.rgb(l*r.red()+u*n.red(),l*r.green()+u*n.green(),l*r.blue()+u*n.blue(),r.alpha()*s+n.alpha()*(1-s))}};for(const t of Object.keys(Fs)){if(a$.includes(t))continue;const{channels:e}=Fs[t];ci.prototype[t]=function(...r){return this.model===t?new ci(this):r.length>0?new ci(r,t):new ci([...sse(Fs[this.model][t].raw(this.color)),this.valpha],t)},ci[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=$6(r,e)),new ci(n,t)}}function nse(t,e){return Number(t.toFixed(e))}function ise(t){return function(e){return nse(e,t)}}function Mn(t,e,r){t=Array.isArray(t)?t:[t];for(const n of t)(gy[n]||(gy[n]=[]))[e]=r;return t=t[0],function(n){let s;return n!==void 0?(r&&(n=r(n)),s=this[t](),s.color[e]=n,s):(s=this[t]().color[e],r&&(s=r(s)),s)}}function Kn(t){return function(e){return Math.max(0,Math.min(t,e))}}function sse(t){return Array.isArray(t)?t:[t]}function $6(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}var ose=ci;const HI=Zn(ose);function KI(t=3,e=50,r="black",n=0,s=20,i="#0346ff"){const o=[];let l;for(l=0;l<t;l+=1)o.push(HI(i).rotate((l+1)/t*-n).saturate((l+1)/t*(s/100)).mix(HI(r),e/100*(l+1)/t).hex());return o}function ase(t){const e=KI(3,50,"black",0,20,t),r=KI(6,85,"white",0,20,t);return[...e.reverse(),t,...r]}function lse(t,e){if(e.primary){const r=ase(e.primary);t.style.setProperty("--app-primary-900",r[0]),t.style.setProperty("--app-primary-800",r[1]),t.style.setProperty("--app-primary-700",r[2]),t.style.setProperty("--app-primary-600",r[3]),t.style.setProperty("--app-primary-500",r[4]),t.style.setProperty("--app-primary-400",r[5]),t.style.setProperty("--app-primary-300",r[6]),t.style.setProperty("--app-primary-200",r[7]),t.style.setProperty("--app-primary-100",r[8]),t.style.setProperty("--app-primary-50",r[9])}e.onPrimary&&t.style.setProperty("--app-on-primary",e.onPrimary)}class cse extends Fc{constructor({config:e={},state:r={}}){super(),Ve(this,"defaultConfig",{}),Ve(this,"defaultState",{}),Ve(this,"disabled",!1),Ve(this,"name","BaseController"),Ve(this,"initialConfig",void 0),Ve(this,"initialState",void 0),Ve(this,"internalConfig",this.defaultConfig),Ve(this,"internalState",this.defaultState),this.initialState=r,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,r=!1,n=!0){if(n){this.internalConfig=r?e:Object.assign(this.internalConfig,e);for(const s in this.internalConfig)typeof this.internalConfig[s]<"u"&&(this[s]=this.internalConfig[s])}else for(const s in e)typeof this.internalConfig[s]<"u"&&(this.internalConfig[s]=e[s],this[s]=e[s])}update(e,r=!1){this.internalState=qe(r?{}:qe({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const use=()=>!0,fse=["newListener","removeListener"],hse=t=>!fse.includes(t);function dse(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function l$(t,e){let n={}.eventFilter||use;if(typeof n=="string"&&n==="skipInternal"&&(n=hse),typeof n!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let s=t,i=l=>{if(s===l)return;const u=s;s=l,u.eventNames().filter(n).forEach(p=>{dse(u,p).forEach(v=>{l.on(p,v)})}),u.removeAllListeners()};return new Proxy({},{get:(l,u)=>u==="setTarget"?i:s[u],set:(l,u,d)=>u==="setTarget"?(i=d,!0):(s[u]=d,!0),has:(l,u)=>u[0]==="_"?!1:u in s})}const pse=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function gse(t){switch(t.status){case 405:throw Zt.methodNotFound();case 418:throw Zt.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw Zt.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function mse(t){return new Promise(e=>{setTimeout(e,t)})}function yse(t,e){if(t.status!==200)throw Zt.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var r;throw Zt.internal({data:e.error,message:(r=e.error)===null||r===void 0?void 0:r.message})}return e.result}function vse({req:t,rpcTarget:e,originHttpHeaderKey:r}){const n=new URL(e),s={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},i=t.origin,o=JSON.stringify(s),l={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o};return r&&i&&(l.headers[r]=i),{fetchUrl:n.href,fetchParams:l}}function LE({rpcTarget:t,originHttpHeaderKey:e}){return Ei(async(r,n,s)=>{const{fetchUrl:i,fetchParams:o}=vse({req:r,rpcTarget:t,originHttpHeaderKey:e}),l=5,u=1e3;for(let d=0;d<l;d++){try{const p=await fetch(i,o);gse(p);const v=await p.json(),b=yse(p,v);n.result=b;return}catch(p){const v=(p.message||p).toString();if(!pse.some(_=>v.includes(_)))throw p}await mse(u)}})}function C0(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString():n))}}class p0 extends Error{}p0.prototype.name="InvalidTokenError";function wse(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function bse(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return wse(e)}catch{return atob(e)}}function xse(t,e){if(typeof t!="string")throw new p0("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new p0(`Invalid token specified: missing part #${r+1}`);let s;try{s=bse(n)}catch(i){throw new p0(`Invalid token specified: invalid base64 for part #${r+1} (${i.message})`)}try{return JSON.parse(s)}catch(i){throw new p0(`Invalid token specified: invalid json for part #${r+1} (${i.message})`)}}const c$="https://authjs.web3auth.io",u$=async(t,e)=>{const i={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},o=await Xp(`${c$}/siww/get`,i);if(!o.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return o.challenge},f$=async(t,e,r,n,s,i,o,l,u)=>{var d;const v=qe({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:r,issuer:n,audience:typeof window<"u"&&((d=window.location)===null||d===void 0?void 0:d.hostname)||"com://reactnative",timeout:s},{}),b=await Xp(`${c$}/siww/verify`,v,{headers:{client_id:i,wallet_provider:n,web3auth_network:o}});if(!b.success)throw jp.error("Failed to authenticate user, ,message verification failed",b.error),new Error("Failed to authenticate user, ,message verification failed");return b.token},T0={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",SFA:"sfa"},gp=qe({TORUS_SOLANA:"torus-solana"},T0),Tc=qe({TORUS_EVM:"torus-evm",COINBASE:"coinbase"},T0),br=qe(qe({},Tc),gp),h$={[T0.AUTH]:"Auth",[T0.WALLET_CONNECT_V2]:"Wallet Connect v2",[T0.SFA]:"SFA",[gp.TORUS_SOLANA]:"Torus",[Tc.TORUS_EVM]:"Torus",[Tc.COINBASE]:"Coinbase Smart Wallet"},Uo={EXTERNAL:"external",IN_APP:"in_app"},gt={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},Qt=qe(qe({},gt),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});class DE extends Fc{constructor(e={}){super(),Ve(this,"adapterData",{}),Ve(this,"sessionTime",86400),Ve(this,"clientId",void 0),Ve(this,"web3AuthNetwork",El.MAINNET),Ve(this,"useCoreKitKey",void 0),Ve(this,"rehydrated",!1),Ve(this,"chainConfig",null),Ve(this,"knownChainConfigs",{}),Ve(this,"adapterNamespace",void 0),Ve(this,"currentChainNamespace",void 0),Ve(this,"type",void 0),Ve(this,"name",void 0),Ve(this,"status",void 0),this.setAdapterSettings(e)}get chainConfigProxy(){return this.chainConfig?qe({},this.chainConfig):null}get connnected(){return this.status===gt.CONNECTED}setAdapterSettings(e){if(this.status===gt.READY)return;e!=null&&e.sessionTime&&(this.sessionTime=e.sessionTime),e!=null&&e.clientId&&(this.clientId=e.clientId),e!=null&&e.web3AuthNetwork&&(this.web3AuthNetwork=e.web3AuthNetwork),(e==null?void 0:e.useCoreKitKey)!==void 0&&(this.useCoreKitKey=e.useCoreKitKey);const r=e.chainConfig;if(r){if(!r.chainNamespace)throw vt.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=r.chainNamespace;const n=Uc(r.chainNamespace,r.chainId,this.clientId),s=qe(qe({},n||{}),r);this.chainConfig=s,this.addChainConfig(s)}}checkConnectionRequirements(){if(!(this.name===br.WALLET_CONNECT_V2&&this.status===gt.CONNECTING)){if(this.status===gt.CONNECTING)throw vt.notReady("Already connecting");if(this.status===gt.CONNECTED)throw Kt.connectionError("Already connected");if(this.status!==gt.READY)throw Kt.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw vt.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig||!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==Gt.OTHER)throw vt.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==Gt.OTHER)throw vt.invalidParams("chainID is required in chainConfig");if(this.status!==gt.NOT_READY){if(this.status===gt.CONNECTED)throw vt.notReady("Already connected");if(this.status===gt.READY)throw vt.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==gt.CONNECTED)throw Kt.disconnectionError("Not connected with wallet")}checkAddChainRequirements(e,r=!1){if(!r&&!this.provider)throw Kt.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==e.chainNamespace)throw mo.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements({chainId:e},r=!1){if(!r&&!this.provider)throw Kt.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[e])throw Kt.chainConfigNotAdded("Invalid chainId")}updateAdapterData(e){this.adapterData=e,this.emit(Qt.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}addChainConfig(e){const r=this.knownChainConfigs[e.chainId];this.knownChainConfigs[e.chainId]=qe(qe({},r||{}),e)}getChainConfig(e){return this.knownChainConfigs[e]||null}}function fc(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;const s="__storage_test__";return n.setItem(s,s),n.removeItem(s),!0}catch(s){const i=s;return!!(i&&(i.code===22||i.code===1014||i.name==="QuotaExceededError"||i.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0)}}const _se=t=>eQ[t??El.SAPPHIRE_MAINNET],d$=async(t,e,r)=>{const n=new URL(`${_se(e)}/api/configuration`);return n.searchParams.append("project_id",t),n.searchParams.append("network",e),n.searchParams.append("whitelist","true"),r&&n.searchParams.append("aa_provider",r),await Cv(n.href)},Sse=async t=>await Cv(t),Ese=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e},p$=t=>{const e=xse(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},g$=(t,e)=>fc("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,m$=(t,e,r)=>fc("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,r):null,Mse=(t,e)=>fc("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null,Ase=qe(qe({},Gt),{},{MULTICHAIN:"multichain"}),y$={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"};qe({},y$);const kse={WALLET_SERVICES:"wallet-services",NFT_CHECKOUT:"nft-checkout"},Ise={SOLANA:"solana"};qe(qe({},kse),Ise);Gt.SOLANA,gp.TORUS_SOLANA+"",gp.AUTH+"";Gt.EIP155,Tc.TORUS_EVM+"",Tc.AUTH+"",Tc.WALLET_CONNECT_V2+"";Gt.SOLANA,gp.AUTH+"";Gt.EIP155,Tc.AUTH+"";const Rse={chainNamespace:Gt.OTHER,adapters:{[Tc.AUTH]:{label:"Auth",showOnModal:!0,showOnMobile:!0,showOnDesktop:!0}}},Cse="https://assets.web3auth.io/v1/wallet-registry.json",v$=()=>({adapterSettings:{network:El.SAPPHIRE_MAINNET,clientId:"",uxMode:pa.POPUP},loginSettings:{},privateKeyProvider:void 0});class Tse extends DE{constructor(e={}){super(e),Ve(this,"name",br.AUTH),Ve(this,"adapterNamespace",op.MULTICHAIN),Ve(this,"type",Uo.IN_APP),Ve(this,"authInstance",null),Ve(this,"status",gt.NOT_READY),Ve(this,"currentChainNamespace",Gt.EIP155),Ve(this,"privateKeyProvider",null),Ve(this,"authOptions",void 0),Ve(this,"loginSettings",{loginProvider:""}),this.setAdapterSettings(qe(qe({},e.adapterSettings),{},{chainConfig:e.chainConfig,clientId:e.clientId||"",sessionTime:e.sessionTime,web3AuthNetwork:e.web3AuthNetwork,useCoreKitKey:e.useCoreKitKey,privateKeyProvider:e.privateKeyProvider})),this.loginSettings=e.loginSettings||{loginProvider:""},this.privateKeyProvider=e.privateKeyProvider||null}get chainConfigProxy(){return this.chainConfig?qe({},this.chainConfig):null}get provider(){return this.status!==gt.NOT_READY&&this.privateKeyProvider?this.privateKeyProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){if(super.checkInitializationRequirements(),!this.clientId)throw vt.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw vt.invalidParams("authOptions is required before auth's initialization");const r=this.authOptions.uxMode===pa.REDIRECT;if(this.authOptions=qe(qe({},this.authOptions),{},{replaceUrlOnRedirect:r,useCoreKitKey:this.useCoreKitKey}),this.authInstance=new Dte(qe(qe({},this.authOptions),{},{clientId:this.clientId,network:this.authOptions.network||this.web3AuthNetwork||El.SAPPHIRE_MAINNET})),xt.debug("initializing auth adapter init"),await this.authInstance.init(),!this.chainConfig)throw vt.invalidParams("chainConfig is required before initialization");this.status=gt.READY,this.emit(Qt.READY,br.AUTH);try{xt.debug("initializing auth adapter"),this._getFinalPrivKey()&&(e.autoConnect||r)&&(this.rehydrated=!0,await this.connect())}catch(n){xt.error("Failed to connect with cached auth provider",n),this.emit(Qt.ERRORED,n)}}async connect(e={loginProvider:""}){super.checkConnectionRequirements(),this.status=gt.CONNECTING,this.emit(Qt.CONNECTING,qe(qe({},e),{},{adapter:br.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){throw xt.error("Failed to connect with auth provider",r),this.status=gt.READY,this.emit(Qt.ERRORED,r),r!=null&&r.message.includes("user closed popup")?Kt.popupClosed():r instanceof Ic?r:Kt.connectionError("Failed to login with auth",r)}}async enableMFA(e={loginProvider:""}){if(this.status!==gt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw vt.notReady("authInstance is not ready");try{await this.authInstance.enableMFA(e)}catch(r){throw xt.error("Failed to enable MFA with auth provider",r),r instanceof Ic?r:Kt.connectionError("Failed to enable MFA with auth",r)}}async manageMFA(e={loginProvider:""}){if(this.status!==gt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw vt.notReady("authInstance is not ready");try{await this.authInstance.manageMFA(e)}catch(r){throw xt.error("Failed to manage MFA with auth provider",r),r instanceof Ic?r:Kt.connectionError("Failed to manage MFA with auth",r)}}async disconnect(e={cleanup:!1}){if(this.status!==gt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw vt.notReady("authInstance is not ready");await this.authInstance.logout(),e.cleanup?(this.status=gt.NOT_READY,this.authInstance=null,this.privateKeyProvider=null):this.status=gt.READY,this.rehydrated=!1,this.emit(Qt.DISCONNECTED)}async authenticateUser(){if(this.status!==gt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==gt.CONNECTED)throw Kt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw vt.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}setAdapterSettings(e){super.setAdapterSettings(e);const r=v$();xt.info("setting adapter settings",e),this.authOptions=Jo.all([r.adapterSettings,this.authOptions||{},e||{}]),e.web3AuthNetwork&&(this.authOptions.network=e.web3AuthNetwork),e.privateKeyProvider&&(this.privateKeyProvider=e.privateKeyProvider)}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),(n=this.privateKeyProvider)===null||n===void 0||n.addChain(e),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.privateKeyProvider)===null||n===void 0?void 0:n.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.useCoreKitKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw Kt.coreKitKeyNotFound();e=this.authInstance.coreKitKey}return e}_getFinalEd25519PrivKey(){if(!this.authInstance)return"";let e=this.authInstance.ed25519PrivKey;if(this.useCoreKitKey){if(this.authInstance.ed25519PrivKey&&!this.authInstance.coreKitEd25519Key)throw Kt.coreKitKeyNotFound();e=this.authInstance.coreKitEd25519Key}return e}async connectWithProvider(e={loginProvider:""}){var r;if(!this.privateKeyProvider)throw vt.invalidParams("PrivateKey Provider is required before initialization");if(!this.authInstance)throw vt.notReady("authInstance is not ready");if(!this._getFinalPrivKey()||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var s;if(this.loginSettings.curve=Tte.OTHER,!e.loginProvider&&!this.loginSettings.loginProvider)throw vt.invalidParams("loginProvider is required for login");await this.authInstance.login(Jo.all([this.loginSettings,e,{extraLoginOptions:qe(qe({},e.extraLoginOptions||{}),{},{login_hint:e.login_hint||((s=e.extraLoginOptions)===null||s===void 0?void 0:s.login_hint)})}]))}let i=this._getFinalPrivKey();i&&(this.currentChainNamespace===Gt.SOLANA&&(i=this._getFinalEd25519PrivKey()),await this.privateKeyProvider.setupProvider(i),this.status=gt.CONNECTED,this.emit(Qt.CONNECTED,{adapter:br.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}class Kv extends cse{constructor({config:e,state:r}){if(super({config:e,state:r}),Ve(this,"_providerEngineProxy",null),Ve(this,"keyExportFlagSetByCode",!1),!e.chainConfig)throw vt.invalidProviderConfigError("Please provide chainConfig");if(!e.chainConfig.chainId)throw vt.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!e.chainConfig.rpcTarget)throw vt.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:e.chainConfig,networks:{[e.chainConfig.chainId]:e.chainConfig},keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChainConfig(){return this.config.chainConfig}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var r;if(!e||typeof e!="object"||Array.isArray(e))throw Zt.invalidRequest({message:cl.invalidRequestArgs().message,data:qe(qe({},e||{}),{},{cause:cl.invalidRequestArgs().message})});const{method:n,params:s}=e;if(typeof n!="string"||n.length===0)throw Zt.invalidRequest({message:cl.invalidRequestMethod().message,data:qe(qe({},e||{}),{},{cause:cl.invalidRequestMethod().message})});if(s!==void 0&&!Array.isArray(s)&&(typeof s!="object"||s===null))throw Zt.invalidRequest({message:cl.invalidRequestParams().message,data:qe(qe({},e||{}),{},{cause:cl.invalidRequestParams().message})});return(r=this.provider)===null||r===void 0?void 0:r.request(e)}sendAsync(e,r){return r?this.send(e,r):this.request(e)}send(e,r){this.request(e).then(n=>r(null,{result:n})).catch(n=>r(n,null))}addChain(e){if(!e.chainId||!e.rpcTarget)throw Zt.invalidParams("chainId is required");this.configure({networks:qe(qe({},this.config.networks),{},{[e.chainId]:e})})}getChainConfig(e){var r;const n=(r=this.config.networks)===null||r===void 0?void 0:r[e];if(!n)throw Zt.invalidRequest(`Chain ${e} is not supported, please add chainConfig for it`);return n}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=l$(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}}function Pse(t){return(e,r,n,s)=>e.method==="chainId"?(r.result=t,s()):n()}function Ose(t){return(e,r,n,s)=>e.method==="provider_config"?(r.result=t,s()):n()}function Nse(t){const{chainId:e,rpcTarget:r}=t,n=LE({rpcTarget:r});return{networkMiddleware:Zc([Pse(e),Ose(t),n]),fetchMiddleware:n}}var w$;class Wv extends Kv{constructor({config:e,state:r}){super({config:e,state:r})}async setupProvider(){const{networkMiddleware:e}=Nse(this.config.chainConfig),r=new ps;r.push(e);const n=dp(r);this.updateProviderEngineProxy(n);const s=this.config.chainConfig.chainId;this.state.chainId!==s&&(this.emit("chainChanged",s),this.emit("connect",{chainId:s})),this.update({chainId:this.config.chainConfig.chainId})}async switchChain(e){if(!this._providerEngineProxy)throw vo.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r}),await this.setupProvider()}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=l$(e)}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}w$=Wv;Ve(Wv,"getProviderInstance",async t=>{const e=new w$({config:{chainConfig:t.chainConfig}});return await e.setupProvider(),e});const wm="Web3Auth-cachedAdapter";class Bse extends Fc{constructor(e){var r,n,s,i;if(super(),Ve(this,"coreOptions",void 0),Ve(this,"connectedAdapterName",null),Ve(this,"status",gt.NOT_READY),Ve(this,"cachedAdapter",null),Ve(this,"walletAdapters",{}),Ve(this,"commonJRPCProvider",null),Ve(this,"plugins",{}),Ve(this,"storage","localStorage"),!e.clientId)throw vt.invalidParams("Please provide a valid clientId in constructor");if(e.enableLogging?xt.enableAll():xt.setLevel("error"),!e.privateKeyProvider&&!e.chainConfig)throw vt.invalidParams("Please provide chainConfig or privateKeyProvider");if(e.chainConfig=e.chainConfig||e.privateKeyProvider.currentChainConfig,!((r=e.chainConfig)!==null&&r!==void 0&&r.chainNamespace)||!Object.values(Gt).includes((n=e.chainConfig)===null||n===void 0?void 0:n.chainNamespace))throw vt.invalidParams("Please provide a valid chainNamespace in chainConfig");e.storageKey==="session"&&(this.storage="sessionStorage"),this.cachedAdapter=fc(this.storage)?window[this.storage].getItem(wm):null,this.coreOptions=qe(qe({},e),{},{chainConfig:qe(qe({},Uc((s=e.chainConfig)===null||s===void 0?void 0:s.chainNamespace,(i=e.chainConfig)===null||i===void 0?void 0:i.chainId,e.clientId)||{}),e.chainConfig)}),this.subscribeToAdapterEvents=this.subscribeToAdapterEvents.bind(this)}get connected(){return!!this.connectedAdapterName}get provider(){return this.status!==gt.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}set provider(e){throw new Error("Not implemented")}async init(){this.commonJRPCProvider=await Wv.getProviderInstance({chainConfig:this.coreOptions.chainConfig});let e;try{var r;e=await d$(this.coreOptions.clientId,this.coreOptions.web3AuthNetwork,(r=this.coreOptions.accountAbstractionProvider)===null||r===void 0?void 0:r.config.smartAccountInit.name)}catch(s){throw xt.error("Failed to fetch project configurations",s),vt.notReady("failed to fetch project configurations",s)}const n=Object.keys(this.walletAdapters).map(async s=>{if(this.subscribeToAdapterEvents(this.walletAdapters[s]),this.walletAdapters[s].chainConfigProxy)this.walletAdapters[s].setAdapterSettings({sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey});else{const i=this.coreOptions.chainConfig;if(!i.chainNamespace)throw vt.invalidParams("Please provide chainNamespace in chainConfig");this.walletAdapters[s].setAdapterSettings({chainConfig:i,sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey})}if(s===br.AUTH){const i=this.walletAdapters[s],{whitelabel:o}=e;this.coreOptions.uiConfig=Jo(C0(o||{}),this.coreOptions.uiConfig||{}),this.coreOptions.uiConfig.mode||(this.coreOptions.uiConfig.mode="light");const{sms_otp_enabled:l,whitelist:u,key_export_enabled:d}=e;if(l!==void 0&&i.setAdapterSettings({loginConfig:{[Ur.SMS_PASSWORDLESS]:{showOnModal:l,showOnDesktop:l,showOnMobile:l,showOnSocialBackupFactor:l}}}),u&&i.setAdapterSettings({originData:u.signed_urls}),typeof d=="boolean"&&(this.coreOptions.privateKeyProvider.setKeyExportFlag(d),this.commonJRPCProvider.setKeyExportFlag(d)),this.coreOptions.privateKeyProvider){if(i.currentChainNamespace!==this.coreOptions.privateKeyProvider.currentChainConfig.chainNamespace)throw vt.incompatibleChainNameSpace("private key provider is not compatible with provided chainNamespace for auth adapter");i.setAdapterSettings({privateKeyProvider:this.coreOptions.privateKeyProvider})}if(i.setAdapterSettings({whiteLabel:this.coreOptions.uiConfig}),!i.privateKeyProvider)throw vt.invalidParams("privateKeyProvider is required for auth adapter")}else if(s===br.WALLET_CONNECT_V2){const i=this.walletAdapters[s],{wallet_connect_enabled:o,wallet_connect_project_id:l}=e;if(o===!1)throw vt.invalidParams("Please enable wallet connect v2 addon on dashboard");if(!l)throw vt.invalidParams("Invalid wallet connect project id. Please configure it on the dashboard");i.setAdapterSettings({adapterSettings:{walletConnectInitOptions:{projectId:l}}})}return this.walletAdapters[s].init({autoConnect:this.cachedAdapter===s}).catch(i=>xt.error(i,s))});await Promise.all(n),this.status===gt.NOT_READY&&(this.status=gt.READY,this.emit(Qt.READY))}getAdapter(e){return this.walletAdapters[e]||null}configureAdapter(e){this.checkInitRequirements();const r=this.coreOptions.chainConfig;if(!r.chainNamespace)throw vt.invalidParams("Please provide chainNamespace in chainConfig");if(this.walletAdapters[e.name])throw vt.duplicateAdapterError(`Wallet adapter for ${e.name} already exists`);if(e.adapterNamespace!==op.MULTICHAIN&&e.adapterNamespace!==r.chainNamespace)throw vt.incompatibleChainNameSpace(`This wallet adapter belongs to ${e.adapterNamespace} which is incompatible with currently used namespace: ${r.chainNamespace}`);return e.adapterNamespace===op.MULTICHAIN&&e.currentChainNamespace&&r.chainNamespace!==e.currentChainNamespace&&e.setAdapterSettings({chainConfig:r}),this.walletAdapters[e.name]=e,this}clearCache(){fc(this.storage)&&(window[this.storage].removeItem(wm),this.cachedAdapter=null)}async addChain(e){if(this.status===gt.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].addChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.addChain(e);throw vt.notReady("No wallet is ready")}async switchChain(e){if(this.status===gt.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].switchChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.switchChain(e);throw vt.notReady("No wallet is ready")}async connectTo(e,r){if(!this.walletAdapters[e]||!this.commonJRPCProvider)throw vt.notFound(`Please add wallet adapter for ${e} wallet, before connecting`);return new Promise((n,s)=>{this.once(Qt.CONNECTED,i=>{n(this.provider)}),this.once(Qt.ERRORED,i=>{s(i)}),this.walletAdapters[e].connect(r)})}async logout(e={cleanup:!1}){if(this.status!==gt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");await this.walletAdapters[this.connectedAdapterName].disconnect(e)}async getUserInfo(){if(xt.debug("Getting user info",this.status,this.connectedAdapterName),this.status!==gt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].getUserInfo()}async enableMFA(e){if(this.status!==gt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");if(this.connectedAdapterName!==br.AUTH)throw Kt.unsupportedOperation("EnableMFA is not supported for this adapter.");return this.walletAdapters[this.connectedAdapterName].enableMFA(e)}async manageMFA(e){if(this.status!==gt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");if(this.connectedAdapterName!==br.AUTH)throw Kt.unsupportedOperation("ManageMFA is not supported for this adapter.");return this.walletAdapters[this.connectedAdapterName].manageMFA(e)}async authenticateUser(){if(this.status!==gt.CONNECTED||!this.connectedAdapterName)throw Kt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].authenticateUser()}addPlugin(e){if(this.plugins[e.name])throw vt.duplicateAdapterError(`Plugin ${e.name} already exist`);if(e.pluginNamespace!==Ase.MULTICHAIN&&e.pluginNamespace!==this.coreOptions.chainConfig.chainNamespace)throw vt.incompatibleChainNameSpace(`This plugin belongs to ${e.pluginNamespace} namespace which is incompatible with currently used namespace: ${this.coreOptions.chainConfig.chainNamespace}`);return this.plugins[e.name]=e,this.status===gt.CONNECTED&&this.connectedAdapterName&&this.connectToPlugins({adapter:this.connectedAdapterName}),this}getPlugin(e){return this.plugins[e]||null}subscribeToAdapterEvents(e){e.on(Qt.CONNECTED,async r=>{if(!this.commonJRPCProvider)throw vt.notFound("CommonJrpcProvider not found");const{provider:n}=r;let s=n.provider||n;this.coreOptions.accountAbstractionProvider&&(r.adapter===br.AUTH||r.adapter!==br.AUTH&&this.coreOptions.useAAWithExternalWallet)&&(await this.coreOptions.accountAbstractionProvider.setupProvider(n),s=this.coreOptions.accountAbstractionProvider),this.commonJRPCProvider.updateProviderEngineProxy(s),this.connectedAdapterName=r.adapter,this.status=gt.CONNECTED,this.cacheWallet(r.adapter),xt.debug("connected",this.status,this.connectedAdapterName),this.connectToPlugins(r),this.emit(Qt.CONNECTED,qe({},r))}),e.on(Qt.DISCONNECTED,async()=>{if(this.status=gt.READY,fc(this.storage)){const r=window[this.storage].getItem(wm);this.connectedAdapterName===r&&this.clearCache()}xt.debug("disconnected",this.status,this.connectedAdapterName),await Promise.all(Object.values(this.plugins).map(r=>r.disconnect().catch(n=>{n.code!==5211&&xt.error(n)}))),this.connectedAdapterName=null,this.emit(Qt.DISCONNECTED)}),e.on(Qt.CONNECTING,r=>{this.status=gt.CONNECTING,this.emit(Qt.CONNECTING,r),xt.debug("connecting",this.status,this.connectedAdapterName)}),e.on(Qt.ERRORED,r=>{this.status=gt.ERRORED,this.clearCache(),this.emit(Qt.ERRORED,r),xt.debug("errored",this.status,this.connectedAdapterName)}),e.on(Qt.ADAPTER_DATA_UPDATED,r=>{xt.debug("adapter data updated",r),this.emit(Qt.ADAPTER_DATA_UPDATED,r)}),e.on(Qt.CACHE_CLEAR,r=>{xt.debug("adapter cache clear",r),fc(this.storage)&&this.clearCache()})}checkInitRequirements(){if(this.status===gt.CONNECTING)throw vt.notReady("Already pending connection");if(this.status===gt.CONNECTED)throw vt.notReady("Already connected");if(this.status===gt.READY)throw vt.notReady("Adapter is already initialized")}cacheWallet(e){fc(this.storage)&&(window[this.storage].setItem(wm,e),this.cachedAdapter=e)}connectToPlugins(e){Object.values(this.plugins).map(async r=>{try{if(!r.SUPPORTED_ADAPTERS.includes("all")&&!r.SUPPORTED_ADAPTERS.includes(e.adapter)||r.status===y$.CONNECTED)return;const{authInstance:n}=this.walletAdapters[this.connectedAdapterName],{options:s,sessionId:i,sessionNamespace:o}=n||{};await r.initWithWeb3Auth(this,s==null?void 0:s.whiteLabel),await r.connect({sessionId:i,sessionNamespace:o})}catch(n){if(n.code===5211)return;xt.error(n)}})}}function $E(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Lse=new Set([Ur.AUTHENTICATOR,Ur.PASSKEYS,Ur.JWT,Ur.WEBAUTHN]),UE=Object.values(Ur).filter(t=>!Lse.has(t)),Dse=UE.reduce((t,e)=>(e==="email_passwordless"?t[e]="Email":e==="sms_passwordless"?t[e]="Mobile":t[e]=$E(e),t),{}),zo={INIT_EXTERNAL_WALLETS:"INIT_EXTERNAL_WALLETS",LOGIN:"LOGIN",DISCONNECT:"DISCONNECT",MODAL_VISIBILITY:"MODAL_VISIBILITY"},In={INITIALIZED:"initialized",CONNECTED:"connected",CONNECTING:"connecting",ERRORED:"errored"},b$="https://images.web3auth.io/web3auth-logo-w.svg",x$="https://images.web3auth.io/web3auth-logo-w-light.svg",$se="https://images.web3auth.io/login-wallet-connect.svg",Use="modulepreload",Fse=function(t){return"/"+t},WI={},oo=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Fse(u),u in WI)return;WI[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Use,d||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((b,_)=>{v.addEventListener("load",b),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function _$(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(!t||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var jse=`@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.w3a-parent-container ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }
/*! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com*/.w3a-parent-container *,.w3a-parent-container :after,.w3a-parent-container :before{border:0 solid;box-sizing:border-box}.w3a-parent-container :after,.w3a-parent-container :before{--tw-content:""}.w3a-parent-container :host,.w3a-parent-container html{-webkit-text-size-adjust:100%;font-feature-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;tab-size:4}.w3a-parent-container body{line-height:inherit;margin:0}.w3a-parent-container hr{border-top-width:1px;color:inherit;height:0}.w3a-parent-container abbr:where([title]){text-decoration:underline dotted}.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6{font-size:inherit;font-weight:inherit}.w3a-parent-container a{color:inherit;text-decoration:inherit}.w3a-parent-container b,.w3a-parent-container strong{font-weight:bolder}.w3a-parent-container code,.w3a-parent-container kbd,.w3a-parent-container pre,.w3a-parent-container samp{font-feature-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em;font-variation-settings:normal}.w3a-parent-container small{font-size:80%}.w3a-parent-container sub,.w3a-parent-container sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}.w3a-parent-container sub{bottom:-.25em}.w3a-parent-container sup{top:-.5em}.w3a-parent-container table{border-collapse:collapse;border-color:inherit;text-indent:0}.w3a-parent-container button,.w3a-parent-container input,.w3a-parent-container optgroup,.w3a-parent-container select,.w3a-parent-container textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.w3a-parent-container button,.w3a-parent-container select{text-transform:none}.w3a-parent-container button,.w3a-parent-container input:where([type=button]),.w3a-parent-container input:where([type=reset]),.w3a-parent-container input:where([type=submit]){-webkit-appearance:button;background-color:initial;background-image:none}.w3a-parent-container :-moz-focusring{outline:auto}.w3a-parent-container :-moz-ui-invalid{box-shadow:none}.w3a-parent-container progress{vertical-align:initial}.w3a-parent-container ::-webkit-inner-spin-button,.w3a-parent-container ::-webkit-outer-spin-button{height:auto}.w3a-parent-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.w3a-parent-container ::-webkit-search-decoration{-webkit-appearance:none}.w3a-parent-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.w3a-parent-container summary{display:list-item}.w3a-parent-container blockquote,.w3a-parent-container dd,.w3a-parent-container dl,.w3a-parent-container figure,.w3a-parent-container h1,.w3a-parent-container h2,.w3a-parent-container h3,.w3a-parent-container h4,.w3a-parent-container h5,.w3a-parent-container h6,.w3a-parent-container hr,.w3a-parent-container p,.w3a-parent-container pre{margin:0}.w3a-parent-container fieldset{margin:0;padding:0}.w3a-parent-container legend{padding:0}.w3a-parent-container menu,.w3a-parent-container ol,.w3a-parent-container ul{list-style:none;margin:0;padding:0}.w3a-parent-container dialog{padding:0}.w3a-parent-container textarea{resize:vertical}.w3a-parent-container input::placeholder,.w3a-parent-container textarea::placeholder{color:#9ca3af;opacity:1}.w3a-parent-container [role=button],.w3a-parent-container button{cursor:pointer}.w3a-parent-container :disabled{cursor:default}.w3a-parent-container audio,.w3a-parent-container canvas,.w3a-parent-container embed,.w3a-parent-container iframe,.w3a-parent-container img,.w3a-parent-container object,.w3a-parent-container svg,.w3a-parent-container video{display:block;vertical-align:middle}.w3a-parent-container img,.w3a-parent-container video{height:auto;max-width:100%}.w3a-parent-container [hidden]:where(:not([hidden=until-found])){display:none}.w3a-parent-container{--app-on-primary:#fff;--app-primary-50:#ebf5ff;--app-primary-100:#e1effe;--app-primary-200:#c3ddfd;--app-primary-300:#a4cafe;--app-primary-400:#76a9fa;--app-primary-500:#3f83f8;--app-primary-600:#0346ff;--app-primary-700:#1a56db;--app-primary-800:#1e429f;--app-primary-900:#233876;--app-gray-50:#f9fafb;--app-gray-100:#f3f4f6;--app-gray-200:#e5e7eb;--app-gray-300:#d1d5db;--app-gray-400:#9ca3af;--app-gray-500:#6b7280;--app-gray-600:#4b5563;--app-gray-700:#374151;--app-gray-800:#1f2a37;--app-gray-900:#111928;--app-blue-50:#ebf5ff;--app-blue-100:#e1effe;--app-blue-200:#c3ddfd;--app-blue-300:#a4cafe;--app-blue-400:#76a9fa;--app-blue-500:#3f83f8;--app-blue-600:#0346ff;--app-blue-700:#1a56db;--app-blue-800:#1e429f;--app-blue-900:#233876;--app-red-50:#fdf2f2;--app-red-100:#fde8e8;--app-red-200:#fbd5d5;--app-red-300:#f8b4b4;--app-red-400:#f98080;--app-red-500:#f05252;--app-red-600:#e02424;--app-red-700:#c81e1e;--app-red-800:#9b1c1c;--app-red-900:#771d1d;--app-green-50:#f3faf7;--app-green-100:#def7ec;--app-green-200:#bcf0da;--app-green-300:#84e1bc;--app-green-400:#31c48d;--app-green-500:#0e9f6e;--app-green-600:#057a55;--app-green-700:#046c4e;--app-green-800:#03543f;--app-green-900:#014737;--app-yellow-50:#fdfdea;--app-yellow-100:#fdf6b2;--app-yellow-200:#fce96a;--app-yellow-300:#faca15;--app-yellow-400:#e3a008;--app-yellow-500:#c27803;--app-yellow-600:#9f580a;--app-yellow-700:#8e4b10;--app-yellow-800:#723b13;--app-yellow-900:#633112;--app-success:#30cca4;--app-warning:#fbc94a;--app-error:#fb4a61;--app-info:#d4d4d4;--app-white:#fff;--app-black:#000}.w3a-parent-container .w3a--absolute{position:absolute}.w3a-parent-container .w3a--relative{position:relative}.w3a-parent-container .w3a--left-20{left:5rem}.w3a-parent-container .w3a--left-8{left:2rem}.w3a-parent-container .w3a--left-\\[calc\\(50\\%_-_8px\\)\\]{left:calc(50% - 8px)}.w3a-parent-container .w3a--top-4{top:1rem}.w3a-parent-container .w3a--top-\\[100\\%\\]{top:100%}.w3a-parent-container .w3a--z-20{z-index:20}.w3a-parent-container .w3a--col-span-2{grid-column:span 2/span 2}.w3a-parent-container .w3a--col-span-3{grid-column:span 3/span 3}.w3a-parent-container .w3a--col-span-6{grid-column:span 6/span 6}.w3a-parent-container .w3a--mx-auto{margin-left:auto;margin-right:auto}.w3a-parent-container .w3a--my-4{margin-bottom:1rem;margin-top:1rem}.w3a-parent-container .w3a--my-6{margin-bottom:1.5rem;margin-top:1.5rem}.w3a-parent-container .-w3a--mb-2{margin-bottom:-.5rem}.w3a-parent-container .-w3a--ml-\\[100px\\]{margin-left:-100px}.w3a-parent-container .w3a--mb-1{margin-bottom:.25rem}.w3a-parent-container .w3a--mb-2{margin-bottom:.5rem}.w3a-parent-container .w3a--mb-4{margin-bottom:1rem}.w3a-parent-container .w3a--mb-5{margin-bottom:1.25rem}.w3a-parent-container .w3a--ml-2{margin-left:.5rem}.w3a-parent-container .w3a--ml-\\[3px\\]{margin-left:3px}.w3a-parent-container .w3a--ml-auto{margin-left:auto}.w3a-parent-container .w3a--mr-6{margin-right:1.5rem}.w3a-parent-container .w3a--mr-auto{margin-right:auto}.w3a-parent-container .w3a--mt-4{margin-top:1rem}.w3a-parent-container .w3a--block{display:block}.w3a-parent-container .w3a--flex{display:flex}.w3a-parent-container .w3a--inline-flex{display:inline-flex}.w3a-parent-container .w3a--hidden{display:none}.w3a-parent-container .w3a--h-10{height:2.5rem}.w3a-parent-container .w3a--h-3{height:.75rem}.w3a-parent-container .w3a--h-4{height:1rem}.w3a-parent-container .w3a--h-auto{height:auto}.w3a-parent-container .w3a--h-full{height:100%}.w3a-parent-container .w3a--w-10{width:2.5rem}.w3a-parent-container .w3a--w-3{width:.75rem}.w3a-parent-container .w3a--w-\\[270px\\]{width:270px}.w3a-parent-container .w3a--w-\\[300px\\]{width:300px}.w3a-parent-container .w3a--w-auto{width:auto}.w3a-parent-container .w3a--w-full{width:100%}.w3a-parent-container .w3a--flex-shrink{flex-shrink:1}.w3a-parent-container .w3a--flex-shrink-0{flex-shrink:0}.w3a-parent-container .w3a--flex-grow-0{flex-grow:0}.w3a-parent-container .w3a--translate-x-\\[-16px\\]{--tw-translate-x:-16px}.w3a-parent-container .w3a--rotate-45,.w3a-parent-container .w3a--translate-x-\\[-16px\\]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.w3a-parent-container .w3a--rotate-45{--tw-rotate:45deg}.w3a-parent-container .w3a--cursor-pointer{cursor:pointer}.w3a-parent-container .w3a--flex-row{flex-direction:row}.w3a-parent-container .w3a--flex-col{flex-direction:column}.w3a-parent-container .w3a--items-center{align-items:center}.w3a-parent-container .\\!w3a--justify-start{justify-content:flex-start!important}.w3a-parent-container .w3a--justify-start{justify-content:flex-start}.w3a-parent-container .w3a--justify-end{justify-content:flex-end}.w3a-parent-container .w3a--justify-center{justify-content:center}.w3a-parent-container .\\!w3a--justify-between{justify-content:space-between!important}.w3a-parent-container .w3a--justify-between{justify-content:space-between}.w3a-parent-container .w3a--gap-1{gap:.25rem}.w3a-parent-container .w3a--gap-2{gap:.5rem}.w3a-parent-container .w3a--gap-3{gap:.75rem}.w3a-parent-container .w3a--gap-y-0\\.5{row-gap:.125rem}.w3a-parent-container .w3a--truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.w3a-parent-container .w3a--rounded{border-radius:.25rem}.w3a-parent-container .w3a--rounded-full{border-radius:9999px}.w3a-parent-container .w3a--rounded-lg{border-radius:.5rem}.w3a-parent-container .w3a--rounded-md{border-radius:.375rem}.w3a-parent-container .w3a--rounded-xl{border-radius:.75rem}.w3a-parent-container .w3a--border-8{border-width:8px}.w3a-parent-container .w3a--border-b-0{border-bottom-width:0}.w3a-parent-container .w3a--border-l-transparent{border-left-color:#0000}.w3a-parent-container .w3a--border-r-transparent{border-right-color:#0000}.w3a-parent-container .w3a--border-t-app-gray-900{border-top-color:var(--app-gray-900)}.w3a-parent-container .w3a--bg-app-gray-50{background-color:var(--app-gray-50)}.w3a-parent-container .w3a--bg-app-primary-100{background-color:var(--app-primary-100)}.w3a-parent-container .w3a--object-contain{object-fit:contain}.w3a-parent-container .w3a--p-4{padding:1rem}.w3a-parent-container .w3a--p-6{padding:1.5rem}.w3a-parent-container .w3a--px-2{padding-left:.5rem;padding-right:.5rem}.w3a-parent-container .w3a--px-3{padding-left:.75rem;padding-right:.75rem}.w3a-parent-container .w3a--py-1{padding-bottom:.25rem;padding-top:.25rem}.w3a-parent-container .w3a--py-2{padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container .w3a--py-4{padding-bottom:1rem;padding-top:1rem}.w3a-parent-container .w3a--py-6{padding-bottom:1.5rem;padding-top:1.5rem}.w3a-parent-container .w3a--pt-7{padding-top:1.75rem}.w3a-parent-container .w3a--text-left{text-align:left}.w3a-parent-container .w3a--text-center{text-align:center}.w3a-parent-container .w3a--text-right{text-align:right}.w3a-parent-container .w3a--text-sm{font-size:.875rem;line-height:1.25rem}.w3a-parent-container .w3a--text-xs{font-size:.75rem;line-height:1rem}.w3a-parent-container .w3a--font-medium{font-weight:500}.w3a-parent-container .w3a--leading-none{line-height:1}.w3a-parent-container .w3a--text-app-gray-300{color:var(--app-gray-300)}.w3a-parent-container .w3a--text-app-gray-400{color:var(--app-gray-400)}.w3a-parent-container .w3a--text-app-gray-500{color:var(--app-gray-500)}.w3a-parent-container .w3a--text-app-gray-900{color:var(--app-gray-900)}.w3a-parent-container .w3a--text-app-primary-800{color:var(--app-primary-800)}.w3a-parent-container .w3a--text-app-white{color:var(--app-white)}.w3a-parent-container .w3a--shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container input[type=number]::-webkit-inner-spin-button,.w3a-parent-container input[type=number]::-webkit-outer-spin-button{appearance:none}@keyframes shake{0%,to{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-5px)}20%,40%,60%,80%{transform:translateX(5px)}}@keyframes tilt{0%{opacity:0;transform:scale(.9) rotate(0deg)}30%{opacity:1;transform:scale(1.05) rotate(-5deg)}60%{transform:scale(1.05) rotate(5deg)}to{transform:scale(1) rotate(0deg)}}@keyframes open-modal{0%{opacity:0;transform:scale(.8) rotate(-5deg)}60%{opacity:1;transform:scale(1.05) rotate(2deg)}to{transform:scale(1) rotate(0deg)}}@keyframes bounce{0%{opacity:0;transform:scale(.9) translateY(-50%)}30%{opacity:1;transform:scale(1.05) translateY(0)}50%{transform:scale(.95) translateY(-10%)}70%{transform:scale(1.02) translateY(0)}85%{transform:scale(.98) translateY(-5%)}to{transform:scale(1) translateY(0)}}@keyframes subtleAppear{0%{opacity:0;transform:scale(.9)}60%{opacity:1;transform:scale(1.02)}to{transform:scale(1)}}.w3a-parent-container .transition-wrapper{height:100%;position:relative;width:100%}.w3a-parent-container .fade-in{opacity:1;transition:opacity .3s}.w3a-parent-container .fade-out{opacity:0;transition:opacity .3s}.w3a-parent-container .slide-enter{opacity:0;transform:translateX(100%)}.w3a-parent-container .slide-enter-active{opacity:1;transform:translateX(0);transition:transform .3s ease-in-out,opacity .3s ease-in-out}.w3a-parent-container .slide-exit{opacity:1;transform:translateX(0)}.w3a-parent-container .slide-exit-active{opacity:0;transform:translateX(-100%);transition:transform .3s ease-in-out,opacity .3s ease-in-out}.w3a-parent-container .tooltip{--tw-translate-x:-50%;--tw-translate-y:-50%;--tw-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);background-color:var(--app-gray-900);border-radius:.5rem;bottom:58%;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);color:var(--app-white);font-size:.875rem;left:50%;line-height:1.25rem;padding:.25rem .5rem;position:absolute;text-align:center;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));width:max-content}.w3a-parent-container #w3a-modal{align-items:center;box-sizing:border-box;display:flex;font-family:Inter;inset:0;justify-content:center;padding:1rem;position:fixed}.w3a-parent-container #w3a-modal.w3a-modal--hidden{display:none}.w3a-parent-container #w3a-modal:before{background-color:var(--app-black);content:"";inset:0;opacity:0;position:fixed;transition:opacity .2s ease-in-out}.w3a-parent-container #w3a-modal .w3a-modal__inner{--tw-shadow:0px 4px 16px #00000014;--tw-shadow-colored:0px 4px 16px var(--tw-shadow-color);background-color:var(--app-white);border-color:var(--app-gray-100);border-radius:32px;border-width:1px;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);display:flex;flex-direction:column;max-height:95%;max-width:392px;opacity:0;overflow-x:hidden;overflow-y:hidden;position:relative;width:100%}.w3a-parent-container #w3a-modal .w3a-modal__inner:is(.w3a--dark *){background-color:var(--app-gray-800);border-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-modal__inner{transform:scale(.8) rotate(-5deg);transform-origin:center center;transition:all .15s cubic-bezier(.92,0,1,.67)}.w3a-parent-container #w3a-modal .w3a-modal__inner.w3a-modal__inner--active{animation:subtleAppear .5s ease-out forwards;opacity:1;transform-origin:center center;transition:none}.w3a-parent-container #w3a-modal.w3a-modal--active:before{opacity:.5}.w3a-parent-container #w3a-modal .w3a-modal__header{padding:0 2rem .5rem;position:relative}.w3a-parent-container #w3a-modal .w3a-modal__content{overflow-y:auto;padding:1rem 2rem}.w3a-parent-container #w3a-modal .w3a-modal__content_external_wallet{overflow-y:auto;padding-left:2rem;padding-right:2rem;padding-top:1.5rem}.w3a-parent-container #w3a-modal .w3a-modal__footer{align-items:center;justify-content:center;margin-top:auto;padding:1rem 2rem;text-align:center}.w3a-parent-container #w3a-modal .w3a-header{align-items:center;display:flex;padding-top:2rem}.w3a-parent-container #w3a-modal .w3a-header__logo{margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-header__logo img{height:auto;width:2.5rem}.w3a-parent-container #w3a-modal .w3a-header__title{color:var(--app-gray-900);font-size:1.25rem;font-weight:700;line-height:1.75rem}.w3a-parent-container #w3a-modal .w3a-header__title:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal div.w3a-header__subtitle{align-items:center;color:var(--app-gray-500);display:flex;font-size:.875rem;font-weight:400;line-height:1.25rem}.w3a-parent-container #w3a-modal div.w3a-header__subtitle:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal div.w3a-header__subtitle img{height:14px;margin-left:.25rem;width:14px}.w3a-parent-container #w3a-modal button.w3a-header__button{align-items:center;border-radius:9999px;border-width:0;cursor:pointer;display:flex;height:1.5rem;justify-content:center;padding:0;position:absolute;right:1.75rem;top:1.7rem;width:1.5rem}.w3a-parent-container #w3a-modal button.w3a-header__button:hover{background-color:var(--app-gray-100)}.w3a-parent-container #w3a-modal button.w3a-header__button:active,.w3a-parent-container #w3a-modal button.w3a-header__button:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-header__button:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal button.w3a-header__button:focus:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-header__button:active:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet{align-items:center;border-radius:9999px;border-width:0;cursor:pointer;display:flex;height:1.5rem;justify-content:center;padding:0;position:absolute;right:1.75rem;top:1.6rem;width:1.5rem}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:hover{background-color:var(--app-gray-100)}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:active,.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:focus:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-header__button_wallet:active:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal div.w3a-social__policy{color:var(--app-gray-500);font-size:.75rem;font-weight:500;line-height:1rem;margin-top:1rem;text-align:left}.w3a-parent-container #w3a-modal div.w3a-social__policy:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-group{margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-group-loader-height{align-items:center;display:flex;height:200px;justify-content:center}.w3a-parent-container #w3a-modal .w3a-group:last-child{margin-bottom:0}.w3a-parent-container #w3a-modal .w3ajs-passwordless div.w3a-group__title{align-items:center;display:flex}.w3a-parent-container #w3a-modal .w3ajs-passwordless div.w3a-group__title img{height:14px;margin-left:.25rem;width:14px}.w3a-parent-container #w3a-modal .w3a-group.w3a-group--email-hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--ext-wallet-hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--hidden,.w3a-parent-container #w3a-modal .w3a-group.w3a-group--social-hidden{display:none}.w3a-parent-container #w3a-modal div.w3a-group__title{color:var(--app-gray-900);font-size:.875rem;font-weight:500;line-height:1.25rem;margin-bottom:.5rem}.w3a-parent-container #w3a-modal div.w3a-group__title:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal div.w3a-adapter-list-container{height:362px;overflow-y:auto;scrollbar-width:none}.w3a-parent-container #w3a-modal ul.w3a-adapter-list{display:grid;gap:8px;grid-template-columns:repeat(6,minmax(0,1fr));max-height:500px;overflow-y:auto;padding:1px;scrollbar-width:none;transition:max-height .35s;transition-timing-function:cubic-bezier(.92,0,.74,1)}.w3a-parent-container #w3a-modal ul.w3a-adapter-list.w3a-adapter-list--shrink{max-height:100px;overflow-y:hidden;transition:max-height .3s;transition-timing-function:cubic-bezier(0,.73,.71,1)}.w3a-parent-container #w3a-modal ul.w3a-adapter-list.w3a-adapter-list--hidden{display:none}.w3a-parent-container #w3a-modal li.w3a-adapter-item{list-style-type:none}.w3a-parent-container #w3a-modal li.w3a-adapter-item--full{grid-column:span 6/span 6}.w3a-parent-container #w3a-modal .w3a-adapter-item--hide{display:none}.w3a-parent-container #w3a-modal .w3a-external-toggle{display:block;width:100%!important}.w3a-parent-container #w3a-modal .w3a-external-toggle.w3a-external-toggle--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-external-container{display:block;margin-bottom:0}.w3a-parent-container #w3a-modal .w3a-external-container.w3a-external-container--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-external-group{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1rem}.w3a-parent-container #w3a-modal .w3a-external-group__left{flex-grow:1}.w3a-parent-container #w3a-modal button.w3a-external-back{align-items:center;background-image:none;border-radius:9999px;border-width:0;color:var(--app-gray-500);cursor:pointer;display:flex;height:1.5rem;justify-content:center;padding:0;width:1.5rem}.w3a-parent-container #w3a-modal button.w3a-external-back:hover{background-color:var(--app-gray-100);color:var(--app-gray-900)}.w3a-parent-container #w3a-modal button.w3a-external-back:active,.w3a-parent-container #w3a-modal button.w3a-external-back:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal button.w3a-external-back:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.w3a-external-back:hover:is(.w3a--dark *){background-color:var(--app-gray-700);color:var(--app-white)}.w3a-parent-container #w3a-modal button.w3a-external-back:focus:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-external-back:active:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-external-back .w3a-group__title{color:var(--app-gray-400);margin-bottom:0;margin-left:5px}.w3a-parent-container #w3a-modal .w3a-external-loader{display:flex;justify-content:center}.w3a-parent-container #w3a-modal .w3a-wallet-connect{display:block;margin-bottom:.625rem;text-align:center}.w3a-parent-container #w3a-modal .w3a-wallet-connect.w3a-wallet-connect--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container{background-color:var(--app-white);border-radius:10px;color:var(--app-gray-500);font-size:.625rem;margin-left:auto;margin-right:auto;min-width:250px;padding-bottom:.625rem;padding-top:.625rem;width:fit-content}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container:is(.w3a--dark *){background-color:var(--app-gray-800);color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-android,.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-desktop{margin:auto}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-btn-group{display:flex;gap:18px}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-ios{box-sizing:border-box;column-gap:1.25rem;display:flex;flex-wrap:wrap;padding:0 0 1.75rem;row-gap:30px}.w3a-parent-container #w3a-modal .w3a-wallet-connect-qr>canvas,.w3a-parent-container #w3a-modal .w3a-wallet-connect-qr>svg{margin:auto}.w3a-parent-container #w3a-modal .w3a-wallet-connect__container-android a{text-decoration-line:none}.w3a-parent-container #w3a-modal .w3a-wallet-connect__logo>img{margin:0 auto 1rem;width:115px}.w3a-parent-container #w3a-modal .w3a-footer{align-items:center;color:var(--app-gray-400);display:flex;font-size:.75rem;justify-content:center;line-height:1rem}.w3a-parent-container #w3a-modal .w3a-footer__links a:active,.w3a-parent-container #w3a-modal .w3a-footer__links a:focus{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-footer__links a:focus:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-footer__links a:active:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-footer__links span{margin:0 4px}.w3a-parent-container #w3a-modal.w3a-modal--light .w3a-footer__links a:focus-visible{outline:1px solid #0f1222}.w3a-parent-container #w3a-modal.w3a-modal--light .w3a-external-back:focus-visible{outline:1px solid #0f1222}.w3a-parent-container #w3a-modal .hover-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal .w3a-text-field{background-color:var(--app-gray-50);border-color:var(--app-gray-300);border-radius:9999px;border-width:1px;color:var(--app-gray-900);font-size:.875rem;line-height:1.25rem;margin-top:.5rem;padding:.75rem 1.5rem}.w3a-parent-container #w3a-modal .w3a-text-field::placeholder{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-text-field{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);outline-width:0}.w3a-parent-container #w3a-modal .w3a-text-field:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);border-color:#0000;box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .w3a-text-field:disabled{cursor:not-allowed}.w3a-parent-container #w3a-modal .w3a-text-field:disabled::placeholder{color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-text-field:is(.w3a--dark *){background-color:var(--app-gray-600);border-color:var(--app-gray-500);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-text-field:is(.w3a--dark *)::placeholder{color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .w3a-text-field:focus:is(.w3a--dark *){--tw-ring-color:var(--app-primary-500);border-color:#0000}.w3a-parent-container #w3a-modal .w3a-text-field:disabled:is(.w3a--dark *)::placeholder{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-text-field{line-height:1.25em}.w3a-parent-container #w3a-modal .w3a-text-field--country-code{display:flex;justify-content:space-between;padding-left:1rem;padding-right:1rem;width:100%}.w3a-parent-container #w3a-modal .w3a-text-field--number{appearance:none}.w3a-parent-container #w3a-modal .w3a-sms-field--error{color:var(--app-red-500);font-size:.875rem;line-height:1.25rem;margin-bottom:.5rem;margin-left:.375rem;margin-top:-.5rem}.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:active,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:focus,.w3a-parent-container #w3a-container #w3a-modal input.w3a-text-field:-webkit-autofill:hover{--tw-shadow:0 0 0 30px #f9fafb inset;--tw-shadow-colored:inset 0 0 0 30px var(--tw-shadow-color);-webkit-text-fill-color:#111928!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:active,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:focus,.w3a-parent-container #w3a-container.dark #w3a-modal input.w3a-text-field:-webkit-autofill:hover{--tw-shadow:0 0 0 30px #374151 inset;--tw-shadow-colored:inset 0 0 0 30px var(--tw-shadow-color);-webkit-text-fill-color:#fff!important;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.w3a-parent-container #w3a-modal .w3a-button{background-color:var(--app-gray-100);border-radius:9999px;color:var(--app-gray-900);font-size:1rem;font-weight:500;line-height:1.5rem;padding:.75rem 1.5rem}.w3a-parent-container #w3a-modal .w3a-button:hover{background-color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .w3a-button:focus{background-color:var(--app-gray-100);color:var(--app-gray-700);outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-button:active{outline-color:var(--app-gray-50)}.w3a-parent-container #w3a-modal .w3a-button:disabled{background-color:var(--app-gray-50);color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .w3a-button:is(.w3a--dark *){background-color:var(--app-gray-900);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-button:hover:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-button:focus:is(.w3a--dark *){background-color:var(--app-gray-900);color:var(--app-white);outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-button:active:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-button:disabled:is(.w3a--dark *){--tw-bg-opacity:1;background-color:rgb(59 69 85/var(--tw-bg-opacity,1));color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-button--primary{background-color:var(--app-primary-600);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-button--primary:hover{background-color:var(--app-primary-800)}.w3a-parent-container #w3a-modal .w3a-button--primary:focus{background-color:var(--app-primary-600);color:var(--app-white);outline-color:var(--app-primary-300)}.w3a-parent-container #w3a-modal .w3a-button--primary:active{outline-color:var(--app-primary-300)}.w3a-parent-container #w3a-modal .w3a-button--primary:disabled{--tw-text-opacity:1;background-color:var(--app-primary-200);color:rgb(235 245 255/var(--tw-text-opacity,1))}.w3a-parent-container #w3a-modal .w3a-button--primary:is(.w3a--dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-button--primary:hover:is(.w3a--dark *){background-color:var(--app-primary-800)}.w3a-parent-container #w3a-modal .w3a-button--primary:focus:is(.w3a--dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-button--primary:disabled:is(.w3a--dark *){--tw-bg-opacity:1;background-color:rgb(45 72 116/var(--tw-bg-opacity,1));color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-button--login{align-items:center;display:inline-flex;height:2.75rem;justify-content:center}.w3a-parent-container #w3a-modal button.w3a-button--login:hover>.hover-icon{display:block;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.w3a-button--login:hover>.image-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.w3a-button-expand{color:var(--app-primary-600);font-size:.875rem;height:auto;line-height:1.25rem;margin-left:auto;margin-top:1rem;width:auto}.w3a-parent-container #w3a-modal button.w3a-button-expand:hover{color:var(--app-primary-800)}.w3a-parent-container #w3a-modal button.w3a-button-expand:focus-visible{outline-color:var(--app-gray-50);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal button.w3a-button-expand:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal button.w3a-button-expand:hover:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container #w3a-modal button.w3a-button-expand:focus-visible:is(.w3a--dark *){outline-color:var(--app-gray-400);outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .w3a-sms-field__container{display:grid;gap:.5rem;grid-template-columns:repeat(12,minmax(0,1fr))}.w3a-parent-container #w3a-modal .w3a-sms-field__code-selected{display:flex}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{height:185px;position:absolute;width:120px;z-index:10}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-bottom-width:calc(1px*var(--tw-divide-y-reverse));border-color:var(--app-gray-100);border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)))}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{--tw-shadow:0px 4px 16px #00000014;--tw-shadow-colored:0px 4px 16px var(--tw-shadow-color);background-color:var(--app-white);border-radius:.5rem;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);overflow-y:scroll}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown{transform:translateY(-230px)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown ul{color:var(--app-gray-700);font-size:.875rem;line-height:1.25rem;padding-bottom:.5rem;padding-top:.5rem}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown ul:is(.w3a--dark *){color:var(--app-gray-200)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li{cursor:pointer;padding:0}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li:hover{background-color:var(--app-gray-100)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li:hover:is(.w3a--dark *){background-color:var(--app-gray-900);color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li button{height:100%;padding:.5rem 1rem;text-align:left;width:100%}.w3a-parent-container #w3a-modal .w3a-sms-field__code-dropdown li button div{align-items:center;display:flex}.w3a-parent-container #w3a-modal .w3a-sms-field__code{grid-column:span 5/span 5}.w3a-parent-container #w3a-modal .w3a-sms-field__number{grid-column:span 7/span 7}.w3a-parent-container #w3a-modal .w3a-modal__loader{background-color:var(--app-white);display:flex;inset:0;justify-content:center;position:absolute;z-index:10}.w3a-parent-container #w3a-modal .w3a-modal__loader:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .w3a-modal__loader.w3a-modal__loader--hidden{display:none}.w3a-parent-container #w3a-modal .w3a-modal__loader-content{display:flex;flex-direction:column;position:relative;text-align:center}.w3a-parent-container #w3a-modal .w3a-modal__loader-info{align-items:center;display:flex;flex-direction:column;flex-grow:1;justify-content:center;padding:0 30px}.w3a-parent-container #w3a-modal .w3a-spinner-label{color:var(--app-primary-600);font-size:1rem;font-weight:500;line-height:1.5rem;margin-top:10px}.w3a-parent-container #w3a-modal .w3a-spinner-label:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .w3a-spinner-message{color:var(--app-gray-500);font-size:1rem;line-height:1.5rem;margin-top:10px}.w3a-parent-container #w3a-modal .w3a-spinner-message:first-letter{text-transform:capitalize}.w3a-parent-container #w3a-modal .w3a-spinner-message:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-spinner-message.w3a-spinner-message--error{color:var(--app-red-500)}.w3a-parent-container #w3a-modal .w3a-spinner-power{--tw-text-opacity:1;color:rgb(183 184 189/var(--tw-text-opacity,1));font-size:.75rem;line-height:1rem;margin-top:auto}.w3a-parent-container #w3a-modal .w3a-spinner-power>img{display:inline;height:2rem;width:auto}.w3a-parent-container #w3a-modal .w3a-spinner{display:inline-flex;height:60px;position:relative;width:60px}.w3a-parent-container #w3a-modal .w3a-spinner__spinner{position:absolute}@keyframes w3a--spin{to{transform:rotate(1turn)}}.w3a-parent-container #w3a-modal .w3a-spinner__spinner{animation:w3a--spin 1s linear infinite;background-image:conic-gradient(from 0deg at 50% 50%,var(--app-primary-600) 0,#e5e7ebcc 90deg,#e5e7ebcc 270deg,var(--app-primary-600) 1turn);background-position:0 0;background-size:100% 100%;border-radius:100vw;display:inline-block;height:100%;-webkit-mask:radial-gradient(farthest-side,#000 98%,#0000) center/85% 85% no-repeat,linear-gradient(#000 0 0);-webkit-mask-composite:destination-out;mask:radial-gradient(farthest-side,#000 98%,#0000) center/85% 85% no-repeat,linear-gradient(#000 0 0);mask-composite:exclude;width:100%}.w3a-parent-container .dark #w3a-modal .w3a-spinner__spinner{background-image:conic-gradient(from 0deg at 50% 50%,var(--app-primary-500) 0,#e5e7eb33 90deg,#e5e7eb33 270deg,var(--app-primary-500) 1turn)}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge{align-items:center;display:flex;justify-content:center;margin-bottom:14px}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message{color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message:first-letter{text-transform:capitalize}.w3a-parent-container #w3a-modal .w3a-modal__loader-bridge-message:is(.w3a--dark *){color:var(--app-white)}.w3a-parent-container #w3a-modal .w3a-modal__loader-app-logo{display:flex;padding:.5rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-app-logo img{height:3rem;max-height:3rem;max-width:3rem;object-fit:contain;width:3rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-social-logo{align-items:center;border-radius:9999px;display:flex;height:3.5rem;justify-content:center;padding:.25rem;width:3.5rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-social-logo img{height:2.5rem;max-height:2.5rem;max-width:2.5rem;object-fit:contain;width:2.5rem}.w3a-parent-container #w3a-modal .w3a-modal__loader-adapter img{height:auto;width:84px}.w3a-parent-container #w3a-modal .w3a-modal__connector{align-items:center;display:flex}.w3a-parent-container .w3a-modal__connector-beat{display:inline-block;height:80px;position:relative;width:80px}.w3a-parent-container .w3a-modal__connector-beat div{animation-timing-function:cubic-bezier(0,1,1,0);background:grey;border-radius:50%;height:13px;position:absolute;top:33px;width:13px}@keyframes w3a--pulse{50%{opacity:.5}}.w3a-parent-container .w3a-modal__connector-beat div{animation:w3a--pulse 2s cubic-bezier(.4,0,.6,1) infinite;background-color:var(--app-gray-200)}.w3a-parent-container .w3a-modal__connector-beat div:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .w3a-modal__connector-beat div:first-child{animation:beat1 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(2){animation:beat2 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(3){animation:beat3 2.4s infinite;left:8px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(4){animation:beat4 2.4s infinite;left:32px}.w3a-parent-container .w3a-modal__connector-beat div:nth-child(5){animation:beat5 2.4s infinite;left:56px}.w3a-parent-container .wallet-btn{background-color:var(--app-gray-100)}.w3a-parent-container .wallet-btn:hover{background-color:var(--app-gray-200)}.w3a-parent-container .wallet-btn:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .wallet-btn:hover:is(.w3a--dark *){background-color:var(--app-gray-800)}.w3a-parent-container .wallet-link-btn{color:var(--app-gray-900)}.w3a-parent-container .wallet-link-btn:is(.w3a--dark *){background-color:var(--app-gray-700);color:var(--app-white)}.w3a-parent-container .wallet-link-btn:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .wallet-link-btn img{height:1.75rem;width:1.75rem}.w3a-parent-container .wallet-adapter-container{height:551px}@keyframes beat1{0%{transform:scale(0)}25%{transform:scale(0)}50%{transform:scale(1)}75%{transform:scale(0)}to{transform:scale(0)}}@keyframes beat2{0%{transform:scale(0)}25%{transform:scale(1)}50%{transform:translate(24px)}75%{transform:translate(0)}to{transform:translate(0) scale(0)}}@keyframes beat3{0%{transform:translate(0)}25%{transform:translate(24px)}50%{transform:translate(48px)}75%{transform:translate(24px)}to{transform:translate(0)}}@keyframes beat4{0%{transform:translate(0)}25%{transform:translate(24px)}50%{transform:translate(24px) scale(0)}75%{transform:translate(24px) scale(1)}to{transform:translate(0)}}@keyframes beat5{0%{transform:scale(1)}25%{transform:scale(0)}50%{transform:scale(0)}75%{transform:scale(0)}to{transform:scale(1)}}.w3a-parent-container .w3a--group:hover .group-hover\\:w3a--flex{display:flex}.w3a-parent-container .dark\\:w3a--block:is(.w3a--dark *){display:block}.w3a-parent-container .dark\\:w3a--hidden:is(.w3a--dark *){display:none}.w3a-parent-container .dark\\:w3a--bg-app-gray-600:is(.w3a--dark *){background-color:var(--app-gray-600)}.w3a-parent-container .dark\\:w3a--bg-app-gray-700:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container .dark\\:w3a--text-app-gray-400:is(.w3a--dark *){color:var(--app-gray-400)}.w3a-parent-container .dark\\:w3a--text-app-gray-500:is(.w3a--dark *){color:var(--app-gray-500)}.w3a-parent-container .dark\\:w3a--text-app-white:is(.w3a--dark *){color:var(--app-white)}`;_$(jse);const qse=(t,e,r,n)=>{var i,o,l,u;const s=[r,{code:e,...n||{}}];if((o=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&o.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Ou(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&u.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},VI={},U6=(t,e,r,n)=>{Ou(r)&&VI[r]||(Ou(r)&&(VI[r]=new Date),qse(t,e,r,n))},S$=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},F6=(t,e,r)=>{t.loadNamespaces(e,S$(t,r))},GI=(t,e,r,n)=>{if(Ou(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return F6(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,S$(t,n))},zse=(t,e,r={})=>!e.languages||!e.languages.length?(U6(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{var i;if(((i=r.bindI18n)==null?void 0:i.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),Ou=t=>typeof t=="string",Hse=t=>typeof t=="object"&&t!==null,Kse=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Wse={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Vse=t=>Wse[t],Gse=t=>t.replace(Kse,Vse);let j6={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Gse};const Yse=(t={})=>{j6={...j6,...t}},Zse=()=>j6;let E$;const Jse=t=>{E$=t},Xse=()=>E$,Qse={type:"3rdParty",init(t){Yse(t.options.react),Jse(t)}},eoe=Ae.createContext();class toe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const roe=(t,e)=>{const r=Ae.useRef();return Ae.useEffect(()=>{r.current=t},[t,e]),r.current},M$=(t,e,r,n)=>t.getFixedT(e,r,n),noe=(t,e,r,n)=>Ae.useCallback(M$(t,e,r,n),[t,e,r,n]),ea=(t,e={})=>{var P,N,U,q;const{i18n:r}=e,{i18n:n,defaultNS:s}=Ae.useContext(eoe)||{},i=r||n||Xse();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new toe),!i){U6(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const F=(ie,E)=>Ou(E)?E:Hse(E)&&Ou(E.defaultValue)?E.defaultValue:Array.isArray(ie)?ie[ie.length-1]:ie,L=[F,{},!1];return L.t=F,L.i18n={},L.ready=!1,L}(P=i.options.react)!=null&&P.wait&&U6(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Zse(),...i.options.react,...e},{useSuspense:l,keyPrefix:u}=o;let d=s||((N=i.options)==null?void 0:N.defaultNS);d=Ou(d)?[d]:d||["translation"],(q=(U=i.reportNamespaces).addUsedNamespaces)==null||q.call(U,d);const p=(i.isInitialized||i.initializedStoreOnce)&&d.every(F=>zse(F,i,o)),v=noe(i,e.lng||null,o.nsMode==="fallback"?d:d[0],u),b=()=>v,_=()=>M$(i,e.lng||null,o.nsMode==="fallback"?d:d[0],u),[M,A]=Ae.useState(b);let I=d.join();e.lng&&(I=`${e.lng}${I}`);const k=roe(I),R=Ae.useRef(!0);Ae.useEffect(()=>{const{bindI18n:F,bindI18nStore:L}=o;R.current=!0,!p&&!l&&(e.lng?GI(i,e.lng,d,()=>{R.current&&A(_)}):F6(i,d,()=>{R.current&&A(_)})),p&&k&&k!==I&&R.current&&A(_);const ie=()=>{R.current&&A(_)};return F&&(i==null||i.on(F,ie)),L&&(i==null||i.store.on(L,ie)),()=>{R.current=!1,i&&(F==null||F.split(" ").forEach(E=>i.off(E,ie))),L&&i&&L.split(" ").forEach(E=>i.store.off(E,ie))}},[i,I]),Ae.useEffect(()=>{R.current&&p&&A(b)},[i,u,p]);const C=[M,i,p];if(C.t=M,C.i18n=i,C.ready=p,p||!p&&!l)return C;throw new Promise(F=>{e.lng?GI(i,e.lng,d,()=>F()):F6(i,d,()=>F())})},er=t=>typeof t=="string",Wd=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},YI=t=>t==null?"":""+t,ioe=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},soe=/###/g,ZI=t=>t&&t.indexOf("###")>-1?t.replace(soe,"."):t,JI=t=>!t||er(t),P0=(t,e,r)=>{const n=er(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(JI(t))return{};const i=ZI(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return JI(t)?{}:{obj:t,k:ZI(n[s])}},XI=(t,e,r)=>{const{obj:n,k:s}=P0(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],o=e.slice(0,e.length-1),l=P0(t,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=P0(t,o,Object),l&&l.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=r},ooe=(t,e,r,n)=>{const{obj:s,k:i}=P0(t,e,Object);s[i]=s[i]||[],s[i].push(r)},my=(t,e)=>{const{obj:r,k:n}=P0(t,e);if(r)return r[n]},aoe=(t,e,r)=>{const n=my(t,r);return n!==void 0?n:my(e,r)},A$=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?er(t[n])||t[n]instanceof String||er(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):A$(t[n],e[n],r):t[n]=e[n]);return t},bf=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var loe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const coe=t=>er(t)?t.replace(/[&<>"'\/]/g,e=>loe[e]):t;class uoe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const foe=[" ",",","?","!",";"],hoe=new uoe(20),doe=(t,e,r)=>{e=e||"",r=r||"";const n=foe.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const s=hoe.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(t);if(!i){const o=t.indexOf(r);o>0&&!s.test(t.substring(0,o))&&(i=!0)}return i},q6=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let o,l="";for(let u=i;u<n.length;++u)if(u!==i&&(l+=r),l+=n[u],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<n.length-1)continue;i+=u-i+1;break}s=o}return s},yy=t=>t&&t.replace("_","-"),poe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class vy{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||poe,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(er(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new vy(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new vy(this.logger,e)}}var Aa=new vy;let Vv=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,u]=o;for(let d=0;d<u;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,u]=o;for(let d=0;d<u;d++)l.apply(l,[e,...n])})}};class QI extends Vv{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):er(n)&&i?l.push(...n.split(i)):l.push(n)));const u=my(this.data,l);return!u&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),u||!o||!er(n)?u:q6(this.data&&this.data[e]&&this.data[e][r],n,i)}addResource(e,r,n,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(l=e.split("."),s=r,r=l[1]),this.addNamespaces(r),XI(this.data,l,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in n)(er(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let u=my(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?A$(u,n,i):u={...u,...n},XI(this.data,l,u),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var k$={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,r,n,s))}),e}};const e9={};class wy extends Vv{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ioe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Aa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!doe(e,n,s);if(o&&!l){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:er(i)?[i]:i};const d=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),e=d.join(s)}return{key:e,namespaces:er(i)?[i]:i}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],r),u=l[l.length-1],d=r.lng||this.language,p=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(p){const P=r.nsSeparator||this.options.nsSeparator;return s?{res:`${u}${P}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${P}${o}`}return s?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o}const v=this.resolve(e,r);let b=v&&v.res;const _=v&&v.usedKey||o,M=v&&v.exactUsedKey||o,A=Object.prototype.toString.apply(b),I=["[object Number]","[object Function]","[object RegExp]"],k=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,C=!er(b)&&typeof b!="boolean"&&typeof b!="number";if(R&&b&&C&&I.indexOf(A)<0&&!(er(k)&&Array.isArray(b))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const P=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,b,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(v.res=P,v.usedParams=this.getUsedParamsDetails(r),v):P}if(i){const P=Array.isArray(b),N=P?[]:{},U=P?M:_;for(const q in b)if(Object.prototype.hasOwnProperty.call(b,q)){const F=`${U}${i}${q}`;N[q]=this.translate(F,{...r,joinArrays:!1,ns:l}),N[q]===F&&(N[q]=b[q])}b=N}}else if(R&&er(k)&&Array.isArray(b))b=b.join(k),b&&(b=this.extendTranslation(b,e,r,n));else{let P=!1,N=!1;const U=r.count!==void 0&&!er(r.count),q=wy.hasDefaultValue(r),F=U?this.pluralResolver.getSuffix(d,r.count,r):"",L=r.ordinal&&U?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",ie=U&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),E=ie&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${F}`]||r[`defaultValue${L}`]||r.defaultValue;!this.isValidLookup(b)&&q&&(P=!0,b=E),this.isValidLookup(b)||(N=!0,b=o);const f=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:b,h=q&&E!==b&&this.options.updateMissing;if(N||P||h){if(this.logger.log(h?"updateKey":"missingKey",d,u,o,h?E:b),i){const S=this.resolve(o,{...r,keySeparator:!1});S&&S.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let g=[];const y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&y&&y[0])for(let S=0;S<y.length;S++)g.push(y[S]);else this.options.saveMissingTo==="all"?g=this.languageUtils.toResolveHierarchy(r.lng||this.language):g.push(r.lng||this.language);const x=(S,m,c)=>{const w=q&&c!==b?c:f;this.options.missingKeyHandler?this.options.missingKeyHandler(S,u,m,w,h,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(S,u,m,w,h,r),this.emit("missingKey",S,u,m,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?g.forEach(S=>{const m=this.pluralResolver.getSuffixes(S,r);ie&&r[`defaultValue${this.options.pluralSeparator}zero`]&&m.indexOf(`${this.options.pluralSeparator}zero`)<0&&m.push(`${this.options.pluralSeparator}zero`),m.forEach(c=>{x([S],o+c,r[`defaultValue${c}`]||E)})}):x(g,o,E))}b=this.extendTranslation(b,e,r,v,n),N&&b===o&&this.options.appendNamespaceToMissingKey&&(b=`${u}:${o}`),(N||P)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${o}`:o,P?b:void 0):b=this.options.parseMissingKeyHandler(b))}return s?(v.res=b,v.usedParams=this.getUsedParamsDetails(r),v):b}extendTranslation(e,r,n,s,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=er(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const b=e.match(this.interpolator.nestingRegexp);p=b&&b.length}let v=n.replace&&!er(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,n.lng||this.language||s.usedLng,n),d){const b=e.match(this.interpolator.nestingRegexp),_=b&&b.length;p<_&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var b=arguments.length,_=new Array(b),M=0;M<b;M++)_[M]=arguments[M];return i&&i[0]===_[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${_[0]} in key: ${r[0]}`),null):o.translate(..._,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,u=er(l)?[l]:l;return e!=null&&u&&u.length&&n.applyPostProcessor!==!1&&(e=k$.handle(u,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,i,o,l;return er(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(u,r),p=d.key;s=p;let v=d.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const b=r.count!==void 0&&!er(r.count),_=b&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),M=r.context!==void 0&&(er(r.context)||typeof r.context=="number")&&r.context!=="",A=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);v.forEach(I=>{this.isValidLookup(n)||(l=I,!e9[`${A[0]}-${I}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(e9[`${A[0]}-${I}`]=!0,this.logger.warn(`key "${s}" for languages "${A.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(k=>{if(this.isValidLookup(n))return;o=k;const R=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(R,p,k,I,r);else{let P;b&&(P=this.pluralResolver.getSuffix(k,r.count,r));const N=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(R.push(p+P),r.ordinal&&P.indexOf(U)===0&&R.push(p+P.replace(U,this.options.pluralSeparator)),_&&R.push(p+N)),M){const q=`${p}${this.options.contextSeparator}${r.context}`;R.push(q),b&&(R.push(q+P),r.ordinal&&P.indexOf(U)===0&&R.push(q+P.replace(U,this.options.pluralSeparator)),_&&R.push(q+N))}}let C;for(;C=R.pop();)this.isValidLookup(n)||(i=C,n=this.getResource(k,I,C,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!er(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const Q3=t=>t.charAt(0).toUpperCase()+t.slice(1);class t9{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Aa.create("languageUtils")}getScriptPartFromCode(e){if(e=yy(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=yy(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(er(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(e)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Q3(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Q3(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Q3(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),er(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return er(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):er(e)&&i(this.formatLanguageCode(e)),n.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}let goe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],moe={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const yoe=["v1","v2","v3"],voe=["v4"],r9={zero:0,one:1,two:2,few:3,many:4,other:5},woe=()=>{const t={};return goe.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:moe[e.fc]}})}),t};class boe{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Aa.create("pluralResolver"),(!this.options.compatibilityJSON||voe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=woe(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=yy(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:s})}catch{if(!e.match(/-|_/))return;const u=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(u,r)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,i)=>r9[s]-r9[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(e,s,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:this.getSuffixRetroCompatible(s,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let s=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const i=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!yoe.includes(this.options.compatibilityJSON)}}const n9=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=aoe(t,e,r);return!i&&s&&er(r)&&(i=q6(t,r,n),i===void 0&&(i=q6(e,r,n))),i},ex=t=>t.replace(/\$/g,"$$$$");class xoe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Aa.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:u,formatSeparator:d,unescapeSuffix:p,unescapePrefix:v,nestingPrefix:b,nestingPrefixEscaped:_,nestingSuffix:M,nestingSuffixEscaped:A,nestingOptionsSeparator:I,maxReplaces:k,alwaysFormat:R}=e.interpolation;this.escape=r!==void 0?r:coe,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?bf(i):o||"{{",this.suffix=l?bf(l):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=p?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=b?bf(b):_||bf("$t("),this.nestingSuffix=M?bf(M):A||bf(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=k||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,s){let i,o,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=_=>{if(_.indexOf(this.formatSeparator)<0){const k=n9(r,u,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,n,{...s,...r,interpolationkey:_}):k}const M=_.split(this.formatSeparator),A=M.shift().trim(),I=M.join(this.formatSeparator).trim();return this.format(n9(r,u,A,this.options.keySeparator,this.options.ignoreJSONStructure),I,n,{...s,...r,interpolationkey:A})};this.resetRegExp();const p=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,v=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>ex(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?ex(this.escape(_)):ex(_)}].forEach(_=>{for(l=0;i=_.regex.exec(e);){const M=i[1].trim();if(o=d(M),o===void 0)if(typeof p=="function"){const I=p(e,i,s);o=er(I)?I:""}else if(s&&Object.prototype.hasOwnProperty.call(s,M))o="";else if(v){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${e}`),o="";else!er(o)&&!this.useRawValueToEscape&&(o=YI(o));const A=_.safeValue(o);if(e=e.replace(i[0],A),v?(_.regex.lastIndex+=o.length,_.regex.lastIndex-=i[0].length):_.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,i,o;const l=(u,d)=>{const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const v=u.split(new RegExp(`${p}[ ]*{`));let b=`{${v[1]}`;u=v[0],b=this.interpolate(b,o);const _=b.match(/'/g),M=b.match(/"/g);(_&&_.length%2===0&&!M||M.length%2!==0)&&(b=b.replace(/'/g,'"'));try{o=JSON.parse(b),d&&(o={...d,...o})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,A),`${u}${p}${b}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];o={...n},o=o.replace&&!er(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let d=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const p=s[1].split(this.formatSeparator).map(v=>v.trim());s[1]=p.shift(),u=p,d=!0}if(i=r(l.call(this,s[1].trim(),o),o),i&&s[0]===e&&!er(i))return i;er(i)||(i=YI(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),d&&(i=u.reduce((p,v)=>this.format(p,v,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const _oe=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...u]=o.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),p=l.trim();r[p]||(r[p]=d),d==="false"&&(r[p]=!1),d==="true"&&(r[p]=!0),isNaN(d)||(r[p]=parseInt(d,10))}})}return{formatName:e,formatOptions:r}},xf=t=>{const e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=n+JSON.stringify(i);let l=e[o];return l||(l=t(yy(n),s),e[o]=l),l(r)}};class Soe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Aa.create("formatter"),this.options=e,this.formats={number:xf((r,n)=>{const s=new Intl.NumberFormat(r,{...n});return i=>s.format(i)}),currency:xf((r,n)=>{const s=new Intl.NumberFormat(r,{...n,style:"currency"});return i=>s.format(i)}),datetime:xf((r,n)=>{const s=new Intl.DateTimeFormat(r,{...n});return i=>s.format(i)}),relativetime:xf((r,n)=>{const s=new Intl.RelativeTimeFormat(r,{...n});return i=>s.format(i,n.range||"day")}),list:xf((r,n)=>{const s=new Intl.ListFormat(r,{...n});return i=>s.format(i)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=xf(r)}format(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,u)=>{const{formatName:d,formatOptions:p}=_oe(u);if(this.formats[d]){let v=l;try{const b=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},_=b.locale||b.lng||s.locale||s.lng||n;v=this.formats[d](l,_,{...p,...s,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const Eoe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Moe extends Vv{constructor(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Aa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(e,r,n,s){const i={},o={},l={},u={};return e.forEach(d=>{let p=!0;r.forEach(v=>{const b=`${d}|${v}`;!n.reload&&this.store.hasResourceBundle(d,v)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?o[b]===void 0&&(o[b]=!0):(this.state[b]=1,p=!1,o[b]===void 0&&(o[b]=!0),i[b]===void 0&&(i[b]=!0),u[v]===void 0&&(u[v]=!0)))}),p||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,r,n){const s=e.split("|"),i=s[0],o=s[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(u=>{ooe(u.loaded,[i],o),Eoe(u,e),r&&u.errors.push(r),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{l[d]||(l[d]={});const p=u.loaded[d];p.length&&p.forEach(v=>{l[d][v]===void 0&&(l[d][v]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:o});return}this.readingCalls++;const l=(d,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(d&&p&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,o)},i);return}o(d,p)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const d=u(e,r);d&&typeof d.then=="function"?d.then(p=>l(null,p)).catch(l):l(null,d)}catch(d){l(d)}return}return u(e,r,l)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();er(e)&&(e=this.languageUtils.toResolveHierarchy(e)),er(r)&&(r=[r]);const i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,r,n,s,i){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const u={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let p;d.length===5?p=d(e,r,n,s,u):p=d(e,r,n,s),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else d(e,r,n,s,l,u)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const i9=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),er(t[1])&&(e.defaultValue=t[1]),er(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),s9=t=>(er(t.ns)&&(t.ns=[t.ns]),er(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),er(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),bm=()=>{},Aoe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class mp extends Vv{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=s9(e),this.services={},this.logger=Aa,this.modules={external:[]},Aoe(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(er(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=i9();this.options={...s,...this.options,...s9(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const i=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Aa.init(i(this.modules.logger),this.options):Aa.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=Soe);const v=new t9(this.options);this.store=new QI(this.options.resources,this.options);const b=this.services;b.logger=Aa,b.resourceStore=this.store,b.languageUtils=v,b.pluralResolver=new boe(v,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(b.formatter=i(p),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new xoe(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new Moe(i(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(_){for(var M=arguments.length,A=new Array(M>1?M-1:0),I=1;I<M;I++)A[I-1]=arguments[I];e.emit(_,...A)}),this.modules.languageDetector&&(b.languageDetector=i(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=i(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new wy(this.services,this.options),this.translator.on("*",function(_){for(var M=arguments.length,A=new Array(M>1?M-1:0),I=1;I<M;I++)A[I-1]=arguments[I];e.emit(_,...A)}),this.modules.external.forEach(_=>{_.init&&_.init(this)})}if(this.format=this.options.interpolation.format,n||(n=bm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});const u=Wd(),d=()=>{const p=(v,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(b),n(v,b)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),u}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bm;const s=er(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};s?o(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>o(u)),this.options.preload&&this.options.preload.forEach(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,r,n){const s=Wd();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=bm),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&k$.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const s=Wd();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,d)=>{d?(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),r&&r(u,function(){return n.t(...arguments)})},l=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const d=er(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,p=>{o(p,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,r,n){var s=this;const i=function(o,l){let u;if(typeof l!="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),v=2;v<d;v++)p[v-2]=arguments[v];u=s.options.overloadTranslationOptionHandler([o,l].concat(p))}else u={...l};u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||i.keyPrefix);const b=s.options.keySeparator||".";let _;return u.keyPrefix&&Array.isArray(o)?_=o.map(M=>`${u.keyPrefix}${b}${M}`):_=u.keyPrefix?`${u.keyPrefix}${b}${o}`:o,s.t(_,u)};return er(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,u)=>{const d=this.services.backendConnector.state[`${l}|${u}`];return d===-1||d===0||d===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!s||o(i,e)))}loadNamespaces(e,r){const n=Wd();return this.options.ns?(er(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Wd();er(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new t9(i9());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new mp(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bm;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new mp(s);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new QI(this.store.data,s),i.services.resourceStore=i.store),i.translator=new wy(i.services,s),i.translator.on("*",function(l){for(var u=arguments.length,d=new Array(u>1?u-1:0),p=1;p<u;p++)d[p-1]=arguments[p];i.emit(l,...d)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zi=mp.createInstance();Zi.createInstance=mp.createInstance;Zi.createInstance;Zi.dir;Zi.init;Zi.loadResources;Zi.reloadResources;Zi.use;Zi.changeLanguage;Zi.getFixedT;Zi.t;Zi.exists;Zi.setDefaultNamespace;Zi.hasLoadedNamespace;Zi.loadNamespaces;Zi.loadLanguages;var I$={"adapter-loader.message":"Verify your {{adapter}} account to continue","adapter-loader.message1":"Verify your {{adapter}}","adapter-loader.message2":"account to continue","errors-invalid-email":"Invalid Email","errors-invalid-number":"Invalid Phone Number","errors-invalid-number-email":"Invalid Email or Phone Number","errors-required":"Required","external.back":"Back","external.connect":"Continue with a wallet","external.search-text":"Don't see your wallet?","external.search-subtext":"Try search instead","external.connect-wallet":"Connect Wallet","external.continue":"Continue with external wallet","external.dont-have":"Don't have","external.get":"Get","external.get-wallet":"Get Wallet","external.install-browser-extension":"Install {{browser}} extension","external.install-mobile-app":"Install {{os}} app","external.installed":"Installed","external.no-wallets-found":"No wallets found","external.search-wallet":"Search through {{count}} wallets...","external.title":"External Wallet","external.walletconnect-connect":"Connect","external.walletconnect-copy":"Scan with a WalletConnect-supported wallet or click the QR code to copy to your clipboard.","external.walletconnect-subtitle":"Scan the QR code with a WalletConnect-compatible wallet","footer.message":"Self-custodial login by","footer.message-new":"Self-custody via","footer.policy":"Privacy Policy","footer.terms":"Terms of Use","footer.terms-service":"Terms of Service","footer.version":"Version","header-subtitle":"Select one of the following options to continue","header-subtitle-name":"Your {{appName}} wallet with one click","header-subtitle-new":"Your blockchain wallet with one click","header-title":"Sign in","header-tooltip-desc":"The wallet serves as an account to store and manage your digital assets on the blockchain.","header-tooltip-title":"Wallet","network.add-request":"This site is requesting to add a network","network.cancel":"Cancel","network.from":"From","network.proceed":"Proceed","network.switch-request":"This site is requesting to switch networks","network.to":"To","passkey.add":"Add Passkey","passkey.haveExisting":"Have an existing passkey?","passkey.learn-more":"Learn more","passkey.or":"or","passkey.register-desc":"With passkeys, you can verify your identity through your face, fingerprint, or security keys.","passkey.register-title":"Register Passkey","passkey.use":"I have a passkey","popup.phone-body":"Your country code will be detected automatically, but if you're using a phone number from a different country, you'll need to enter the correct country code manually.","popup.phone-header":"Phone number and country code","post-loading.connected":"You are connected with your account","post-loading.something-wrong":"Something went wrong!","social.continue":"Continue with","social.continueCustom":"Continue with {{adapter}}","social.email":"Email","social.email-continue":"Continue with Email","social.email-new":"name@example.com","social.passwordless-cta":"Continue","social.passwordless-login":"Login","social.passwordless-title":"Email or Phone","social.phone":"Phone","social.policy":"We do not store any data related to your social logins.","social.sms":"Mobile","social.sms-continue":"Continue with Mobile","social.sms-invalid-number":"Invalid phone number","social.sms-placeholder-text":"E.g.:","social.view-less":"View less","social.view-less-socials":"View less socials","social.view-more":"View more","social.view-more-socials":"View more socials"},R$={modal:I$};const koe=Object.freeze(Object.defineProperty({__proto__:null,default:R$,modal:I$},Symbol.toStringTag,{value:"Module"})),Or=Zi.createInstance();Or.use(Qse).init({resources:{en:{translation:R$}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},debug:!1,react:{useSuspense:!0}});var Ioe="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.33333%2015.8333L2.5%209.99992M2.5%209.99992L8.33333%204.16659M2.5%209.99992L17.5%209.99992%22%20stroke%3D%22%239CA3AF%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Roe="data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M8.33333%2015.8333L2.5%209.99995M2.5%209.99995L8.33333%204.16662M2.5%209.99995L17.5%209.99995%22%20stroke%3D%22%236B7280%22%20stroke-width%3D%222%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%3C%2Fsvg%3E",Coe="data:image/svg+xml,%3Csvg%20width%3D%2213%22%20height%3D%2213%22%20viewBox%3D%220%200%2013%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M0.292787%201.29299C0.480314%201.10552%200.734622%201.0002%200.999786%201.0002C1.26495%201.0002%201.51926%201.10552%201.70679%201.29299L5.99979%205.58599L10.2928%201.29299C10.385%201.19748%2010.4954%201.1213%2010.6174%201.06889C10.7394%201.01648%2010.8706%200.988893%2011.0034%200.987739C11.1362%200.986585%2011.2678%201.01189%2011.3907%201.06217C11.5136%201.11245%2011.6253%201.1867%2011.7192%201.28059C11.8131%201.37449%2011.8873%201.48614%2011.9376%201.60904C11.9879%201.73193%2012.0132%201.86361%2012.012%201.99639C12.0109%202.12917%2011.9833%202.26039%2011.9309%202.38239C11.8785%202.5044%2011.8023%202.61474%2011.7068%202.70699L7.41379%206.99999L11.7068%2011.293C11.8889%2011.4816%2011.9897%2011.7342%2011.9875%2011.9964C11.9852%2012.2586%2011.88%2012.5094%2011.6946%2012.6948C11.5092%2012.8802%2011.2584%2012.9854%2010.9962%2012.9877C10.734%2012.9899%2010.4814%2012.8891%2010.2928%2012.707L5.99979%208.41399L1.70679%2012.707C1.51818%2012.8891%201.26558%2012.9899%201.00339%2012.9877C0.741188%2012.9854%200.490376%2012.8802%200.304968%2012.6948C0.11956%2012.5094%200.0143906%2012.2586%200.0121121%2011.9964C0.00983372%2011.7342%200.110629%2011.4816%200.292787%2011.293L4.58579%206.99999L0.292787%202.70699C0.105316%202.51946%200%202.26515%200%201.99999C0%201.73483%200.105316%201.48052%200.292787%201.29299V1.29299Z%22%20fill%3D%22%239CA3AF%22%2F%3E%3C%2Fsvg%3E",Toe="data:image/svg+xml,%3Csvg%20width%3D%2213%22%20height%3D%2213%22%20viewBox%3D%220%200%2013%2013%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20d%3D%22M0.292787%201.29299C0.480314%201.10552%200.734622%201.0002%200.999786%201.0002C1.26495%201.0002%201.51926%201.10552%201.70679%201.29299L5.99979%205.58599L10.2928%201.29299C10.385%201.19748%2010.4954%201.1213%2010.6174%201.06889C10.7394%201.01648%2010.8706%200.988893%2011.0034%200.987739C11.1362%200.986585%2011.2678%201.01189%2011.3907%201.06217C11.5136%201.11245%2011.6253%201.1867%2011.7192%201.28059C11.8131%201.37449%2011.8873%201.48614%2011.9376%201.60904C11.9879%201.73193%2012.0132%201.86361%2012.012%201.99639C12.0109%202.12917%2011.9833%202.26039%2011.9309%202.38239C11.8785%202.5044%2011.8023%202.61474%2011.7068%202.70699L7.41379%206.99999L11.7068%2011.293C11.8889%2011.4816%2011.9897%2011.7342%2011.9875%2011.9964C11.9852%2012.2586%2011.88%2012.5094%2011.6946%2012.6948C11.5092%2012.8802%2011.2584%2012.9854%2010.9962%2012.9877C10.734%2012.9899%2010.4814%2012.8891%2010.2928%2012.707L5.99979%208.41399L1.70679%2012.707C1.51818%2012.8891%201.26558%2012.9899%201.00339%2012.9877C0.741188%2012.9854%200.490376%2012.8802%200.304968%2012.6948C0.11956%2012.5094%200.0143906%2012.2586%200.0121121%2011.9964C0.00983372%2011.7342%200.110629%2011.4816%200.292787%2011.293L4.58579%206.99999L0.292787%202.70699C0.105316%202.51946%200%202.26515%200%201.99999C0%201.73483%200.105316%201.48052%200.292787%201.29299V1.29299Z%22%20fill%3D%22%236B7280%22%2F%3E%3C%2Fsvg%3E";const xm={"arrow-left":{image:"https://images.web3auth.io/circle-arrow-left.svg"},close:{image:"https://images.web3auth.io/close.svg"},"expand-light":{image:"https://images.web3auth.io/expand-light.svg"},expand:{image:"https://images.web3auth.io/expand.svg"},connected:{image:"https://images.web3auth.io/connected.svg"},"information-circle-light":{image:"https://images.web3auth.io/information-circle-light.svg"},"information-circle":{image:"https://images.web3auth.io/information-circle.svg"},"arrow-left-light":{image:Roe},"x-light":{image:Toe},"arrow-left-dark":{image:Ioe},"x-dark":{image:Coe}};function jc(t){const{iconName:e,iconTitle:r="",height:n="auto",width:s="auto",darkIconName:i=""}=t,o=n==="auto"?"w3a--h-auto":`w3a--h-[${n}px]`,l=s==="auto"?"w3a--w-auto":`w3a--w-[${s}px]`;return fe.jsxs(fe.Fragment,{children:[xm[e]&&fe.jsx("img",{className:`${r?"w3a--cursor-pointer":""} dark:w3a--hidden w3a--block ${o} ${l}`,height:n,width:s,src:xm[e].image,alt:e,title:r}),xm[i]&&fe.jsx("img",{className:`${r?"w3a--cursor-pointer":""} w3a--hidden dark:w3a--block ${o} ${l}`,height:n,width:s,src:xm[i].image,alt:i,title:r})]})}const Gv=Ae.createContext({isDark:!0});function Pc(t){const{hoverImageId:e,darkHoverImageId:r,imageId:n,darkImageId:s,isButton:i=!1,height:o="auto",width:l="auto",fallbackImageId:u,extension:d="svg"}=t,{isDark:p}=Ae.useContext(Gv),v=p&&s?s:n,b=p&&r?r:e;return fe.jsxs(fe.Fragment,{children:[fe.jsx("img",{src:`https://images.web3auth.io/${v}.${d}`,height:o,width:l,alt:n,className:"image-icon w3a--object-contain w3a--rounded",onError:({currentTarget:_})=>{u&&(_.onerror=null,_.src=`https://images.web3auth.io/${u}.svg`)}}),i?fe.jsx("img",{src:`https://images.web3auth.io/${b}.${d}`,height:o,width:l,alt:e,className:"hover-icon w3a--object-contain w3a--rounded"}):null]})}const Poe=fe.jsx(jc,{iconName:"x-light",darkIconName:"close"});function Ooe(t){const{adapter:e,appLogo:r,message:n,modalStatus:s,adapterName:i,onClose:o}=t,l=e==="twitter"?fe.jsx(Pc,{imageId:"login-x-dark"}):fe.jsx(Pc,{imageId:`login-${e}`,height:"30",width:"30"}),[u]=ea(void 0,{i18n:Or});return Ae.useEffect(()=>{xt.debug("adapter loader re-rendering"),s===In.CONNECTED&&setTimeout(()=>{o()},3e3)},[s,o]),s!==In.INITIALIZED?fe.jsxs("div",{className:"w3ajs-modal-loader w3a-modal__loader w3a--h-full",children:[fe.jsx("div",{className:"w3a-modal__loader-content",children:fe.jsxs("div",{className:"w3a-modal__loader-info",children:[s===In.CONNECTING&&fe.jsxs(fe.Fragment,{children:[fe.jsxs("div",{className:"w3a-modal__loader-bridge",children:[fe.jsxs("div",{className:"w3a-modal__loader-app-logo",children:[fe.jsx("img",{src:r,className:"w3a--block dark:w3a--hidden w3a--h-10 w3a--w-10",alt:""}),fe.jsx("img",{src:r,className:"w3a--hidden dark:w3a--block w3a--h-10 w3a--w-10",alt:""})]}),fe.jsx("div",{className:"w3a-modal__connector",children:fe.jsxs("div",{className:"w3a-modal__connector-beat",children:[fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{}),fe.jsx("div",{})]})}),fe.jsx("div",{className:"w3a-modal__loader-social-logo",children:l})]}),fe.jsxs("div",{children:[fe.jsx("div",{className:"w3a-modal__loader-bridge-message",children:u("modal.adapter-loader.message1",{adapter:i})}),fe.jsx("div",{className:"w3a-modal__loader-bridge-message",children:u("modal.adapter-loader.message2",{adapter:i})})]})]}),s===gt.CONNECTED&&fe.jsxs("div",{className:"w3a--flex w3a--flex-col w3a--items-center",children:[fe.jsx(jc,{iconName:"connected"}),fe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message w3a--mt-4",children:n})]}),s===gt.ERRORED&&fe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error",children:n})]})}),(s===gt.CONNECTED||s===gt.ERRORED)&&fe.jsx("button",{type:"button",className:"w3a-header__button w3ajs-loader-close-btn",onClick:o,children:Poe})]}):null}var Noe=".w3a-parent-container #w3a-modal button.t-btn,.w3a-parent-container a.t-btn{align-items:center;display:flex;justify-content:center;transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:linear}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):disabled{background-color:var(--app-gray-300);border-width:0;color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):hover:disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):hover:disabled{background-color:var(--app-gray-300);border-color:var(--app-gray-300);color:var(--app-gray-400)}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):active:disabled,.w3a-parent-container a.t-btn:not(.t-btn-text):active:disabled{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-offset-width:0px;background-color:var(--app-gray-300);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);outline-width:0}.w3a-parent-container #w3a-modal button.t-btn:not(.t-btn-text):disabled:is(.w3a--dark *),.w3a-parent-container a.t-btn:not(.t-btn-text):disabled:is(.w3a--dark *){background-color:var(--app-gray-700);color:var(--app-gray-600)}.w3a-parent-container #w3a-modal .size-xs{font-size:.75rem;height:32px;line-height:1rem;padding:.5rem .75rem}.w3a-parent-container #w3a-modal .size-sm{font-size:.875rem;height:36px;line-height:1.25rem;padding:.5rem .75rem}.w3a-parent-container #w3a-modal .size-md{font-size:.875rem;height:42px;line-height:1.25rem;padding:.625rem 1.25rem}.w3a-parent-container #w3a-modal .size-lg{font-size:1rem;height:48px;line-height:1.5rem;padding:.75rem 1.25rem}.w3a-parent-container #w3a-modal .size-xl{font-size:1rem;height:52px;line-height:1.5rem;padding:.875rem 1rem}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary{background-color:var(--app-primary-600);color:var(--app-on-primary);outline:2px solid #0000;outline-offset:2px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:hover{background-color:var(--app-primary-700)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:focus-visible{outline-color:var(--app-primary-600);outline-offset:1px;outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:active{background-color:var(--app-primary-600);outline-color:var(--app-primary-600);outline-offset:1px;outline-style:solid;outline-width:1px}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:is(.w3a--dark *){background-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:hover:is(.w3a--dark *){background-color:var(--app-primary-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:focus-visible:is(.w3a--dark *){outline-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-primary:active:is(.w3a--dark *){background-color:var(--app-primary-500);outline-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary{background-color:initial;border-color:var(--app-gray-500);border-width:1px;color:var(--app-gray-600);outline:2px solid #0000;outline-offset:2px}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:hover{background-color:var(--app-gray-200)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:initial;border-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:initial;border-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:is(.w3a--dark *){border-color:var(--app-gray-300);color:var(--app-white)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:hover:is(.w3a--dark *){background-color:var(--app-gray-700)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:focus-visible:is(.w3a--dark *){--tw-ring-color:var(--app-primary-500);background-color:initial;border-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-secondary:active:is(.w3a--dark *){--tw-ring-color:var(--app-primary-500);background-color:initial;border-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary{background-color:var(--app-gray-200);color:var(--app-gray-800)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:hover{background-color:var(--app-gray-300)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);background-color:var(--app-gray-200);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:is(.w3a--dark *){background-color:var(--app-gray-500);color:var(--app-white)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:hover:is(.w3a--dark *){background-color:var(--app-gray-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:focus-visible:is(.w3a--dark *){--tw-ring-color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-tertiary:active:is(.w3a--dark *){--tw-ring-color:var(--app-primary-500);background-color:var(--app-gray-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text{color:var(--app-primary-600)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:hover{color:var(--app-primary-800);text-decoration-line:underline}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:active{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);--tw-ring-color:var(--app-primary-600);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000);color:var(--app-primary-600)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:disabled{color:var(--app-gray-400);text-decoration-line:none}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:is(.w3a--dark *){color:var(--app-primary-500)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:hover:is(.w3a--dark *){color:var(--app-primary-400)}.w3a-parent-container #w3a-modal .t-btn.t-btn-text:disabled:is(.w3a--dark *){color:var(--app-gray-600)}.w3a-parent-container #w3a-modal .btn-link{text-decoration-line:none}.w3a-parent-container #w3a-modal button.t-btn:hover>.hover-icon{display:block;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}.w3a-parent-container #w3a-modal button.t-btn:hover>.image-icon{display:none;transition:display .15s;transition-timing-function:cubic-bezier(0,.54,.63,.99)}";_$(Noe);function Boe(t){const{variant:e="primary",onClick:r,children:n,title:s,className:i,style:o,size:l="md",disabled:u,type:d="button"}=t,p=`size-${l}`;return fe.jsx("button",{disabled:u,type:d,className:`t-btn t-btn-${e} w3a--rounded-full ${p} ${i}`,onClick:r,title:s,style:o,children:n})}var qc=Ae.memo(Boe);function tx(t){const{button:e,handleWalletClick:r}=t,[n]=ea(void 0,{i18n:Or});return fe.jsxs(qc,{variant:"tertiary",type:"button",onClick:()=>r(e),className:"w3a--w-full w3a--rounded-xl w3a--size-xl !w3a--justify-between w3a--items-center wallet-btn",title:e.name,children:[fe.jsxs("div",{className:"w3a--flex w3a--items-center",children:[fe.jsx(Pc,{imageId:`login-${e.name}`,hoverImageId:`login-${e.name}`,fallbackImageId:"wallet",height:"24",width:"24",isButton:!0,extension:e.imgExtension}),fe.jsx("p",{className:"w3a--ml-2 w3a--text-left w3a--text-sm",children:e.displayName})]}),e.hasInjectedWallet&&fe.jsx("span",{className:"w3a--inline-flex w3a--items-center w3a--rounded-lg w3a--px-2 w3a--py-1 w3a--text-xs w3a--font-medium w3a--bg-app-primary-100 w3a--text-app-primary-800",children:n("modal.external.installed")})]})}const Loe=fe.jsx(jc,{iconName:"close"});function C$(t){const{message:e,modalStatus:r,label:n,onClose:s,canEmit:i=!0}=t;return Ae.useEffect(()=>{xt.debug("loader re-rendering"),r===In.CONNECTED&&i&&setTimeout(()=>{s()},3e3)},[i,r,s]),r!==In.INITIALIZED?fe.jsxs("div",{className:"w3ajs-modal-loader w3a-modal__loader",children:[fe.jsx("div",{className:"w3a-modal__loader-content",children:fe.jsxs("div",{className:"w3a-modal__loader-info",children:[r===In.CONNECTING&&fe.jsx("div",{className:"w3ajs-modal-loader__spinner w3a-spinner",children:fe.jsx("div",{className:"w3a-spinner__spinner"})}),fe.jsx("div",{className:"w3ajs-modal-loader__label w3a-spinner-label",children:n}),r===gt.CONNECTED&&fe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message",children:e}),r===gt.ERRORED&&fe.jsx("div",{className:"w3ajs-modal-loader__message w3a-spinner-message w3a-spinner-message--error",children:e})]})}),(r===gt.CONNECTED||r===gt.ERRORED)&&fe.jsx("button",{type:"button",className:"w3a-header__button w3ajs-loader-close-btn",onClick:s,children:Loe})]}):null}var Doe=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(s){t.addRange(s)}),e&&e.focus()}},$oe=Doe,o9={"text/plain":"Text","text/html":"Url",default:"Text"},Uoe="Copy to clipboard: #{key}, Enter";function Foe(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function joe(t,e){var r,n,s,i,o,l,u=!1;e||(e={}),r=e.debug||!1;try{s=$oe(),i=document.createRange(),o=document.getSelection(),l=document.createElement("span"),l.textContent=t,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(p){if(p.stopPropagation(),e.format)if(p.preventDefault(),typeof p.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var v=o9[e.format]||o9.default;window.clipboardData.setData(v,t)}else p.clipboardData.clearData(),p.clipboardData.setData(e.format,t);e.onCopy&&(p.preventDefault(),e.onCopy(p.clipboardData))}),document.body.appendChild(l),i.selectNodeContents(l),o.addRange(i);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");u=!0}catch(p){r&&console.error("unable to copy using execCommand: ",p),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),u=!0}catch(v){r&&console.error("unable to copy using clipboardData: ",v),r&&console.error("falling back to prompt"),n=Foe("message"in e?e.message:Uoe),window.prompt(n,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(i):o.removeAllRanges()),l&&document.body.removeChild(l),s()}return u}var qoe=joe;const a9=Zn(qoe);var FE={},by={exports:{}};by.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,l="[object Arguments]",u="[object Array]",d="[object AsyncFunction]",p="[object Boolean]",v="[object Date]",b="[object Error]",_="[object Function]",M="[object GeneratorFunction]",A="[object Map]",I="[object Number]",k="[object Null]",R="[object Object]",C="[object Promise]",P="[object Proxy]",N="[object RegExp]",U="[object Set]",q="[object String]",F="[object Symbol]",L="[object Undefined]",ie="[object WeakMap]",E="[object ArrayBuffer]",a="[object DataView]",f="[object Float32Array]",h="[object Float64Array]",g="[object Int8Array]",y="[object Int16Array]",x="[object Int32Array]",S="[object Uint8Array]",m="[object Uint8ClampedArray]",c="[object Uint16Array]",w="[object Uint32Array]",T=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,ee={};ee[f]=ee[h]=ee[g]=ee[y]=ee[x]=ee[S]=ee[m]=ee[c]=ee[w]=!0,ee[l]=ee[u]=ee[E]=ee[p]=ee[a]=ee[v]=ee[b]=ee[_]=ee[A]=ee[I]=ee[R]=ee[N]=ee[U]=ee[q]=ee[ie]=!1;var J=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,$=typeof self=="object"&&self&&self.Object===Object&&self,z=J||$||Function("return this")(),Y=e&&!e.nodeType&&e,te=Y&&!0&&t&&!t.nodeType&&t,G=te&&te.exports===Y,j=G&&J.process,W=function(){try{return j&&j.binding&&j.binding("util")}catch{}}(),oe=W&&W.isTypedArray;function ae(pe,Re){for(var nt=-1,Lt=pe==null?0:pe.length,on=0,ar=[];++nt<Lt;){var En=pe[nt];Re(En,nt,pe)&&(ar[on++]=En)}return ar}function he(pe,Re){for(var nt=-1,Lt=Re.length,on=pe.length;++nt<Lt;)pe[on+nt]=Re[nt];return pe}function Oe(pe,Re){for(var nt=-1,Lt=pe==null?0:pe.length;++nt<Lt;)if(Re(pe[nt],nt,pe))return!0;return!1}function me(pe,Re){for(var nt=-1,Lt=Array(pe);++nt<pe;)Lt[nt]=Re(nt);return Lt}function Ee(pe){return function(Re){return pe(Re)}}function it(pe,Re){return pe.has(Re)}function Se(pe,Re){return pe==null?void 0:pe[Re]}function xe(pe){var Re=-1,nt=Array(pe.size);return pe.forEach(function(Lt,on){nt[++Re]=[on,Lt]}),nt}function Mt(pe,Re){return function(nt){return pe(Re(nt))}}function Ie(pe){var Re=-1,nt=Array(pe.size);return pe.forEach(function(Lt){nt[++Re]=Lt}),nt}var Ne=Array.prototype,qt=Function.prototype,Z=Object.prototype,B=z["__core-js_shared__"],H=qt.toString,ne=Z.hasOwnProperty,ce=function(){var pe=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return pe?"Symbol(src)_1."+pe:""}(),Me=Z.toString,de=RegExp("^"+H.call(ne).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ce=G?z.Buffer:void 0,Rt=z.Symbol,ke=z.Uint8Array,De=Z.propertyIsEnumerable,St=Ne.splice,Be=Rt?Rt.toStringTag:void 0,He=Object.getOwnPropertySymbols,Jt=Ce?Ce.isBuffer:void 0,Ue=Mt(Object.keys,Object),Ke=Fr(z,"DataView"),zt=Fr(z,"Map"),Le=Fr(z,"Promise"),ze=Fr(z,"Set"),le=Fr(z,"WeakMap"),se=Fr(Object,"create"),be=Xc(Ke),Ge=Xc(zt),we=Xc(Le),Fe=Xc(ze),V=Xc(le),X=Rt?Rt.prototype:void 0,Q=X?X.valueOf:void 0;function D(pe){var Re=-1,nt=pe==null?0:pe.length;for(this.clear();++Re<nt;){var Lt=pe[Re];this.set(Lt[0],Lt[1])}}function re(){this.__data__=se?se(null):{},this.size=0}function ue(pe){var Re=this.has(pe)&&delete this.__data__[pe];return this.size-=Re?1:0,Re}function _e(pe){var Re=this.__data__;if(se){var nt=Re[pe];return nt===n?void 0:nt}return ne.call(Re,pe)?Re[pe]:void 0}function ge(pe){var Re=this.__data__;return se?Re[pe]!==void 0:ne.call(Re,pe)}function ve(pe,Re){var nt=this.__data__;return this.size+=this.has(pe)?0:1,nt[pe]=se&&Re===void 0?n:Re,this}D.prototype.clear=re,D.prototype.delete=ue,D.prototype.get=_e,D.prototype.has=ge,D.prototype.set=ve;function Ze(pe){var Re=-1,nt=pe==null?0:pe.length;for(this.clear();++Re<nt;){var Lt=pe[Re];this.set(Lt[0],Lt[1])}}function Ye(){this.__data__=[],this.size=0}function Bt(pe){var Re=this.__data__,nt=lt(Re,pe);if(nt<0)return!1;var Lt=Re.length-1;return nt==Lt?Re.pop():St.call(Re,nt,1),--this.size,!0}function rt(pe){var Re=this.__data__,nt=lt(Re,pe);return nt<0?void 0:Re[nt][1]}function Et(pe){return lt(this.__data__,pe)>-1}function At(pe,Re){var nt=this.__data__,Lt=lt(nt,pe);return Lt<0?(++this.size,nt.push([pe,Re])):nt[Lt][1]=Re,this}Ze.prototype.clear=Ye,Ze.prototype.delete=Bt,Ze.prototype.get=rt,Ze.prototype.has=Et,Ze.prototype.set=At;function _t(pe){var Re=-1,nt=pe==null?0:pe.length;for(this.clear();++Re<nt;){var Lt=pe[Re];this.set(Lt[0],Lt[1])}}function Ot(){this.size=0,this.__data__={hash:new D,map:new(zt||Ze),string:new D}}function kt(pe){var Re=kr(this,pe).delete(pe);return this.size-=Re?1:0,Re}function Ct(pe){return kr(this,pe).get(pe)}function It(pe){return kr(this,pe).has(pe)}function ft(pe,Re){var nt=kr(this,pe),Lt=nt.size;return nt.set(pe,Re),this.size+=nt.size==Lt?0:1,this}_t.prototype.clear=Ot,_t.prototype.delete=kt,_t.prototype.get=Ct,_t.prototype.has=It,_t.prototype.set=ft;function pt(pe){var Re=-1,nt=pe==null?0:pe.length;for(this.__data__=new _t;++Re<nt;)this.add(pe[Re])}function at(pe){return this.__data__.set(pe,n),this}function ht(pe){return this.__data__.has(pe)}pt.prototype.add=pt.prototype.push=at,pt.prototype.has=ht;function ct(pe){var Re=this.__data__=new Ze(pe);this.size=Re.size}function st(){this.__data__=new Ze,this.size=0}function Te(pe){var Re=this.__data__,nt=Re.delete(pe);return this.size=Re.size,nt}function Pe(pe){return this.__data__.get(pe)}function et(pe){return this.__data__.has(pe)}function Je(pe,Re){var nt=this.__data__;if(nt instanceof Ze){var Lt=nt.__data__;if(!zt||Lt.length<r-1)return Lt.push([pe,Re]),this.size=++nt.size,this;nt=this.__data__=new _t(Lt)}return nt.set(pe,Re),this.size=nt.size,this}ct.prototype.clear=st,ct.prototype.delete=Te,ct.prototype.get=Pe,ct.prototype.has=et,ct.prototype.set=Je;function Xe(pe,Re){var nt=Eg(pe),Lt=!nt&&lz(pe),on=!nt&&!Lt&&Bw(pe),ar=!nt&&!Lt&&!on&&t8(pe),En=nt||Lt||on||ar,ei=En?me(pe.length,String):[],gi=ei.length;for(var mn in pe)ne.call(pe,mn)&&!(En&&(mn=="length"||on&&(mn=="offset"||mn=="parent")||ar&&(mn=="buffer"||mn=="byteLength"||mn=="byteOffset")||Jn(mn,gi)))&&ei.push(mn);return ei}function lt(pe,Re){for(var nt=pe.length;nt--;)if(J4(pe[nt][0],Re))return nt;return-1}function Ht(pe,Re,nt){var Lt=Re(pe);return Eg(pe)?Lt:he(Lt,nt(pe))}function Yt(pe){return pe==null?pe===void 0?L:k:Be&&Be in Object(pe)?hn(pe):az(pe)}function tr(pe){return kd(pe)&&Yt(pe)==l}function Xt(pe,Re,nt,Lt,on){return pe===Re?!0:pe==null||Re==null||!kd(pe)&&!kd(Re)?pe!==pe&&Re!==Re:ye(pe,Re,nt,Lt,Xt,on)}function ye(pe,Re,nt,Lt,on,ar){var En=Eg(pe),ei=Eg(Re),gi=En?u:Hr(pe),mn=ei?u:Hr(Re);gi=gi==l?R:gi,mn=mn==l?R:mn;var Ts=gi==R,Ro=mn==R,Bi=gi==mn;if(Bi&&Bw(pe)){if(!Bw(Re))return!1;En=!0,Ts=!1}if(Bi&&!Ts)return ar||(ar=new ct),En||t8(pe)?ir(pe,Re,nt,Lt,on,ar):yr(pe,Re,gi,nt,Lt,on,ar);if(!(nt&s)){var Js=Ts&&ne.call(pe,"__wrapped__"),Xs=Ro&&ne.call(Re,"__wrapped__");if(Js||Xs){var jl=Js?pe.value():pe,Ya=Xs?Re.value():Re;return ar||(ar=new ct),on(jl,Ya,nt,Lt,ar)}}return Bi?(ar||(ar=new ct),vr(pe,Re,nt,Lt,on,ar)):!1}function or(pe){if(!e8(pe)||Qn(pe))return!1;var Re=X4(pe)?de:O;return Re.test(Xc(pe))}function _r(pe){return kd(pe)&&Q4(pe.length)&&!!ee[Yt(pe)]}function Sr(pe){if(!oz(pe))return Ue(pe);var Re=[];for(var nt in Object(pe))ne.call(pe,nt)&&nt!="constructor"&&Re.push(nt);return Re}function ir(pe,Re,nt,Lt,on,ar){var En=nt&s,ei=pe.length,gi=Re.length;if(ei!=gi&&!(En&&gi>ei))return!1;var mn=ar.get(pe);if(mn&&ar.get(Re))return mn==Re;var Ts=-1,Ro=!0,Bi=nt&i?new pt:void 0;for(ar.set(pe,Re),ar.set(Re,pe);++Ts<ei;){var Js=pe[Ts],Xs=Re[Ts];if(Lt)var jl=En?Lt(Xs,Js,Ts,Re,pe,ar):Lt(Js,Xs,Ts,pe,Re,ar);if(jl!==void 0){if(jl)continue;Ro=!1;break}if(Bi){if(!Oe(Re,function(Ya,Qc){if(!it(Bi,Qc)&&(Js===Ya||on(Js,Ya,nt,Lt,ar)))return Bi.push(Qc)})){Ro=!1;break}}else if(!(Js===Xs||on(Js,Xs,nt,Lt,ar))){Ro=!1;break}}return ar.delete(pe),ar.delete(Re),Ro}function yr(pe,Re,nt,Lt,on,ar,En){switch(nt){case a:if(pe.byteLength!=Re.byteLength||pe.byteOffset!=Re.byteOffset)return!1;pe=pe.buffer,Re=Re.buffer;case E:return!(pe.byteLength!=Re.byteLength||!ar(new ke(pe),new ke(Re)));case p:case v:case I:return J4(+pe,+Re);case b:return pe.name==Re.name&&pe.message==Re.message;case N:case q:return pe==Re+"";case A:var ei=xe;case U:var gi=Lt&s;if(ei||(ei=Ie),pe.size!=Re.size&&!gi)return!1;var mn=En.get(pe);if(mn)return mn==Re;Lt|=i,En.set(pe,Re);var Ts=ir(ei(pe),ei(Re),Lt,on,ar,En);return En.delete(pe),Ts;case F:if(Q)return Q.call(pe)==Q.call(Re)}return!1}function vr(pe,Re,nt,Lt,on,ar){var En=nt&s,ei=fn(pe),gi=ei.length,mn=fn(Re),Ts=mn.length;if(gi!=Ts&&!En)return!1;for(var Ro=gi;Ro--;){var Bi=ei[Ro];if(!(En?Bi in Re:ne.call(Re,Bi)))return!1}var Js=ar.get(pe);if(Js&&ar.get(Re))return Js==Re;var Xs=!0;ar.set(pe,Re),ar.set(Re,pe);for(var jl=En;++Ro<gi;){Bi=ei[Ro];var Ya=pe[Bi],Qc=Re[Bi];if(Lt)var r8=En?Lt(Qc,Ya,Bi,Re,pe,ar):Lt(Ya,Qc,Bi,pe,Re,ar);if(!(r8===void 0?Ya===Qc||on(Ya,Qc,nt,Lt,ar):r8)){Xs=!1;break}jl||(jl=Bi=="constructor")}if(Xs&&!jl){var Mg=pe.constructor,Ag=Re.constructor;Mg!=Ag&&"constructor"in pe&&"constructor"in Re&&!(typeof Mg=="function"&&Mg instanceof Mg&&typeof Ag=="function"&&Ag instanceof Ag)&&(Xs=!1)}return ar.delete(pe),ar.delete(Re),Xs}function fn(pe){return Ht(pe,fz,dn)}function kr(pe,Re){var nt=pe.__data__;return Xn(Re)?nt[typeof Re=="string"?"string":"hash"]:nt.map}function Fr(pe,Re){var nt=Se(pe,Re);return or(nt)?nt:void 0}function hn(pe){var Re=ne.call(pe,Be),nt=pe[Be];try{pe[Be]=void 0;var Lt=!0}catch{}var on=Me.call(pe);return Lt&&(Re?pe[Be]=nt:delete pe[Be]),on}var dn=He?function(pe){return pe==null?[]:(pe=Object(pe),ae(He(pe),function(Re){return De.call(pe,Re)}))}:hz,Hr=Yt;(Ke&&Hr(new Ke(new ArrayBuffer(1)))!=a||zt&&Hr(new zt)!=A||Le&&Hr(Le.resolve())!=C||ze&&Hr(new ze)!=U||le&&Hr(new le)!=ie)&&(Hr=function(pe){var Re=Yt(pe),nt=Re==R?pe.constructor:void 0,Lt=nt?Xc(nt):"";if(Lt)switch(Lt){case be:return a;case Ge:return A;case we:return C;case Fe:return U;case V:return ie}return Re});function Jn(pe,Re){return Re=Re??o,!!Re&&(typeof pe=="number"||K.test(pe))&&pe>-1&&pe%1==0&&pe<Re}function Xn(pe){var Re=typeof pe;return Re=="string"||Re=="number"||Re=="symbol"||Re=="boolean"?pe!=="__proto__":pe===null}function Qn(pe){return!!ce&&ce in pe}function oz(pe){var Re=pe&&pe.constructor,nt=typeof Re=="function"&&Re.prototype||Z;return pe===nt}function az(pe){return Me.call(pe)}function Xc(pe){if(pe!=null){try{return H.call(pe)}catch{}try{return pe+""}catch{}}return""}function J4(pe,Re){return pe===Re||pe!==pe&&Re!==Re}var lz=tr(function(){return arguments}())?tr:function(pe){return kd(pe)&&ne.call(pe,"callee")&&!De.call(pe,"callee")},Eg=Array.isArray;function cz(pe){return pe!=null&&Q4(pe.length)&&!X4(pe)}var Bw=Jt||dz;function uz(pe,Re){return Xt(pe,Re)}function X4(pe){if(!e8(pe))return!1;var Re=Yt(pe);return Re==_||Re==M||Re==d||Re==P}function Q4(pe){return typeof pe=="number"&&pe>-1&&pe%1==0&&pe<=o}function e8(pe){var Re=typeof pe;return pe!=null&&(Re=="object"||Re=="function")}function kd(pe){return pe!=null&&typeof pe=="object"}var t8=oe?Ee(oe):_r;function fz(pe){return cz(pe)?Xe(pe):Sr(pe)}function hz(){return[]}function dz(){return!1}t.exports=uz})(by,by.exports);var zoe=by.exports,T$={exports:{}};(function(t,e){var r=function(){var n=function(N,U){var q=236,F=17,L=N,ie=i[U],E=null,a=0,f=null,h=[],g={},y=function(z,Y){a=L*4+17,E=function(te){for(var G=new Array(te),j=0;j<te;j+=1){G[j]=new Array(te);for(var W=0;W<te;W+=1)G[j][W]=null}return G}(a),x(0,0),x(a-7,0),x(0,a-7),c(),m(),T(z,Y),L>=7&&w(z),f==null&&(f=ee(L,ie,h)),O(f,Y)},x=function(z,Y){for(var te=-1;te<=7;te+=1)if(!(z+te<=-1||a<=z+te))for(var G=-1;G<=7;G+=1)Y+G<=-1||a<=Y+G||(0<=te&&te<=6&&(G==0||G==6)||0<=G&&G<=6&&(te==0||te==6)||2<=te&&te<=4&&2<=G&&G<=4?E[z+te][Y+G]=!0:E[z+te][Y+G]=!1)},S=function(){for(var z=0,Y=0,te=0;te<8;te+=1){y(!0,te);var G=l.getLostPoint(g);(te==0||z>G)&&(z=G,Y=te)}return Y},m=function(){for(var z=8;z<a-8;z+=1)E[z][6]==null&&(E[z][6]=z%2==0);for(var Y=8;Y<a-8;Y+=1)E[6][Y]==null&&(E[6][Y]=Y%2==0)},c=function(){for(var z=l.getPatternPosition(L),Y=0;Y<z.length;Y+=1)for(var te=0;te<z.length;te+=1){var G=z[Y],j=z[te];if(E[G][j]==null)for(var W=-2;W<=2;W+=1)for(var oe=-2;oe<=2;oe+=1)W==-2||W==2||oe==-2||oe==2||W==0&&oe==0?E[G+W][j+oe]=!0:E[G+W][j+oe]=!1}},w=function(z){for(var Y=l.getBCHTypeNumber(L),te=0;te<18;te+=1){var G=!z&&(Y>>te&1)==1;E[Math.floor(te/3)][te%3+a-8-3]=G}for(var te=0;te<18;te+=1){var G=!z&&(Y>>te&1)==1;E[te%3+a-8-3][Math.floor(te/3)]=G}},T=function(z,Y){for(var te=ie<<3|Y,G=l.getBCHTypeInfo(te),j=0;j<15;j+=1){var W=!z&&(G>>j&1)==1;j<6?E[j][8]=W:j<8?E[j+1][8]=W:E[a-15+j][8]=W}for(var j=0;j<15;j+=1){var W=!z&&(G>>j&1)==1;j<8?E[8][a-j-1]=W:j<9?E[8][15-j-1+1]=W:E[8][15-j-1]=W}E[a-8][8]=!z},O=function(z,Y){for(var te=-1,G=a-1,j=7,W=0,oe=l.getMaskFunction(Y),ae=a-1;ae>0;ae-=2)for(ae==6&&(ae-=1);;){for(var he=0;he<2;he+=1)if(E[G][ae-he]==null){var Oe=!1;W<z.length&&(Oe=(z[W]>>>j&1)==1);var me=oe(G,ae-he);me&&(Oe=!Oe),E[G][ae-he]=Oe,j-=1,j==-1&&(W+=1,j=7)}if(G+=te,G<0||a<=G){G-=te,te=-te;break}}},K=function(z,Y){for(var te=0,G=0,j=0,W=new Array(Y.length),oe=new Array(Y.length),ae=0;ae<Y.length;ae+=1){var he=Y[ae].dataCount,Oe=Y[ae].totalCount-he;G=Math.max(G,he),j=Math.max(j,Oe),W[ae]=new Array(he);for(var me=0;me<W[ae].length;me+=1)W[ae][me]=255&z.getBuffer()[me+te];te+=he;var Ee=l.getErrorCorrectPolynomial(Oe),it=d(W[ae],Ee.getLength()-1),Se=it.mod(Ee);oe[ae]=new Array(Ee.getLength()-1);for(var me=0;me<oe[ae].length;me+=1){var xe=me+Se.getLength()-oe[ae].length;oe[ae][me]=xe>=0?Se.getAt(xe):0}}for(var Mt=0,me=0;me<Y.length;me+=1)Mt+=Y[me].totalCount;for(var Ie=new Array(Mt),Ne=0,me=0;me<G;me+=1)for(var ae=0;ae<Y.length;ae+=1)me<W[ae].length&&(Ie[Ne]=W[ae][me],Ne+=1);for(var me=0;me<j;me+=1)for(var ae=0;ae<Y.length;ae+=1)me<oe[ae].length&&(Ie[Ne]=oe[ae][me],Ne+=1);return Ie},ee=function(z,Y,te){for(var G=p.getRSBlocks(z,Y),j=v(),W=0;W<te.length;W+=1){var oe=te[W];j.put(oe.getMode(),4),j.put(oe.getLength(),l.getLengthInBits(oe.getMode(),z)),oe.write(j)}for(var ae=0,W=0;W<G.length;W+=1)ae+=G[W].dataCount;if(j.getLengthInBits()>ae*8)throw"code length overflow. ("+j.getLengthInBits()+">"+ae*8+")";for(j.getLengthInBits()+4<=ae*8&&j.put(0,4);j.getLengthInBits()%8!=0;)j.putBit(!1);for(;!(j.getLengthInBits()>=ae*8||(j.put(q,8),j.getLengthInBits()>=ae*8));)j.put(F,8);return K(j,G)};g.addData=function(z,Y){Y=Y||"Byte";var te=null;switch(Y){case"Numeric":te=b(z);break;case"Alphanumeric":te=_(z);break;case"Byte":te=M(z);break;case"Kanji":te=A(z);break;default:throw"mode:"+Y}h.push(te),f=null},g.isDark=function(z,Y){if(z<0||a<=z||Y<0||a<=Y)throw z+","+Y;return E[z][Y]},g.getModuleCount=function(){return a},g.make=function(){if(L<1){for(var z=1;z<40;z++){for(var Y=p.getRSBlocks(z,ie),te=v(),G=0;G<h.length;G++){var j=h[G];te.put(j.getMode(),4),te.put(j.getLength(),l.getLengthInBits(j.getMode(),z)),j.write(te)}for(var W=0,G=0;G<Y.length;G++)W+=Y[G].dataCount;if(te.getLengthInBits()<=W*8)break}L=z}y(!1,S())},g.createTableTag=function(z,Y){z=z||2,Y=typeof Y>"u"?z*4:Y;var te="";te+='<table style="',te+=" border-width: 0px; border-style: none;",te+=" border-collapse: collapse;",te+=" padding: 0px; margin: "+Y+"px;",te+='">',te+="<tbody>";for(var G=0;G<g.getModuleCount();G+=1){te+="<tr>";for(var j=0;j<g.getModuleCount();j+=1)te+='<td style="',te+=" border-width: 0px; border-style: none;",te+=" border-collapse: collapse;",te+=" padding: 0px; margin: 0px;",te+=" width: "+z+"px;",te+=" height: "+z+"px;",te+=" background-color: ",te+=g.isDark(G,j)?"#000000":"#ffffff",te+=";",te+='"/>';te+="</tr>"}return te+="</tbody>",te+="</table>",te},g.createSvgTag=function(z,Y,te,G){var j={};typeof arguments[0]=="object"&&(j=arguments[0],z=j.cellSize,Y=j.margin,te=j.alt,G=j.title),z=z||2,Y=typeof Y>"u"?z*4:Y,te=typeof te=="string"?{text:te}:te||{},te.text=te.text||null,te.id=te.text?te.id||"qrcode-description":null,G=typeof G=="string"?{text:G}:G||{},G.text=G.text||null,G.id=G.text?G.id||"qrcode-title":null;var W=g.getModuleCount()*z+Y*2,oe,ae,he,Oe,me="",Ee;for(Ee="l"+z+",0 0,"+z+" -"+z+",0 0,-"+z+"z ",me+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',me+=j.scalable?"":' width="'+W+'px" height="'+W+'px"',me+=' viewBox="0 0 '+W+" "+W+'" ',me+=' preserveAspectRatio="xMinYMin meet"',me+=G.text||te.text?' role="img" aria-labelledby="'+J([G.id,te.id].join(" ").trim())+'"':"",me+=">",me+=G.text?'<title id="'+J(G.id)+'">'+J(G.text)+"</title>":"",me+=te.text?'<description id="'+J(te.id)+'">'+J(te.text)+"</description>":"",me+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',me+='<path d="',he=0;he<g.getModuleCount();he+=1)for(Oe=he*z+Y,oe=0;oe<g.getModuleCount();oe+=1)g.isDark(he,oe)&&(ae=oe*z+Y,me+="M"+ae+","+Oe+Ee);return me+='" stroke="transparent" fill="black"/>',me+="</svg>",me},g.createDataURL=function(z,Y){z=z||2,Y=typeof Y>"u"?z*4:Y;var te=g.getModuleCount()*z+Y*2,G=Y,j=te-Y;return P(te,te,function(W,oe){if(G<=W&&W<j&&G<=oe&&oe<j){var ae=Math.floor((W-G)/z),he=Math.floor((oe-G)/z);return g.isDark(he,ae)?0:1}else return 1})},g.createImgTag=function(z,Y,te){z=z||2,Y=typeof Y>"u"?z*4:Y;var G=g.getModuleCount()*z+Y*2,j="";return j+="<img",j+=' src="',j+=g.createDataURL(z,Y),j+='"',j+=' width="',j+=G,j+='"',j+=' height="',j+=G,j+='"',te&&(j+=' alt="',j+=J(te),j+='"'),j+="/>",j};var J=function(z){for(var Y="",te=0;te<z.length;te+=1){var G=z.charAt(te);switch(G){case"<":Y+="&lt;";break;case">":Y+="&gt;";break;case"&":Y+="&amp;";break;case'"':Y+="&quot;";break;default:Y+=G;break}}return Y},$=function(z){var Y=1;z=typeof z>"u"?Y*2:z;var te=g.getModuleCount()*Y+z*2,G=z,j=te-z,W,oe,ae,he,Oe,me={"":""," ":""," ":"","  ":" "},Ee={"":""," ":""," ":" ","  ":" "},it="";for(W=0;W<te;W+=2){for(ae=Math.floor((W-G)/Y),he=Math.floor((W+1-G)/Y),oe=0;oe<te;oe+=1)Oe="",G<=oe&&oe<j&&G<=W&&W<j&&g.isDark(ae,Math.floor((oe-G)/Y))&&(Oe=" "),G<=oe&&oe<j&&G<=W+1&&W+1<j&&g.isDark(he,Math.floor((oe-G)/Y))?Oe+=" ":Oe+="",it+=z<1&&W+1>=j?Ee[Oe]:me[Oe];it+=`
`}return te%2&&z>0?it.substring(0,it.length-te-1)+Array(te+1).join(""):it.substring(0,it.length-1)};return g.createASCII=function(z,Y){if(z=z||1,z<2)return $(Y);z-=1,Y=typeof Y>"u"?z*2:Y;var te=g.getModuleCount()*z+Y*2,G=Y,j=te-Y,W,oe,ae,he,Oe=Array(z+1).join(""),me=Array(z+1).join("  "),Ee="",it="";for(W=0;W<te;W+=1){for(ae=Math.floor((W-G)/z),it="",oe=0;oe<te;oe+=1)he=1,G<=oe&&oe<j&&G<=W&&W<j&&g.isDark(ae,Math.floor((oe-G)/z))&&(he=0),it+=he?Oe:me;for(ae=0;ae<z;ae+=1)Ee+=it+`
`}return Ee.substring(0,Ee.length-1)},g.renderTo2dContext=function(z,Y){Y=Y||2;for(var te=g.getModuleCount(),G=0;G<te;G++)for(var j=0;j<te;j++)z.fillStyle=g.isDark(G,j)?"black":"white",z.fillRect(G*Y,j*Y,Y,Y)},g};n.stringToBytesFuncs={default:function(N){for(var U=[],q=0;q<N.length;q+=1){var F=N.charCodeAt(q);U.push(F&255)}return U}},n.stringToBytes=n.stringToBytesFuncs.default,n.createStringToBytes=function(N,U){var q=function(){for(var L=R(N),ie=function(){var m=L.read();if(m==-1)throw"eof";return m},E=0,a={};;){var f=L.read();if(f==-1)break;var h=ie(),g=ie(),y=ie(),x=String.fromCharCode(f<<8|h),S=g<<8|y;a[x]=S,E+=1}if(E!=U)throw E+" != "+U;return a}(),F=63;return function(L){for(var ie=[],E=0;E<L.length;E+=1){var a=L.charCodeAt(E);if(a<128)ie.push(a);else{var f=q[L.charAt(E)];typeof f=="number"?(f&255)==f?ie.push(f):(ie.push(f>>>8),ie.push(f&255)):ie.push(F)}}return ie}};var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l=function(){var N=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],U=1335,q=7973,F=21522,L={},ie=function(E){for(var a=0;E!=0;)a+=1,E>>>=1;return a};return L.getBCHTypeInfo=function(E){for(var a=E<<10;ie(a)-ie(U)>=0;)a^=U<<ie(a)-ie(U);return(E<<10|a)^F},L.getBCHTypeNumber=function(E){for(var a=E<<12;ie(a)-ie(q)>=0;)a^=q<<ie(a)-ie(q);return E<<12|a},L.getPatternPosition=function(E){return N[E-1]},L.getMaskFunction=function(E){switch(E){case o.PATTERN000:return function(a,f){return(a+f)%2==0};case o.PATTERN001:return function(a,f){return a%2==0};case o.PATTERN010:return function(a,f){return f%3==0};case o.PATTERN011:return function(a,f){return(a+f)%3==0};case o.PATTERN100:return function(a,f){return(Math.floor(a/2)+Math.floor(f/3))%2==0};case o.PATTERN101:return function(a,f){return a*f%2+a*f%3==0};case o.PATTERN110:return function(a,f){return(a*f%2+a*f%3)%2==0};case o.PATTERN111:return function(a,f){return(a*f%3+(a+f)%2)%2==0};default:throw"bad maskPattern:"+E}},L.getErrorCorrectPolynomial=function(E){for(var a=d([1],0),f=0;f<E;f+=1)a=a.multiply(d([1,u.gexp(f)],0));return a},L.getLengthInBits=function(E,a){if(1<=a&&a<10)switch(E){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:return 8;case s.MODE_KANJI:return 8;default:throw"mode:"+E}else if(a<27)switch(E){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw"mode:"+E}else if(a<41)switch(E){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw"mode:"+E}else throw"type:"+a},L.getLostPoint=function(E){for(var a=E.getModuleCount(),f=0,h=0;h<a;h+=1)for(var g=0;g<a;g+=1){for(var y=0,x=E.isDark(h,g),S=-1;S<=1;S+=1)if(!(h+S<0||a<=h+S))for(var m=-1;m<=1;m+=1)g+m<0||a<=g+m||S==0&&m==0||x==E.isDark(h+S,g+m)&&(y+=1);y>5&&(f+=3+y-5)}for(var h=0;h<a-1;h+=1)for(var g=0;g<a-1;g+=1){var c=0;E.isDark(h,g)&&(c+=1),E.isDark(h+1,g)&&(c+=1),E.isDark(h,g+1)&&(c+=1),E.isDark(h+1,g+1)&&(c+=1),(c==0||c==4)&&(f+=3)}for(var h=0;h<a;h+=1)for(var g=0;g<a-6;g+=1)E.isDark(h,g)&&!E.isDark(h,g+1)&&E.isDark(h,g+2)&&E.isDark(h,g+3)&&E.isDark(h,g+4)&&!E.isDark(h,g+5)&&E.isDark(h,g+6)&&(f+=40);for(var g=0;g<a;g+=1)for(var h=0;h<a-6;h+=1)E.isDark(h,g)&&!E.isDark(h+1,g)&&E.isDark(h+2,g)&&E.isDark(h+3,g)&&E.isDark(h+4,g)&&!E.isDark(h+5,g)&&E.isDark(h+6,g)&&(f+=40);for(var w=0,g=0;g<a;g+=1)for(var h=0;h<a;h+=1)E.isDark(h,g)&&(w+=1);var T=Math.abs(100*w/a/a-50)/5;return f+=T*10,f},L}(),u=function(){for(var N=new Array(256),U=new Array(256),q=0;q<8;q+=1)N[q]=1<<q;for(var q=8;q<256;q+=1)N[q]=N[q-4]^N[q-5]^N[q-6]^N[q-8];for(var q=0;q<255;q+=1)U[N[q]]=q;var F={};return F.glog=function(L){if(L<1)throw"glog("+L+")";return U[L]},F.gexp=function(L){for(;L<0;)L+=255;for(;L>=256;)L-=255;return N[L]},F}();function d(N,U){if(typeof N.length>"u")throw N.length+"/"+U;var q=function(){for(var L=0;L<N.length&&N[L]==0;)L+=1;for(var ie=new Array(N.length-L+U),E=0;E<N.length-L;E+=1)ie[E]=N[E+L];return ie}(),F={};return F.getAt=function(L){return q[L]},F.getLength=function(){return q.length},F.multiply=function(L){for(var ie=new Array(F.getLength()+L.getLength()-1),E=0;E<F.getLength();E+=1)for(var a=0;a<L.getLength();a+=1)ie[E+a]^=u.gexp(u.glog(F.getAt(E))+u.glog(L.getAt(a)));return d(ie,0)},F.mod=function(L){if(F.getLength()-L.getLength()<0)return F;for(var ie=u.glog(F.getAt(0))-u.glog(L.getAt(0)),E=new Array(F.getLength()),a=0;a<F.getLength();a+=1)E[a]=F.getAt(a);for(var a=0;a<L.getLength();a+=1)E[a]^=u.gexp(u.glog(L.getAt(a))+ie);return d(E,0).mod(L)},F}var p=function(){var N=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],U=function(L,ie){var E={};return E.totalCount=L,E.dataCount=ie,E},q={},F=function(L,ie){switch(ie){case i.L:return N[(L-1)*4+0];case i.M:return N[(L-1)*4+1];case i.Q:return N[(L-1)*4+2];case i.H:return N[(L-1)*4+3];default:return}};return q.getRSBlocks=function(L,ie){var E=F(L,ie);if(typeof E>"u")throw"bad rs block @ typeNumber:"+L+"/errorCorrectionLevel:"+ie;for(var a=E.length/3,f=[],h=0;h<a;h+=1)for(var g=E[h*3+0],y=E[h*3+1],x=E[h*3+2],S=0;S<g;S+=1)f.push(U(y,x));return f},q}(),v=function(){var N=[],U=0,q={};return q.getBuffer=function(){return N},q.getAt=function(F){var L=Math.floor(F/8);return(N[L]>>>7-F%8&1)==1},q.put=function(F,L){for(var ie=0;ie<L;ie+=1)q.putBit((F>>>L-ie-1&1)==1)},q.getLengthInBits=function(){return U},q.putBit=function(F){var L=Math.floor(U/8);N.length<=L&&N.push(0),F&&(N[L]|=128>>>U%8),U+=1},q},b=function(N){var U=s.MODE_NUMBER,q=N,F={};F.getMode=function(){return U},F.getLength=function(E){return q.length},F.write=function(E){for(var a=q,f=0;f+2<a.length;)E.put(L(a.substring(f,f+3)),10),f+=3;f<a.length&&(a.length-f==1?E.put(L(a.substring(f,f+1)),4):a.length-f==2&&E.put(L(a.substring(f,f+2)),7))};var L=function(E){for(var a=0,f=0;f<E.length;f+=1)a=a*10+ie(E.charAt(f));return a},ie=function(E){if("0"<=E&&E<="9")return E.charCodeAt(0)-48;throw"illegal char :"+E};return F},_=function(N){var U=s.MODE_ALPHA_NUM,q=N,F={};F.getMode=function(){return U},F.getLength=function(ie){return q.length},F.write=function(ie){for(var E=q,a=0;a+1<E.length;)ie.put(L(E.charAt(a))*45+L(E.charAt(a+1)),11),a+=2;a<E.length&&ie.put(L(E.charAt(a)),6)};var L=function(ie){if("0"<=ie&&ie<="9")return ie.charCodeAt(0)-48;if("A"<=ie&&ie<="Z")return ie.charCodeAt(0)-65+10;switch(ie){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+ie}};return F},M=function(N){var U=s.MODE_8BIT_BYTE,q=n.stringToBytes(N),F={};return F.getMode=function(){return U},F.getLength=function(L){return q.length},F.write=function(L){for(var ie=0;ie<q.length;ie+=1)L.put(q[ie],8)},F},A=function(N){var U=s.MODE_KANJI,q=n.stringToBytesFuncs.SJIS;if(!q)throw"sjis not supported.";(function(ie,E){var a=q(ie);if(a.length!=2||(a[0]<<8|a[1])!=E)throw"sjis not supported."})("",38726);var F=q(N),L={};return L.getMode=function(){return U},L.getLength=function(ie){return~~(F.length/2)},L.write=function(ie){for(var E=F,a=0;a+1<E.length;){var f=(255&E[a])<<8|255&E[a+1];if(33088<=f&&f<=40956)f-=33088;else if(57408<=f&&f<=60351)f-=49472;else throw"illegal char at "+(a+1)+"/"+f;f=(f>>>8&255)*192+(f&255),ie.put(f,13),a+=2}if(a<E.length)throw"illegal char at "+(a+1)},L},I=function(){var N=[],U={};return U.writeByte=function(q){N.push(q&255)},U.writeShort=function(q){U.writeByte(q),U.writeByte(q>>>8)},U.writeBytes=function(q,F,L){F=F||0,L=L||q.length;for(var ie=0;ie<L;ie+=1)U.writeByte(q[ie+F])},U.writeString=function(q){for(var F=0;F<q.length;F+=1)U.writeByte(q.charCodeAt(F))},U.toByteArray=function(){return N},U.toString=function(){var q="";q+="[";for(var F=0;F<N.length;F+=1)F>0&&(q+=","),q+=N[F];return q+="]",q},U},k=function(){var N=0,U=0,q=0,F="",L={},ie=function(a){F+=String.fromCharCode(E(a&63))},E=function(a){if(!(a<0)){if(a<26)return 65+a;if(a<52)return 97+(a-26);if(a<62)return 48+(a-52);if(a==62)return 43;if(a==63)return 47}throw"n:"+a};return L.writeByte=function(a){for(N=N<<8|a&255,U+=8,q+=1;U>=6;)ie(N>>>U-6),U-=6},L.flush=function(){if(U>0&&(ie(N<<6-U),N=0,U=0),q%3!=0)for(var a=3-q%3,f=0;f<a;f+=1)F+="="},L.toString=function(){return F},L},R=function(N){var U=N,q=0,F=0,L=0,ie={};ie.read=function(){for(;L<8;){if(q>=U.length){if(L==0)return-1;throw"unexpected end of file./"+L}var a=U.charAt(q);if(q+=1,a=="=")return L=0,-1;if(a.match(/^\s$/))continue;F=F<<6|E(a.charCodeAt(0)),L+=6}var f=F>>>L-8&255;return L-=8,f};var E=function(a){if(65<=a&&a<=90)return a-65;if(97<=a&&a<=122)return a-97+26;if(48<=a&&a<=57)return a-48+52;if(a==43)return 62;if(a==47)return 63;throw"c:"+a};return ie},C=function(N,U){var q=N,F=U,L=new Array(N*U),ie={};ie.setPixel=function(h,g,y){L[g*q+h]=y},ie.write=function(h){h.writeString("GIF87a"),h.writeShort(q),h.writeShort(F),h.writeByte(128),h.writeByte(0),h.writeByte(0),h.writeByte(0),h.writeByte(0),h.writeByte(0),h.writeByte(255),h.writeByte(255),h.writeByte(255),h.writeString(","),h.writeShort(0),h.writeShort(0),h.writeShort(q),h.writeShort(F),h.writeByte(0);var g=2,y=a(g);h.writeByte(g);for(var x=0;y.length-x>255;)h.writeByte(255),h.writeBytes(y,x,255),x+=255;h.writeByte(y.length-x),h.writeBytes(y,x,y.length-x),h.writeByte(0),h.writeString(";")};var E=function(h){var g=h,y=0,x=0,S={};return S.write=function(m,c){if(m>>>c)throw"length over";for(;y+c>=8;)g.writeByte(255&(m<<y|x)),c-=8-y,m>>>=8-y,x=0,y=0;x=m<<y|x,y=y+c},S.flush=function(){y>0&&g.writeByte(x)},S},a=function(h){for(var g=1<<h,y=(1<<h)+1,x=h+1,S=f(),m=0;m<g;m+=1)S.add(String.fromCharCode(m));S.add(String.fromCharCode(g)),S.add(String.fromCharCode(y));var c=I(),w=E(c);w.write(g,x);var T=0,O=String.fromCharCode(L[T]);for(T+=1;T<L.length;){var K=String.fromCharCode(L[T]);T+=1,S.contains(O+K)?O=O+K:(w.write(S.indexOf(O),x),S.size()<4095&&(S.size()==1<<x&&(x+=1),S.add(O+K)),O=K)}return w.write(S.indexOf(O),x),w.write(y,x),w.flush(),c.toByteArray()},f=function(){var h={},g=0,y={};return y.add=function(x){if(y.contains(x))throw"dup key:"+x;h[x]=g,g+=1},y.size=function(){return g},y.indexOf=function(x){return h[x]},y.contains=function(x){return typeof h[x]<"u"},y};return ie},P=function(N,U,q){for(var F=C(N,U),L=0;L<U;L+=1)for(var ie=0;ie<N;ie+=1)F.setPixel(ie,L,q(ie,L));var E=I();F.write(E);for(var a=k(),f=E.toByteArray(),h=0;h<f.length;h+=1)a.writeByte(f[h]);return a.flush(),"data:image/gif;base64,"+a};return n}();(function(){r.stringToBytesFuncs["UTF-8"]=function(n){function s(i){for(var o=[],l=0;l<i.length;l++){var u=i.charCodeAt(l);u<128?o.push(u):u<2048?o.push(192|u>>6,128|u&63):u<55296||u>=57344?o.push(224|u>>12,128|u>>6&63,128|u&63):(l++,u=65536+((u&1023)<<10|i.charCodeAt(l)&1023),o.push(240|u>>18,128|u>>12&63,128|u>>6&63,128|u&63))}return o}return s(n)}})(),function(n){t.exports=n()}(function(){return r})})(T$);var Hoe=T$.exports,Koe=Rn&&Rn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),z6=Rn&&Rn.__assign||function(){return z6=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},z6.apply(this,arguments)};Object.defineProperty(FE,"__esModule",{value:!0});var P$=FE.QRCode=void 0,Woe=zoe,Voe=Hoe,rx=Ae,Goe=function(t){Koe(e,t);function e(r){var n=t.call(this,r)||this;return n.canvasRef=rx.createRef(),n}return e.prototype.download=function(r,n){if(this.canvasRef.current){var s=void 0;switch(r){case"jpg":s="image/jpeg";break;case"webp":s="image/webp";break;case"png":default:s="image/png";break}var i=this.canvasRef.current.toDataURL(s,1),o=document.createElement("a");o.download=n??"react-qrcode-logo",o.href=i,o.click()}},e.prototype.utf16to8=function(r){var n="",s,i,o=r.length;for(s=0;s<o;s++)i=r.charCodeAt(s),i>=1&&i<=127?n+=r.charAt(s):i>2047?(n+=String.fromCharCode(224|i>>12&15),n+=String.fromCharCode(128|i>>6&63),n+=String.fromCharCode(128|i>>0&63)):(n+=String.fromCharCode(192|i>>6&31),n+=String.fromCharCode(128|i>>0&63));return n},e.prototype.drawRoundedSquare=function(r,n,s,i,o,l,u,d){d.lineWidth=r,d.fillStyle=o,d.strokeStyle=o,s+=r/2,n+=r/2,i-=r,Array.isArray(l)||(l=[l,l,l,l]),l=l.map(function(M){return M=Math.min(M,i/2),M<0?0:M});var p=l[0]||0,v=l[1]||0,b=l[2]||0,_=l[3]||0;d.beginPath(),d.moveTo(n+p,s),d.lineTo(n+i-v,s),v&&d.quadraticCurveTo(n+i,s,n+i,s+v),d.lineTo(n+i,s+i-b),b&&d.quadraticCurveTo(n+i,s+i,n+i-b,s+i),d.lineTo(n+_,s+i),_&&d.quadraticCurveTo(n,s+i,n,s+i-_),d.lineTo(n,s+p),p&&d.quadraticCurveTo(n,s,n+p,s),d.closePath(),d.stroke(),u&&d.fill()},e.prototype.drawPositioningPattern=function(r,n,s,i,o,l,u){u===void 0&&(u=[0,0,0,0]);var d=Math.ceil(n),p,v;typeof u!="number"&&!Array.isArray(u)?(p=u.outer||0,v=u.inner||0):(p=u,v=p);var b,_;typeof l!="string"?(b=l.outer,_=l.inner):(b=l,_=l);var M=i*n+s,A=o*n+s,I=n*7;this.drawRoundedSquare(d,A,M,I,b,p,!1,r),I=n*3,M+=n*2,A+=n*2,this.drawRoundedSquare(d,A,M,I,_,v,!0,r)},e.prototype.isInPositioninZone=function(r,n,s){return s.some(function(i){return n>=i.row&&n<=i.row+7&&r>=i.col&&r<=i.col+7})},e.prototype.transformPixelLengthIntoNumberOfCells=function(r,n){return r/n},e.prototype.isCoordinateInImage=function(r,n,s,i,o,l,u,d){if(d){var p=2,v=this.transformPixelLengthIntoNumberOfCells(o,u),b=this.transformPixelLengthIntoNumberOfCells(l,u),_=this.transformPixelLengthIntoNumberOfCells(s,u)-1,M=this.transformPixelLengthIntoNumberOfCells(i,u)-1;return n>=v-p&&n<=v+_+p&&r>=b-p&&r<=b+M+p}else return!1},e.prototype.shouldComponentUpdate=function(r){return!Woe(this.props,r)},e.prototype.componentDidMount=function(){this.update()},e.prototype.componentDidUpdate=function(){this.update()},e.prototype.update=function(){var r,n=this.props,s=n.value,i=n.ecLevel,o=n.enableCORS,l=n.bgColor,u=n.fgColor,d=n.logoImage,p=n.logoOpacity,v=n.logoOnLoad,b=n.removeQrCodeBehindLogo,_=n.qrStyle,M=n.eyeRadius,A=n.eyeColor,I=n.logoPaddingStyle,k=+this.props.size,R=+this.props.quietZone,C=this.props.logoWidth?+this.props.logoWidth:0,P=this.props.logoHeight?+this.props.logoHeight:0,N=this.props.logoPadding?+this.props.logoPadding:0,U=Voe(0,i);U.addData(this.utf16to8(s)),U.make();var q=(r=this.canvasRef)===null||r===void 0?void 0:r.current,F=q.getContext("2d"),L=k+2*R,ie=U.getModuleCount(),E=k/ie,a=window.devicePixelRatio||1;q.height=q.width=L*a,F.scale(a,a),F.fillStyle=l,F.fillRect(0,0,L,L);var f=R,h=[{row:0,col:0},{row:0,col:ie-7},{row:ie-7,col:0}];if(F.strokeStyle=u,_==="dots"){F.fillStyle=u;for(var g=E/2,y=0;y<ie;y++)for(var x=0;x<ie;x++)U.isDark(y,x)&&!this.isInPositioninZone(y,x,h)&&(F.beginPath(),F.arc(Math.round(x*E)+g+f,Math.round(y*E)+g+f,g/100*75,0,2*Math.PI,!1),F.closePath(),F.fill())}else if(_==="fluid"){for(var g=Math.ceil(E/2),y=0;y<ie;y++)for(var x=0;x<ie;x++)if(U.isDark(y,x)&&!this.isInPositioninZone(y,x,h)){var S=[!1,!1,!1,!1];y>0&&!U.isDark(y-1,x)&&x>0&&!U.isDark(y,x-1)&&(S[0]=!0),y>0&&!U.isDark(y-1,x)&&x<ie-1&&!U.isDark(y,x+1)&&(S[1]=!0),y<ie-1&&!U.isDark(y+1,x)&&x<ie-1&&!U.isDark(y,x+1)&&(S[2]=!0),y<ie-1&&!U.isDark(y+1,x)&&x>0&&!U.isDark(y,x-1)&&(S[3]=!0);var m=Math.ceil((x+1)*E)-Math.floor(x*E),c=Math.ceil((y+1)*E)-Math.floor(y*E);F.fillStyle=u,F.beginPath(),F.arc(Math.round(x*E)+g+f,Math.round(y*E)+g+f,g,0,2*Math.PI,!1),F.closePath(),F.fill(),S[0]||F.fillRect(Math.round(x*E)+f,Math.round(y*E)+f,m/2,c/2),S[1]||F.fillRect(Math.round(x*E)+f+Math.floor(m/2),Math.round(y*E)+f,m/2,c/2),S[2]||F.fillRect(Math.round(x*E)+f+Math.floor(m/2),Math.round(y*E)+f+Math.floor(c/2),m/2,c/2),S[3]||F.fillRect(Math.round(x*E)+f,Math.round(y*E)+f+Math.floor(c/2),m/2,c/2)}}else for(var y=0;y<ie;y++)for(var x=0;x<ie;x++)if(U.isDark(y,x)&&!this.isInPositioninZone(y,x,h)){F.fillStyle=u;var m=Math.ceil((x+1)*E)-Math.floor(x*E),c=Math.ceil((y+1)*E)-Math.floor(y*E);F.fillRect(Math.round(x*E)+f,Math.round(y*E)+f,m,c)}for(var w=0;w<3;w++){var T=h[w],y=T.row,x=T.col,O=M,K=void 0;Array.isArray(O)&&(O=O[w]),typeof O=="number"&&(O=[O,O,O,O]),A?Array.isArray(A)?K=A[w]:K=A:K=u,this.drawPositioningPattern(F,E,f,y,x,K,O)}if(d){var ee=new Image;o&&(ee.crossOrigin="Anonymous"),ee.onload=function(J){F.save();var $=C||k*.2,z=P||$,Y=(k-$)/2,te=(k-z)/2;if(b||N){F.beginPath(),F.strokeStyle=l,F.fillStyle=l;var G=$+2*N,j=z+2*N,W=Y+f-N,oe=te+f-N;if(I==="circle"){var ae=W+G/2,he=oe+j/2;F.ellipse(ae,he,G/2,j/2,0,0,2*Math.PI),F.stroke(),F.fill()}else F.fillRect(W,oe,G,j)}F.globalAlpha=p,F.drawImage(ee,Y+f,te+f,$,z),F.restore(),v&&v(J)},ee.src=d}},e.prototype.render=function(){var r,n=+this.props.size+2*+this.props.quietZone;return rx.createElement("canvas",{id:(r=this.props.id)!==null&&r!==void 0?r:"react-qrcode-logo",height:n,width:n,style:z6({height:n+"px",width:n+"px"},this.props.style),ref:this.canvasRef})},e.defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square"},e}(rx.Component);P$=FE.QRCode=Goe;function Yoe(t){var e;const{walletConnectUri:r,logoImage:n,primaryColor:s}=t,{isDark:i}=Ae.useContext(Gv),o=Ae.useMemo(()=>Tu.getParser(window.navigator.userAgent).getPlatformType()==="desktop",[]),[l]=ea(void 0,{i18n:Or}),[u,d]=Ae.useState(!1),p=()=>{a9(r),d(!0),setTimeout(()=>{d(!1)},3e3)},v=document.documentElement,b="#FFFFFF",_="#000000",M=((e=getComputedStyle(v))===null||e===void 0||(e=e.getPropertyValue("--app-gray-800"))===null||e===void 0?void 0:e.trim())||"#1f2a37",A=s.toLowerCase()==="#ffffff"?"#000000":s;return fe.jsx("div",{className:"w3ajs-wallet-connect w3a-wallet-connect",children:fe.jsx("div",{className:"w3ajs-wallet-connect__container w3a-wallet-connect__container",children:fe.jsxs("div",{className:"w3a-wallet-connect__container-desktop",children:[fe.jsxs("div",{className:"w3ajs-wallet-connect-qr w3a-wallet-connect-qr w3a--rounded-md w3a--mb-2",tabIndex:0,role:"button",onClick:p,onKeyDown:()=>a9(r),children:[u&&fe.jsxs("div",{className:"tooltip",children:["Copied",fe.jsx("div",{className:"w3a--absolute w3a--border-8 w3a--border-b-0 w3a--border-r-transparent w3a--border-t-app-gray-900 w3a--border-l-transparent w3a--top-[100%] w3a--left-[calc(50%_-_8px)]"})]}),fe.jsx(P$,{size:o?300:260,eyeRadius:5,qrStyle:"dots",removeQrCodeBehindLogo:!0,logoImage:n||$se,value:r,logoHeight:32,logoWidth:32,logoPadding:10,eyeColor:i?b:A,bgColor:i?M:b,fgColor:i?b:_})]}),fe.jsx("div",{className:"text-xs",children:l("modal.external.walletconnect-copy")})]})})})}var Zoe=Ae.memo(Yoe);function jE(t){const{title:e,goBack:r,closeModal:n,disableBackButton:s}=t;return fe.jsxs("div",{className:"w3a--flex w3a--flex-row w3a--justify-center w3a--items-center w3a--gap-1",children:[fe.jsx("div",{className:"w3a--flex-grow-1 w3a--flex-shrink-0 w3a--items-center w3a--justify-start w3a--mr-auto",children:!s&&fe.jsx("button",{type:"button",className:"w3a-external-back w3ajs-external-back",onClick:r,children:fe.jsx(jc,{iconName:"arrow-left-light",darkIconName:"arrow-left-dark",width:"16",height:"16"})})}),fe.jsx("div",{className:"w3a-header__title w3a--flex-grow-0 w3a--flex-shrink w3a--truncate w3a--mr-6",children:e}),fe.jsx("div",{className:"w3a--flex-grow-1 w3a--flex-shrink-0 w3a--items-center w3a--justify-end w3a--ml-auto",children:fe.jsx("button",{type:"button",onClick:n,className:"w3a-header__button_wallet w3ajs-close-btn",children:fe.jsx(jc,{iconName:"x-light",darkIconName:"x-dark"})})})]})}const Joe=(t,e)=>{if(e!=null&&e.startsWith("https://"))return e;switch(t){case"chrome":return`https://chrome.google.com/webstore/detail/${e}`;case"firefox":return`https://addons.mozilla.org/firefox/addon/${e}`;case"edge":return`https://microsoftedge.microsoft.com/addons/detail/${e}`;default:return null}},Xoe=(t,e)=>{if(e!=null&&e.includes("https://"))return e;switch(t){case"android":return`https://play.google.com/store/apps/details?id=${e}`;case"ios":return`https://apps.apple.com/app/safepal-wallet/${e}`;default:return""}},Qoe=t=>{switch(t){case"ios":return"iOS";case"android":return"Android";default:return""}},eae=t=>t.charAt(0).toUpperCase()+t.slice(1);function O$(t){const{connectButton:e,goBack:r,closeModal:n}=t,[s]=ea(void 0,{i18n:Or}),i=Ae.useMemo(()=>{const u=Tu.getParser(window.navigator.userAgent);return{platform:u.getPlatformType(),browser:u.getBrowserName().toLowerCase(),os:u.getOSName()}},[]),o=()=>{const u=e.walletRegistryItem.app||{};return Object.keys(u).reduce((p,v)=>{if(!["android","ios"].includes(v))return p;const b=u[v];if(!b)return p;const _=Xoe(v,b);if(!_)return p;const M=`${v}-light`,A=`${v}-dark`;return p.push(fe.jsx("li",{className:"w3a--w-full",children:fe.jsx("a",{href:_,rel:"noopener noreferrer",target:"_blank",children:fe.jsxs(qc,{type:"button",variant:"tertiary",className:"w3a--w-full !w3a--justify-start w3a--flex w3a--items-center w3a--gap-2 wallet-link-btn",children:[fe.jsx(Pc,{imageId:M,darkImageId:A,hoverImageId:M,darkHoverImageId:A,height:"28",width:"28",isButton:!0}),fe.jsx("span",{className:"w3a--text-sm w3a--font-medium",children:s("modal.external.install-mobile-app",{os:Qoe(v)})})]})})},v)),p},[])},l=()=>{const u=i.browser==="brave"?"chrome":i.browser,d=e.walletRegistryItem.app||{},p=d.browser&&d.browser.includes(u)?d.browser:void 0,v=d[u]||p,b=v?Joe(u,v):null;return[b?fe.jsx("li",{children:fe.jsx("a",{href:b,rel:"noopener noreferrer",target:"_blank",children:fe.jsxs(qc,{type:"button",variant:"tertiary",className:"w3a--w-full !w3a--justify-start w3a--flex w3a--items-center w3a--gap-2 wallet-link-btn",children:[fe.jsx(Pc,{imageId:i.browser,darkImageId:i.browser,hoverImageId:i.browser,darkHoverImageId:i.browser,height:"30",width:"30",isButton:!0}),fe.jsx("span",{className:"w3a--text-sm w3a--font-medium",children:s("modal.external.install-browser-extension",{browser:eae(i.browser)})})]})})},i.browser):null,...o()]};return fe.jsxs("div",{children:[fe.jsx(jE,{title:`${s("modal.external.get")} ${e.displayName}`,goBack:r,closeModal:n}),fe.jsx("div",{className:"w3a--flex w3a--justify-center w3a--my-6",children:fe.jsx(Pc,{imageId:`login-${e.name}`,hoverImageId:`login-${e.name}`,fallbackImageId:"wallet",height:"100",width:"100",isButton:!0,extension:e.imgExtension})}),fe.jsx("ul",{className:"w3a--flex w3a--flex-col w3a--gap-3",children:i.platform==="desktop"?l():o()})]})}function tae(t){const{connectButton:e,walletConnectUri:r,goBack:n,closeModal:s}=t,[i,o]=Ae.useState(!1),[l]=ea(void 0,{i18n:Or}),u=()=>{o(!0)};return fe.jsx("div",{children:i?fe.jsx("div",{children:fe.jsx(O$,{connectButton:e,goBack:()=>o(!1),closeModal:s})}):fe.jsxs(fe.Fragment,{children:[fe.jsx(jE,{title:e.displayName,goBack:n,closeModal:s}),r?fe.jsx(Zoe,{walletConnectUri:r,logoImage:`https://images.web3auth.io/login-${e.name}.${e.imgExtension}`,primaryColor:e.walletRegistryItem.primaryColor}):fe.jsx(C$,{modalStatus:In.CONNECTING,canEmit:!1}),e.hasInstallLinks&&fe.jsxs("div",{className:"w3a--flex w3a--flex-row w3a--items-center w3a--justify-between w3a--gap-2 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-700 w3a--text-app-gray-900 dark:w3a--text-app-white w3a--px-3 w3a--py-2 w3a--rounded-xl",children:[fe.jsxs("span",{className:"w3a--text-sm w3a--truncate w3a--flex-grow-0",children:[l("modal.external.dont-have")," ",fe.jsx("span",{children:e.displayName}),"?"]}),fe.jsx(qc,{type:"button",variant:"secondary",size:"xs",className:"w3a--flex-grow-1 w3a--flex-shrink-0",onClick:u,children:l("modal.external.get-wallet")})]})]})})}function rae(t){const{connectButton:e,walletConnectUri:r,goBack:n,closeModal:s}=t;return fe.jsx("div",{children:e.hasWalletConnect?fe.jsx(tae,{connectButton:e,walletConnectUri:r,goBack:n,closeModal:s}):fe.jsx(O$,{connectButton:e,goBack:n,closeModal:s})})}function nae(t){const e=encodeURIComponent(t.uri);return t.link.startsWith("http")?`${t.link}/wc?uri=${e}`:t.link?`${t.link}wc?uri=${e}`:""}function iae(t){const{hideExternalWallets:e,handleExternalWalletClick:r,closeModal:n,config:s={},walletConnectUri:i,showBackButton:o,modalStatus:l,chainNamespace:u,walletRegistry:d}=t,[p,v]=Ae.useState([]),[b,_]=Ae.useState(0),[M,A]=Ae.useState(null),[I,k]=Ae.useState(""),[R]=ea(void 0,{i18n:Or}),C=Ae.useMemo(()=>d&&Object.keys(d.default).length>0&&Object.keys(d.others).length>0,[d]),P=Ae.useMemo(()=>{const F=Tu.getParser(window.navigator.userAgent);return{platform:F.getPlatformType(),os:F.getOSName(),browser:F.getBrowserName().toLowerCase()}},[]),N=F=>{k(F.target.value)},U=Ae.useMemo(()=>{const F={};return Object.keys(s).forEach(L=>{const ie=s[L];if(!ie.showOnModal){F[L]=!1;return}if(P.platform==="desktop"&&ie.showOnDesktop){F[L]=!0;return}if((P.platform==="mobile"||P.platform==="tablet")&&ie.showOnMobile){F[L]=!0;return}F[L]=!1}),xt.debug("adapter visibility map",F),F},[s,P.platform]);Ae.useEffect(()=>{var F;xt.debug("loaded external wallets",s,i),(((F=s[br.WALLET_CONNECT_V2])===null||F===void 0?void 0:F.showOnModal)||!1)!==!1&&!i&&r({adapter:br.WALLET_CONNECT_V2})},[s,r,i]),Ae.useEffect(()=>{if(C){const F=Object.keys(s).some(g=>g===br.WALLET_CONNECT_V2),L=new Set(Object.keys(d.default)),ie=g=>Object.keys(g).reduce((y,x)=>{var S,m,c,w;if(U[x]===!1)return y;const T=g[x];let O="";if(P.platform===Tu.PLATFORMS_MAP.mobile){var K,ee;const Y=T==null||(K=T.mobile)===null||K===void 0?void 0:K.universal,te=T==null||(ee=T.mobile)===null||ee===void 0?void 0:ee.native;O=Y||te}const J={name:x,displayName:T.name,href:O,hasInjectedWallet:((S=s[x])===null||S===void 0?void 0:S.isInjected)||!1,hasWalletConnect:F&&((m=T.walletConnect)===null||m===void 0||(m=m.sdks)===null||m===void 0?void 0:m.includes("sign_v2")),hasInstallLinks:Object.keys(T.app||{}).length>0,walletRegistryItem:T,imgExtension:T.imgExtension||"svg"};if(!J.hasInjectedWallet&&!J.hasWalletConnect&&!J.hasInstallLinks)return y;const $=new Set((c=T.chains)===null||c===void 0?void 0:c.map(Y=>Y.split(":")[0])),z=new Set((w=T.injected)===null||w===void 0?void 0:w.map(Y=>Y.namespace));return!$.has(u)&&!z.has(u)||y.push(J),y},[]),E=ie(d.default),a=ie(d.others),f=Object.keys(s).reduce((g,y)=>(![br.WALLET_CONNECT_V2].includes(y)&&!s[y].isInjected&&U[y]&&(xt.debug("custom adapter",y,s[y]),g.push({name:y,displayName:s[y].label||y,hasInjectedWallet:!1,hasWalletConnect:!1,hasInstallLinks:!1})),g),[]),h=[...E,...a];if(I){const g=h.concat(f).filter(y=>y.name.toLowerCase().includes(I.toLowerCase()));xt.debug("filteredLists",g),v(g)}else{const g=[...h.filter(y=>y.hasInjectedWallet&&L.has(y.name)),...f,...h.filter(y=>!y.hasInjectedWallet&&L.has(y.name))];v(g)}_(h.length+f.length),xt.debug("external buttons",h)}else{const F=Object.keys(s).reduce((L,ie)=>(xt.debug("external buttons",ie,U[ie]),![br.WALLET_CONNECT_V2].includes(ie)&&U[ie]&&L.push({name:ie,displayName:s[ie].label||ie,hasInjectedWallet:s[ie].isInjected,hasWalletConnect:!1,hasInstallLinks:!1}),L),[]);v(F),_(F.length)}},[s,P,U,d,I,u,C]);const q=F=>{F.hasInjectedWallet||!F.hasWalletConnect&&!F.hasInstallLinks?r({adapter:F.name}):A(F)};return fe.jsx("div",{className:`w3ajs-external-wallet w3a-group ${b===0?"w3a-group-loader-height":""}`,children:fe.jsx("div",{className:"w3a-external-container w3ajs-external-container",children:b===0?fe.jsx(C$,{modalStatus:In.CONNECTING,canEmit:!1}):l===In.INITIALIZED&&(M?fe.jsx(rae,{connectButton:M,goBack:()=>A(null),walletConnectUri:i,closeModal:n}):fe.jsxs(fe.Fragment,{children:[fe.jsx(jE,{disableBackButton:!o,title:R("modal.external.connect-wallet"),goBack:e,closeModal:n}),b>15&&fe.jsx("div",{className:"w3a--py-4",children:fe.jsx("input",{className:"w3a--w-full w3a-text-field",name:"passwordless-input",required:!0,value:I,placeholder:R("modal.external.search-wallet",{count:b}),onFocus:F=>{F.target.placeholder=""},onBlur:F=>{F.target.placeholder=R("modal.external.search-wallet",{count:b})},onChange:F=>N(F)})}),p.length===0?fe.jsx("div",{className:"w3a--w-full w3a--text-center w3a--text-app-gray-400 dark:w3a--text-app-gray-500 w3a--py-6 w3a--flex w3a--justify-center w3a--items-center",children:R("modal.external.no-wallets-found")}):fe.jsx("div",{className:`w3a-adapter-list-container ${b<15?"w3a--py-4":""}`,children:fe.jsxs("ul",{className:"w3a-adapter-list w3ajs-wallet-adapters",children:[p.map(F=>fe.jsxs("li",{className:"w3a-adapter-item w3a-adapter-item--full",children:[P.platform==="desktop"&&fe.jsx(tx,{button:F,handleWalletClick:q}),P.platform!=="desktop"&&(F.href&&F.hasWalletConnect&&!F.hasInjectedWallet?fe.jsx("a",{href:F.href?nae({uri:i,link:F.href}):i,target:"_blank",className:"w3a--w-full",rel:"noreferrer noopener",children:fe.jsx(tx,{button:F,handleWalletClick:q})}):fe.jsx(tx,{button:F,handleWalletClick:q}))]},F.name+F.displayName)),b>10&&!I&&fe.jsxs("li",{className:"w3a--flex w3a--flex-col w3a--items-center w3a--justify-center w3a--gap-y-0.5 w3a--my-4 w3a--w-full w3a--mx-auto w3a-adapter-item--full",children:[fe.jsx("p",{className:"w3a--text-xs w3a--text-app-gray-500 dark:w3a--text-app-gray-400",children:R("modal.external.search-text")}),fe.jsx("p",{className:"w3a--text-xs w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:R("modal.external.search-subtext")})]})]})})]}))})})}function sae(){const[t]=ea(void 0,{i18n:Or});return fe.jsxs("div",{className:"w3a--flex w3a--items-center w3a--gap-2 w3a--justify-center",children:[fe.jsx("div",{className:"w3a--text-xs w3a--text-app-gray-300 dark:w3a--text-app-gray-500",children:t("modal.footer.message-new")}),fe.jsx("img",{height:"16",src:"https://images.web3auth.io/web3auth-footer-logo-light.svg",alt:"Web3Auth Logo Light",className:"w3a--h-4 w3a--block dark:w3a--hidden"}),fe.jsx("img",{height:"16",src:"https://images.web3auth.io/web3auth-footer-logo-dark.svg",alt:"Web3Auth Logo Dark",className:"w3a--h-4 w3a--hidden dark:w3a--block"})]})}function oae(){return fe.jsx("div",{className:"w3a-modal__footer",children:fe.jsx("div",{className:"w3a-footer",children:fe.jsx("div",{children:fe.jsx("div",{children:fe.jsx(sae,{})})})})})}function aae(t){const{onClose:e,appLogo:r,appName:n}=t,[s]=ea(void 0,{i18n:Or}),i=[x$,b$].includes(r)?"":r,o=s("modal.header-subtitle-name",{appName:n});return fe.jsxs("div",{className:"w3a-modal__header",children:[fe.jsx("div",{className:"w3a-header",children:fe.jsxs("div",{children:[i&&fe.jsx("div",{className:"w3a-header__logo",children:fe.jsx("img",{src:i,alt:""})}),fe.jsx("div",{className:"w3a-header__title",children:s("modal.header-title")}),fe.jsxs("div",{className:"w3a-header__subtitle",children:[o,fe.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-col w3a--items-center w3a--group w3a--cursor-pointer",children:[fe.jsx(jc,{iconName:"information-circle-light",darkIconName:"information-circle"}),fe.jsxs("div",{className:"w3a--absolute w3a--top-4 w3a--z-20 w3a--flex-col w3a--items-center w3a--hidden w3a--mb-5 group-hover:w3a--flex",children:[fe.jsx("div",{className:"w3a--w-3 w3a--h-3 w3a--ml-[3px] -w3a--mb-2 w3a--rotate-45 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-600"}),fe.jsxs("div",{className:`w3a--relative w3a--p-4 w3a--w-[270px] w3a--translate-x-[-16px] w3a--text-xs w3a--leading-none w3a--text-app-white w3a--rounded-md w3a--bg-app-gray-50 dark:w3a--bg-app-gray-600 w3a--shadow-lg ${o.length>34?"-w3a--ml-[100px]":""}`,children:[fe.jsx("div",{className:"w3a--text-xs w3a--font-medium w3a--mb-1 w3a--text-app-gray-900 dark:w3a--text-app-white",children:s("modal.header-tooltip-title")}),fe.jsx("div",{className:"w3a--text-xs w3a--text-app-gray-400",children:s("modal.header-tooltip-desc")})]})]})]})]})]})}),fe.jsx("button",{type:"button",onClick:e,className:"w3a-header__button w3ajs-close-btn ",children:fe.jsx(jc,{iconName:"x-light",darkIconName:"x-dark"})})]})}const H6=Ae.memo(aae,(t,e)=>t.appLogo!==e.appLogo);H6.displayName="Header";const l9=(t,e={})=>{const r={};if(t===br.AUTH)UE.forEach(n=>{const s=e[n]||{name:Dse[n],showOnMobile:!0,showOnModal:!0,showOnDesktop:!0};r[n]=qe({},s)}),xt.debug("auth login method ui config",r);else throw vt.invalidParams(`${t} is not a valid adapter`);return r},N$="https://api-passwordless.web3auth.io",lae=async()=>{try{const t=await Cv(`${N$}/api/v3/user/location`);return t&&t.data.country?{country:t.data.country,dialCode:t.data.dial_code}:null}catch(t){return xt.error("error getting user country",t),null}},cae=async t=>{try{const e=await Xp(`${N$}/api/v3/phone_number/validate`,{phone_number:t});return e&&e.success?e.parsed_number:!1}catch(e){return xt.error("error validating phone number",e),e.status!==400}},B$=t=>{let e=t;return e||(e=(typeof window<"u"&&(window.navigator.userLanguage||window.navigator.language)||"en-US").split("-")[0]),Object.prototype.hasOwnProperty.call(Uie,e)?e:io.en};function uae(t){const{handleSocialLoginClick:e,adapter:r,isPrimaryBtn:n,isEmailVisible:s,isSmsVisible:i}=t,[o,l]=Ae.useState(""),[u,d]=Ae.useState(""),[p,v]=Ae.useState(null),[b]=ea(void 0,{i18n:Or}),_=async R=>{R.preventDefault();const C=o;if(s&&C.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i))return e({adapter:r,loginParams:{loginProvider:Ur.EMAIL_PASSWORDLESS,login_hint:C,name:"Email"}});if(i){const P=C.startsWith("+")?C:`${u}${C}`,N=await cae(P);if(N)return e({adapter:r,loginParams:{loginProvider:Ur.SMS_PASSWORDLESS,login_hint:typeof N=="string"?N:P,name:"Mobile"}})}v(!1)};Ae.useEffect(()=>{i&&(async()=>{const C=await lae();C&&C.dialCode&&d(C.dialCode)})()},[i]);const M=R=>{l(R.target.value),p===!1&&v(null)},A=Ae.useMemo(()=>s&&i?"modal.social.passwordless-title":s?"modal.social.email":"modal.social.phone",[s,i]),I=Ae.useMemo(()=>s&&i?"+(00)123456/name@example.com":s?"name@example.com":"+(00)123456",[s,i]),k=Ae.useMemo(()=>s&&i?"modal.errors-invalid-number-email":s?"modal.errors-invalid-email":"modal.errors-invalid-number",[s,i]);return fe.jsxs("div",{className:"w3ajs-passwordless w3a-group w3a-group--passwordless",children:[fe.jsxs("div",{className:"w3a-group__title",children:[b(A),i&&fe.jsxs("div",{className:"w3a--relative w3a--flex w3a--flex-col w3a--items-center w3a--cursor-pointer w3a--group",children:[fe.jsx(jc,{iconName:"information-circle-light",darkIconName:"information-circle"}),fe.jsxs("div",{className:"w3a--absolute w3a--z-20 w3a--flex-col w3a--items-center w3a--hidden w3a--mb-5 w3a--top-4 group-hover:w3a--flex",children:[fe.jsx("div",{className:"w3a--w-3 w3a--h-3 w3a--ml-[3px] -w3a--mb-2 w3a--rotate-45 w3a--bg-app-gray-50 dark:w3a--bg-app-gray-600"}),fe.jsxs("div",{className:`w3a--relative w3a--p-4 w3a--w-[300px] w3a--text-xs w3a--leading-none w3a--text-app-white w3a--rounded-md w3a--bg-app-gray-50 dark:w3a--bg-app-gray-600 w3a--shadow-lg ${i&&!s?"w3a--left-20":"w3a--left-8"}`,children:[fe.jsx("div",{className:"w3a--mb-1 w3a--text-xs w3a--font-medium w3a--text-app-gray-900 dark:w3a--text-app-white",children:b("modal.popup.phone-header")}),fe.jsx("div",{className:"w3a--text-xs w3a--text-app-gray-400",children:b("modal.popup.phone-body")})]})]})]})]}),fe.jsxs("form",{className:"w3ajs-passwordless-form",onSubmit:R=>_(R),children:[fe.jsx("input",{className:"w3a--w-full w3a--mb-4 w3a-text-field",name:"passwordless-input",required:!0,placeholder:`${b("modal.social.sms-placeholder-text")} ${I}`,onFocus:R=>{R.target.placeholder=""},onBlur:R=>{R.target.placeholder=`${b("modal.social.sms-placeholder-text")} ${I}`},onChange:R=>M(R)}),p===!1&&fe.jsx("div",{className:"w3a-sms-field--error",children:b(k)}),fe.jsx(qc,{variant:n?"primary":"tertiary",disabled:o==="",className:"w3a--w-full",type:"submit",children:b("modal.social.passwordless-cta")})]})]})}var L$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=s(i,n(l)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)e.call(i,l)&&i[l]&&(o=s(o,l));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(L$);var fae=L$.exports;const nx=Zn(fae);function hae(t,e,r){const n=t===Ur.TWITTER?`login-twitter-x${e?"-light":"-dark"}`:`login-${t}${e?"-light":"-dark"}`,s=t===Ur.APPLE||t===Ur.GITHUB||t===Ur.TWITTER?n:`login-${t}-active`;return r?fe.jsx(Pc,{width:"20",imageId:s,hoverImageId:s,isButton:!0}):fe.jsx(Pc,{width:"20",imageId:n,hoverImageId:s,isButton:!0})}function dae(t){const[e,r]=Ae.useState(!1),[n,s]=Ae.useState(!1),{socialLoginsConfig:i={loginMethods:{},loginMethodsOrder:[],adapter:"",uiConfig:{}},handleSocialLoginClick:o}=t,{isDark:l}=Ae.useContext(Gv),[u]=ea(void 0,{i18n:Or}),d=()=>{s(!n)};Ae.useEffect(()=>{const A=Object.keys(i.loginMethods).filter(I=>i.loginMethods[I].showOnModal);r(A.length>4)},[i.loginMethods]);const p=nx("w3a-adapter-list","w3ajs-socials-adapters",n?"":" w3a-adapter-list--shrink"),v=nx("w3a-button-expand","w3ajs-button-expand",n?"w3a-button--rotate":""),b=u(n?"modal.social.view-less":"modal.social.view-more"),_=Object.keys(i.loginMethods).length+1,M=[Ur.WEBAUTHN,Ur.JWT,Ur.SMS_PASSWORDLESS,Ur.EMAIL_PASSWORDLESS,Ur.AUTHENTICATOR,Ur.PASSKEYS];return fe.jsxs("div",{className:"w3ajs-social-logins w3a-group",children:[fe.jsx("ul",{className:p,children:Object.keys(i.loginMethods).map(A=>{var I,k;const R=$E(i.loginMethods[A].name||A),P=i.loginMethodsOrder.indexOf(A)+1||Object.keys(i.loginMethods).length+1,N=i.loginMethods[A].mainOption,U=(i==null||(I=i.uiConfig)===null||I===void 0?void 0:I.primaryButton)==="socialLogin"&&P===1,q=hae(A,l,U);if(i.loginMethods[A].showOnModal===!1||M.includes(A))return null;const F=nx("w3a-adapter-item",(i==null||(k=i.uiConfig)===null||k===void 0?void 0:k.loginGridCol)===2?"w3a--col-span-3":"w3a--col-span-2");return N||P===1?fe.jsx("li",{className:"w3a--col-span-6 w3a-adapter-item",style:{order:P},children:fe.jsxs(qc,{variant:"secondary",onClick:()=>o({adapter:i.adapter,loginParams:{loginProvider:A,name:R,login_hint:""}}),className:"w3a--w-full",title:R,children:[q,fe.jsx("p",{className:"w3a--ml-2",children:u("modal.social.continueCustom",{adapter:R})})]})},A):fe.jsx("li",{className:F,style:{order:P+_},children:fe.jsx(qc,{variant:"secondary",onClick:()=>o({adapter:i.adapter,loginParams:{loginProvider:A,name:R,login_hint:""}}),className:"w3a--w-full",title:R,children:q})},A)})}),fe.jsx("div",{className:"w3a-social__policy",children:u("modal.social.policy")}),e&&fe.jsx("div",{className:"w3a--text-right",children:fe.jsx("button",{type:"button",className:v,onClick:d,children:fe.jsx("span",{className:"w3ajs-button-expand-text",children:b})})})]})}xt.enableAll();function pae(t){var e,r,n,s,i,o;const[l,u]=Ae.useState(["w3a-modal__inner"]),[d,p]=Ae.useState({externalWalletsVisibility:!1,status:In.INITIALIZED,hasExternalWallets:!1,externalWalletsInitialized:!1,modalVisibility:!1,modalVisibilityDelayed:!1,postLoadingMessage:"",walletConnectUri:"",socialLoginsConfig:{loginMethods:{},loginMethodsOrder:[],adapter:"",uiConfig:{}},externalWalletsConfig:{},detailedLoaderAdapter:"",detailedLoaderAdapterName:"",showExternalWalletsOnly:!1}),[v]=ea(void 0,{i18n:Or}),{stateListener:b,appLogo:_,appName:M,chainNamespace:A,walletRegistry:I,handleSocialLoginClick:k,handleExternalWalletClick:R,handleShowExternalWallets:C,closeModal:P}=t,[N,U]=Ae.useState("");Ae.useEffect(()=>{b.emit("MOUNTED"),b.on("STATE_UPDATED",y=>{xt.debug("state updated",y),p(x=>C0(Jo(x,y)))})},[b]),Ae.useEffect(()=>{let y;return d.modalVisibility?(p(x=>qe(qe({},x),{},{modalVisibilityDelayed:d.modalVisibility})),y=window.setTimeout(()=>{u(["w3a-modal__inner",d.modalVisibility?"w3a-modal__inner--active":""])},100)):(u(["w3a-modal__inner",d.modalVisibility?"w3a-modal__inner--active":""]),y=window.setTimeout(()=>{p(x=>qe(qe({},x),{},{modalVisibilityDelayed:d.modalVisibility}))},250)),()=>{clearTimeout(y)}},[d.modalVisibility]);const q=Ae.useCallback(()=>{d.status===In.CONNECTED&&P(),d.status===In.ERRORED&&p(y=>qe(qe({},y),{},{modalVisibility:!0,status:In.INITIALIZED}))},[P,d.status]),F=Ae.useCallback(y=>{const{adapter:x}=y;p(S=>qe(qe({},S),{},{detailedLoaderAdapter:x,detailedLoaderAdapterName:h$[x]})),R(y)},[R]),L=y=>{const{loginParams:x}=y;p(S=>qe(qe({},S),{},{detailedLoaderAdapter:x.loginProvider,detailedLoaderAdapterName:x.name})),k(y)},ie=((e=d.socialLoginsConfig)===null||e===void 0||(e=e.uiConfig)===null||e===void 0?void 0:e.primaryButton)==="emailLogin",E=((r=d.socialLoginsConfig)===null||r===void 0||(r=r.uiConfig)===null||r===void 0?void 0:r.primaryButton)==="externalLogin",a=fe.jsx("div",{className:"w3ajs-external-wallet w3a-group w3a--w-full",children:fe.jsx("div",{className:"w3a-external-toggle w3ajs-external-toggle",children:fe.jsx(qc,{variant:E?"primary":"tertiary",type:"button",className:"w3a--w-full w3ajs-external-toggle__button",style:{width:"100%"},onClick:()=>{p(y=>qe(qe({},y),{},{externalWalletsVisibility:!0})),U("slide-enter"),C(d.externalWalletsInitialized),setTimeout(()=>{U("slide-exit")},300)},children:v("modal.external.connect")})})}),f=Ae.useMemo(()=>{var y,x;return d.showExternalWalletsOnly||Object.keys(((y=d.socialLoginsConfig)===null||y===void 0?void 0:y.loginMethods)||{}).length===0?!1:!!Object.entries(((x=d.socialLoginsConfig)===null||x===void 0?void 0:x.loginMethods)||{}).some(([m,c])=>m!==Ur.EMAIL_PASSWORDLESS&&c.showOnModal!==!1)},[d.showExternalWalletsOnly,(n=d.socialLoginsConfig)===null||n===void 0?void 0:n.loginMethods]);xt.info("modal state",d,f);const h=Ae.useMemo(()=>{var y;return(y=d.socialLoginsConfig)===null||y===void 0||(y=y.loginMethods[Ur.EMAIL_PASSWORDLESS])===null||y===void 0?void 0:y.showOnModal},[(s=d.socialLoginsConfig)===null||s===void 0?void 0:s.loginMethods]),g=Ae.useMemo(()=>{var y;return(y=d.socialLoginsConfig)===null||y===void 0||(y=y.loginMethods[Ur.SMS_PASSWORDLESS])===null||y===void 0?void 0:y.showOnModal},[(i=d.socialLoginsConfig)===null||i===void 0?void 0:i.loginMethods]);return d.modalVisibilityDelayed&&fe.jsx("div",{id:"w3a-modal",className:"w3a-modal",children:fe.jsxs("div",{className:`${l.join(" ")} ${d.status!==In.INITIALIZED?"w3a--p-6 w3a--pt-7":""} ${(f||h||g)&&!d.externalWalletsVisibility?"":"wallet-adapter-container"}`,children:[d.status!==In.INITIALIZED?fe.jsxs(fe.Fragment,{children:[fe.jsx(H6,{onClose:P,appLogo:_,appName:M}),fe.jsx("div",{className:"w3a-modal__content w3ajs-content",children:fe.jsx(Ooe,{onClose:q,appLogo:_,modalStatus:d.status,message:v(d.postLoadingMessage),adapter:d.detailedLoaderAdapter,adapterName:d.detailedLoaderAdapterName})})]}):fe.jsx("div",{className:`transition-wrapper ${N}`,children:(f||h||g)&&!d.externalWalletsVisibility?fe.jsxs(fe.Fragment,{children:[fe.jsx(H6,{onClose:P,appLogo:_,appName:M}),fe.jsxs("div",{className:"w3a-modal__content w3ajs-content",children:[f?fe.jsx(dae,{handleSocialLoginClick:y=>L(y),socialLoginsConfig:d.socialLoginsConfig}):null,(h||g)&&fe.jsx(uae,{isEmailVisible:h,isSmsVisible:g,adapter:(o=d.socialLoginsConfig)===null||o===void 0?void 0:o.adapter,handleSocialLoginClick:y=>L(y),isPrimaryBtn:ie}),d.hasExternalWallets&&a]})]}):fe.jsx("div",{className:"w3a-modal__content_external_wallet w3ajs-content",children:fe.jsx(iae,{modalStatus:d.status,showBackButton:f||h||g,handleExternalWalletClick:F,chainNamespace:A,walletConnectUri:d.walletConnectUri,config:d.externalWalletsConfig,hideExternalWallets:()=>p(y=>qe(qe({},y),{},{externalWalletsVisibility:!1})),walletRegistry:I,closeModal:P})})}),fe.jsx(oae,{})]})})}function gae(t){const e=document.getElementById("w3a-parent-container");e&&e.remove();const r=document.createElement("section");r.classList.add("w3a-parent-container"),r.setAttribute("id","w3a-parent-container"),r.style.zIndex=t,r.style.position="relative";const n=document.createElement("section");return n.setAttribute("id","w3a-container"),r.appendChild(n),document.body.appendChild(r),n}class mae extends Fc{constructor(e){super(),Ve(this,"uiConfig",void 0),Ve(this,"stateEmitter",void 0),Ve(this,"chainNamespace",void 0),Ve(this,"walletRegistry",void 0),Ve(this,"initModal",async()=>{const r={isDark:this.isDark},n=this.uiConfig.defaultLanguage||io.en;return n===io.de?oo(()=>import("./german.json-CM4aQ55u.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.ja?oo(()=>import("./japanese.json-DxVPQu-j.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.ko?oo(()=>import("./korean.json-TWuJUjNI.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.zh?oo(()=>import("./mandarin.json-xSgnmXj2.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.es?oo(()=>import("./spanish.json-BEvgdvWb.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.fr?oo(()=>import("./french.json-BNQ3B02_.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.pt?oo(()=>import("./portuguese.json-Ca0Mqd6m.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.nl?oo(()=>import("./dutch.json-Dhde1pa6.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.tr?oo(()=>import("./turkish.json-DHELY_sM.js"),[]).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}):n===io.en&&oo(()=>Promise.resolve().then(()=>koe),void 0).then(s=>(Or.addResourceBundle(n,"translation",s.default),Or.changeLanguage(n))).catch(s=>{xt.error(s)}),new Promise(s=>{var i;this.stateEmitter.once("MOUNTED",()=>(xt.info("rendered"),this.setState({status:In.INITIALIZED}),s()));const o=gae(this.uiConfig.modalZIndex);if(r.isDark?o.classList.add("w3a--dark"):o.classList.remove("w3a--dark"),iN(o).render(fe.jsx(Gv.Provider,{value:r,children:fe.jsx(pae,{closeModal:this.closeModal,stateListener:this.stateEmitter,handleShowExternalWallets:this.handleShowExternalWallets,handleExternalWalletClick:this.handleExternalWalletClick,handleSocialLoginClick:this.handleSocialLoginClick,appLogo:r.isDark?this.uiConfig.logoDark:this.uiConfig.logoLight,appName:this.uiConfig.appName,chainNamespace:this.chainNamespace,walletRegistry:this.walletRegistry})})),(i=this.uiConfig)!==null&&i!==void 0&&i.theme){const u=document.getElementById("w3a-parent-container");lse(u,this.uiConfig.theme)}})}),Ve(this,"addSocialLogins",(r,n,s,i)=>{this.setState({socialLoginsConfig:{adapter:r,loginMethods:n,loginMethodsOrder:s,uiConfig:i}}),xt.info("addSocialLogins",r,n,s,i)}),Ve(this,"addWalletLogins",(r,n)=>{this.setState({externalWalletsConfig:r,externalWalletsInitialized:!0,showExternalWalletsOnly:!!(n!=null&&n.showExternalWalletsOnly),externalWalletsVisibility:!0})}),Ve(this,"open",()=>{this.setState({modalVisibility:!0}),this.emit(zo.MODAL_VISIBILITY,!0)}),Ve(this,"closeModal",()=>{this.setState({modalVisibility:!1,externalWalletsVisibility:!1}),this.emit(zo.MODAL_VISIBILITY,!1)}),Ve(this,"initExternalWalletContainer",()=>{this.setState({hasExternalWallets:!0})}),Ve(this,"handleShowExternalWallets",r=>{this.emit(zo.INIT_EXTERNAL_WALLETS,{externalWalletsInitialized:r})}),Ve(this,"handleExternalWalletClick",r=>{xt.info("external wallet clicked",r);const{adapter:n}=r;this.emit(zo.LOGIN,{adapter:n})}),Ve(this,"handleSocialLoginClick",r=>{xt.info("social login clicked",r);const{adapter:n,loginParams:s}=r;this.emit(zo.LOGIN,{adapter:n,loginParams:{loginProvider:s.loginProvider,login_hint:s.login_hint,name:s.name}})}),Ve(this,"setState",r=>{this.stateEmitter.emit("STATE_UPDATED",r)}),Ve(this,"updateWalletConnect",r=>{r&&this.setState({walletConnectUri:r})}),Ve(this,"handleAdapterData",r=>{if(r.adapterName===br.WALLET_CONNECT_V2){const n=r.data;this.updateWalletConnect(n.uri)}}),Ve(this,"subscribeCoreEvents",r=>{r.on(Qt.CONNECTING,n=>{xt.info("connecting with adapter",n),(n==null?void 0:n.adapter)!==br.WALLET_CONNECT_V2&&this.setState({status:In.CONNECTING})}),r.on(Qt.CONNECTED,n=>{xt.debug("connected with adapter",n),n.reconnected?this.setState({status:In.CONNECTED}):this.setState({status:In.CONNECTED,modalVisibility:!0,postLoadingMessage:"modal.post-loading.connected"})}),r.on(Qt.ERRORED,n=>{xt.error("error",n,n.message),n.code===5e3?this.uiConfig.displayErrorsOnModal?this.setState({modalVisibility:!0,postLoadingMessage:n.message||"modal.post-loading.something-wrong",status:In.ERRORED}):this.setState({modalVisibility:!1}):this.setState({modalVisibility:!0,status:In.INITIALIZED})}),r.on(Qt.DISCONNECTED,()=>{this.setState({status:In.INITIALIZED,externalWalletsVisibility:!1})}),r.on(Qt.ADAPTER_DATA_UPDATED,n=>{this.handleAdapterData(n)})}),this.uiConfig=e,e.logoDark||(this.uiConfig.logoDark=x$),e.logoLight||(this.uiConfig.logoLight=b$),e.mode||(this.uiConfig.mode="light"),e.modalZIndex||(this.uiConfig.modalZIndex="99998"),typeof e.displayErrorsOnModal>"u"&&(this.uiConfig.displayErrorsOnModal=!0),e.appName||(this.uiConfig.appName="Web3Auth"),e.loginGridCol||(this.uiConfig.loginGridCol=3),e.primaryButton||(this.uiConfig.primaryButton="socialLogin"),e.defaultLanguage||(this.uiConfig.defaultLanguage=B$(e.defaultLanguage)),this.stateEmitter=new Fc,this.chainNamespace=e.chainNamespace,this.walletRegistry=e.walletRegistry,this.subscribeCoreEvents(this.uiConfig.adapterListener)}get isDark(){return this.uiConfig.mode==="dark"||this.uiConfig.mode==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches}}class D$ extends Bse{constructor(e){if(super(e),Ve(this,"loginModal",void 0),Ve(this,"options",void 0),Ve(this,"modalConfig",C0(Rse)),this.options=qe({},e),this.options.uiConfig||(this.options.uiConfig={}),!this.coreOptions.privateKeyProvider)throw vt.invalidParams("privateKeyProvider is required")}setModalConfig(e){super.checkInitRequirements(),this.modalConfig=e}async initModal(e){var r;super.checkInitRequirements();let n;try{var s;n=await d$(this.options.clientId,this.options.web3AuthNetwork,(s=this.options.accountAbstractionProvider)===null||s===void 0?void 0:s.config.smartAccountInit.name)}catch(C){throw xt.error("Failed to fetch project configurations",C),vt.notReady("failed to fetch project configurations",C)}const{whitelabel:i}=n;this.options.uiConfig=Jo(C0(i||{}),this.options.uiConfig||{}),this.options.uiConfig.defaultLanguage||(this.options.uiConfig.defaultLanguage=B$(this.options.uiConfig.defaultLanguage)),this.options.uiConfig.mode||(this.options.uiConfig.mode="light");let o={others:{},default:{}};if(!((r=e)!==null&&r!==void 0&&r.hideWalletDiscovery))try{o=await Sse(Cse)}catch(C){xt.error("Failed to fetch wallet registry",C)}this.loginModal=new mae(qe(qe({},this.options.uiConfig),{},{adapterListener:this,chainNamespace:this.options.chainConfig.chainNamespace,walletRegistry:o})),this.subscribeToLoginModalEvents();const{sms_otp_enabled:l,whitelist:u,key_export_enabled:d}=n;if(l!==void 0){var p,v;const C={[br.AUTH]:{label:br.AUTH,loginMethods:{[Ur.SMS_PASSWORDLESS]:{name:Ur.SMS_PASSWORDLESS,showOnModal:l,showOnDesktop:l,showOnMobile:l}}}};if((p=e)!==null&&p!==void 0&&p.modalConfig||(e={modalConfig:{}}),((v=e.modalConfig[br.AUTH])===null||v===void 0||(v=v.loginMethods)===null||v===void 0||(v=v[Ur.SMS_PASSWORDLESS])===null||v===void 0?void 0:v.showOnModal)===!0&&l===!1)throw vt.invalidParams("must enable sms otp on dashboard in order to utilise it");e.modalConfig=Jo(C,C0(e.modalConfig))}await this.loginModal.initModal();const b=this.options.chainConfig,_=[...new Set([...Object.keys(this.modalConfig.adapters||{}),...Object.keys(this.walletAdapters)])],M=_.map(async C=>{var P,N,U,q;let F=((P=this.modalConfig.adapters)===null||P===void 0?void 0:P[C])||{label:h$[C]||C.split("-").map($E).join(" "),showOnModal:!0,showOnMobile:!0,showOnDesktop:!0};(N=e)!==null&&N!==void 0&&(N=N.modalConfig)!==null&&N!==void 0&&N[C]&&(F=qe(qe({},F),e.modalConfig[C])),this.modalConfig.adapters[C]=F;const L=this.walletAdapters[C];if(xt.debug("adapter config",C,(U=this.modalConfig.adapters)===null||U===void 0?void 0:U[C].showOnModal,L),!L&&(q=this.modalConfig.adapters)!==null&&q!==void 0&&q[C].showOnModal){if(C===br.AUTH){var ie;const S=v$(),{clientId:m,useCoreKitKey:c,chainConfig:w,web3AuthNetwork:T,sessionTime:O,privateKeyProvider:K}=this.coreOptions,ee=qe(qe({},Uc(b.chainNamespace,(ie=this.coreOptions.chainConfig)===null||ie===void 0?void 0:ie.chainId,m)),w);if(!K)throw vt.invalidParams("privateKeyProvider is required");const J=qe(qe({},S.adapterSettings),{},{clientId:m,network:T,whiteLabel:this.options.uiConfig});l!==void 0&&(J.loginConfig={[Ur.SMS_PASSWORDLESS]:{showOnModal:l,showOnDesktop:l,showOnMobile:l,showOnSocialBackupFactor:l}}),u&&(J.originData=u.signed_urls),this.options.uiConfig.uxMode&&(J.uxMode=this.options.uiConfig.uxMode);const $=new Tse(qe(qe({},S),{},{clientId:m,useCoreKitKey:c,chainConfig:qe({},ee),adapterSettings:J,sessionTime:O,web3AuthNetwork:T,privateKeyProvider:K}));return this.walletAdapters[C]=$,C}throw vt.invalidParams(`Adapter ${C} is not configured`)}else if((L==null?void 0:L.type)===Uo.IN_APP||(L==null?void 0:L.type)===Uo.EXTERNAL||C===this.cachedAdapter){var E;if(!((E=this.modalConfig.adapters)!==null&&E!==void 0&&E[C].showOnModal))return;if(this.walletAdapters[C].setAdapterSettings({clientId:this.options.clientId,sessionTime:this.options.sessionTime,web3AuthNetwork:this.options.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey}),!L.chainConfigProxy){var a;const S=qe(qe({},Uc(b.chainNamespace,(a=this.coreOptions.chainConfig)===null||a===void 0?void 0:a.chainId,this.coreOptions.clientId)),this.coreOptions.chainConfig);this.walletAdapters[C].setAdapterSettings({chainConfig:S})}if(C===br.AUTH){var f;const S=this.walletAdapters[C];if(this.coreOptions.privateKeyProvider){if(S.currentChainNamespace!==this.coreOptions.privateKeyProvider.currentChainConfig.chainNamespace)throw vt.incompatibleChainNameSpace("private key provider is not compatible with provided chainNamespace for auth adapter");S.setAdapterSettings({privateKeyProvider:this.coreOptions.privateKeyProvider})}if(l!==void 0&&S.setAdapterSettings({loginConfig:{[Ur.SMS_PASSWORDLESS]:{showOnModal:l,showOnDesktop:l,showOnMobile:l,showOnSocialBackupFactor:l}}}),u&&S.setAdapterSettings({originData:u.signed_urls}),(f=this.options.uiConfig)!==null&&f!==void 0&&f.uxMode&&S.setAdapterSettings({uxMode:this.options.uiConfig.uxMode}),S.setAdapterSettings({whiteLabel:this.options.uiConfig}),!S.privateKeyProvider)throw vt.invalidParams("privateKeyProvider is required for auth adapter")}else if(C===br.WALLET_CONNECT_V2){const S=this.walletAdapters[C],{wallet_connect_enabled:m,wallet_connect_project_id:c}=n;if(m===!1){var h,g,y;this.modalConfig.adapters=qe(qe({},(h=this.modalConfig.adapters)!==null&&h!==void 0?h:{}),{},{[br.WALLET_CONNECT_V2]:qe(qe({},(g=(y=this.modalConfig.adapters)===null||y===void 0?void 0:y[br.WALLET_CONNECT_V2])!==null&&g!==void 0?g:{}),{},{showOnModal:!1})}),this.modalConfig.adapters[br.WALLET_CONNECT_V2].showOnModal=!1}else{var x;if(!(S!=null&&(x=S.adapterOptions)!==null&&x!==void 0&&(x=x.adapterSettings)!==null&&x!==void 0&&(x=x.walletConnectInitOptions)!==null&&x!==void 0&&x.projectId)&&!c)throw vt.invalidParams("Invalid wallet connect project id. Please configure it on the dashboard");c&&S.setAdapterSettings({adapterSettings:{walletConnectInitOptions:{projectId:c}}})}}return C}}),A=await Promise.all(M),I=Object.values(this.walletAdapters).some(C=>{var P,N,U;if(C.type!==Uo.IN_APP||((P=this.modalConfig.adapters)===null||P===void 0||(P=P[C.name])===null||P===void 0?void 0:P.showOnModal)!==!0)return!1;if(!((N=this.modalConfig.adapters)!==null&&N!==void 0&&(N=N[C.name])!==null&&N!==void 0&&N.loginMethods))return!0;const q=l9(C.name,(U=this.modalConfig.adapters[C.name])===null||U===void 0?void 0:U.loginMethods);return!!Object.values(q).some(F=>F.showOnModal)});xt.debug(I,this.walletAdapters,A,"hasInAppWallets");const k=A.map(async C=>{if(C)try{const P=this.walletAdapters[C];if(this.cachedAdapter!==C&&P.type===Uo.EXTERNAL)return;this.subscribeToAdapterEvents(P),P.status===gt.NOT_READY&&await P.init({autoConnect:this.cachedAdapter===C}),P.type===Uo.IN_APP&&this.initializeInAppWallet(C)}catch(P){xt.error(P,"error while initializing adapter ",C)}});this.commonJRPCProvider=await Wv.getProviderInstance({chainConfig:this.coreOptions.chainConfig}),typeof d=="boolean"&&(this.coreOptions.privateKeyProvider.setKeyExportFlag(d),this.commonJRPCProvider.setKeyExportFlag(d)),await Promise.all(k),this.status===gt.NOT_READY&&(this.status=gt.READY,this.emit(Qt.READY));const R=_.some(C=>{var P,N,U;return C===br.WALLET_CONNECT_V2&&(P=e)!==null&&P!==void 0&&P.hideWalletDiscovery?!1:((N=this.walletAdapters[C])===null||N===void 0?void 0:N.type)===Uo.EXTERNAL&&((U=this.modalConfig.adapters)===null||U===void 0?void 0:U[C].showOnModal)});R&&this.loginModal.initExternalWalletContainer(),!I&&R&&await this.initExternalWalletAdapters(!1,{showExternalWalletsOnly:!0})}async connect(){if(!this.loginModal)throw vt.notReady("Login modal is not initialized");return this.connectedAdapterName&&this.status===gt.CONNECTED&&this.provider?this.provider:(this.loginModal.open(),new Promise((e,r)=>{this.once(Qt.CONNECTED,()=>e(this.provider)),this.once(Qt.ERRORED,n=>r(n)),this.once(zo.MODAL_VISIBILITY,n=>{if(!n&&this.status!==gt.CONNECTED)return r(new Error("User closed the modal"))})}))}async initExternalWalletAdapters(e,r){if(e)return;const n={};Object.keys(this.walletAdapters).forEach(async s=>{const i=this.walletAdapters[s];if((i==null?void 0:i.type)===Uo.EXTERNAL){if(xt.debug("init external wallet",this.cachedAdapter,s,i.status),this.subscribeToAdapterEvents(i),this.cachedAdapter===s)return;if(i.status===gt.NOT_READY)await i.init({autoConnect:this.cachedAdapter===s}).then(()=>{const o=this.modalConfig.adapters[s];n[s]=qe(qe({},o),{},{isInjected:i.isInjected}),this.loginModal.addWalletLogins(n,{showExternalWalletsOnly:!!(r!=null&&r.showExternalWalletsOnly)})}).catch(o=>xt.error(o,"error while initializing adapter",s));else if(i.status===gt.READY||i.status===gt.CONNECTING){const o=this.modalConfig.adapters[s];n[s]=qe(qe({},o),{},{isInjected:i.isInjected}),this.loginModal.addWalletLogins(n,{showExternalWalletsOnly:!!(r!=null&&r.showExternalWalletsOnly)})}}})}initializeInAppWallet(e){if(xt.info("adapterInitResults",e),this.walletAdapters[e].type===Uo.IN_APP){var r,n,s,i;this.loginModal.addSocialLogins(e,l9(e,(r=this.modalConfig.adapters[e])===null||r===void 0?void 0:r.loginMethods),((n=this.options.uiConfig)===null||n===void 0?void 0:n.loginMethodsOrder)||UE,qe(qe({},this.options.uiConfig),{},{loginGridCol:((s=this.options.uiConfig)===null||s===void 0?void 0:s.loginGridCol)||3,primaryButton:((i=this.options.uiConfig)===null||i===void 0?void 0:i.primaryButton)||"socialLogin"}))}}subscribeToLoginModalEvents(){this.loginModal.on(zo.LOGIN,async e=>{try{await this.connectTo(e.adapter,e.loginParams)}catch(r){xt.error(`Error while connecting to adapter: ${e.adapter}`,r)}}),this.loginModal.on(zo.INIT_EXTERNAL_WALLETS,async e=>{await this.initExternalWalletAdapters(e.externalWalletsInitialized)}),this.loginModal.on(zo.DISCONNECT,async()=>{try{await this.logout()}catch(e){xt.error("Error while disconnecting",e)}}),this.loginModal.on(zo.MODAL_VISIBILITY,async e=>{xt.debug("is login modal visible",e),this.emit(zo.MODAL_VISIBILITY,e);const r=this.walletAdapters[br.WALLET_CONNECT_V2];if(r){const n=r==null?void 0:r.status;if(xt.debug("trying refreshing wc session",e,n),e&&(n===gt.READY||n===gt.CONNECTING)){xt.debug("refreshing wc session");try{r.connect()}catch(s){xt.error("Error while disconnecting to wallet connect in core",s)}}!e&&this.status===gt.CONNECTED&&(n===gt.READY||n===gt.CONNECTING)&&(xt.debug("this stops wc adapter from trying to reconnect once proposal expires"),r.status=gt.READY)}})}}class Za{constructor(e){Ve(this,"provider",void 0),this.provider=e}async requestAccounts(){return await this.provider.request({method:"requestAccounts"})}async signAndSendTransaction(e){const{signature:r}=await this.provider.request({method:"signAndSendTransaction",params:{message:e}});return{signature:r}}async signTransaction(e){return await this.provider.request({method:"signTransaction",params:{message:e}})}async signAllTransactions(e){return await this.provider.request({method:"signAllTransactions",params:{message:e}})}async signMessage(e){return await this.provider.request({method:"signMessage",params:{message:e}})}async request(e){return await this.provider.request(e)}}function yae({getAccounts:t}){return Ei(async(e,r,n)=>{const{method:s}=e;if(s!=="getAccounts")return n();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");const i=await t(e);r.result=i})}function vae({requestAccounts:t}){return Ei(async(e,r,n)=>{const{method:s}=e;if(s!=="requestAccounts")return n();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const i=await t(e);r.result=i})}function co(t,e){return Ei(async(r,n,s)=>{const{method:i}=r;if(i!==t)return s();if(!e)throw new Error(`WalletMiddleware - ${t} not provided`);const o=await e(r);n.result=o})}function qE(t){const{getAccounts:e,requestAccounts:r,signTransaction:n,signAndSendTransaction:s,signAllTransactions:i,signMessage:o,getPrivateKey:l,getSecretKey:u,getPublicKey:d}=t;return Zc([vae({requestAccounts:r}),yae({getAccounts:e}),co("signTransaction",n),co("signAndSendTransaction",s),co("signAllTransactions",i),co("signMessage",o),co("solanaPrivateKey",l),co("private_key",l),co("public_key",d),co("solanaPublicKey",d),co("solanaSecretKey",u)])}function wae({addNewChainConfig:t,switchSolanaChain:e}){return Zc([co("addSolanaChain",t),co("switchSolanaChain",e)])}function bae({updatePrivatekey:t}){return Zc([co("updateAccount",t)])}function xae(t){return(e,r,n,s)=>e.method==="solana_chainId"?(r.result=t,s()):n()}function _ae(t){return(e,r,n,s)=>e.method==="solana_provider_config"?(r.result=t,s()):n()}function $$(t){const{chainId:e}=t;return Zc([xae(e),_ae(t)])}function U$(t){const{rpcTarget:e}=t,r=LE({rpcTarget:e});return{networkMiddleware:Zc([$$(t),r]),fetchMiddleware:r}}class Sae extends Kv{constructor({config:e,state:r}){super({config:e,state:r})}async switchChain(e){throw Kt.unsupportedOperation("Chain switching is not supported by this adapter")}async setupProvider(e){const r=new ps,n=this.getProviderHandlers(e),s=qE(n);r.push(s);const i=$$(this.config.chainConfig);r.push(i);const o=this.getInjectedProviderProxy(e);o&&r.push(o);const l=dp(r);this.updateProviderEngineProxy(l),await this.lookupNetwork()}async lookupNetwork(){const{chainConfig:e}=this.config;return this.update({chainId:e.chainId}),e.chainId||""}getInjectedProviderProxy(e){}}function Eae(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var M=0,A=0,I=0,k=_.length;I!==k&&_[I]===0;)I++,M++;for(var R=(k-I)*d+1>>>0,C=new Uint8Array(R);I!==k;){for(var P=_[I],N=0,U=R-1;(P!==0||N<A)&&U!==-1;U--,N++)P+=256*C[U]>>>0,C[U]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");A=N,I++}for(var q=R-A;q!==R&&C[q]===0;)q++;for(var F=l.repeat(M);q<R;++q)F+=t.charAt(C[q]);return F}function v(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var M=0,A=0,I=0;_[M]===l;)A++,M++;for(var k=(_.length-M)*u+1>>>0,R=new Uint8Array(k);_[M];){var C=_.charCodeAt(M);if(C>255)return;var P=e[C];if(P===255)return;for(var N=0,U=k-1;(P!==0||N<I)&&U!==-1;U--,N++)P+=o*R[U]>>>0,R[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");I=N,M++}for(var q=k-I;q!==k&&R[q]===0;)q++;for(var F=new Uint8Array(A+(k-q)),L=A;q!==k;)F[L++]=R[q++];return F}function b(_){var M=v(_);if(M)return M;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:b}}var Mae=Eae;const Aae=Mae,kae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Iae=Aae(kae);const x1=Zn(Iae),Rae=t=>({requestAccounts:async()=>t.publicKey?[x1.encode(t.publicKey.toBytes())]:[],getPublicKey:async()=>t.publicKey?x1.encode(t.publicKey.toBytes()):"",getAccounts:async()=>t.publicKey?[x1.encode(t.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw Zt.methodNotSupported()},getSecretKey:async()=>{throw Zt.methodNotSupported()},signTransaction:async r=>await t.signTransaction(r.params.message),signMessage:async r=>(await t.signMessage(r.params.message,r.params.display)).signature,signAllTransactions:async r=>{var n,s;if(!((n=r.params)!==null&&n!==void 0&&n.message)||!((s=r.params)!==null&&s!==void 0&&s.message.length))throw Zt.invalidParams("message");return await t.signAllTransactions(r.params.message)},signAndSendTransaction:async r=>({signature:(await t.signAndSendTransaction(r.params.message)).signature})});class Cae extends Sae{getProviderHandlers(e){return Rae(e)}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Tae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Oh(t,...e){if(!Tae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Pae(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");xy(t.outputLen),xy(t.blockLen)}function Nh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function F$(t,e){Oh(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Oae(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function zc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ix(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function sa(t,e){return t<<32-e|t>>>e}const Nae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Bae(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Lae(t){for(let e=0;e<t.length;e++)t[e]=Bae(t[e]);return t}const c9=Nae?t=>t:Lae;function Dae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Yv(t){return typeof t=="string"&&(t=Dae(t)),Oh(t),t}let zE=class{};function HE(t){const e=n=>t().update(Yv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function $ae(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),l=Number(r&i),u=n?4:0,d=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+d,l,n)}function Uae(t,e,r){return t&e^~t&r}function Fae(t,e,r){return t&e^t&r^e&r}class j$ extends zE{constructor(e,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(e),this.view=ix(this.buffer)}update(e){Nh(this),e=Yv(e),Oh(e);const{view:r,buffer:n,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const u=ix(e);for(;s<=i-o;o+=s)this.process(u,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nh(this),F$(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,zc(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(n,0),o=0);for(let v=o;v<s;v++)r[v]=0;$ae(n,s-8,BigInt(this.length*8),i),this.process(n,0);const l=ix(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)l.setUint32(4*v,p[v],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:l}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=l,s%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Vl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ji=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),_m=BigInt(2**32-1),u9=BigInt(32);function jae(t,e=!1){return e?{h:Number(t&_m),l:Number(t>>u9&_m)}:{h:Number(t>>u9&_m)|0,l:Number(t&_m)|0}}function q$(t,e=!1){const r=t.length;let n=new Uint32Array(r),s=new Uint32Array(r);for(let i=0;i<r;i++){const{h:o,l}=jae(t[i],e);[n[i],s[i]]=[o,l]}return[n,s]}const f9=(t,e,r)=>t>>>r,h9=(t,e,r)=>t<<32-r|e>>>r,_f=(t,e,r)=>t>>>r|e<<32-r,Sf=(t,e,r)=>t<<32-r|e>>>r,Sm=(t,e,r)=>t<<64-r|e>>>r-32,Em=(t,e,r)=>t>>>r-32|e<<64-r,qae=(t,e,r)=>t<<r|e>>>32-r,zae=(t,e,r)=>e<<r|t>>>32-r,Hae=(t,e,r)=>e<<r-32|t>>>64-r,Kae=(t,e,r)=>t<<r-32|e>>>64-r;function Ja(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const Wae=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Vae=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Gae=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Yae=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Zae=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Jae=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,Xae=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gl=new Uint32Array(64);class Qae extends j${constructor(e=32){super(64,e,8,!1),this.A=Vl[0]|0,this.B=Vl[1]|0,this.C=Vl[2]|0,this.D=Vl[3]|0,this.E=Vl[4]|0,this.F=Vl[5]|0,this.G=Vl[6]|0,this.H=Vl[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:l,H:u}=this;return[e,r,n,s,i,o,l,u]}set(e,r,n,s,i,o,l,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=u|0}process(e,r){for(let v=0;v<16;v++,r+=4)Gl[v]=e.getUint32(r,!1);for(let v=16;v<64;v++){const b=Gl[v-15],_=Gl[v-2],M=sa(b,7)^sa(b,18)^b>>>3,A=sa(_,17)^sa(_,19)^_>>>10;Gl[v]=A+Gl[v-7]+M+Gl[v-16]|0}let{A:n,B:s,C:i,D:o,E:l,F:u,G:d,H:p}=this;for(let v=0;v<64;v++){const b=sa(l,6)^sa(l,11)^sa(l,25),_=p+b+Uae(l,u,d)+Xae[v]+Gl[v]|0,A=(sa(n,2)^sa(n,13)^sa(n,22))+Fae(n,s,i)|0;p=d,d=u,u=l,l=o+_|0,o=i,i=s,s=n,n=_+A|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,s,i,o,l,u,d,p)}roundClean(){zc(Gl)}destroy(){this.set(0,0,0,0,0,0,0,0),zc(this.buffer)}}const z$=q$(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ele=z$[0],tle=z$[1],Yl=new Uint32Array(80),Zl=new Uint32Array(80);class rle extends j${constructor(e=64){super(128,e,16,!1),this.Ah=ji[0]|0,this.Al=ji[1]|0,this.Bh=ji[2]|0,this.Bl=ji[3]|0,this.Ch=ji[4]|0,this.Cl=ji[5]|0,this.Dh=ji[6]|0,this.Dl=ji[7]|0,this.Eh=ji[8]|0,this.El=ji[9]|0,this.Fh=ji[10]|0,this.Fl=ji[11]|0,this.Gh=ji[12]|0,this.Gl=ji[13]|0,this.Hh=ji[14]|0,this.Hl=ji[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:l,Dl:u,Eh:d,El:p,Fh:v,Fl:b,Gh:_,Gl:M,Hh:A,Hl:I}=this;return[e,r,n,s,i,o,l,u,d,p,v,b,_,M,A,I]}set(e,r,n,s,i,o,l,u,d,p,v,b,_,M,A,I){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=u|0,this.Eh=d|0,this.El=p|0,this.Fh=v|0,this.Fl=b|0,this.Gh=_|0,this.Gl=M|0,this.Hh=A|0,this.Hl=I|0}process(e,r){for(let C=0;C<16;C++,r+=4)Yl[C]=e.getUint32(r),Zl[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const P=Yl[C-15]|0,N=Zl[C-15]|0,U=_f(P,N,1)^_f(P,N,8)^f9(P,N,7),q=Sf(P,N,1)^Sf(P,N,8)^h9(P,N,7),F=Yl[C-2]|0,L=Zl[C-2]|0,ie=_f(F,L,19)^Sm(F,L,61)^f9(F,L,6),E=Sf(F,L,19)^Em(F,L,61)^h9(F,L,6),a=Gae(q,E,Zl[C-7],Zl[C-16]),f=Yae(a,U,ie,Yl[C-7],Yl[C-16]);Yl[C]=f|0,Zl[C]=a|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:l,Cl:u,Dh:d,Dl:p,Eh:v,El:b,Fh:_,Fl:M,Gh:A,Gl:I,Hh:k,Hl:R}=this;for(let C=0;C<80;C++){const P=_f(v,b,14)^_f(v,b,18)^Sm(v,b,41),N=Sf(v,b,14)^Sf(v,b,18)^Em(v,b,41),U=v&_^~v&A,q=b&M^~b&I,F=Zae(R,N,q,tle[C],Zl[C]),L=Jae(F,k,P,U,ele[C],Yl[C]),ie=F|0,E=_f(n,s,28)^Sm(n,s,34)^Sm(n,s,39),a=Sf(n,s,28)^Em(n,s,34)^Em(n,s,39),f=n&i^n&l^i&l,h=s&o^s&u^o&u;k=A|0,R=I|0,A=_|0,I=M|0,_=v|0,M=b|0,{h:v,l:b}=Ja(d|0,p|0,L|0,ie|0),d=l|0,p=u|0,l=i|0,u=o|0,i=n|0,o=s|0;const g=Wae(ie,a,h);n=Vae(g,L,E,f),s=g|0}({h:n,l:s}=Ja(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=Ja(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:u}=Ja(this.Ch|0,this.Cl|0,l|0,u|0),{h:d,l:p}=Ja(this.Dh|0,this.Dl|0,d|0,p|0),{h:v,l:b}=Ja(this.Eh|0,this.El|0,v|0,b|0),{h:_,l:M}=Ja(this.Fh|0,this.Fl|0,_|0,M|0),{h:A,l:I}=Ja(this.Gh|0,this.Gl|0,A|0,I|0),{h:k,l:R}=Ja(this.Hh|0,this.Hl|0,k|0,R|0),this.set(n,s,i,o,l,u,d,p,v,b,_,M,A,I,k,R)}roundClean(){zc(Yl,Zl)}destroy(){zc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const nle=HE(()=>new Qae),ile=HE(()=>new rle);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KE=BigInt(0),K6=BigInt(1);function Bh(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WE(t){if(!Bh(t))throw new Error("Uint8Array expected")}function Oc(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Mm(t){const e=t.toString(16);return e.length&1?"0"+e:e}function H$(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?KE:BigInt("0x"+t)}const K$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",sle=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Lh(t){if(WE(t),K$)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=sle[t[r]];return e}const Xa={_0:48,_9:57,A:65,F:70,a:97,f:102};function d9(t){if(t>=Xa._0&&t<=Xa._9)return t-Xa._0;if(t>=Xa.A&&t<=Xa.F)return t-(Xa.A-10);if(t>=Xa.a&&t<=Xa.f)return t-(Xa.a-10)}function _y(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(K$)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=d9(t.charCodeAt(i)),l=d9(t.charCodeAt(i+1));if(o===void 0||l===void 0){const u=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}n[s]=o*16+l}return n}function Nu(t){return H$(Lh(t))}function O0(t){return WE(t),H$(Lh(Uint8Array.from(t).reverse()))}function yp(t,e){return _y(t.toString(16).padStart(e*2,"0"))}function Sy(t,e){return yp(t,e).reverse()}function Fn(t,e,r){let n;if(typeof e=="string")try{n=_y(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Bh(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function Dh(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];WE(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const sx=t=>typeof t=="bigint"&&KE<=t;function VE(t,e,r){return sx(t)&&sx(e)&&sx(r)&&e<=t&&t<r}function Ho(t,e,r,n){if(!VE(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function ole(t){let e;for(e=0;t>KE;t>>=K6,e+=1);return e}const Zv=t=>(K6<<BigInt(t))-K6,ox=t=>new Uint8Array(t),p9=t=>Uint8Array.from(t);function ale(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=ox(t),s=ox(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},l=(...v)=>r(s,n,...v),u=(v=ox(0))=>{s=l(p9([0]),v),n=l(),v.length!==0&&(s=l(p9([1]),v),n=l())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const b=[];for(;v<e;){n=l();const _=n.slice();b.push(_),v+=n.length}return Dh(...b)};return(v,b)=>{o(),u(v);let _;for(;!(_=b(d()));)u();return o(),_}}const lle={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Bh(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function rg(t,e,r={}){const n=(s,i,o)=>{const l=lle[i];if(typeof l!="function")throw new Error("invalid validator function");const u=t[s];if(!(o&&u===void 0)&&!l(u,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+u)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function Ey(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xs=BigInt(0),fi=BigInt(1),_u=BigInt(2),cle=BigInt(3),W6=BigInt(4),g9=BigInt(5),m9=BigInt(8);function pn(t,e){const r=t%e;return r>=xs?r:e+r}function An(t,e,r){let n=t;for(;e-- >xs;)n*=n,n%=r;return n}function V6(t,e){if(t===xs)throw new Error("invert: expected non-zero number");if(e<=xs)throw new Error("invert: expected positive modulus, got "+e);let r=pn(t,e),n=e,s=xs,i=fi;for(;r!==xs;){const l=n/r,u=n%r,d=s-i*l;n=r,r=u,s=i,i=d}if(n!==fi)throw new Error("invert: does not exist");return pn(s,e)}function ule(t){let e=t-fi,r=0;for(;e%_u===xs;)e/=_u,r++;let n=_u;const s=ng(t);for(;n<t&&y9(s,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1){const o=(t+fi)/W6;return function(u,d){const p=u.pow(d,o);if(!u.eql(u.sqr(p),d))throw new Error("Cannot find square root");return p}}const i=(e+fi)/_u;return function(l,u){if(!y9(l,u))throw new Error("Cannot find square root");let d=r,p=l.pow(l.mul(l.ONE,n),e),v=l.pow(u,i),b=l.pow(u,e);for(;!l.eql(b,l.ONE);){if(l.eql(b,l.ZERO))return l.ZERO;let _=1;for(let A=l.sqr(b);_<d&&!l.eql(A,l.ONE);_++)A=l.sqr(A);const M=l.pow(p,fi<<BigInt(d-_-1));p=l.sqr(M),v=l.mul(v,M),b=l.mul(b,p),d=_}return v}}function fle(t){return t%W6===cle?function(r,n){const s=(t+fi)/W6,i=r.pow(n,s);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}:t%m9===g9?function(r,n){const s=r.mul(n,_u),i=(t-g9)/m9,o=r.pow(s,i),l=r.mul(n,o),u=r.mul(r.mul(l,_u),o),d=r.mul(l,r.sub(u,r.ONE));if(!r.eql(r.sqr(d),n))throw new Error("Cannot find square root");return d}:ule(t)}const hle=(t,e)=>(pn(t,e)&fi)===fi,dle=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ple(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=dle.reduce((n,s)=>(n[s]="function",n),e);return rg(t,r)}function gle(t,e,r){if(r<xs)throw new Error("invalid exponent, negatives unsupported");if(r===xs)return t.ONE;if(r===fi)return e;let n=t.ONE,s=e;for(;r>xs;)r&fi&&(n=t.mul(n,s)),s=t.sqr(s),r>>=fi;return n}function GE(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),s=e.reduce((o,l,u)=>t.is0(l)?o:(n[u]=o,t.mul(o,l)),t.ONE),i=t.inv(s);return e.reduceRight((o,l,u)=>t.is0(l)?o:(n[u]=t.mul(o,n[u]),t.mul(o,l)),i),n}function mle(t,e){const r=(t.ORDER-fi)/_u,n=t.pow(e,r),s=t.eql(n,t.ONE),i=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("Cannot find square root: probably non-prime P");return s?1:i?0:-1}function y9(t,e){const r=mle(t,e);return r===0||r===1}function W$(t,e){e!==void 0&&zu.anumber(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ng(t,e,r=!1,n={}){if(t<=xs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=W$(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const l=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:Zv(s),ZERO:xs,ONE:fi,create:u=>pn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return xs<=u&&u<t},is0:u=>u===xs,isOdd:u=>(u&fi)===fi,neg:u=>pn(-u,t),eql:(u,d)=>u===d,sqr:u=>pn(u*u,t),add:(u,d)=>pn(u+d,t),sub:(u,d)=>pn(u-d,t),mul:(u,d)=>pn(u*d,t),pow:(u,d)=>gle(l,u,d),div:(u,d)=>pn(u*V6(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>V6(u,t),sqrt:n.sqrt||(u=>(o||(o=fle(t)),o(l,u))),toBytes:u=>r?Sy(u,i):yp(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return r?O0(u):Nu(u)},invertBatch:u=>GE(l,u),cmov:(u,d,p)=>p?d:u});return Object.freeze(l)}function V$(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function G$(t){const e=V$(t);return e+Math.ceil(e/2)}function yle(t,e,r=!1){const n=t.length,s=V$(e),i=G$(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=r?O0(t):Nu(t),l=pn(o,e-fi)+fi;return r?Sy(l,s):yp(l,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v9=BigInt(0),G6=BigInt(1);function ax(t,e){const r=e.negate();return t?r:e}function Y$(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function lx(t,e){Y$(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),s=2**t,i=Zv(t),o=BigInt(t);return{windows:r,windowSize:n,mask:i,maxNumber:s,shiftBy:o}}function w9(t,e,r){const{windowSize:n,mask:s,maxNumber:i,shiftBy:o}=r;let l=Number(t&s),u=t>>o;l>n&&(l-=i,u+=G6);const d=e*n,p=d+Math.abs(l)-1,v=l===0,b=l<0,_=e%2!==0;return{nextN:u,offset:p,isZero:v,isNeg:b,isNegF:_,offsetF:d}}function vle(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function wle(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const cx=new WeakMap,Z$=new WeakMap;function ux(t){return Z$.get(t)||1}function J$(t,e){return{constTimeNegate:ax,hasPrecomputes(r){return ux(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>v9;)n&G6&&(s=s.add(i)),i=i.double(),n>>=G6;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=lx(n,e),o=[];let l=r,u=l;for(let d=0;d<s;d++){u=l,o.push(u);for(let p=1;p<i;p++)u=u.add(l),o.push(u);l=u.double()}return o},wNAF(r,n,s){let i=t.ZERO,o=t.BASE;const l=lx(r,e);for(let u=0;u<l.windows;u++){const{nextN:d,offset:p,isZero:v,isNeg:b,isNegF:_,offsetF:M}=w9(s,u,l);s=d,v?o=o.add(ax(_,n[M])):i=i.add(ax(b,n[p]))}return{p:i,f:o}},wNAFUnsafe(r,n,s,i=t.ZERO){const o=lx(r,e);for(let l=0;l<o.windows&&s!==v9;l++){const{nextN:u,offset:d,isZero:p,isNeg:v}=w9(s,l,o);if(s=u,!p){const b=n[d];i=i.add(v?b.negate():b)}}return i},getPrecomputes(r,n,s){let i=cx.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&cx.set(n,s(i))),i},wNAFCached(r,n,s){const i=ux(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=ux(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){Y$(n,e),Z$.set(r,n),cx.delete(r)}}}function X$(t,e,r,n){if(vle(r,t),wle(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=ole(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,l=Zv(o),u=new Array(Number(l)+1).fill(s),d=Math.floor((e.BITS-1)/o)*o;let p=s;for(let v=d;v>=0;v-=o){u.fill(s);for(let _=0;_<n.length;_++){const M=n[_],A=Number(M>>BigInt(v)&l);u[A]=u[A].add(r[_])}let b=s;for(let _=u.length-1,M=s;_>0;_--)M=M.add(u[_]),b=b.add(M);if(p=p.add(b),v!==0)for(let _=0;_<o;_++)p=p.double()}return p}function YE(t){return ple(t.Fp),rg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...W$(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oa=BigInt(0),Ji=BigInt(1),b9=BigInt(2),ble=BigInt(8),xle={zip215:!0};function _le(t){const e=YE(t);return rg(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Sle(t){const e=_le(t),{Fp:r,n,prehash:s,hash:i,randomBytes:o,nByteLength:l,h:u}=e,d=b9<<BigInt(l*8)-Ji,p=r.create,v=ng(e.n,e.nBitLength),b=e.uvRatio||((x,S)=>{try{return{isValid:!0,value:r.sqrt(x*r.inv(S))}}catch{return{isValid:!1,value:oa}}}),_=e.adjustScalarBytes||(x=>x),M=e.domain||((x,S,m)=>{if(Oc("phflag",m),S.length||m)throw new Error("Contexts/pre-hash are not supported");return x});function A(x,S,m=!1){const c=m?Ji:oa;Ho("coordinate "+x,S,c,d)}function I(x){if(!(x instanceof C))throw new Error("ExtendedPoint expected")}const k=Ey((x,S)=>{const{ex:m,ey:c,ez:w}=x,T=x.is0();S==null&&(S=T?ble:r.inv(w));const O=p(m*S),K=p(c*S),ee=p(w*S);if(T)return{x:oa,y:Ji};if(ee!==Ji)throw new Error("invZ was invalid");return{x:O,y:K}}),R=Ey(x=>{const{a:S,d:m}=e;if(x.is0())throw new Error("bad point: ZERO");const{ex:c,ey:w,ez:T,et:O}=x,K=p(c*c),ee=p(w*w),J=p(T*T),$=p(J*J),z=p(K*S),Y=p(J*p(z+ee)),te=p($+p(m*p(K*ee)));if(Y!==te)throw new Error("bad point: equation left != right (1)");const G=p(c*w),j=p(T*O);if(G!==j)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(S,m,c,w){A("x",S),A("y",m),A("z",c,!0),A("t",w),this.ex=S,this.ey=m,this.ez=c,this.et=w,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(S){if(S instanceof C)throw new Error("extended point not allowed");const{x:m,y:c}=S||{};return A("x",m),A("y",c),new C(m,c,Ji,p(m*c))}static normalizeZ(S){const m=GE(r,S.map(c=>c.ez));return S.map((c,w)=>c.toAffine(m[w])).map(C.fromAffine)}static msm(S,m){return X$(C,v,S,m)}_setWindowSize(S){U.setWindowSize(this,S)}assertValidity(){R(this)}equals(S){I(S);const{ex:m,ey:c,ez:w}=this,{ex:T,ey:O,ez:K}=S,ee=p(m*K),J=p(T*w),$=p(c*K),z=p(O*w);return ee===J&&$===z}is0(){return this.equals(C.ZERO)}negate(){return new C(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:S}=e,{ex:m,ey:c,ez:w}=this,T=p(m*m),O=p(c*c),K=p(b9*p(w*w)),ee=p(S*T),J=m+c,$=p(p(J*J)-T-O),z=ee+O,Y=z-K,te=ee-O,G=p($*Y),j=p(z*te),W=p($*te),oe=p(Y*z);return new C(G,j,oe,W)}add(S){I(S);const{a:m,d:c}=e,{ex:w,ey:T,ez:O,et:K}=this,{ex:ee,ey:J,ez:$,et:z}=S,Y=p(w*ee),te=p(T*J),G=p(K*c*z),j=p(O*$),W=p((w+T)*(ee+J)-Y-te),oe=j-G,ae=j+G,he=p(te-m*Y),Oe=p(W*oe),me=p(ae*he),Ee=p(W*he),it=p(oe*ae);return new C(Oe,me,it,Ee)}subtract(S){return this.add(S.negate())}wNAF(S){return U.wNAFCached(this,S,C.normalizeZ)}multiply(S){const m=S;Ho("scalar",m,Ji,n);const{p:c,f:w}=this.wNAF(m);return C.normalizeZ([c,w])[0]}multiplyUnsafe(S,m=C.ZERO){const c=S;return Ho("scalar",c,oa,n),c===oa?N:this.is0()||c===Ji?this:U.wNAFCachedUnsafe(this,c,C.normalizeZ,m)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(S){return k(this,S)}clearCofactor(){const{h:S}=e;return S===Ji?this:this.multiplyUnsafe(S)}static fromHex(S,m=!1){const{d:c,a:w}=e,T=r.BYTES;S=Fn("pointHex",S,T),Oc("zip215",m);const O=S.slice(),K=S[T-1];O[T-1]=K&-129;const ee=O0(O),J=m?d:r.ORDER;Ho("pointHex.y",ee,oa,J);const $=p(ee*ee),z=p($-Ji),Y=p(c*$-w);let{isValid:te,value:G}=b(z,Y);if(!te)throw new Error("Point.fromHex: invalid y coordinate");const j=(G&Ji)===Ji,W=(K&128)!==0;if(!m&&G===oa&&W)throw new Error("Point.fromHex: x=0 and x_0=1");return W!==j&&(G=p(-G)),C.fromAffine({x:G,y:ee})}static fromPrivateKey(S){const{scalar:m}=L(S);return P.multiply(m)}toRawBytes(){const{x:S,y:m}=this.toAffine(),c=Sy(m,r.BYTES);return c[c.length-1]|=S&Ji?128:0,c}toHex(){return Lh(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,Ji,p(e.Gx*e.Gy)),C.ZERO=new C(oa,Ji,Ji,oa);const{BASE:P,ZERO:N}=C,U=J$(C,l*8);function q(x){return pn(x,n)}function F(x){return q(O0(x))}function L(x){const S=r.BYTES;x=Fn("private key",x,S);const m=Fn("hashed private key",i(x),2*S),c=_(m.slice(0,S)),w=m.slice(S,2*S),T=F(c);return{head:c,prefix:w,scalar:T}}function ie(x){const{head:S,prefix:m,scalar:c}=L(x),w=P.multiply(c),T=w.toRawBytes();return{head:S,prefix:m,scalar:c,point:w,pointBytes:T}}function E(x){return ie(x).pointBytes}function a(x=Uint8Array.of(),...S){const m=Dh(...S);return F(i(M(m,Fn("context",x),!!s)))}function f(x,S,m={}){x=Fn("message",x),s&&(x=s(x));const{prefix:c,scalar:w,pointBytes:T}=ie(S),O=a(m.context,c,x),K=P.multiply(O).toRawBytes(),ee=a(m.context,K,T,x),J=q(O+ee*w);Ho("signature.s",J,oa,n);const $=Dh(K,Sy(J,r.BYTES));return Fn("result",$,r.BYTES*2)}const h=xle;function g(x,S,m,c=h){const{context:w,zip215:T}=c,O=r.BYTES;x=Fn("signature",x,2*O),S=Fn("message",S),m=Fn("publicKey",m,O),T!==void 0&&Oc("zip215",T),s&&(S=s(S));const K=O0(x.slice(O,2*O));let ee,J,$;try{ee=C.fromHex(m,T),J=C.fromHex(x.slice(0,O),T),$=P.multiplyUnsafe(K)}catch{return!1}if(!T&&ee.isSmallOrder())return!1;const z=a(w,J.toRawBytes(),ee.toRawBytes(),S);return J.add(ee.multiplyUnsafe(z)).subtract($).clearCofactor().equals(C.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:E,sign:f,verify:g,ExtendedPoint:C,utils:{getExtendedPublicKey:ie,randomPrivateKey:()=>o(r.BYTES),precompute(x=8,S=C.BASE){return S._setWindowSize(x),S.multiply(BigInt(3)),S}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),x9=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Ele=BigInt(1),_9=BigInt(2);BigInt(3);const Mle=BigInt(5),Ale=BigInt(8);function kle(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=ZE,l=t*t%i*t%i,u=An(l,_9,i)*l%i,d=An(u,Ele,i)*t%i,p=An(d,Mle,i)*d%i,v=An(p,e,i)*p%i,b=An(v,r,i)*v%i,_=An(b,n,i)*b%i,M=An(_,s,i)*_%i,A=An(M,s,i)*_%i,I=An(A,e,i)*p%i;return{pow_p_5_8:An(I,_9,i)*t%i,b2:l}}function Ile(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Rle(t,e){const r=ZE,n=pn(e*e*e,r),s=pn(n*n*e,r),i=kle(t*s).pow_p_5_8;let o=pn(t*n*i,r);const l=pn(e*o*o,r),u=o,d=pn(o*x9,r),p=l===t,v=l===pn(-t,r),b=l===pn(-t*x9,r);return p&&(o=u),(v||b)&&(o=d),hle(o,r)&&(o=pn(-o,r)),{isValid:p||v,value:o}}const S9=ng(ZE,void 0,!0),Cle={a:S9.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:S9,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ale,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ile,randomBytes:zu.randomBytes,adjustScalarBytes:Ile,uvRatio:Rle},ud=Sle(Cle);var Am=cr().Buffer;function Tle(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=Am.from(_)),!Am.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var M=0,A=0,I=0,k=_.length;I!==k&&_[I]===0;)I++,M++;for(var R=(k-I)*d+1>>>0,C=new Uint8Array(R);I!==k;){for(var P=_[I],N=0,U=R-1;(P!==0||N<A)&&U!==-1;U--,N++)P+=256*C[U]>>>0,C[U]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");A=N,I++}for(var q=R-A;q!==R&&C[q]===0;)q++;for(var F=l.repeat(M);q<R;++q)F+=t.charAt(C[q]);return F}function v(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return Am.alloc(0);for(var M=0,A=0,I=0;_[M]===l;)A++,M++;for(var k=(_.length-M)*u+1>>>0,R=new Uint8Array(k);M<_.length;){var C=_.charCodeAt(M);if(C>255)return;var P=e[C];if(P===255)return;for(var N=0,U=k-1;(P!==0||N<I)&&U!==-1;U--,N++)P+=o*R[U]>>>0,R[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");I=N,M++}for(var q=k-I;q!==k&&R[q]===0;)q++;var F=Am.allocUnsafe(A+(k-q));F.fill(0,0,A);for(var L=A;q!==k;)F[L++]=R[q++];return F}function b(_){var M=v(_);if(M)return M;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:b}}var Ple=Tle,Ole=Ple,Nle="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Q$=Ole(Nle);const ki=Zn(Q$);var Mi={};function hl(t,e,r){return e<=t&&t<=r}function Jv(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function Ble(t){for(var e=String(t),r=e.length,n=0,s=[];n<r;){var i=e.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)s.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var l=i&1023,u=o&1023;s.push(65536+(l<<10)+u),n+=1}else s.push(65533)}n+=1}return s}function Lle(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var My=-1;function JE(t){this.tokens=[].slice.call(t)}JE.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():My},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var $h=-1;function fx(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Ay="utf-8";function ky(t,e){if(!(this instanceof ky))return new ky(t,e);if(t=t!==void 0?String(t).toLowerCase():Ay,t!==Ay)throw new Error("Encoding not supported. Only utf-8 is supported");e=Jv(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}ky.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Jv(r),this._streaming||(this._decoder=new Dle({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var s=new JE(n),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==$h);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===$h)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Lle(i)}};function Iy(t,e){if(!(this instanceof Iy))return new Iy(t,e);if(t=t!==void 0?String(t).toLowerCase():Ay,t!==Ay)throw new Error("Encoding not supported. Only utf-8 is supported");e=Jv(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Iy.prototype={encode:function(e,r){e=e?String(e):"",r=Jv(r),this._streaming||(this._encoder=new $le(this._options)),this._streaming=!!r.stream;for(var n=[],s=new JE(Ble(e)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==$h);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==$h;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function Dle(t){var e=t.fatal,r=0,n=0,s=0,i=128,o=191;this.handler=function(l,u){if(u===My&&s!==0)return s=0,fx(e);if(u===My)return $h;if(s===0){if(hl(u,0,127))return u;if(hl(u,194,223))s=1,r=u-192;else if(hl(u,224,239))u===224&&(i=160),u===237&&(o=159),s=2,r=u-224;else if(hl(u,240,244))u===240&&(i=144),u===244&&(o=143),s=3,r=u-240;else return fx(e);return r=r<<6*s,null}if(!hl(u,i,o))return r=s=n=0,i=128,o=191,l.prepend(u),fx(e);if(i=128,o=191,n+=1,r+=u-128<<6*(s-n),n!==s)return null;var d=r;return r=s=n=0,d}}function $le(t){t.fatal,this.handler=function(e,r){if(r===My)return $h;if(hl(r,0,127))return r;var n,s;hl(r,128,2047)?(n=1,s=192):hl(r,2048,65535)?(n=2,s=224):hl(r,65536,1114111)&&(n=3,s=240);for(var i=[(r>>6*n)+s];n>0;){var o=r>>6*(n-1);i.push(128|o&63),n-=1}return i}}const Ule=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:ky,TextEncoder:Iy},Symbol.toStringTag,{value:"Module"})),Fle=Wy(Ule);var jle=Rn&&Rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qle=Rn&&Rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wa=Rn&&Rn.__decorate||function(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i},zle=Rn&&Rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&jle(e,t,r);return qle(e,t),e},eU=Rn&&Rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mi,"__esModule",{value:!0});var tU=Mi.deserializeUnchecked=aU=Mi.deserialize=oU=Mi.serialize=Mi.BinaryReader=Mi.BinaryWriter=Mi.BorshError=Mi.baseDecode=Mi.baseEncode=void 0;const yc=eU(zp),rU=eU(Q$),Hle=zle(Fle),Kle=typeof TextDecoder!="function"?Hle.TextDecoder:TextDecoder,Wle=new Kle("utf-8",{fatal:!0});function Vle(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),rU.default.encode(Buffer.from(t))}Mi.baseEncode=Vle;function Gle(t){return Buffer.from(rU.default.decode(t))}Mi.baseDecode=Gle;const hx=1024;class rs extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Mi.BorshError=rs;class nU{constructor(){this.buf=Buffer.alloc(hx),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(hx)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yc.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yc.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yc.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new yc.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(hx)]),this.length+=e.length}writeString(e){this.maybeResize();const r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}Mi.BinaryWriter=nU;function Va(t,e,r){const n=r.value;r.value=function(...s){try{return n.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new rs("Reached the end of buffer when deserializing")}throw i}}}class Zs{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new yc.default(e,"le")}readU128(){const e=this.readBuffer(16);return new yc.default(e,"le")}readU256(){const e=this.readBuffer(32);return new yc.default(e,"le")}readU512(){const e=this.readBuffer(64);return new yc.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new rs(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return Wle.decode(r)}catch(n){throw new rs(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let s=0;s<r;++s)n.push(e());return n}}Wa([Va],Zs.prototype,"readU8",null);Wa([Va],Zs.prototype,"readU16",null);Wa([Va],Zs.prototype,"readU32",null);Wa([Va],Zs.prototype,"readU64",null);Wa([Va],Zs.prototype,"readU128",null);Wa([Va],Zs.prototype,"readU256",null);Wa([Va],Zs.prototype,"readU512",null);Wa([Va],Zs.prototype,"readString",null);Wa([Va],Zs.prototype,"readFixedArray",null);Wa([Va],Zs.prototype,"readArray",null);Mi.BinaryReader=Zs;function iU(t){return t.charAt(0).toUpperCase()+t.slice(1)}function hu(t,e,r,n,s){try{if(typeof n=="string")s[`write${iU(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new rs(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);s.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new rs(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let i=0;i<n[1];i++)hu(t,null,r[i],n[0],s)}else s.writeArray(r,i=>{hu(t,e,i,n[0],s)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?s.writeU8(0):(s.writeU8(1),hu(t,e,r,n.type,s));break}case"map":{s.writeU32(r.size),r.forEach((i,o)=>{hu(t,e,o,n.key,s),hu(t,e,i,n.value,s)});break}default:throw new rs(`FieldType ${n} unrecognized`)}else sU(t,r,s)}catch(i){throw i instanceof rs&&i.addToFieldPath(e),i}}function sU(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new rs(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([s,i])=>{hu(t,s,e[s],i,r)});else if(n.kind==="enum"){const s=e[n.field];for(let i=0;i<n.values.length;++i){const[o,l]=n.values[i];if(o===s){r.writeU8(i),hu(t,o,e[o],l,r);break}}}else throw new rs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Yle(t,e,r=nU){const n=new r;return sU(t,e,n),n.toArray()}var oU=Mi.serialize=Yle;function du(t,e,r,n){try{if(typeof r=="string")return n[`read${iU(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const s=[];for(let i=0;i<r[1];i++)s.push(du(t,null,r[0],n));return s}else return n.readArray(()=>du(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?du(t,e,r.type,n):void 0;if(r.kind==="map"){let s=new Map;const i=n.readU32();for(let o=0;o<i;o++){const l=du(t,e,r.key,n),u=du(t,e,r.value,n);s.set(l,u)}return s}return XE(t,r,n)}catch(s){throw s instanceof rs&&s.addToFieldPath(e),s}}function XE(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new rs(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const s={};for(const[i,o]of t.get(e).fields)s[i]=du(t,i,o,r);return new e(s)}if(n.kind==="enum"){const s=r.readU8();if(s>=n.values.length)throw new rs(`Enum index: ${s} is out of range`);const[i,o]=n.values[s],l=du(t,i,o,r);return new e({[i]:l})}throw new rs(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function Zle(t,e,r,n=Zs){const s=new n(r),i=XE(t,e,s);if(s.offset<r.length)throw new rs(`Unexpected ${r.length-s.offset} bytes after deserialized data`);return i}var aU=Mi.deserialize=Zle;function Jle(t,e,r,n=Zs){const s=new n(r);return XE(t,e,s)}tU=Mi.deserializeUnchecked=Jle;var je={};Object.defineProperty(je,"__esModule",{value:!0});je.s16=je.s8=je.nu64be=je.u48be=je.u40be=je.u32be=je.u24be=je.u16be=xi=je.nu64=je.u48=je.u40=$t=je.u32=je.u24=fo=je.u16=Rr=je.u8=Nc=je.offset=je.greedy=je.Constant=je.UTF8=je.CString=je.Blob=je.Boolean=je.BitField=je.BitStructure=je.VariantLayout=je.Union=je.UnionLayoutDiscriminator=je.UnionDiscriminator=je.Structure=je.Sequence=je.DoubleBE=je.Double=je.FloatBE=je.Float=je.NearInt64BE=je.NearInt64=je.NearUInt64BE=je.NearUInt64=je.IntBE=je.Int=je.UIntBE=je.UInt=je.OffsetLayout=je.GreedyCount=je.ExternalLayout=je.bindConstructorLayout=je.nameWithProperty=je.Layout=je.uint8ArrayToBuffer=je.checkUint8Array=void 0;je.constant=je.utf8=je.cstr=cn=je.blob=je.unionLayoutDiscriminator=je.union=Ii=je.seq=je.bits=Ut=je.struct=je.f64be=je.f64=je.f32be=je.f32=je.ns64be=je.s48be=je.s40be=je.s32be=je.s24be=je.s16be=Ds=je.ns64=je.s48=je.s40=je.s32=je.s24=void 0;const QE=Nt;function fd(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}je.checkUint8Array=fd;function Br(t){return fd(t),QE.Buffer.from(t.buffer,t.byteOffset,t.length)}je.uint8ArrayToBuffer=Br;class zr{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}je.Layout=zr;function e4(t,e){return e.property?t+"["+e.property+"]":t}je.nameWithProperty=e4;function Xle(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof zr))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}je.bindConstructorLayout=Xle;class ws extends zr{isCount(){throw new Error("ExternalLayout is abstract")}}je.ExternalLayout=ws;class lU extends ws{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){fd(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}je.GreedyCount=lU;class t4 extends ws{constructor(e,r=0,n){if(!(e instanceof zr))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof xo||this.layout instanceof Go}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}}je.OffsetLayout=t4;class xo extends zr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Br(e).readUIntLE(r,this.span)}encode(e,r,n=0){return Br(r).writeUIntLE(e,n,this.span),this.span}}je.UInt=xo;class Go extends zr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Br(e).readUIntBE(r,this.span)}encode(e,r,n=0){return Br(r).writeUIntBE(e,n,this.span),this.span}}je.UIntBE=Go;class af extends zr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Br(e).readIntLE(r,this.span)}encode(e,r,n=0){return Br(r).writeIntLE(e,n,this.span),this.span}}je.Int=af;class hd extends zr{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return Br(e).readIntBE(r,this.span)}encode(e,r,n=0){return Br(r).writeIntBE(e,n,this.span),this.span}}je.IntBE=hd;const Y6=Math.pow(2,32);function Xv(t){const e=Math.floor(t/Y6),r=t-e*Y6;return{hi32:e,lo32:r}}function Qv(t,e){return t*Y6+e}class cU extends zr{constructor(e){super(8,e)}decode(e,r=0){const n=Br(e),s=n.readUInt32LE(r),i=n.readUInt32LE(r+4);return Qv(i,s)}encode(e,r,n=0){const s=Xv(e),i=Br(r);return i.writeUInt32LE(s.lo32,n),i.writeUInt32LE(s.hi32,n+4),8}}je.NearUInt64=cU;class uU extends zr{constructor(e){super(8,e)}decode(e,r=0){const n=Br(e),s=n.readUInt32BE(r),i=n.readUInt32BE(r+4);return Qv(s,i)}encode(e,r,n=0){const s=Xv(e),i=Br(r);return i.writeUInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}je.NearUInt64BE=uU;class fU extends zr{constructor(e){super(8,e)}decode(e,r=0){const n=Br(e),s=n.readUInt32LE(r),i=n.readInt32LE(r+4);return Qv(i,s)}encode(e,r,n=0){const s=Xv(e),i=Br(r);return i.writeUInt32LE(s.lo32,n),i.writeInt32LE(s.hi32,n+4),8}}je.NearInt64=fU;class hU extends zr{constructor(e){super(8,e)}decode(e,r=0){const n=Br(e),s=n.readInt32BE(r),i=n.readUInt32BE(r+4);return Qv(s,i)}encode(e,r,n=0){const s=Xv(e),i=Br(r);return i.writeInt32BE(s.hi32,n),i.writeUInt32BE(s.lo32,n+4),8}}je.NearInt64BE=hU;class dU extends zr{constructor(e){super(4,e)}decode(e,r=0){return Br(e).readFloatLE(r)}encode(e,r,n=0){return Br(r).writeFloatLE(e,n),4}}je.Float=dU;class pU extends zr{constructor(e){super(4,e)}decode(e,r=0){return Br(e).readFloatBE(r)}encode(e,r,n=0){return Br(r).writeFloatBE(e,n),4}}je.FloatBE=pU;class gU extends zr{constructor(e){super(8,e)}decode(e,r=0){return Br(e).readDoubleLE(r)}encode(e,r,n=0){return Br(r).writeDoubleLE(e,n),8}}je.Double=gU;class mU extends zr{constructor(e){super(8,e)}decode(e,r=0){return Br(e).readDoubleBE(r)}encode(e,r,n=0){return Br(r).writeDoubleBE(e,n),8}}je.DoubleBE=mU;class yU extends zr{constructor(e,r,n){if(!(e instanceof zr))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ws&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(r instanceof ws)&&0<e.span&&(s=r*e.span),super(s,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,s=this.count;if(s instanceof ws&&(s=s.decode(e,r)),0<this.elementLayout.span)n=s*this.elementLayout.span;else{let i=0;for(;i<s;)n+=this.elementLayout.getSpan(e,r+n),++i}return n}decode(e,r=0){const n=[];let s=0,i=this.count;for(i instanceof ws&&(i=i.decode(e,r));s<i;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),s+=1;return n}encode(e,r,n=0){const s=this.elementLayout,i=e.reduce((o,l)=>o+s.encode(l,r,n+o),0);return this.count instanceof ws&&this.count.encode(e.length,r,n),i}}je.Sequence=yU;class vU extends zr{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((i,o)=>i&&o instanceof zr,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((s,i)=>{const o=i.getSpan(e,r);return r+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){fd(e);const n=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(n[s.property]=s.decode(e,r)),r+=s.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const s=n;let i=0,o=0;for(const l of this.fields){let u=l.span;if(o=0<u?u:0,l.property!==void 0){const d=e[l.property];d!==void 0&&(o=l.encode(d,r,n),0>u&&(u=l.getSpan(r,n)))}i=n,n+=u}return i+o-s}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}je.Structure=vU;class r4{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}}je.UnionDiscriminator=r4;class Ry extends r4{constructor(e,r){if(!(e instanceof ws&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}je.UnionLayoutDiscriminator=Ry;class n4 extends zr{constructor(e,r,n){let s;if(e instanceof xo||e instanceof Go)s=new Ry(new t4(e));else if(e instanceof ws&&e.isCount())s=new Ry(e);else if(e instanceof r4)s=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof zr))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let i=-1;r&&(i=r.span,0<=i&&(e instanceof xo||e instanceof Go)&&(i+=s.layout.span)),super(i,n),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof xo||e instanceof Go,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(l){return o(l)},this.configGetSourceVariant=function(l){o=l.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const s=this.discriminator,i=s.decode(e,r),o=this.registry[i];if(o===void 0){const l=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=s.layout.span),n=this.makeDestinationObject(),n[s.property]=i,n[l.property]=l.decode(e,r+u)}else n=o.decode(e,r);return n}encode(e,r,n=0){const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let l=0;return this.usesPrefixDiscriminator&&(l=i.layout.span),i.encode(e[i.property],r,n),l+o.encode(e[o.property],r,n+l)}return s.encode(e,r,n)}addVariant(e,r,n){const s=new wU(this,e,r,n);return this.registry[e]=s,s}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}}je.Union=n4;class wU extends zr{constructor(e,r,n,s){if(!(e instanceof n4))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&s===void 0&&(s=n,n=null),n){if(!(n instanceof zr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(e,r+n)),n+s}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+s):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let i=s;if(this.layout&&(this.layout.encode(e[this.property],r,n+s),i+=this.layout.getSpan(r,n+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}je.VariantLayout=wU;function $f(t){return 0>t&&(t+=4294967296),t}class i4 extends zr{constructor(e,r,n){if(!(e instanceof xo||e instanceof Go))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let s=0;this._packedSetValue=function(i){return s=$f(i),this},this._packedGetValue=function(){return s}}decode(e,r=0){const n=this.makeDestinationObject(),s=this.word.decode(e,r);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,r,n=0){const s=this.word.decode(r,n);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=e[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new s4(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new bU(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}je.BitStructure=i4;class s4{constructor(e,r,n){if(!(e instanceof i4))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const s=8*e.span,i=e.fields.reduce((o,l)=>o+l.bits,0);if(r+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-r),this.wordMask=$f(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return $f(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==$f(e&this.valueMask))throw new TypeError(e4("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=$f(e<<this.start);this.container._packedSetValue($f(r&~this.wordMask)|n)}}je.BitField=s4;let bU=class extends s4{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};je.Boolean=bU;let xU=class extends zr{constructor(e,r){if(!(e instanceof ws&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ws||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),Br(e).slice(r,r+n)}encode(e,r,n){let s=this.length;if(this.length instanceof ws&&(s=e.length),!(e instanceof Uint8Array&&s===e.length))throw new TypeError(e4("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(n+s>r.length)throw new RangeError("encoding overruns Uint8Array");const i=Br(e);return Br(r).write(i.toString("hex"),n,s,"hex"),this.length instanceof ws&&this.length.encode(s,r,n),s}};je.Blob=xU;class _U extends zr{constructor(e){super(-1,e)}getSpan(e,r=0){fd(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return Br(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const s=QE.Buffer.from(e,"utf8"),i=s.length;if(n+i>r.length)throw new RangeError("encoding overruns Buffer");const o=Br(r);return s.copy(o,n),o[n+i]=0,i+1}}je.CString=_U;class SU extends zr{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return fd(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Br(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const s=QE.Buffer.from(e,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return s.copy(Br(r),n),i}}je.UTF8=SU;class EU extends zr{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}}je.Constant=EU;je.greedy=(t,e)=>new lU(t,e);var Nc=je.offset=(t,e,r)=>new t4(t,e,r),Rr=je.u8=t=>new xo(1,t),fo=je.u16=t=>new xo(2,t);je.u24=t=>new xo(3,t);var $t=je.u32=t=>new xo(4,t);je.u40=t=>new xo(5,t);je.u48=t=>new xo(6,t);var xi=je.nu64=t=>new cU(t);je.u16be=t=>new Go(2,t);je.u24be=t=>new Go(3,t);je.u32be=t=>new Go(4,t);je.u40be=t=>new Go(5,t);je.u48be=t=>new Go(6,t);je.nu64be=t=>new uU(t);je.s8=t=>new af(1,t);je.s16=t=>new af(2,t);je.s24=t=>new af(3,t);je.s32=t=>new af(4,t);je.s40=t=>new af(5,t);je.s48=t=>new af(6,t);var Ds=je.ns64=t=>new fU(t);je.s16be=t=>new hd(2,t);je.s24be=t=>new hd(3,t);je.s32be=t=>new hd(4,t);je.s40be=t=>new hd(5,t);je.s48be=t=>new hd(6,t);je.ns64be=t=>new hU(t);je.f32=t=>new dU(t);je.f32be=t=>new pU(t);je.f64=t=>new gU(t);je.f64be=t=>new mU(t);var Ut=je.struct=(t,e,r)=>new vU(t,e,r);je.bits=(t,e,r)=>new i4(t,e,r);var Ii=je.seq=(t,e,r)=>new yU(t,e,r);je.union=(t,e,r)=>new n4(t,e,r);je.unionLayoutDiscriminator=(t,e)=>new Ry(t,e);var cn=je.blob=(t,e)=>new xU(t,e);je.cstr=t=>new _U(t);je.utf8=(t,e)=>new SU(t,e);je.constant=(t,e)=>new EU(t,e);var Qle=8078e3,ece=8078001,tce=8078004,rce=8078005,nce=8078006,ice=8078011;function MU(t){return Array.isArray(t)?"%5B"+t.map(MU).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function sce([t,e]){return`${t}=${MU(e)}`}function oce(t){const e=Object.entries(t).map(sce).join("&");return btoa(e)}function ace(t,e={}){{let r=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(r+=` '${oce(e)}'`),`${r}\``}}var dh=class extends Error{constructor(...[e,r]){let n,s;if(r){const{cause:o,...l}=r;o&&(s={cause:o}),Object.keys(l).length>0&&(n=l)}const i=ace(e,n);super(i,s);Lr(this,"cause",this.cause);Lr(this,"context");this.context={__code:e,...n},this.name="SolanaError"}};function lce(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function cce(t){return Object.freeze({...t,encode:e=>{const r=new Uint8Array(lce(e,t));return t.write(e,r,0),r}})}function uce(t){return Object.freeze({...t,decode:(e,r=0)=>t.read(e,r)[0]})}function Ef(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function fce(t,e){if(Ef(t)!==Ef(e))throw new dh(tce);if(Ef(t)&&Ef(e)&&t.fixedSize!==e.fixedSize)throw new dh(rce,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ef(t)&&!Ef(e)&&t.maxSize!==e.maxSize)throw new dh(nce,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function hce(t,e,r=0){if(e.length-r<=0)throw new dh(Qle,{codecDescription:t})}function dce(t,e,r,n=0){const s=r.length-n;if(s<e)throw new dh(ece,{bytesLength:s,codecDescription:t,expected:e})}function pce(t,e,r,n){if(n<e||n>r)throw new dh(ice,{codecDescription:t,max:r,min:e,value:n})}function AU(t){return(t==null?void 0:t.endian)!==1}function gce(t){return cce({fixedSize:t.size,write(e,r,n){t.range&&pce(t.name,t.range[0],t.range[1],e);const s=new ArrayBuffer(t.size);return t.set(new DataView(s),e,AU(t.config)),r.set(new Uint8Array(s),n),n+t.size}})}function mce(t){return uce({fixedSize:t.size,read(e,r=0){hce(t.name,e,r),dce(t.name,t.size,e,r);const n=new DataView(yce(e,r,t.size));return[t.get(n,AU(t.config)),r+t.size]}})}function yce(t,e,r){const n=t.byteOffset+(e??0),s=r??t.byteLength;return t.buffer.slice(n,n+s)}var kU=(t={})=>gce({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,r,n)=>e.setBigUint64(0,BigInt(r),n),size:8}),vce=(t={})=>mce({config:t,get:(e,r)=>e.getBigUint64(0,r),name:"u64",size:8}),wce=(t={})=>fce(kU(t),vce(t));class bce extends TypeError{constructor(e,r){let n;const{message:s,explanation:i,...o}=e,{path:l}=e,u=l.length===0?s:`At path: ${l.join(".")} -- ${s}`;super(i??u),i!=null&&(this.cause=u),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function xce(t){return ig(t)&&typeof t[Symbol.iterator]=="function"}function ig(t){return typeof t=="object"&&t!=null}function Cy(t){return ig(t)&&!Array.isArray(t)}function Xo(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function _ce(t){const{done:e,value:r}=t.next();return e?void 0:r}function Sce(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:s,branch:i}=e,{type:o}=r,{refinement:l,message:u=`Expected a value of type \`${o}\`${l?` with refinement \`${l}\``:""}, but received: \`${Xo(n)}\``}=t;return{value:n,type:o,refinement:l,key:s[s.length-1],path:s,branch:i,...t,message:u}}function*E9(t,e,r,n){xce(t)||(t=[t]);for(const s of t){const i=Sce(s,e,r,n);i&&(yield i)}}function*o4(t,e,r={}){const{path:n=[],branch:s=[t],coerce:i=!1,mask:o=!1}=r,l={path:n,branch:s,mask:o};i&&(t=e.coercer(t,l));let u="valid";for(const d of e.validator(t,l))d.explanation=r.message,u="not_valid",yield[d,void 0];for(let[d,p,v]of e.entries(t,l)){const b=o4(p,v,{path:d===void 0?n:[...n,d],branch:d===void 0?s:[...s,p],coerce:i,mask:o,message:r.message});for(const _ of b)_[0]?(u=_[0].refinement!=null?"not_refined":"not_valid",yield[_[0],void 0]):i&&(p=_[1],d===void 0?t=p:t instanceof Map?t.set(d,p):t instanceof Set?t.add(p):ig(t)&&(p!==void 0||d in t)&&(t[d]=p))}if(u!=="not_valid")for(const d of e.refiner(t,l))d.explanation=r.message,u="not_refined",yield[d,void 0];u==="valid"&&(yield[void 0,t])}let Ga=class{constructor(e){const{type:r,schema:n,validator:s,refiner:i,coercer:o=u=>u,entries:l=function*(){}}=e;this.type=r,this.schema=n,this.entries=l,this.coercer=o,s?this.validator=(u,d)=>{const p=s(u,d);return E9(p,d,this,u)}:this.validator=()=>[],i?this.refiner=(u,d)=>{const p=i(u,d);return E9(p,d,this,u)}:this.refiner=()=>[]}assert(e,r){return IU(e,this,r)}create(e,r){return bt(e,this,r)}is(e){return RU(e,this)}mask(e,r){return Ece(e,this,r)}validate(e,r={}){return sg(e,this,r)}};function IU(t,e,r){const n=sg(t,e,{message:r});if(n[0])throw n[0]}function bt(t,e,r){const n=sg(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Ece(t,e,r){const n=sg(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function RU(t,e){return!sg(t,e)[0]}function sg(t,e,r={}){const n=o4(t,e,r),s=_ce(n);return s[0]?[new bce(s[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function lf(t,e){return new Ga({type:t,schema:null,validator:e})}function Mce(){return lf("any",()=>!0)}function Tt(t){return new Ga({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Xo(e)}`}})}function ja(){return lf("boolean",t=>typeof t=="boolean")}function a4(t){return lf("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${Xo(e)}`)}function vn(t){const e=Xo(t),r=typeof t;return new Ga({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${Xo(n)}`}})}function Ace(){return lf("never",()=>!1)}function Pt(t){return new Ga({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function $e(){return lf("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Xo(t)}`)}function Vt(t){return new Ga({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function CU(t,e){return new Ga({type:"record",schema:null,*entries(r){if(ig(r))for(const n in r){const s=r[n];yield[n,n,t],yield[n,s,e]}},validator(r){return Cy(r)||`Expected an object, but received: ${Xo(r)}`},coercer(r){return Cy(r)?{...r}:r}})}function mt(){return lf("string",t=>typeof t=="string"||`Expected a string, but received: ${Xo(t)}`)}function l4(t){const e=Ace();return new Ga({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],t[s]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Xo(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function ot(t){const e=Object.keys(t);return new Ga({type:"type",schema:t,*entries(r){if(ig(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Cy(r)||`Expected an object, but received: ${Xo(r)}`},coercer(r){return Cy(r)?{...r}:r}})}function ss(t){const e=t.map(r=>r.type).join(" | ");return new Ga({type:"union",schema:null,coercer(r,n){for(const s of t){const[i,o]=s.validate(r,{coerce:!0,mask:n.mask});if(!i)return o}return r},validator(r,n){const s=[];for(const i of t){const[...o]=o4(r,i,n),[l]=o;if(l[0])for(const[u]of o)u&&s.push(u);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Xo(r)}`,...s]}})}function dd(){return lf("unknown",()=>!0)}function og(t,e,r){return new Ga({...t,coercer:(n,s)=>RU(n,e)?t.coercer(r(n,s),s):t.coercer(n,s)})}var km,kce=new Uint8Array(16);function TU(){if(!km&&(km=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!km))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return km(kce)}const Ice=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ew(t){return typeof t=="string"&&Ice.test(t)}var bi=[];for(var dx=0;dx<256;++dx)bi.push((dx+256).toString(16).substr(1));function tw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(bi[t[e+0]]+bi[t[e+1]]+bi[t[e+2]]+bi[t[e+3]]+"-"+bi[t[e+4]]+bi[t[e+5]]+"-"+bi[t[e+6]]+bi[t[e+7]]+"-"+bi[t[e+8]]+bi[t[e+9]]+"-"+bi[t[e+10]]+bi[t[e+11]]+bi[t[e+12]]+bi[t[e+13]]+bi[t[e+14]]+bi[t[e+15]]).toLowerCase();if(!ew(r))throw TypeError("Stringified UUID is invalid");return r}var M9,px,gx=0,mx=0;function Rce(t,e,r){var n=e&&r||0,s=e||new Array(16);t=t||{};var i=t.node||M9,o=t.clockseq!==void 0?t.clockseq:px;if(i==null||o==null){var l=t.random||(t.rng||TU)();i==null&&(i=M9=[l[0]|1,l[1],l[2],l[3],l[4],l[5]]),o==null&&(o=px=(l[6]<<8|l[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),d=t.nsecs!==void 0?t.nsecs:mx+1,p=u-gx+(d-mx)/1e4;if(p<0&&t.clockseq===void 0&&(o=o+1&16383),(p<0||u>gx)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gx=u,mx=d,px=o,u+=122192928e5;var v=((u&268435455)*1e4+d)%4294967296;s[n++]=v>>>24&255,s[n++]=v>>>16&255,s[n++]=v>>>8&255,s[n++]=v&255;var b=u/4294967296*1e4&268435455;s[n++]=b>>>8&255,s[n++]=b&255,s[n++]=b>>>24&15|16,s[n++]=b>>>16&255,s[n++]=o>>>8|128,s[n++]=o&255;for(var _=0;_<6;++_)s[n+_]=i[_];return e||tw(s)}function PU(t){if(!ew(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function Cce(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var Tce="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Pce="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function OU(t,e,r){function n(s,i,o,l){if(typeof s=="string"&&(s=Cce(s)),typeof i=="string"&&(i=PU(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+s.length);if(u.set(i),u.set(s,i.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){l=l||0;for(var d=0;d<16;++d)o[l+d]=u[d];return o}return tw(u)}try{n.name=t}catch{}return n.DNS=Tce,n.URL=Pce,n}function Oce(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return Nce(Bce(Lce(t),t.length*8))}function Nce(t){for(var e=[],r=t.length*32,n="0123456789abcdef",s=0;s<r;s+=8){var i=t[s>>5]>>>s%32&255,o=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(o)}return e}function NU(t){return(t+64>>>9<<4)+14+1}function Bce(t,e){t[e>>5]|=128<<e%32,t[NU(e)-1]=e;for(var r=1732584193,n=-271733879,s=-1732584194,i=271733878,o=0;o<t.length;o+=16){var l=r,u=n,d=s,p=i;r=qi(r,n,s,i,t[o],7,-680876936),i=qi(i,r,n,s,t[o+1],12,-389564586),s=qi(s,i,r,n,t[o+2],17,606105819),n=qi(n,s,i,r,t[o+3],22,-1044525330),r=qi(r,n,s,i,t[o+4],7,-176418897),i=qi(i,r,n,s,t[o+5],12,1200080426),s=qi(s,i,r,n,t[o+6],17,-1473231341),n=qi(n,s,i,r,t[o+7],22,-45705983),r=qi(r,n,s,i,t[o+8],7,1770035416),i=qi(i,r,n,s,t[o+9],12,-1958414417),s=qi(s,i,r,n,t[o+10],17,-42063),n=qi(n,s,i,r,t[o+11],22,-1990404162),r=qi(r,n,s,i,t[o+12],7,1804603682),i=qi(i,r,n,s,t[o+13],12,-40341101),s=qi(s,i,r,n,t[o+14],17,-1502002290),n=qi(n,s,i,r,t[o+15],22,1236535329),r=zi(r,n,s,i,t[o+1],5,-165796510),i=zi(i,r,n,s,t[o+6],9,-1069501632),s=zi(s,i,r,n,t[o+11],14,643717713),n=zi(n,s,i,r,t[o],20,-373897302),r=zi(r,n,s,i,t[o+5],5,-701558691),i=zi(i,r,n,s,t[o+10],9,38016083),s=zi(s,i,r,n,t[o+15],14,-660478335),n=zi(n,s,i,r,t[o+4],20,-405537848),r=zi(r,n,s,i,t[o+9],5,568446438),i=zi(i,r,n,s,t[o+14],9,-1019803690),s=zi(s,i,r,n,t[o+3],14,-187363961),n=zi(n,s,i,r,t[o+8],20,1163531501),r=zi(r,n,s,i,t[o+13],5,-1444681467),i=zi(i,r,n,s,t[o+2],9,-51403784),s=zi(s,i,r,n,t[o+7],14,1735328473),n=zi(n,s,i,r,t[o+12],20,-1926607734),r=Hi(r,n,s,i,t[o+5],4,-378558),i=Hi(i,r,n,s,t[o+8],11,-2022574463),s=Hi(s,i,r,n,t[o+11],16,1839030562),n=Hi(n,s,i,r,t[o+14],23,-35309556),r=Hi(r,n,s,i,t[o+1],4,-1530992060),i=Hi(i,r,n,s,t[o+4],11,1272893353),s=Hi(s,i,r,n,t[o+7],16,-155497632),n=Hi(n,s,i,r,t[o+10],23,-1094730640),r=Hi(r,n,s,i,t[o+13],4,681279174),i=Hi(i,r,n,s,t[o],11,-358537222),s=Hi(s,i,r,n,t[o+3],16,-722521979),n=Hi(n,s,i,r,t[o+6],23,76029189),r=Hi(r,n,s,i,t[o+9],4,-640364487),i=Hi(i,r,n,s,t[o+12],11,-421815835),s=Hi(s,i,r,n,t[o+15],16,530742520),n=Hi(n,s,i,r,t[o+2],23,-995338651),r=Ki(r,n,s,i,t[o],6,-198630844),i=Ki(i,r,n,s,t[o+7],10,1126891415),s=Ki(s,i,r,n,t[o+14],15,-1416354905),n=Ki(n,s,i,r,t[o+5],21,-57434055),r=Ki(r,n,s,i,t[o+12],6,1700485571),i=Ki(i,r,n,s,t[o+3],10,-1894986606),s=Ki(s,i,r,n,t[o+10],15,-1051523),n=Ki(n,s,i,r,t[o+1],21,-2054922799),r=Ki(r,n,s,i,t[o+8],6,1873313359),i=Ki(i,r,n,s,t[o+15],10,-30611744),s=Ki(s,i,r,n,t[o+6],15,-1560198380),n=Ki(n,s,i,r,t[o+13],21,1309151649),r=Ki(r,n,s,i,t[o+4],6,-145523070),i=Ki(i,r,n,s,t[o+11],10,-1120210379),s=Ki(s,i,r,n,t[o+2],15,718787259),n=Ki(n,s,i,r,t[o+9],21,-343485551),r=vc(r,l),n=vc(n,u),s=vc(s,d),i=vc(i,p)}return[r,n,s,i]}function Lce(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(NU(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function vc(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function Dce(t,e){return t<<e|t>>>32-e}function rw(t,e,r,n,s,i){return vc(Dce(vc(vc(e,t),vc(n,i)),s),r)}function qi(t,e,r,n,s,i,o){return rw(e&r|~e&n,t,e,s,i,o)}function zi(t,e,r,n,s,i,o){return rw(e&n|r&~n,t,e,s,i,o)}function Hi(t,e,r,n,s,i,o){return rw(e^r^n,t,e,s,i,o)}function Ki(t,e,r,n,s,i,o){return rw(r^(e|~n),t,e,s,i,o)}var $ce=OU("v3",48,Oce);function Uce(t,e,r){t=t||{};var n=t.random||(t.rng||TU)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var s=0;s<16;++s)e[r+s]=n[s];return e}return tw(n)}function Fce(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function yx(t,e){return t<<e|t>>>32-e}function jce(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var s=0;s<n.length;++s)t.push(n.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,o=Math.ceil(i/16),l=new Array(o),u=0;u<o;++u){for(var d=new Uint32Array(16),p=0;p<16;++p)d[p]=t[u*64+p*4]<<24|t[u*64+p*4+1]<<16|t[u*64+p*4+2]<<8|t[u*64+p*4+3];l[u]=d}l[o-1][14]=(t.length-1)*8/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=(t.length-1)*8&4294967295;for(var v=0;v<o;++v){for(var b=new Uint32Array(80),_=0;_<16;++_)b[_]=l[v][_];for(var M=16;M<80;++M)b[M]=yx(b[M-3]^b[M-8]^b[M-14]^b[M-16],1);for(var A=r[0],I=r[1],k=r[2],R=r[3],C=r[4],P=0;P<80;++P){var N=Math.floor(P/20),U=yx(A,5)+Fce(N,I,k,R)+C+e[N]+b[P]>>>0;C=R,R=k,k=yx(I,30)>>>0,I=A,A=U}r[0]=r[0]+A>>>0,r[1]=r[1]+I>>>0,r[2]=r[2]+k>>>0,r[3]=r[3]+R>>>0,r[4]=r[4]+C>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var qce=OU("v5",80,jce);const zce="00000000-0000-0000-0000-000000000000";function Hce(t){if(!ew(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const Kce=Object.freeze(Object.defineProperty({__proto__:null,NIL:zce,parse:PU,stringify:tw,v1:Rce,v3:$ce,v4:Uce,v5:qce,validate:ew,version:Hce},Symbol.toStringTag,{value:"Module"})),BU=Wy(Kce),Wce=BU.v4,Vce=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const s=typeof n.version=="number"?n.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:t};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return Wce()};i.id=o(i,n)}else s===2&&r===null?n.notificationIdNull&&(i.id=null):i.id=r;return i};var Gce=Vce;const Yce=BU.v4,Zce=Gce,vp=function(t,e){if(!(this instanceof vp))return new vp(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return Yce()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var Jce=vp;vp.prototype.request=function(t,e,r,n){const s=this;let i=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")n=e,i=t;else{typeof r=="function"&&(n=r,r=void 0);const d=typeof n=="function";try{i=Zce(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(p){if(d)return n(p);throw p}if(!d)return i}let u;try{u=JSON.stringify(i,this.options.replacer)}catch(d){return n(d)}return this.callServer(u,function(d,p){s._parseResponse(d,p,n)}),i};vp.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(s){return r(s)}if(r.length===3)if(Array.isArray(n)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return r(null,n.filter(s),n.filter(i))}else return r(null,n.error,n.result);r(null,n)};const Xce=Zn(Jce);var LU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(u,d,p){this.fn=u,this.context=d,this.once=p||!1}function i(u,d,p,v,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new s(p,v||u,b),M=r?r+d:d;return u._events[M]?u._events[M].fn?u._events[M]=[u._events[M],_]:u._events[M].push(_):(u._events[M]=_,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new n:delete u._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],p,v;if(this._eventsCount===0)return d;for(v in p=this._events)e.call(p,v)&&d.push(r?v.slice(1):v);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},l.prototype.listeners=function(d){var p=r?r+d:d,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,_=v.length,M=new Array(_);b<_;b++)M[b]=v[b].fn;return M},l.prototype.listenerCount=function(d){var p=r?r+d:d,v=this._events[p];return v?v.fn?1:v.length:0},l.prototype.emit=function(d,p,v,b,_,M){var A=r?r+d:d;if(!this._events[A])return!1;var I=this._events[A],k=arguments.length,R,C;if(I.fn){switch(I.once&&this.removeListener(d,I.fn,void 0,!0),k){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,p),!0;case 3:return I.fn.call(I.context,p,v),!0;case 4:return I.fn.call(I.context,p,v,b),!0;case 5:return I.fn.call(I.context,p,v,b,_),!0;case 6:return I.fn.call(I.context,p,v,b,_,M),!0}for(C=1,R=new Array(k-1);C<k;C++)R[C-1]=arguments[C];I.fn.apply(I.context,R)}else{var P=I.length,N;for(C=0;C<P;C++)switch(I[C].once&&this.removeListener(d,I[C].fn,void 0,!0),k){case 1:I[C].fn.call(I[C].context);break;case 2:I[C].fn.call(I[C].context,p);break;case 3:I[C].fn.call(I[C].context,p,v);break;case 4:I[C].fn.call(I[C].context,p,v,b);break;default:if(!R)for(N=1,R=new Array(k-1);N<k;N++)R[N-1]=arguments[N];I[C].fn.apply(I[C].context,R)}}return!0},l.prototype.on=function(d,p,v){return i(this,d,p,v,!1)},l.prototype.once=function(d,p,v){return i(this,d,p,v,!0)},l.prototype.removeListener=function(d,p,v,b){var _=r?r+d:d;if(!this._events[_])return this;if(!p)return o(this,_),this;var M=this._events[_];if(M.fn)M.fn===p&&(!b||M.once)&&(!v||M.context===v)&&o(this,_);else{for(var A=0,I=[],k=M.length;A<k;A++)(M[A].fn!==p||b&&!M[A].once||v&&M[A].context!==v)&&I.push(M[A]);I.length?this._events[_]=I.length===1?I[0]:I:o(this,_)}return this},l.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(LU);var Qce=LU.exports;const DU=Zn(Qce);var eue=class extends DU{constructor(e,r,n){super();Lr(this,"socket");this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(e,r,n){const s=n||r;try{this.socket.send(e),s()}catch(i){s(i)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}};function tue(t,e){return new eue(t,e)}var rue=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},nue=class extends DU{constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...l}={},u,d){super();Lr(this,"address");Lr(this,"rpc_id");Lr(this,"queue");Lr(this,"options");Lr(this,"autoconnect");Lr(this,"ready");Lr(this,"reconnect");Lr(this,"reconnect_timer_id");Lr(this,"reconnect_interval");Lr(this,"max_reconnects");Lr(this,"rest_options");Lr(this,"current_reconnects");Lr(this,"generate_request_id");Lr(this,"socket");Lr(this,"webSocketFactory");Lr(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=l,this.current_reconnects=0,this.generate_request_id=u||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),d?this.dataPack=d:this.dataPack=new rue,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,s){return!s&&typeof n=="object"&&(s=n,n=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const l=this.generate_request_id(e,r),u={jsonrpc:"2.0",method:e,params:r||void 0,id:l};this.socket.send(this.dataPack.encode(u),s,d=>{if(d)return o(d);this.queue[l]={promise:[i,o]},n&&(this.queue[l].timeout=setTimeout(()=>{delete this.queue[l],o(new Error("reply timeout"))},n))})})}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise((n,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.on",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.off",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Nt.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const s=[n.notification];if(n.params.constructor===Object)s.push(n.params);else for(let i=0;i<n.params.length;i++)s.push(n.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",n,s),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,r),this.reconnect_interval)))})}};const iue=BigInt(0),Vd=BigInt(1),sue=BigInt(2),oue=BigInt(7),aue=BigInt(256),lue=BigInt(113),$U=[],UU=[],FU=[];for(let t=0,e=Vd,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],$U.push(2*(5*n+r)),UU.push((t+1)*(t+2)/2%64);let s=iue;for(let i=0;i<7;i++)e=(e<<Vd^(e>>oue)*lue)%aue,e&sue&&(s^=Vd<<(Vd<<BigInt(i))-Vd);FU.push(s)}const jU=q$(FU,!0),cue=jU[0],uue=jU[1],A9=(t,e,r)=>r>32?Hae(t,e,r):qae(t,e,r),k9=(t,e,r)=>r>32?Kae(t,e,r):zae(t,e,r);function fue(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,u=(o+2)%10,d=r[u],p=r[u+1],v=A9(d,p,1)^r[l],b=k9(d,p,1)^r[l+1];for(let _=0;_<50;_+=10)t[o+_]^=v,t[o+_+1]^=b}let s=t[2],i=t[3];for(let o=0;o<24;o++){const l=UU[o],u=A9(s,i,l),d=k9(s,i,l),p=$U[o];s=t[p],i=t[p+1],t[p]=u,t[p+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=cue[n],t[1]^=uue[n]}zc(r)}let hue=class qU extends zE{constructor(e,r,n,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,xy(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Oae(this.state)}clone(){return this._cloneInto()}keccak(){c9(this.state32),fue(this.state32,this.rounds),c9(this.state32),this.posOut=0,this.pos=0}update(e){Nh(this),e=Yv(e),Oh(e);const{blockLen:r,state:n}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let l=0;l<o;l++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Nh(this,!1),Oh(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(F$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,zc(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new qU(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const due=(t,e,r)=>HE(()=>new hue(e,t,r)),I9=due(1,136,256/8);class zU extends zE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Pae(e);const n=Yv(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),zc(i)}update(e){return Nh(this),this.iHash.update(e),this}digestInto(e){Nh(this),Oh(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const HU=(t,e,r)=>new zU(t,e).update(r).digest();HU.create=(t,e)=>new zU(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function R9(t){t.lowS!==void 0&&Oc("lowS",t.lowS),t.prehash!==void 0&&Oc("prehash",t.prehash)}function pue(t){const e=YE(t);rg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}class gue extends Error{constructor(e=""){super(e)}}const ul={Err:gue,_tlv:{encode:(t,e)=>{const{Err:r}=ul;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=Mm(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?Mm(s.length/2|128):"";return Mm(t)+i+s+e},decode(t,e){const{Err:r}=ul;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const u=s&127;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");const d=e.subarray(n,n+u);if(d.length!==u)throw new r("tlv.decode: length bytes not complete");if(d[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const p of d)o=o<<8|p;if(n+=u,o<128)throw new r("tlv.decode(long): not minimal encoding")}const l=e.subarray(n,n+o);if(l.length!==o)throw new r("tlv.decode: wrong value length");return{v:l,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=ul;if(t<dl)throw new e("integer: negative integers are not allowed");let r=Mm(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ul;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Nu(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ul,s=Fn("signature",t),{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:u}=n.decode(2,i),{v:d,l:p}=n.decode(2,u);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(d)}},hexFromSig(t){const{_tlv:e,_int:r}=ul,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},dl=BigInt(0),si=BigInt(1);BigInt(2);const C9=BigInt(3);BigInt(4);function mue(t){const e=pue(t),{Fp:r}=e,n=ng(e.n,e.nBitLength),s=e.toBytes||((A,I,k)=>{const R=I.toAffine();return Dh(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(A=>{const I=A.subarray(1),k=r.fromBytes(I.subarray(0,r.BYTES)),R=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:k,y:R}});function o(A){const{a:I,b:k}=e,R=r.sqr(A),C=r.mul(R,A);return r.add(r.add(C,r.mul(A,I)),k)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function l(A){return VE(A,si,e.n)}function u(A){const{allowedPrivateKeyLengths:I,nByteLength:k,wrapPrivateKey:R,n:C}=e;if(I&&typeof A!="bigint"){if(Bh(A)&&(A=Lh(A)),typeof A!="string"||!I.includes(A.length))throw new Error("invalid private key");A=A.padStart(k*2,"0")}let P;try{P=typeof A=="bigint"?A:Nu(Fn("private key",A,k))}catch{throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof A)}return R&&(P=pn(P,C)),Ho("private key",P,si,C),P}function d(A){if(!(A instanceof b))throw new Error("ProjectivePoint expected")}const p=Ey((A,I)=>{const{px:k,py:R,pz:C}=A;if(r.eql(C,r.ONE))return{x:k,y:R};const P=A.is0();I==null&&(I=P?r.ONE:r.inv(C));const N=r.mul(k,I),U=r.mul(R,I),q=r.mul(C,I);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(q,r.ONE))throw new Error("invZ was invalid");return{x:N,y:U}}),v=Ey(A=>{if(A.is0()){if(e.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:I,y:k}=A.toAffine();if(!r.isValid(I)||!r.isValid(k))throw new Error("bad point: x or y not FE");const R=r.sqr(k),C=o(I);if(!r.eql(R,C))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(I,k,R){if(I==null||!r.isValid(I))throw new Error("x required");if(k==null||!r.isValid(k)||r.is0(k))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required");this.px=I,this.py=k,this.pz=R,Object.freeze(this)}static fromAffine(I){const{x:k,y:R}=I||{};if(!I||!r.isValid(k)||!r.isValid(R))throw new Error("invalid affine point");if(I instanceof b)throw new Error("projective point not allowed");const C=P=>r.eql(P,r.ZERO);return C(k)&&C(R)?b.ZERO:new b(k,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const k=GE(r,I.map(R=>R.pz));return I.map((R,C)=>R.toAffine(k[C])).map(b.fromAffine)}static fromHex(I){const k=b.fromAffine(i(Fn("pointHex",I)));return k.assertValidity(),k}static fromPrivateKey(I){return b.BASE.multiply(u(I))}static msm(I,k){return X$(b,n,I,k)}_setWindowSize(I){M.setWindowSize(this,I)}assertValidity(){v(this)}hasEvenY(){const{y:I}=this.toAffine();if(r.isOdd)return!r.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){d(I);const{px:k,py:R,pz:C}=this,{px:P,py:N,pz:U}=I,q=r.eql(r.mul(k,U),r.mul(P,C)),F=r.eql(r.mul(R,U),r.mul(N,C));return q&&F}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:I,b:k}=e,R=r.mul(k,C9),{px:C,py:P,pz:N}=this;let U=r.ZERO,q=r.ZERO,F=r.ZERO,L=r.mul(C,C),ie=r.mul(P,P),E=r.mul(N,N),a=r.mul(C,P);return a=r.add(a,a),F=r.mul(C,N),F=r.add(F,F),U=r.mul(I,F),q=r.mul(R,E),q=r.add(U,q),U=r.sub(ie,q),q=r.add(ie,q),q=r.mul(U,q),U=r.mul(a,U),F=r.mul(R,F),E=r.mul(I,E),a=r.sub(L,E),a=r.mul(I,a),a=r.add(a,F),F=r.add(L,L),L=r.add(F,L),L=r.add(L,E),L=r.mul(L,a),q=r.add(q,L),E=r.mul(P,N),E=r.add(E,E),L=r.mul(E,a),U=r.sub(U,L),F=r.mul(E,ie),F=r.add(F,F),F=r.add(F,F),new b(U,q,F)}add(I){d(I);const{px:k,py:R,pz:C}=this,{px:P,py:N,pz:U}=I;let q=r.ZERO,F=r.ZERO,L=r.ZERO;const ie=e.a,E=r.mul(e.b,C9);let a=r.mul(k,P),f=r.mul(R,N),h=r.mul(C,U),g=r.add(k,R),y=r.add(P,N);g=r.mul(g,y),y=r.add(a,f),g=r.sub(g,y),y=r.add(k,C);let x=r.add(P,U);return y=r.mul(y,x),x=r.add(a,h),y=r.sub(y,x),x=r.add(R,C),q=r.add(N,U),x=r.mul(x,q),q=r.add(f,h),x=r.sub(x,q),L=r.mul(ie,y),q=r.mul(E,h),L=r.add(q,L),q=r.sub(f,L),L=r.add(f,L),F=r.mul(q,L),f=r.add(a,a),f=r.add(f,a),h=r.mul(ie,h),y=r.mul(E,y),f=r.add(f,h),h=r.sub(a,h),h=r.mul(ie,h),y=r.add(y,h),a=r.mul(f,y),F=r.add(F,a),a=r.mul(x,y),q=r.mul(g,q),q=r.sub(q,a),a=r.mul(g,f),L=r.mul(x,L),L=r.add(L,a),new b(q,F,L)}subtract(I){return this.add(I.negate())}is0(){return this.equals(b.ZERO)}wNAF(I){return M.wNAFCached(this,I,b.normalizeZ)}multiplyUnsafe(I){const{endo:k,n:R}=e;Ho("scalar",I,dl,R);const C=b.ZERO;if(I===dl)return C;if(this.is0()||I===si)return this;if(!k||M.hasPrecomputes(this))return M.wNAFCachedUnsafe(this,I,b.normalizeZ);let{k1neg:P,k1:N,k2neg:U,k2:q}=k.splitScalar(I),F=C,L=C,ie=this;for(;N>dl||q>dl;)N&si&&(F=F.add(ie)),q&si&&(L=L.add(ie)),ie=ie.double(),N>>=si,q>>=si;return P&&(F=F.negate()),U&&(L=L.negate()),L=new b(r.mul(L.px,k.beta),L.py,L.pz),F.add(L)}multiply(I){const{endo:k,n:R}=e;Ho("scalar",I,si,R);let C,P;if(k){const{k1neg:N,k1:U,k2neg:q,k2:F}=k.splitScalar(I);let{p:L,f:ie}=this.wNAF(U),{p:E,f:a}=this.wNAF(F);L=M.constTimeNegate(N,L),E=M.constTimeNegate(q,E),E=new b(r.mul(E.px,k.beta),E.py,E.pz),C=L.add(E),P=ie.add(a)}else{const{p:N,f:U}=this.wNAF(I);C=N,P=U}return b.normalizeZ([C,P])[0]}multiplyAndAddUnsafe(I,k,R){const C=b.BASE,P=(U,q)=>q===dl||q===si||!U.equals(C)?U.multiplyUnsafe(q):U.multiply(q),N=P(this,k).add(P(I,R));return N.is0()?void 0:N}toAffine(I){return p(this,I)}isTorsionFree(){const{h:I,isTorsionFree:k}=e;if(I===si)return!0;if(k)return k(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:k}=e;return I===si?this:k?k(b,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return Oc("isCompressed",I),this.assertValidity(),s(b,this,I)}toHex(I=!0){return Oc("isCompressed",I),Lh(this.toRawBytes(I))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const _=e.nBitLength,M=J$(b,e.endo?Math.ceil(_/2):_);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:l}}function yue(t){const e=YE(t);return rg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function vue(t){const e=yue(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(h){return pn(h,n)}function l(h){return V6(h,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:v}=mue({...e,toBytes(h,g,y){const x=g.toAffine(),S=r.toBytes(x.x),m=Dh;return Oc("isCompressed",y),y?m(Uint8Array.from([g.hasEvenY()?2:3]),S):m(Uint8Array.from([4]),S,r.toBytes(x.y))},fromBytes(h){const g=h.length,y=h[0],x=h.subarray(1);if(g===s&&(y===2||y===3)){const S=Nu(x);if(!VE(S,si,r.ORDER))throw new Error("Point is not on curve");const m=p(S);let c;try{c=r.sqrt(m)}catch(O){const K=O instanceof Error?": "+O.message:"";throw new Error("Point is not on curve"+K)}const w=(c&si)===si;return(y&1)===1!==w&&(c=r.neg(c)),{x:S,y:c}}else if(g===i&&y===4){const S=r.fromBytes(x.subarray(0,r.BYTES)),m=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:S,y:m}}else{const S=s,m=i;throw new Error("invalid Point, expected length of "+S+", or uncompressed "+m+", got "+g)}}}),b=h=>Lh(yp(h,e.nByteLength));function _(h){const g=n>>si;return h>g}function M(h){return _(h)?o(-h):h}const A=(h,g,y)=>Nu(h.slice(g,y));class I{constructor(g,y,x){Ho("r",g,si,n),Ho("s",y,si,n),this.r=g,this.s=y,x!=null&&(this.recovery=x),Object.freeze(this)}static fromCompact(g){const y=e.nByteLength;return g=Fn("compactSignature",g,y*2),new I(A(g,0,y),A(g,y,2*y))}static fromDER(g){const{r:y,s:x}=ul.toSig(Fn("DER",g));return new I(y,x)}assertValidity(){}addRecoveryBit(g){return new I(this.r,this.s,g)}recoverPublicKey(g){const{r:y,s:x,recovery:S}=this,m=U(Fn("msgHash",g));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const c=S===2||S===3?y+e.n:y;if(c>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const w=S&1?"03":"02",T=u.fromHex(w+b(c)),O=l(c),K=o(-m*O),ee=o(x*O),J=u.BASE.multiplyAndAddUnsafe(T,K,ee);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return _y(this.toDERHex())}toDERHex(){return ul.hexFromSig(this)}toCompactRawBytes(){return _y(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const k={isValidPrivateKey(h){try{return d(h),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const h=G$(e.n);return yle(e.randomBytes(h),e.n)},precompute(h=8,g=u.BASE){return g._setWindowSize(h),g.multiply(BigInt(3)),g}};function R(h,g=!0){return u.fromPrivateKey(h).toRawBytes(g)}function C(h){const g=Bh(h),y=typeof h=="string",x=(g||y)&&h.length;return g?x===s||x===i:y?x===2*s||x===2*i:h instanceof u}function P(h,g,y=!0){if(C(h))throw new Error("first arg must be private key");if(!C(g))throw new Error("second arg must be public key");return u.fromHex(g).multiply(d(h)).toRawBytes(y)}const N=e.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");const g=Nu(h),y=h.length*8-e.nBitLength;return y>0?g>>BigInt(y):g},U=e.bits2int_modN||function(h){return o(N(h))},q=Zv(e.nBitLength);function F(h){return Ho("num < 2^"+e.nBitLength,h,dl,q),yp(h,e.nByteLength)}function L(h,g,y=ie){if(["recovered","canonical"].some(z=>z in y))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:S}=e;let{lowS:m,prehash:c,extraEntropy:w}=y;m==null&&(m=!0),h=Fn("msgHash",h),R9(y),c&&(h=Fn("prehashed msgHash",x(h)));const T=U(h),O=d(g),K=[F(O),F(T)];if(w!=null&&w!==!1){const z=w===!0?S(r.BYTES):w;K.push(Fn("extraEntropy",z))}const ee=Dh(...K),J=T;function $(z){const Y=N(z);if(!v(Y))return;const te=l(Y),G=u.BASE.multiply(Y).toAffine(),j=o(G.x);if(j===dl)return;const W=o(te*o(J+j*O));if(W===dl)return;let oe=(G.x===j?0:2)|Number(G.y&si),ae=W;return m&&_(W)&&(ae=M(W),oe^=1),new I(j,ae,oe)}return{seed:ee,k2sig:$}}const ie={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};function a(h,g,y=ie){const{seed:x,k2sig:S}=L(h,g,y),m=e;return ale(m.hash.outputLen,m.nByteLength,m.hmac)(x,S)}u.BASE._setWindowSize(8);function f(h,g,y,x=E){var oe;const S=h;g=Fn("msgHash",g),y=Fn("publicKey",y);const{lowS:m,prehash:c,format:w}=x;if(R9(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(w!==void 0&&w!=="compact"&&w!=="der")throw new Error("format must be compact or der");const T=typeof S=="string"||Bh(S),O=!T&&!w&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!T&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let K,ee;try{if(O&&(K=new I(S.r,S.s)),T){try{w!=="compact"&&(K=I.fromDER(S))}catch(ae){if(!(ae instanceof ul.Err))throw ae}!K&&w!=="der"&&(K=I.fromCompact(S))}ee=u.fromHex(y)}catch{return!1}if(!K||m&&K.hasHighS())return!1;c&&(g=e.hash(g));const{r:J,s:$}=K,z=U(g),Y=l($),te=o(z*Y),G=o(J*Y),j=(oe=u.BASE.multiplyAndAddUnsafe(ee,te,G))==null?void 0:oe.toAffine();return j?o(j.x)===J:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:P,sign:a,verify:f,ProjectivePoint:u,Signature:I,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wue(t){return{hash:t,hmac:(e,...r)=>HU(t,e,zu.concatBytes(...r)),randomBytes:zu.randomBytes}}function bue(t,e){const r=n=>vue({...t,...wue(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KU=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),T9=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),xue=BigInt(1),Z6=BigInt(2),P9=(t,e)=>(t+e/Z6)/e;function _ue(t){const e=KU,r=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),l=BigInt(44),u=BigInt(88),d=t*t*t%e,p=d*d*t%e,v=An(p,r,e)*p%e,b=An(v,r,e)*p%e,_=An(b,Z6,e)*d%e,M=An(_,s,e)*_%e,A=An(M,i,e)*M%e,I=An(A,l,e)*A%e,k=An(I,u,e)*I%e,R=An(k,l,e)*A%e,C=An(R,r,e)*p%e,P=An(C,o,e)*M%e,N=An(P,n,e)*d%e,U=An(N,Z6,e);if(!J6.eql(J6.sqr(U),t))throw new Error("Cannot find square root");return U}const J6=ng(KU,void 0,void 0,{sqrt:_ue}),nw=bue({a:BigInt(0),b:BigInt(7),Fp:J6,n:T9,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=T9,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-xue*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),l=P9(i*t,e),u=P9(-n*t,e);let d=pn(t-l*r-u*s,e),p=pn(-l*n-u*i,e);const v=d>o,b=p>o;if(v&&(d=e-d),b&&(p=e-p),d>o||p>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:v,k1:d,k2neg:b,k2:p}}}},nle);BigInt(0);nw.ProjectivePoint;const Sue=ud.utils.randomPrivateKey,O9=()=>{const t=ud.utils.randomPrivateKey(),e=Ty(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Ty=ud.getPublicKey;function N9(t){try{return ud.ExtendedPoint.fromHex(t),!0}catch{return!1}}const c4=(t,e)=>ud.sign(t,e.slice(0,32)),Eue=ud.verify,dr=t=>Nt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Nt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Nt.Buffer.from(t);class u4{constructor(e){Object.assign(this,e)}encode(){return Nt.Buffer.from(oU(N0,this))}static decode(e){return aU(N0,this,e)}static decodeUnchecked(e){return tU(N0,this,e)}}class Mue extends u4{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const N0=new Map;var WU;const VU=32,Oa=32;function Aue(t){return t._bn!==void 0}let B9=1;class Qe extends u4{constructor(e){if(super({}),this._bn=void 0,Aue(e))this._bn=e._bn;else{if(typeof e=="string"){const r=ki.decode(e);if(r.length!=Oa)throw new Error("Invalid public key input");this._bn=new u6(r)}else this._bn=new u6(e);if(this._bn.byteLength()>Oa)throw new Error("Invalid public key input")}}static unique(){const e=new Qe(B9);return B9+=1,new Qe(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ki.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Nt.Buffer);if(e.length===Oa)return e;const r=Nt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const s=Nt.Buffer.concat([e.toBuffer(),Nt.Buffer.from(r),n.toBuffer()]),i=c6(s);return new Qe(i)}static createProgramAddressSync(e,r){let n=Nt.Buffer.alloc(0);e.forEach(function(i){if(i.length>VU)throw new TypeError("Max seed length exceeded");n=Nt.Buffer.concat([n,dr(i)])}),n=Nt.Buffer.concat([n,r.toBuffer(),Nt.Buffer.from("ProgramDerivedAddress")]);const s=c6(n);if(N9(s))throw new Error("Invalid seeds, address must fall off the curve");return new Qe(s)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,s;for(;n!=0;){try{const i=e.concat(Nt.Buffer.from([n]));s=this.createProgramAddressSync(i,r)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[s,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new Qe(e);return N9(r.toBytes())}}WU=Qe;Qe.default=new WU("11111111111111111111111111111111");N0.set(Qe,{kind:"struct",fields:[["_bn","u256"]]});class kue{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=dr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=dr(Sue()),this._publicKey=dr(Ty(this._secretKey))}get publicKey(){return new Qe(this._publicKey)}get secretKey(){return Nt.Buffer.concat([this._secretKey,this._publicKey],64)}}const Iue=new Qe("BPFLoader1111111111111111111111111111111111"),Bc=1232,iw=127,wp=64;class f4 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(f4.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class h4 extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(h4.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Xf extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Xf.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class bp{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,o)=>{n.set(i.toBase58(),o)});const s=i=>{const o=n.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const pr=(t="publicKey")=>cn(32,t),Rue=(t="signature")=>cn(64,t),Su=(t="string")=>{const e=Ut([$t("length"),$t("lengthPadding"),cn(Nc($t(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(i,o)=>r(i,o).chars.toString(),s.encode=(i,o,l)=>{const u={chars:Nt.Buffer.from(i,"utf8")};return n(u,o,l)},s.alloc=i=>$t().span+$t().span+Nt.Buffer.from(i,"utf8").length,s},Cue=(t="authorized")=>Ut([pr("staker"),pr("withdrawer")],t),Tue=(t="lockup")=>Ut([Ds("unixTimestamp"),Ds("epoch"),pr("custodian")],t),Pue=(t="voteInit")=>Ut([pr("nodePubkey"),pr("authorizedVoter"),pr("authorizedWithdrawer"),Rr("commission")],t),Oue=(t="voteAuthorizeWithSeedArgs")=>Ut([$t("voteAuthorizationType"),pr("currentAuthorityDerivedKeyOwnerPubkey"),Su("currentAuthorityDerivedKeySeed"),pr("newAuthorized")],t);function GU(t,e){const r=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*r(s.elementLayout)}else if("fields"in s)return GU({layout:s},e[s.property]);return 0};let n=0;return t.layout.fields.forEach(s=>{n+=r(s)}),n}function gs(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function $s(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function Nr(t,e){if(!t)throw new Error(e||"Assertion failed")}class sw{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,s=o=>{const l=o.toBase58();let u=n.get(l);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(l,u)),u},i=s(r);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const l of o.keys){const u=s(l.pubkey);u.isSigner||(u.isSigner=l.isSigner),u.isWritable||(u.isWritable=l.isWritable)}}return new sw(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Nr(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,u])=>u.isSigner&&u.isWritable),n=e.filter(([,u])=>u.isSigner&&!u.isWritable),s=e.filter(([,u])=>!u.isSigner&&u.isWritable),i=e.filter(([,u])=>!u.isSigner&&!u.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Nr(r.length>0,"Expected at least one writable signer key");const[u]=r[0];Nr(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const l=[...r.map(([u])=>new Qe(u)),...n.map(([u])=>new Qe(u)),...s.map(([u])=>new Qe(u)),...i.map(([u])=>new Qe(u))];return[o,l]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:s},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,r){const n=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(r(o)){const l=new Qe(i),u=e.findIndex(d=>d.equals(l));u>=0&&(Nr(u<256,"Max lookup table index exceeded"),n.push(u),s.push(l),this.keyMetaMap.delete(i))}return[n,s]}}const YU="Reached end of buffer unexpectedly";function Sa(t){if(t.length===0)throw new Error(YU);return t.shift()}function ms(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(YU);return t.splice(...e)}class Qo{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Qe(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ki.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new bp(this.staticAccountKeys)}static compile(e){const r=sw.compile(e.instructions,e.payerKey),[n,s]=r.getMessageComponents(),o=new bp(s).compileInstructions(e.instructions).map(l=>({programIdIndex:l.programIdIndex,accounts:l.accountKeyIndexes,data:ki.encode(l.data)}));return new Qo({header:n,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,i=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];$s(r,e);const n=this.instructions.map(v=>{const{accounts:b,programIdIndex:_}=v,M=Array.from(ki.decode(v.data));let A=[];$s(A,b.length);let I=[];return $s(I,M.length),{programIdIndex:_,keyIndicesCount:Nt.Buffer.from(A),keyIndices:b,dataLength:Nt.Buffer.from(I),data:M}});let s=[];$s(s,n.length);let i=Nt.Buffer.alloc(Bc);Nt.Buffer.from(s).copy(i);let o=s.length;n.forEach(v=>{const _=Ut([Rr("programIdIndex"),cn(v.keyIndicesCount.length,"keyIndicesCount"),Ii(Rr("keyIndex"),v.keyIndices.length,"keyIndices"),cn(v.dataLength.length,"dataLength"),Ii(Rr("userdatum"),v.data.length,"data")]).encode(v,i,o);o+=_}),i=i.slice(0,o);const l=Ut([cn(1,"numRequiredSignatures"),cn(1,"numReadonlySignedAccounts"),cn(1,"numReadonlyUnsignedAccounts"),cn(r.length,"keyCount"),Ii(pr("key"),e,"keys"),pr("recentBlockhash")]),u={numRequiredSignatures:Nt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Nt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Nt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Nt.Buffer.from(r),keys:this.accountKeys.map(v=>dr(v.toBytes())),recentBlockhash:ki.decode(this.recentBlockhash)};let d=Nt.Buffer.alloc(2048);const p=l.encode(u,d);return i.copy(d,p),d.slice(0,p+i.length)}static from(e){let r=[...e];const n=Sa(r);if(n!==(n&iw))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Sa(r),i=Sa(r),o=gs(r);let l=[];for(let b=0;b<o;b++){const _=ms(r,0,Oa);l.push(new Qe(Nt.Buffer.from(_)))}const u=ms(r,0,Oa),d=gs(r);let p=[];for(let b=0;b<d;b++){const _=Sa(r),M=gs(r),A=ms(r,0,M),I=gs(r),k=ms(r,0,I),R=ki.encode(Nt.Buffer.from(k));p.push({programIdIndex:_,accounts:A,data:R})}const v={header:{numRequiredSignatures:n,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:ki.encode(Nt.Buffer.from(u)),accountKeys:l,instructions:p};return new Qo(v)}}class Wu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new bp(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const s=e-n,i=this.addressTableLookups.reduce((o,l)=>o+l.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=r-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const s=e.find(i=>i.key.equals(n.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<s.state.addresses.length)r.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<s.state.addresses.length)r.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=sw.compile(e.instructions,e.payerKey),n=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const p of i){const v=r.extractTableLookup(p);if(v!==void 0){const[b,{writable:_,readonly:M}]=v;n.push(b),s.writable.push(..._),s.readonly.push(...M)}}const[o,l]=r.getMessageComponents(),d=new bp(l,s).compileInstructions(e.instructions);return new Wu({header:o,staticAccountKeys:l,recentBlockhash:e.recentBlockhash,compiledInstructions:d,addressTableLookups:n})}serialize(){const e=Array();$s(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();$s(n,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();$s(i,this.addressTableLookups.length);const o=Ut([Rr("prefix"),Ut([Rr("numRequiredSignatures"),Rr("numReadonlySignedAccounts"),Rr("numReadonlyUnsignedAccounts")],"header"),cn(e.length,"staticAccountKeysLength"),Ii(pr(),this.staticAccountKeys.length,"staticAccountKeys"),pr("recentBlockhash"),cn(n.length,"instructionsLength"),cn(r.length,"serializedInstructions"),cn(i.length,"addressTableLookupsLength"),cn(s.length,"serializedAddressTableLookups")]),l=new Uint8Array(Bc),d=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(p=>p.toBytes()),recentBlockhash:ki.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},l);return l.slice(0,d)}serializeInstructions(){let e=0;const r=new Uint8Array(Bc);for(const n of this.compiledInstructions){const s=Array();$s(s,n.accountKeyIndexes.length);const i=Array();$s(i,n.data.length);const o=Ut([Rr("programIdIndex"),cn(s.length,"encodedAccountKeyIndexesLength"),Ii(Rr(),n.accountKeyIndexes.length,"accountKeyIndexes"),cn(i.length,"encodedDataLength"),cn(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(Bc);for(const n of this.addressTableLookups){const s=Array();$s(s,n.writableIndexes.length);const i=Array();$s(i,n.readonlyIndexes.length);const o=Ut([pr("accountKey"),cn(s.length,"encodedWritableIndexesLength"),Ii(Rr(),n.writableIndexes.length,"writableIndexes"),cn(i.length,"encodedReadonlyIndexesLength"),Ii(Rr(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=Sa(r),s=n&iw;Nr(n!==s,"Expected versioned message but received legacy message");const i=s;Nr(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Sa(r),numReadonlySignedAccounts:Sa(r),numReadonlyUnsignedAccounts:Sa(r)},l=[],u=gs(r);for(let M=0;M<u;M++)l.push(new Qe(ms(r,0,Oa)));const d=ki.encode(ms(r,0,Oa)),p=gs(r),v=[];for(let M=0;M<p;M++){const A=Sa(r),I=gs(r),k=ms(r,0,I),R=gs(r),C=new Uint8Array(ms(r,0,R));v.push({programIdIndex:A,accountKeyIndexes:k,data:C})}const b=gs(r),_=[];for(let M=0;M<b;M++){const A=new Qe(ms(r,0,Oa)),I=gs(r),k=ms(r,0,I),R=gs(r),C=ms(r,0,R);_.push({accountKey:A,writableIndexes:k,readonlyIndexes:C})}return new Wu({header:o,staticAccountKeys:l,recentBlockhash:d,compiledInstructions:v,addressTableLookups:_})}}const d4={deserializeMessageVersion(t){const e=t[0],r=e&iw;return r===e?"legacy":r},deserialize:t=>{const e=d4.deserializeMessageVersion(t);if(e==="legacy")return Qo.from(t);if(e===0)return Wu.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let sl=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Nue=Nt.Buffer.alloc(wp).fill(0);class Zr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Nt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class gr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Zr(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let A=0;A<r.length;A++)if(r[A].programId===void 0)throw new Error(`Transaction instruction index ${A} has undefined program id`);const s=[],i=[];r.forEach(A=>{A.keys.forEach(k=>{i.push({...k})});const I=A.programId.toString();s.includes(I)||s.push(I)}),s.forEach(A=>{i.push({pubkey:new Qe(A),isSigner:!1,isWritable:!1})});const o=[];i.forEach(A=>{const I=A.pubkey.toString(),k=o.findIndex(R=>R.pubkey.toString()===I);k>-1?(o[k].isWritable=o[k].isWritable||A.isWritable,o[k].isSigner=o[k].isSigner||A.isSigner):o.push(A)}),o.sort(function(A,I){if(A.isSigner!==I.isSigner)return A.isSigner?-1:1;if(A.isWritable!==I.isWritable)return A.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return A.pubkey.toBase58().localeCompare(I.pubkey.toBase58(),"en",k)});const l=o.findIndex(A=>A.pubkey.equals(n));if(l>-1){const[A]=o.splice(l,1);A.isSigner=!0,A.isWritable=!0,o.unshift(A)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const A of this.signatures){const I=o.findIndex(k=>k.pubkey.equals(A.publicKey));if(I>-1)o[I].isSigner||(o[I].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${A.publicKey.toString()}`)}let u=0,d=0,p=0;const v=[],b=[];o.forEach(({pubkey:A,isSigner:I,isWritable:k})=>{I?(v.push(A.toString()),u+=1,k||(d+=1)):(b.push(A.toString()),k||(p+=1))});const _=v.concat(b),M=r.map(A=>{const{data:I,programId:k}=A;return{programIdIndex:_.indexOf(k.toString()),accounts:A.keys.map(R=>_.indexOf(R.pubkey.toString())),data:ki.encode(I)}});return M.forEach(A=>{Nr(A.programIdIndex>=0),A.accounts.forEach(I=>Nr(I>=0))}),new Qo({header:{numRequiredSignatures:u,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:p},accountKeys:_,recentBlockhash:e,instructions:M})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((s,i)=>r[i].equals(s.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const s=n.toString();return r.has(s)?!1:(r.add(s),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const o=i.publicKey.toString();r.has(o)||(r.add(o),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const o=i.publicKey.toString();r.has(o)||(r.add(o),n.push(i))}const s=this._compile();this._partialSign(s,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(s=>{const i=c4(n,s.secretKey);this._addSignature(s.publicKey,dr(i))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){Nr(r.length===64);const n=this.signatures.findIndex(s=>e.equals(s.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Nt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:s,publicKey:i}of this.signatures)s===null?r&&(n.missing||(n.missing=[])).push(i):Eue(s,e,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(s,r);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(l=>l.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(l=>l.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:r}=this,n=[];$s(n,r.length);const s=n.length+r.length*64+e.length,i=Nt.Buffer.alloc(s);return Nr(r.length<256),Nt.Buffer.from(n).copy(i,0),r.forEach(({signature:o},l)=>{o!==null&&(Nr(o.length===64,"signature has invalid length"),Nt.Buffer.from(o).copy(i,n.length+l*64))}),e.copy(i,n.length+r.length*64),Nr(i.length<=Bc,`Transaction too large: ${i.length} > ${Bc}`),i}get keys(){return Nr(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Nr(this.instructions.length===1),this.instructions[0].programId}get data(){return Nr(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=gs(r);let s=[];for(let i=0;i<n;i++){const o=ms(r,0,wp);s.push(ki.encode(Nt.Buffer.from(o)))}return gr.populate(Qo.from(r),s)}static populate(e,r=[]){const n=new gr;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((s,i)=>{const o={signature:s==ki.encode(Nue)?null:ki.decode(s),publicKey:e.accountKeys[i]};n.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const l=e.accountKeys[o];return{pubkey:l,isSigner:n.signatures.some(u=>u.publicKey.toString()===l.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Zr({keys:i,programId:e.accountKeys[s.programIdIndex],data:ki.decode(s.data)}))}),n._message=e,n._json=n.toJSON(),n}}class hc{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u}=n,d=o-l;Nr(d>0,"Message header is invalid");const p=e.staticAccountKeys.length-o-u;Nr(p>=0,"Message header is invalid");const v=e.getAccountKeys(r),b=v.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const _=[];for(const M of s){const A=[];for(const k of M.accountKeyIndexes){const R=v.get(k);if(R===void 0)throw new Error(`Failed to find key for account key index ${k}`);const C=k<o;let P;C?P=k<d:k<v.staticAccountKeys.length?P=k-o<p:P=k-v.staticAccountKeys.length<v.accountKeysFromLookups.writable.length,A.push({pubkey:R,isSigner:k<n.numRequiredSignatures,isWritable:P})}const I=v.get(M.programIdIndex);if(I===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);_.push(new Zr({programId:I,data:dr(M.data),keys:A}))}return new hc({payerKey:b,instructions:_,recentBlockhash:i})}compileToLegacyMessage(){return Qo.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Wu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class js{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)Nr(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let s=0;s<e.header.numRequiredSignatures;s++)n.push(new Uint8Array(wp));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();$s(r,this.signatures.length);const n=Ut([cn(r.length,"encodedSignaturesLength"),Ii(Rue(),this.signatures.length,"signatures"),cn(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let r=[...e];const n=[],s=gs(r);for(let o=0;o<s;o++)n.push(new Uint8Array(ms(r,0,wp)));const i=d4.deserialize(new Uint8Array(r));return new js(i,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=n.findIndex(o=>o.equals(s.publicKey));Nr(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=c4(r,s.secretKey)}}addSignature(e,r){Nr(r.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Nr(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=r}}const Bue=160,Lue=64,Due=Bue/Lue,ZU=1e3/Due,wa=new Qe("SysvarC1ock11111111111111111111111111111111"),$ue=new Qe("SysvarEpochSchedu1e111111111111111111111111"),Uue=new Qe("Sysvar1nstructions1111111111111111111111111"),_1=new Qe("SysvarRecentB1ockHashes11111111111111111111"),Uh=new Qe("SysvarRent111111111111111111111111111111111"),Fue=new Qe("SysvarRewards111111111111111111111111111111"),jue=new Qe("SysvarS1otHashes111111111111111111111111111"),que=new Qe("SysvarS1otHistory11111111111111111111111111"),S1=new Qe("SysvarStakeHistory1111111111111111111111111");class xp extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let l;switch(e){case"send":l=`Transaction ${r} resulted in an error. 
${n}. `+i+o;break;case"simulate":l=`Simulation failed. 
Message: ${n}. 
`+i+o;break;default:l=`Unknown action '${(u=>u)(e)}'`}super(l),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,r(i)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const zue={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class jt extends Error{constructor({code:e,message:r,data:n},s){super(s!=null?`${s}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function X6(t,e,r,n){const s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await t.sendTransaction(e,r,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:l}=e.nonceInfo,u=l.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:u,nonceValue:e.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw i!=null?new xp({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function pu(t){return new Promise(e=>setTimeout(e,t))}function Ir(t,e){const r=t.layout.span>=0?t.layout.span:GU(t,e),n=Nt.Buffer.alloc(r),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,n),n}function $r(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const JU=xi("lamportsPerSignature"),XU=Ut([$t("version"),$t("state"),pr("authorizedPubkey"),pr("nonce"),Ut([JU],"feeCalculator")]),Q6=XU.span;class ow{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=XU.decode(dr(e),0);return new ow({authorizedPubkey:new Qe(r.authorizedPubkey),nonce:new Qe(r.nonce).toString(),feeCalculator:r.feeCalculator})}}function Fh(t){const e=cn(8,t),r=e.decode.bind(e),n=e.encode.bind(e),s=e,i=wce();return s.decode=(o,l)=>{const u=r(o,l);return i.decode(u)},s.encode=(o,l,u)=>{const d=i.encode(o);return n(d,l,u)},s}class Hue{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=$t("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(en))if(o.index==n){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:s}=$r(en.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new Qe(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=$r(en.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:s}=$r(en.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new Qe(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=$r(en.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:s,programId:i}=$r(en.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Qe(r),seed:n,space:s,programId:new Qe(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=$r(en.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Qe(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:s}=$r(en.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Qe(r),seed:n,programId:new Qe(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:s,space:i,programId:o}=$r(en.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Qe(r),seed:n,lamports:s,space:i,programId:new Qe(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=$r(en.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Qe(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$r(en.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=$r(en.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=$r(en.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Qe(r)}}static checkProgramId(e){if(!e.equals(Kr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const en=Object.freeze({Create:{index:0,layout:Ut([$t("instruction"),Ds("lamports"),Ds("space"),pr("programId")])},Assign:{index:1,layout:Ut([$t("instruction"),pr("programId")])},Transfer:{index:2,layout:Ut([$t("instruction"),Fh("lamports")])},CreateWithSeed:{index:3,layout:Ut([$t("instruction"),pr("base"),Su("seed"),Ds("lamports"),Ds("space"),pr("programId")])},AdvanceNonceAccount:{index:4,layout:Ut([$t("instruction")])},WithdrawNonceAccount:{index:5,layout:Ut([$t("instruction"),Ds("lamports")])},InitializeNonceAccount:{index:6,layout:Ut([$t("instruction"),pr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ut([$t("instruction"),pr("authorized")])},Allocate:{index:8,layout:Ut([$t("instruction"),Ds("space")])},AllocateWithSeed:{index:9,layout:Ut([$t("instruction"),pr("base"),Su("seed"),Ds("space"),pr("programId")])},AssignWithSeed:{index:10,layout:Ut([$t("instruction"),pr("base"),Su("seed"),pr("programId")])},TransferWithSeed:{index:11,layout:Ut([$t("instruction"),Fh("lamports"),Su("seed"),pr("programId")])},UpgradeNonceAccount:{index:12,layout:Ut([$t("instruction")])}});class Kr{constructor(){}static createAccount(e){const r=en.Create,n=Ir(r,{lamports:e.lamports,space:e.space,programId:dr(e.programId.toBuffer())});return new Zr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const s=en.TransferWithSeed;r=Ir(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:dr(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=en.Transfer;r=Ir(s,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Zr({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const s=en.AssignWithSeed;r=Ir(s,{base:dr(e.basePubkey.toBuffer()),seed:e.seed,programId:dr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=en.Assign;r=Ir(s,{programId:dr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Zr({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=en.CreateWithSeed,n=Ir(r,{base:dr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:dr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Zr({keys:s,programId:this.programId,data:n})}static createNonceAccount(e){const r=new gr;"basePubkey"in e&&"seed"in e?r.add(Kr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Q6,programId:this.programId})):r.add(Kr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Q6,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=en.InitializeNonceAccount,n=Ir(r,{authorized:dr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_1,isSigner:!1,isWritable:!1},{pubkey:Uh,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Zr(s)}static nonceAdvance(e){const r=en.AdvanceNonceAccount,n=Ir(r),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Zr(s)}static nonceWithdraw(e){const r=en.WithdrawNonceAccount,n=Ir(r,{lamports:e.lamports});return new Zr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:_1,isSigner:!1,isWritable:!1},{pubkey:Uh,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=en.AuthorizeNonceAccount,n=Ir(r,{authorized:dr(e.newAuthorizedPubkey.toBuffer())});return new Zr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const s=en.AllocateWithSeed;r=Ir(s,{base:dr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:dr(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=en.Allocate;r=Ir(s,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Zr({keys:n,programId:this.programId,data:r})}}Kr.programId=new Qe("11111111111111111111111111111111");const Kue=Bc-300;class Vu{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Vu.chunkSize)+1+1)}static async load(e,r,n,s,i){{const v=await e.getMinimumBalanceForRentExemption(i.length),b=await e.getAccountInfo(n.publicKey,"confirmed");let _=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==i.length&&(_=_||new gr,_.add(Kr.allocate({accountPubkey:n.publicKey,space:i.length}))),b.owner.equals(s)||(_=_||new gr,_.add(Kr.assign({accountPubkey:n.publicKey,programId:s}))),b.lamports<v&&(_=_||new gr,_.add(Kr.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:v-b.lamports})))}else _=new gr().add(Kr.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:v>0?v:1,space:i.length,programId:s}));_!==null&&await X6(e,_,[r,n],{commitment:"confirmed"})}const o=Ut([$t("instruction"),$t("offset"),$t("bytesLength"),$t("bytesLengthPadding"),Ii(Rr("byte"),Nc($t(),-8),"bytes")]),l=Vu.chunkSize;let u=0,d=i,p=[];for(;d.length>0;){const v=d.slice(0,l),b=Nt.Buffer.alloc(l+16);o.encode({instruction:0,offset:u,bytes:v,bytesLength:0,bytesLengthPadding:0},b);const _=new gr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:b});p.push(X6(e,_,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await pu(1e3/4),u+=l,d=d.slice(l)}await Promise.all(p);{const v=Ut([$t("instruction")]),b=Nt.Buffer.alloc(v.span);v.encode({instruction:1},b);const _=new gr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Uh,isSigner:!1,isWritable:!1}],programId:s,data:b}),M="processed",A=await e.sendTransaction(_,[r,n],{preflightCommitment:M}),{context:I,value:k}=await e.confirmTransaction({signature:A,lastValidBlockHeight:_.lastValidBlockHeight,blockhash:_.recentBlockhash},M);if(k.err)throw new Error(`Transaction ${A} failed (${JSON.stringify(k)})`);for(;;){try{if(await e.getSlot({commitment:M})>I.slot)break}catch{}await new Promise(R=>setTimeout(R,Math.round(ZU/2)))}}return!0}}Vu.chunkSize=Kue;const Wue=new Qe("BPFLoader2111111111111111111111111111111111");class Vue{static getMinNumSignatures(e){return Vu.getMinNumSignatures(e)}static load(e,r,n,s,i){return Vu.load(e,r,n,i,s)}}function Gue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vx,L9;function Yue(){if(L9)return vx;L9=1;var t=Object.prototype.toString,e=Object.keys||function(n){var s=[];for(var i in n)s.push(i);return s};function r(n,s){var i,o,l,u,d,p,v;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),s);if(v=t.call(n),v==="[object Array]"){for(l="[",o=n.length-1,i=0;i<o;i++)l+=r(n[i],!0)+",";return o>-1&&(l+=r(n[i],!0)),l+"]"}else if(v==="[object Object]"){for(u=e(n).sort(),o=u.length,l="",i=0;i<o;)d=u[i],p=r(n[d],!1),p!==void 0&&(l&&(l+=","),l+=JSON.stringify(d)+":"+p),i++;return"{"+l+"}"}else return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return vx=function(n){var s=r(n,!1);if(s!==void 0)return""+s},vx}var Zue=Yue(),D9=Gue(Zue);const Gd=32;function wx(t){let e=0;for(;t>1;)t/=2,e++;return e}function Jue(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class QU{constructor(e,r,n,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=wx(Jue(e+Gd+1))-wx(Gd)-1,n=this.getSlotsInEpoch(r),s=e-(n-Gd);return[r,s]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),s=this.firstNormalEpoch+n,i=r%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Gd:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+wx(Gd)):this.slotsPerEpoch}}var Xue=globalThis.fetch;class Que extends nue{constructor(e,r,n){const s=i=>{const o=tue(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function efe(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const $9=56;class e5{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=efe(tfe,e),n=e.length-$9;Nr(n>=0,"lookup table is invalid"),Nr(n%32===0,"lookup table is invalid");const s=n/32,{addresses:i}=Ut([Ii(pr(),s,"addresses")]).decode(e.slice($9));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Qe(r.authority[0]):void 0,addresses:i.map(o=>new Qe(o))}}}const tfe={index:1,layout:Ut([$t("typeIndex"),Fh("deactivationSlot"),xi("lastExtendedSlot"),Rr("lastExtendedStartIndex"),Rr(),Ii(pr(),Nc(Rr(),-1),"authority")])},rfe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function nfe(t){const e=t.match(rfe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,s,i]=e,o=t.startsWith("https:")?"wss:":"ws:",l=s==null?null:parseInt(s.slice(1),10),u=l==null?"":`:${l+1}`;return`${o}//${n}${u}${i}`}const _n=og(a4(Qe),mt(),t=>new Qe(t)),eF=l4([mt(),vn("base64")]),p4=og(a4(Nt.Buffer),eF,t=>Nt.Buffer.from(t[0],"base64")),tF=30*1e3;function ife(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Jr(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...s}=t;e=n,r=s}return{commitment:e,config:r}}function U9(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function rF(t){return ss([ot({jsonrpc:vn("2.0"),id:mt(),result:t}),ot({jsonrpc:vn("2.0"),id:mt(),error:ot({code:dd(),message:mt(),data:Vt(Mce())})})])}const sfe=rF(dd());function hr(t){return og(rF(t),sfe,e=>"error"in e?e:{...e,result:bt(e.result,t)})}function On(t){return hr(ot({context:ot({slot:$e()}),value:t}))}function aw(t){return ot({context:ot({slot:$e()}),value:t})}function bx(t,e){return t===0?new Wu({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new Qe(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ki.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Qo(e)}const ofe=ot({foundation:$e(),foundationTerm:$e(),initial:$e(),taper:$e(),terminal:$e()}),afe=hr(Tt(Pt(ot({epoch:$e(),effectiveSlot:$e(),amount:$e(),postBalance:$e(),commission:Vt(Pt($e()))})))),lfe=Tt(ot({slot:$e(),prioritizationFee:$e()})),cfe=ot({total:$e(),validator:$e(),foundation:$e(),epoch:$e()}),ufe=ot({epoch:$e(),slotIndex:$e(),slotsInEpoch:$e(),absoluteSlot:$e(),blockHeight:Vt($e()),transactionCount:Vt($e())}),ffe=ot({slotsPerEpoch:$e(),leaderScheduleSlotOffset:$e(),warmup:ja(),firstNormalEpoch:$e(),firstNormalSlot:$e()}),hfe=CU(mt(),Tt($e())),cf=Pt(ss([ot({}),mt()])),dfe=ot({err:cf}),pfe=vn("receivedSignature"),gfe=ot({"solana-core":mt(),"feature-set":Vt($e())}),mfe=ot({program:mt(),programId:_n,parsed:dd()}),yfe=ot({programId:_n,accounts:Tt(_n),data:mt()}),F9=On(ot({err:Pt(ss([ot({}),mt()])),logs:Pt(Tt(mt())),accounts:Vt(Pt(Tt(Pt(ot({executable:ja(),owner:mt(),lamports:$e(),data:Tt(mt()),rentEpoch:Vt($e())}))))),unitsConsumed:Vt($e()),returnData:Vt(Pt(ot({programId:mt(),data:l4([mt(),vn("base64")])}))),innerInstructions:Vt(Pt(Tt(ot({index:$e(),instructions:Tt(ss([mfe,yfe]))}))))})),vfe=On(ot({byIdentity:CU(mt(),Tt($e())),range:ot({firstSlot:$e(),lastSlot:$e()})}));function wfe(t,e,r,n,s,i){const o=r||Xue;let l;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let u;return n&&(u=async(p,v)=>{const b=await new Promise((_,M)=>{try{n(p,v,(A,I)=>_([A,I]))}catch(A){M(A)}});return await o(...b)}),new Xce(async(p,v)=>{const b={method:"POST",body:p,agent:l,headers:Object.assign({"Content-Type":"application/json"},e||{},whe)};try{let _=5,M,A=500;for(;u?M=await u(t,b):M=await o(t,b),!(M.status!==429||s===!0||(_-=1,_===0));)console.error(`Server responded with ${M.status} ${M.statusText}.  Retrying after ${A}ms delay...`),await pu(A),A*=2;const I=await M.text();M.ok?v(null,I):v(new Error(`${M.status} ${M.statusText}: ${I}`))}catch(_){_ instanceof Error&&v(_)}},{})}function bfe(t){return(e,r)=>new Promise((n,s)=>{t.request(e,r,(i,o)=>{if(i){s(i);return}n(o)})})}function xfe(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const s=e.map(i=>t.request(i.methodName,i.args));t.request(s,(i,o)=>{if(i){n(i);return}r(o)})})}const _fe=hr(ofe),Sfe=hr(cfe),Efe=hr(lfe),Mfe=hr(ufe),Afe=hr(ffe),kfe=hr(hfe),Ife=hr($e()),Rfe=On(ot({total:$e(),circulating:$e(),nonCirculating:$e(),nonCirculatingAccounts:Tt(_n)})),t5=ot({amount:mt(),uiAmount:Pt($e()),decimals:$e(),uiAmountString:Vt(mt())}),Cfe=On(Tt(ot({address:_n,amount:mt(),uiAmount:Pt($e()),decimals:$e(),uiAmountString:Vt(mt())}))),Tfe=On(Tt(ot({pubkey:_n,account:ot({executable:ja(),owner:_n,lamports:$e(),data:p4,rentEpoch:$e()})}))),r5=ot({program:mt(),parsed:dd(),space:$e()}),Pfe=On(Tt(ot({pubkey:_n,account:ot({executable:ja(),owner:_n,lamports:$e(),data:r5,rentEpoch:$e()})}))),Ofe=On(Tt(ot({lamports:$e(),address:_n}))),_p=ot({executable:ja(),owner:_n,lamports:$e(),data:p4,rentEpoch:$e()}),Nfe=ot({pubkey:_n,account:_p}),Bfe=og(ss([a4(Nt.Buffer),r5]),ss([eF,r5]),t=>Array.isArray(t)?bt(t,p4):t),n5=ot({executable:ja(),owner:_n,lamports:$e(),data:Bfe,rentEpoch:$e()}),Lfe=ot({pubkey:_n,account:n5}),Dfe=ot({state:ss([vn("active"),vn("inactive"),vn("activating"),vn("deactivating")]),active:$e(),inactive:$e()}),$fe=hr(Tt(ot({signature:mt(),slot:$e(),err:cf,memo:Pt(mt()),blockTime:Vt(Pt($e()))}))),Ufe=hr(Tt(ot({signature:mt(),slot:$e(),err:cf,memo:Pt(mt()),blockTime:Vt(Pt($e()))}))),Ffe=ot({subscription:$e(),result:aw(_p)}),jfe=ot({pubkey:_n,account:_p}),qfe=ot({subscription:$e(),result:aw(jfe)}),zfe=ot({parent:$e(),slot:$e(),root:$e()}),Hfe=ot({subscription:$e(),result:zfe}),Kfe=ss([ot({type:ss([vn("firstShredReceived"),vn("completed"),vn("optimisticConfirmation"),vn("root")]),slot:$e(),timestamp:$e()}),ot({type:vn("createdBank"),parent:$e(),slot:$e(),timestamp:$e()}),ot({type:vn("frozen"),slot:$e(),timestamp:$e(),stats:ot({numTransactionEntries:$e(),numSuccessfulTransactions:$e(),numFailedTransactions:$e(),maxTransactionsPerEntry:$e()})}),ot({type:vn("dead"),slot:$e(),timestamp:$e(),err:mt()})]),Wfe=ot({subscription:$e(),result:Kfe}),Vfe=ot({subscription:$e(),result:aw(ss([dfe,pfe]))}),Gfe=ot({subscription:$e(),result:$e()}),Yfe=ot({pubkey:mt(),gossip:Pt(mt()),tpu:Pt(mt()),rpc:Pt(mt()),version:Pt(mt())}),j9=ot({votePubkey:mt(),nodePubkey:mt(),activatedStake:$e(),epochVoteAccount:ja(),epochCredits:Tt(l4([$e(),$e(),$e()])),commission:$e(),lastVote:$e(),rootSlot:Pt($e())}),Zfe=hr(ot({current:Tt(j9),delinquent:Tt(j9)})),Jfe=ss([vn("processed"),vn("confirmed"),vn("finalized")]),Xfe=ot({slot:$e(),confirmations:Pt($e()),err:cf,confirmationStatus:Vt(Jfe)}),Qfe=On(Tt(Pt(Xfe))),ehe=hr($e()),nF=ot({accountKey:_n,writableIndexes:Tt($e()),readonlyIndexes:Tt($e())}),g4=ot({signatures:Tt(mt()),message:ot({accountKeys:Tt(mt()),header:ot({numRequiredSignatures:$e(),numReadonlySignedAccounts:$e(),numReadonlyUnsignedAccounts:$e()}),instructions:Tt(ot({accounts:Tt($e()),data:mt(),programIdIndex:$e()})),recentBlockhash:mt(),addressTableLookups:Vt(Tt(nF))})}),iF=ot({pubkey:_n,signer:ja(),writable:ja(),source:Vt(ss([vn("transaction"),vn("lookupTable")]))}),sF=ot({accountKeys:Tt(iF),signatures:Tt(mt())}),oF=ot({parsed:dd(),program:mt(),programId:_n}),aF=ot({accounts:Tt(_n),data:mt(),programId:_n}),the=ss([aF,oF]),rhe=ss([ot({parsed:dd(),program:mt(),programId:mt()}),ot({accounts:Tt(mt()),data:mt(),programId:mt()})]),lF=og(the,rhe,t=>"accounts"in t?bt(t,aF):bt(t,oF)),cF=ot({signatures:Tt(mt()),message:ot({accountKeys:Tt(iF),instructions:Tt(lF),recentBlockhash:mt(),addressTableLookups:Vt(Pt(Tt(nF)))})}),Py=ot({accountIndex:$e(),mint:mt(),owner:Vt(mt()),programId:Vt(mt()),uiTokenAmount:t5}),uF=ot({writable:Tt(_n),readonly:Tt(_n)}),lw=ot({err:cf,fee:$e(),innerInstructions:Vt(Pt(Tt(ot({index:$e(),instructions:Tt(ot({accounts:Tt($e()),data:mt(),programIdIndex:$e()}))})))),preBalances:Tt($e()),postBalances:Tt($e()),logMessages:Vt(Pt(Tt(mt()))),preTokenBalances:Vt(Pt(Tt(Py))),postTokenBalances:Vt(Pt(Tt(Py))),loadedAddresses:Vt(uF),computeUnitsConsumed:Vt($e())}),m4=ot({err:cf,fee:$e(),innerInstructions:Vt(Pt(Tt(ot({index:$e(),instructions:Tt(lF)})))),preBalances:Tt($e()),postBalances:Tt($e()),logMessages:Vt(Pt(Tt(mt()))),preTokenBalances:Vt(Pt(Tt(Py))),postTokenBalances:Vt(Pt(Tt(Py))),loadedAddresses:Vt(uF),computeUnitsConsumed:Vt($e())}),pd=ss([vn(0),vn("legacy")]),uf=ot({pubkey:mt(),lamports:$e(),postBalance:Pt($e()),rewardType:Pt(mt()),commission:Vt(Pt($e()))}),nhe=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),transactions:Tt(ot({transaction:g4,meta:Pt(lw),version:Vt(pd)})),rewards:Vt(Tt(uf)),blockTime:Pt($e()),blockHeight:Pt($e())}))),ihe=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),rewards:Vt(Tt(uf)),blockTime:Pt($e()),blockHeight:Pt($e())}))),she=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),transactions:Tt(ot({transaction:sF,meta:Pt(lw),version:Vt(pd)})),rewards:Vt(Tt(uf)),blockTime:Pt($e()),blockHeight:Pt($e())}))),ohe=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),transactions:Tt(ot({transaction:cF,meta:Pt(m4),version:Vt(pd)})),rewards:Vt(Tt(uf)),blockTime:Pt($e()),blockHeight:Pt($e())}))),ahe=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),transactions:Tt(ot({transaction:sF,meta:Pt(m4),version:Vt(pd)})),rewards:Vt(Tt(uf)),blockTime:Pt($e()),blockHeight:Pt($e())}))),lhe=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),rewards:Vt(Tt(uf)),blockTime:Pt($e()),blockHeight:Pt($e())}))),che=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),transactions:Tt(ot({transaction:g4,meta:Pt(lw)})),rewards:Vt(Tt(uf)),blockTime:Pt($e())}))),q9=hr(Pt(ot({blockhash:mt(),previousBlockhash:mt(),parentSlot:$e(),signatures:Tt(mt()),blockTime:Pt($e())}))),xx=hr(Pt(ot({slot:$e(),meta:Pt(lw),blockTime:Vt(Pt($e())),transaction:g4,version:Vt(pd)}))),Im=hr(Pt(ot({slot:$e(),transaction:cF,meta:Pt(m4),blockTime:Vt(Pt($e())),version:Vt(pd)}))),uhe=On(ot({blockhash:mt(),lastValidBlockHeight:$e()})),fhe=On(ja()),hhe=ot({slot:$e(),numTransactions:$e(),numSlots:$e(),samplePeriodSecs:$e()}),dhe=hr(Tt(hhe)),phe=On(Pt(ot({feeCalculator:ot({lamportsPerSignature:$e()})}))),ghe=hr(mt()),mhe=hr(mt()),yhe=ot({err:cf,logs:Tt(mt()),signature:mt()}),vhe=ot({result:aw(yhe),subscription:$e()}),whe={"solana-client":"js/1.0.0-maintenance"};class rc{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const d={};return async p=>{const{commitment:v,config:b}=Jr(p),_=this._buildArgs([],v,void 0,b),M=D9(_);return d[M]=d[M]??(async()=>{try{const A=await this._rpcRequest("getBlockHeight",_),I=bt(A,hr($e()));if("error"in I)throw new jt(I.error,"failed to get block height information");return I.result}finally{delete d[M]}})(),await d[M]}})();let n,s,i,o,l,u;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,s=r.httpHeaders,i=r.fetch,o=r.fetchMiddleware,l=r.disableRetryOnRateLimit,u=r.httpAgent),this._rpcEndpoint=ife(e),this._rpcWsEndpoint=n||nfe(e),this._rpcClient=wfe(e,s,i,o,l,u),this._rpcRequest=bfe(this._rpcClient),this._rpcBatchRequest=xfe(this._rpcClient),this._rpcWebSocket=new Que(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgs([e.toBase58()],n,void 0,s),o=await this._rpcRequest("getBalance",i),l=bt(o,On($e()));if("error"in l)throw new jt(l.error,`failed to get balance for ${e.toBase58()}`);return l.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=bt(r,hr(Pt($e())));if("error"in n)throw new jt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=bt(e,hr($e()));if("error"in r)throw new jt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=bt(e,Ife);if("error"in r)throw new jt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),s=bt(n,Rfe);if("error"in s)throw new jt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),s=await this._rpcRequest("getTokenSupply",n),i=bt(s,On(t5));if("error"in i)throw new jt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),s=await this._rpcRequest("getTokenAccountBalance",n),i=bt(s,On(t5));if("error"in i)throw new jt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,r,n){const{commitment:s,config:i}=Jr(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const l=this._buildArgs(o,s,"base64",i),u=await this._rpcRequest("getTokenAccountsByOwner",l),d=bt(u,Tfe);if("error"in d)throw new jt(d.error,`failed to get token accounts owned by account ${e.toBase58()}`);return d.result}async getParsedTokenAccountsByOwner(e,r,n){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const i=this._buildArgs(s,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),l=bt(o,Pfe);if("error"in l)throw new jt(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],s=await this._rpcRequest("getLargestAccounts",n),i=bt(s,Ofe);if("error"in i)throw new jt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),s=await this._rpcRequest("getTokenLargestAccounts",n),i=bt(s,Cfe);if("error"in i)throw new jt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgs([e.toBase58()],n,"base64",s),o=await this._rpcRequest("getAccountInfo",i),l=bt(o,On(Pt(_p)));if("error"in l)throw new jt(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getParsedAccountInfo(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),l=bt(o,On(Pt(n5)));if("error"in l)throw new jt(l.error,`failed to get info about account ${e.toBase58()}`);return l.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:s}=Jr(r),i=e.map(d=>d.toBase58()),o=this._buildArgs([i],n,"jsonParsed",s),l=await this._rpcRequest("getMultipleAccounts",o),u=bt(l,On(Tt(Pt(n5))));if("error"in u)throw new jt(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:s}=Jr(r),i=e.map(d=>d.toBase58()),o=this._buildArgs([i],n,"base64",s),l=await this._rpcRequest("getMultipleAccounts",o),u=bt(l,On(Tt(Pt(_p))));if("error"in u)throw new jt(u.error,`failed to get info for accounts ${i}`);return u.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:s,config:i}=Jr(r),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),l=await this._rpcRequest("getStakeActivation",o),u=bt(l,hr(Dfe));if("error"in u)throw new jt(u.error,`failed to get Stake Activation ${e.toBase58()}`);return u.result}async getProgramAccounts(e,r){const{commitment:n,config:s}=Jr(r),{encoding:i,...o}=s||{},l=this._buildArgs([e.toBase58()],n,i||"base64",{...o,...o.filters?{filters:U9(o.filters)}:null}),u=await this._rpcRequest("getProgramAccounts",l),d=Tt(Nfe),p=o.withContext===!0?bt(u,On(d)):bt(u,hr(d));if("error"in p)throw new jt(p.error,`failed to get accounts owned by program ${e.toBase58()}`);return p.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),l=bt(o,hr(Tt(Lfe)));if("error"in l)throw new jt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async confirmTransaction(e,r){var i;let n;if(typeof e=="string")n=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let s;try{s=ki.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Nr(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,s,i=!1;const o=new Promise((u,d)=>{try{n=this.onSignature(r,(v,b)=>{n=void 0;const _={context:b,value:v};u({__type:sl.PROCESSED,response:_})},e);const p=new Promise(v=>{n==null?v():s=this._onSubscriptionStateChange(n,b=>{b==="subscribed"&&v()})});(async()=>{if(await p,i)return;const v=await this.getSignatureStatus(r);if(i||v==null)return;const{context:b,value:_}=v;if(_!=null)if(_!=null&&_.err)d(_.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(_.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(_.confirmationStatus==="processed"||_.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,u({__type:sl.PROCESSED,response:{context:b,value:_}})}})()}catch(p){d(p)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:s}}){let i=!1;const o=new Promise(v=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let _=await b();if(!i){for(;_<=n;)if(await pu(1e3),i||(_=await b(),i))return;v({__type:sl.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),d=this.getCancellationPromise(r);let p;try{const v=await Promise.race([d,u,o]);if(v.__type===sl.PROCESSED)p=v.response;else throw new f4(s)}finally{i=!0,l()}return p}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let l=!1;const u=new Promise(_=>{let M=i,A=null;const I=async()=>{try{const{context:k,value:R}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:n});return A=k.slot,R==null?void 0:R.nonce}catch{return M}};(async()=>{if(M=await I(),!l)for(;;){if(i!==M){_({__type:sl.NONCE_INVALID,slotInWhichNonceDidAdvance:A});return}if(await pu(2e3),l||(M=await I(),l))return}})()}),{abortConfirmation:d,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),v=this.getCancellationPromise(r);let b;try{const _=await Promise.race([v,p,u]);if(_.__type===sl.PROCESSED)b=_.response;else{let M;for(;;){const A=await this.getSignatureStatus(o);if(A==null)break;if(A.context.slot<(_.slotInWhichNonceDidAdvance??n)){await pu(400);continue}M=A;break}if(M!=null&&M.value){const A=e||"finalized",{confirmationStatus:I}=M.value;switch(A){case"processed":case"recent":if(I!=="processed"&&I!=="confirmed"&&I!=="finalized")throw new Xf(o);break;case"confirmed":case"single":case"singleGossip":if(I!=="confirmed"&&I!=="finalized")throw new Xf(o);break;case"finalized":case"max":case"root":if(I!=="finalized")throw new Xf(o);break;default:}b={context:M.context,value:{err:M.value.err}}}else throw new Xf(o)}}finally{l=!0,d()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const s=new Promise(u=>{let d=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{d=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>u({__type:sl.TIMED_OUT,timeoutMs:d}),d)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let l;try{const u=await Promise.race([o,s]);if(u.__type===sl.PROCESSED)l=u.response;else throw new h4(r,u.timeoutMs/1e3)}finally{clearTimeout(n),i()}return l}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=bt(e,hr(Tt(Yfe)));if("error"in r)throw new jt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),s=bt(n,Zfe);if("error"in s)throw new jt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:r,config:n}=Jr(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlot",s),o=bt(i,hr($e()));if("error"in o)throw new jt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=Jr(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlotLeader",s),o=bt(i,hr(mt()));if("error"in o)throw new jt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],s=await this._rpcRequest("getSlotLeaders",n),i=bt(s,hr(Tt(_n)));if("error"in i)throw new jt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,r){const{context:n,value:s}=await this.getSignatureStatuses([e],r);Nr(s.length===1);const i=s[0];return{context:n,value:i}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const s=await this._rpcRequest("getSignatureStatuses",n),i=bt(s,Qfe);if("error"in i)throw new jt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:r,config:n}=Jr(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getTransactionCount",s),o=bt(i,hr($e()));if("error"in o)throw new jt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),s=bt(n,_fe);if("error"in s)throw new jt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,r,n){const{commitment:s,config:i}=Jr(n),o=this._buildArgs([e.map(d=>d.toBase58())],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),l=await this._rpcRequest("getInflationReward",o),u=bt(l,afe);if("error"in u)throw new jt(u.error,"failed to get inflation reward");return u.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=bt(e,Sfe);if("error"in r)throw new jt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=Jr(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getEpochInfo",s),o=bt(i,Mfe);if("error"in o)throw new jt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=bt(e,Afe);if("error"in r)throw new jt(r.error,"failed to get epoch schedule");const n=r.result;return new QU(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=bt(e,kfe);if("error"in r)throw new jt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),s=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=bt(s,ehe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:r,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:r,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=bt(r,dhe);if("error"in n)throw new jt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),s=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=bt(s,phe);if("error"in i)throw new jt(i.error,"failed to get fee calculator");const{context:o,value:l}=i.result;return{context:o,value:l!==null?l.feeCalculator:null}}async getFeeForMessage(e,r){const n=dr(e.serialize()).toString("base64"),s=this._buildArgs([n],r),i=await this._rpcRequest("getFeeForMessage",s),o=bt(i,On(Pt($e())));if("error"in o)throw new jt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(l=>l.toBase58()),n=r!=null&&r.length?[r]:[],s=await this._rpcRequest("getRecentPrioritizationFees",n),i=bt(s,Efe);if("error"in i)throw new jt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=Jr(e),s=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getLatestBlockhash",s),o=bt(i,uhe);if("error"in o)throw new jt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgs([e],n,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),l=bt(o,fhe);if("error"in l)throw new jt(l.error,"failed to determine if the blockhash `"+e+"`is valid");return l.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=bt(e,hr(gfe));if("error"in r)throw new jt(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=bt(e,hr(mt()));if("error"in r)throw new jt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const l=bt(o,she);if("error"in l)throw l.error;return l.result}case"none":{const l=bt(o,ihe);if("error"in l)throw l.error;return l.result}default:{const l=bt(o,nhe);if("error"in l)throw l.error;const{result:u}=l;return u?{...u,transactions:u.transactions.map(({transaction:d,meta:p,version:v})=>({meta:p,transaction:{...d,message:bx(v,d.message)},version:v}))}:null}}}catch(l){throw new jt(l,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const l=bt(o,ahe);if("error"in l)throw l.error;return l.result}case"none":{const l=bt(o,lhe);if("error"in l)throw l.error;return l.result}default:{const l=bt(o,ohe);if("error"in l)throw l.error;return l.result}}}catch(l){throw new jt(l,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:l,...u}=e;n=l,r=u}const s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getBlockProduction",s),o=bt(i,vfe);if("error"in o)throw new jt(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,s),o=await this._rpcRequest("getTransaction",i),l=bt(o,xx);if("error"in l)throw new jt(l.error,"failed to get transaction");const u=l.result;return u&&{...u,transaction:{...u.transaction,message:bx(u.version,u.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:s}=Jr(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),l=bt(o,Im);if("error"in l)throw new jt(l.error,"failed to get transaction");return l.result}async getParsedTransactions(e,r){const{commitment:n,config:s}=Jr(r),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(u=>{const d=bt(u,Im);if("error"in d)throw new jt(d.error,"failed to get transactions");return d.result})}async getTransactions(e,r){const{commitment:n,config:s}=Jr(r),i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],n,void 0,s)}));return(await this._rpcBatchRequest(i)).map(u=>{const d=bt(u,xx);if("error"in d)throw new jt(d.error,"failed to get transactions");const p=d.result;return p&&{...p,transaction:{...p.transaction,message:bx(p.version,p.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),s=await this._rpcRequest("getBlock",n),i=bt(s,che);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const l={...o,transactions:o.transactions.map(({transaction:u,meta:d})=>{const p=new Qo(u.message);return{meta:d,transaction:{...u,message:p}}})};return{...l,transactions:l.transactions.map(({transaction:u,meta:d})=>({meta:d,transaction:gr.populate(u.message,u.signatures)}))}}async getBlocks(e,r,n){const s=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),i=await this._rpcRequest("getBlocks",s),o=bt(i,hr(Tt($e())));if("error"in o)throw new jt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=bt(s,q9);if("error"in i)throw new jt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",n),i=bt(s,q9);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),s=await this._rpcRequest("getTransaction",n),i=bt(s,xx);if("error"in i)throw new jt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const l=new Qo(o.transaction.message),u=o.transaction.signatures;return{...o,transaction:gr.populate(l,u)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=await this._rpcRequest("getTransaction",n),i=bt(s,Im);if("error"in i)throw new jt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const l=bt(o,Im);if("error"in l)throw new jt(l.error,"failed to get confirmed transactions");return l.result})}async getConfirmedSignaturesForAddress(e,r,n){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(r--,!(r<=0||r<i));)try{const u=await this.getConfirmedBlockSignatures(r,"finalized");u.signatures.length>0&&(s.until=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}let o=await this.getSlot("finalized");for(;!("before"in s)&&(n++,!(n>o));)try{const u=await this.getConfirmedBlockSignatures(n);u.signatures.length>0&&(s.before=u.signatures[u.signatures.length-1].toString())}catch(u){if(u instanceof Error&&u.message.includes("skipped"))continue;throw u}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(u=>u.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=bt(i,$fe);if("error"in o)throw new jt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getSignaturesForAddress",s),o=bt(i,Ufe);if("error"in o)throw new jt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:s}=await this.getAccountInfoAndContext(e,r);let i=null;return s!==null&&(i=new e5({key:e,state:e5.deserialize(s.data)})),{context:n,value:i}}async getNonceAndContext(e,r){const{context:n,value:s}=await this.getAccountInfoAndContext(e,r);let i=null;return s!==null&&(i=ow.fromAccountData(s.data)),{context:n,value:i}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),s=bt(n,ghe);if("error"in s)throw new jt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await pu(100);const n=Date.now()-this._blockhashInfo.lastFetch>=tF;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await pu(ZU/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=Jr(e),s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=bt(i,On($e()));if("error"in o)throw new jt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const A=e.serialize(),I=Nt.Buffer.from(A).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const k=r||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(k.innerInstructions=r.innerInstructions);const R=[I,k],C=await this._rpcRequest("simulateTransaction",R),P=bt(C,F9);if("error"in P)throw new Error("failed to simulate transaction: "+P.error.message);return P.result}let s;if(e instanceof gr){let M=e;s=new gr,s.feePayer=M.feePayer,s.instructions=e.instructions,s.nonceInfo=M.nonceInfo,s.signatures=M.signatures}else s=gr.populate(e),s._message=s._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(s.nonceInfo&&i)s.sign(...i);else{let M=this._disableBlockhashCaching;for(;;){const A=await this._blockhashWithExpiryBlockHeight(M);if(s.lastValidBlockHeight=A.lastValidBlockHeight,s.recentBlockhash=A.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const I=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(I)&&!this._blockhashInfo.transactionSignatures.includes(I)){this._blockhashInfo.simulatedSignatures.push(I);break}else M=!0}}const o=s._compile(),l=o.serialize(),d=s._serialize(l).toString("base64"),p={encoding:"base64",commitment:this.commitment};if(n){const M=(Array.isArray(n)?n:o.nonProgramIds()).map(A=>A.toBase58());p.accounts={encoding:"base64",addresses:M}}i&&(p.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(p.innerInstructions=r.innerInstructions);const v=[d,p],b=await this._rpcRequest("simulateTransaction",v),_=bt(b,F9);if("error"in _){let M;if("data"in _.error&&(M=_.error.data.logs,M&&Array.isArray(M))){const A=`
    `,I=A+M.join(A);console.error(_.error.message,I)}throw new xp({action:"simulate",signature:"",transactionMessage:_.error.message,logs:M})}return _.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const l=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=l.lastValidBlockHeight,e.recentBlockhash=l.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const u=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(u))o=!0;else{this._blockhashInfo.transactionSignatures.push(u);break}}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,r){const n=dr(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},s=r&&r.skipPreflight,i=s===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),s&&(n.skipPreflight=s),i&&(n.preflightCommitment=i);const o=[e,n],l=await this._rpcRequest("sendTransaction",o),u=bt(l,mhe);if("error"in u){let d;throw"data"in u.error&&(d=u.error.data.logs),new xp({action:s?"send":"simulate",signature:"",transactionMessage:u.error.message,logs:d})}return u.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var s;const n=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var i;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[n]||(i[n]=new Set);return s.add(r),()=>{s.delete(r),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const s=this._subscriptionsByHash[n];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[n],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(n,{...s,state:"subscribing"});const l=await this._rpcWebSocket.call(o,i);this._setSubscription(n,{...s,serverSubscriptionId:l,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[l]=s.callbacks,await this._updateSubscriptions()}catch(l){if(console.error(`Received ${l instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:l}),!r())return;this._setSubscription(n,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...s,state:"unsubscribing"}),this._setSubscription(n,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(l){if(l instanceof Error&&console.error(`${o} error:`,l.message),!r())return;this._setSubscription(n,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(s=>{try{s(...r)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=bt(e,Ffe);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,s=D9([e.method,r]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[s];Nr(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:s,config:i}=Jr(n),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=bt(e,qfe);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,s){const{commitment:i,config:o}=Jr(n),l=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:U9(s)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},l)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=bt(e,vhe);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=bt(e,Hfe);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=bt(e,Wfe);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,s){const i=r||this._commitment;if(i||n||s){let o={};n&&(o.encoding=n),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,s){const i=r||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,s)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=bt(e,Vfe);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const s=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,l)=>{if(o.type==="status"){r(o.result,l);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,r,n){const{commitment:s,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),l=this._makeSubscription({callback:(u,d)=>{r(u,d);try{this.removeSignatureListener(l)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return l}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=bt(e,Gfe);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Bu{constructor(e){this._keypair=void 0,this._keypair=e??O9()}static generate(){return new Bu(O9())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const s=e.slice(0,32),i=Ty(s);for(let o=0;o<32;o++)if(n[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Bu({publicKey:n,secretKey:e})}static fromSeed(e){const r=Ty(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Bu({publicKey:r,secretKey:n})}get publicKey(){return new Qe(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const pl=Object.freeze({CreateLookupTable:{index:0,layout:Ut([$t("instruction"),Fh("recentSlot"),Rr("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ut([$t("instruction")])},ExtendLookupTable:{index:2,layout:Ut([$t("instruction"),Fh(),Ii(pr(),Nc($t(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ut([$t("instruction")])},CloseLookupTable:{index:4,layout:Ut([$t("instruction")])}});class bhe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=$t("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(pl))if(o.index==n){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=$r(pl.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=$r(pl.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new Qe(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(y4.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class y4{constructor(){}static createLookupTable(e){const[r,n]=Qe.findProgramAddressSync([e.authority.toBuffer(),kU().encode(e.recentSlot)],this.programId),s=pl.CreateLookupTable,i=Ir(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Kr.programId,isSigner:!1,isWritable:!1}];return[new Zr({programId:this.programId,keys:o,data:i}),r]}static freezeLookupTable(e){const r=pl.FreezeLookupTable,n=Ir(r),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Zr({programId:this.programId,keys:s,data:n})}static extendLookupTable(e){const r=pl.ExtendLookupTable,n=Ir(r,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Kr.programId,isSigner:!1,isWritable:!1}),new Zr({programId:this.programId,keys:s,data:n})}static deactivateLookupTable(e){const r=pl.DeactivateLookupTable,n=Ir(r),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Zr({programId:this.programId,keys:s,data:n})}static closeLookupTable(e){const r=pl.CloseLookupTable,n=Ir(r),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Zr({programId:this.programId,keys:s,data:n})}}y4.programId=new Qe("AddressLookupTab1e1111111111111111111111111");class xhe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Rr("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ea))if(o.index==n){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=$r(Ea.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=$r(Ea.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=$r(Ea.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=$r(Ea.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(v4.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Ea=Object.freeze({RequestUnits:{index:0,layout:Ut([Rr("instruction"),$t("units"),$t("additionalFee")])},RequestHeapFrame:{index:1,layout:Ut([Rr("instruction"),$t("bytes")])},SetComputeUnitLimit:{index:2,layout:Ut([Rr("instruction"),$t("units")])},SetComputeUnitPrice:{index:3,layout:Ut([Rr("instruction"),Fh("microLamports")])}});class v4{constructor(){}static requestUnits(e){const r=Ea.RequestUnits,n=Ir(r,e);return new Zr({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=Ea.RequestHeapFrame,n=Ir(r,e);return new Zr({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=Ea.SetComputeUnitLimit,n=Ir(r,e);return new Zr({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=Ea.SetComputeUnitPrice,n=Ir(r,{microLamports:BigInt(e.microLamports)});return new Zr({keys:[],programId:this.programId,data:n})}}v4.programId=new Qe("ComputeBudget111111111111111111111111111111");const z9=64,H9=32,K9=64,W9=Ut([Rr("numSignatures"),Rr("padding"),fo("signatureOffset"),fo("signatureInstructionIndex"),fo("publicKeyOffset"),fo("publicKeyInstructionIndex"),fo("messageDataOffset"),fo("messageDataSize"),fo("messageInstructionIndex")]);class cw{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:s,instructionIndex:i}=e;Nr(r.length===H9,`Public Key must be ${H9} bytes but received ${r.length} bytes`),Nr(s.length===K9,`Signature must be ${K9} bytes but received ${s.length} bytes`);const o=W9.span,l=o+r.length,u=l+s.length,d=1,p=Nt.Buffer.alloc(u+n.length),v=i??65535;return W9.encode({numSignatures:d,padding:0,signatureOffset:l,signatureInstructionIndex:v,publicKeyOffset:o,publicKeyInstructionIndex:v,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:v},p),p.fill(r,o),p.fill(s,l),p.fill(n,u),new Zr({keys:[],programId:cw.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:s}=e;Nr(r.length===z9,`Private key must be ${z9} bytes but received ${r.length} bytes`);try{const i=Bu.fromSecretKey(r),o=i.publicKey.toBytes(),l=c4(n,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:l,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}cw.programId=new Qe("Ed25519SigVerify111111111111111111111111111");const _he=(t,e)=>{const r=nw.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};nw.utils.isValidPrivateKey;const She=nw.getPublicKey,V9=32,_x=20,G9=64,Ehe=11,Sx=Ut([Rr("numSignatures"),fo("signatureOffset"),Rr("signatureInstructionIndex"),fo("ethAddressOffset"),Rr("ethAddressInstructionIndex"),fo("messageDataOffset"),fo("messageDataSize"),Rr("messageInstructionIndex"),cn(20,"ethAddress"),cn(64,"signature"),Rr("recoveryId")]);class ph{constructor(){}static publicKeyToEthAddress(e){Nr(e.length===G9,`Public key must be ${G9} bytes but received ${e.length} bytes`);try{return Nt.Buffer.from(I9(dr(e))).slice(-_x)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:s,recoveryId:i,instructionIndex:o}=e;return ph.createInstructionWithEthAddress({ethAddress:ph.publicKeyToEthAddress(r),message:n,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:s,recoveryId:i,instructionIndex:o=0}=e;let l;typeof r=="string"?r.startsWith("0x")?l=Nt.Buffer.from(r.substr(2),"hex"):l=Nt.Buffer.from(r,"hex"):l=r,Nr(l.length===_x,`Address must be ${_x} bytes but received ${l.length} bytes`);const u=1+Ehe,d=u,p=u+l.length,v=p+s.length+1,b=1,_=Nt.Buffer.alloc(Sx.span+n.length);return Sx.encode({numSignatures:b,signatureOffset:p,signatureInstructionIndex:o,ethAddressOffset:d,ethAddressInstructionIndex:o,messageDataOffset:v,messageDataSize:n.length,messageInstructionIndex:o,signature:dr(s),ethAddress:dr(l),recoveryId:i},_),_.fill(dr(n),Sx.span),new Zr({keys:[],programId:ph.programId,data:_})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:s}=e;Nr(r.length===V9,`Private key must be ${V9} bytes but received ${r.length} bytes`);try{const i=dr(r),o=She(i,!1).slice(1),l=Nt.Buffer.from(I9(dr(n))),[u,d]=_he(l,i);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:u,recoveryId:d,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}ph.programId=new Qe("KeccakSecp256k11111111111111111111111111111");var fF;const hF=new Qe("StakeConfig11111111111111111111111111111111");class dF{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class ag{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}fF=ag;ag.default=new fF(0,0,Qe.default);class Mhe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=$t("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ai))if(o.index==n){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=$r(ai.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new dF(new Qe(r.staker),new Qe(r.withdrawer)),lockup:new ag(n.unixTimestamp,n.epoch,new Qe(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),$r(ai.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=$r(ai.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Qe(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:s,authorityOwner:i}=$r(ai.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new Qe(i),newAuthorizedPubkey:new Qe(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=$r(ai.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$r(ai.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=$r(ai.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$r(ai.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(uw.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ai=Object.freeze({Initialize:{index:0,layout:Ut([$t("instruction"),Cue(),Tue()])},Authorize:{index:1,layout:Ut([$t("instruction"),pr("newAuthorized"),$t("stakeAuthorizationType")])},Delegate:{index:2,layout:Ut([$t("instruction")])},Split:{index:3,layout:Ut([$t("instruction"),Ds("lamports")])},Withdraw:{index:4,layout:Ut([$t("instruction"),Ds("lamports")])},Deactivate:{index:5,layout:Ut([$t("instruction")])},Merge:{index:7,layout:Ut([$t("instruction")])},AuthorizeWithSeed:{index:8,layout:Ut([$t("instruction"),pr("newAuthorized"),$t("stakeAuthorizationType"),Su("authoritySeed"),pr("authorityOwner")])}}),Ahe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class uw{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:s}=e,i=s||ag.default,o=ai.Initialize,l=Ir(o,{authorized:{staker:dr(n.staker.toBuffer()),withdrawer:dr(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:dr(i.custodian.toBuffer())}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Uh,isSigner:!1,isWritable:!1}],programId:this.programId,data:l};return new Zr(u)}static createAccountWithSeed(e){const r=new gr;r.add(Kr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:s,lockup:i}=e;return r.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static createAccount(e){const r=new gr;r.add(Kr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:s,lockup:i}=e;return r.add(this.initialize({stakePubkey:n,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:s}=e,i=ai.Delegate,o=Ir(i);return new gr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:S1,isSigner:!1,isWritable:!1},{pubkey:hF,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,l=ai.Authorize,u=Ir(l,{newAuthorized:dr(s.toBuffer()),stakeAuthorizationType:i.index}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wa,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&d.push({pubkey:o,isSigner:!0,isWritable:!1}),new gr().add({keys:d,programId:this.programId,data:u})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:l,custodianPubkey:u}=e,d=ai.AuthorizeWithSeed,p=Ir(d,{newAuthorized:dr(o.toBuffer()),stakeAuthorizationType:l.index,authoritySeed:s,authorityOwner:dr(i.toBuffer())}),v=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:wa,isSigner:!1,isWritable:!1}];return u&&v.push({pubkey:u,isSigner:!0,isWritable:!1}),new gr().add({keys:v,programId:this.programId,data:p})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:s,lamports:i}=e,o=ai.Split,l=Ir(o,{lamports:i});return new Zr({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:l})}static split(e,r){const n=new gr;return n.add(Kr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:l,lamports:u}=e,d=new gr;return d.add(Kr.allocate({accountPubkey:i,basePubkey:o,seed:l,space:this.space,programId:this.programId})),r&&r>0&&d.add(Kr.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:r})),d.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:s,splitStakePubkey:i,lamports:u}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:s}=e,i=ai.Merge,o=Ir(i);return new gr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:S1,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:s,lamports:i,custodianPubkey:o}=e,l=ai.Withdraw,u=Ir(l,{lamports:i}),d=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:S1,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&d.push({pubkey:o,isSigner:!0,isWritable:!1}),new gr().add({keys:d,programId:this.programId,data:u})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,s=ai.Deactivate,i=Ir(s);return new gr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}uw.programId=new Qe("Stake11111111111111111111111111111111111111");uw.space=200;class pF{constructor(e,r,n,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=s}}class khe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=$t("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ma))if(o.index==n){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=$r(Ma.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new pF(new Qe(r.nodePubkey),new Qe(r.authorizedVoter),new Qe(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=$r(Ma.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Qe(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:s,voteAuthorizationType:i}}=$r(Ma.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Qe(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Qe(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=$r(Ma.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gd.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Ma=Object.freeze({InitializeAccount:{index:0,layout:Ut([$t("instruction"),Pue()])},Authorize:{index:1,layout:Ut([$t("instruction"),pr("newAuthorized"),$t("voteAuthorizationType")])},Withdraw:{index:3,layout:Ut([$t("instruction"),Ds("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ut([$t("instruction")])},AuthorizeWithSeed:{index:10,layout:Ut([$t("instruction"),Oue()])}}),Ihe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class gd{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:s}=e,i=Ma.InitializeAccount,o=Ir(i,{voteInit:{nodePubkey:dr(s.nodePubkey.toBuffer()),authorizedVoter:dr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:dr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),l={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Uh,isSigner:!1,isWritable:!1},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Zr(l)}static createAccount(e){const r=new gr;return r.add(Kr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Ma.Authorize,l=Ir(o,{newAuthorized:dr(s.toBuffer()),voteAuthorizationType:i.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new gr().add({keys:u,programId:this.programId,data:l})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:l}=e,u=Ma.AuthorizeWithSeed,d=Ir(u,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:dr(n.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:dr(i.toBuffer()),voteAuthorizationType:o.index}}),p=[{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new gr().add({keys:p,programId:this.programId,data:d})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:s,toPubkey:i}=e,o=Ma.Withdraw,l=Ir(o,{lamports:s}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new gr().add({keys:u,programId:this.programId,data:l})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return gd.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:s}=e,i=Ma.UpdateValidatorIdentity,o=Ir(i),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new gr().add({keys:l,programId:this.programId,data:o})}}gd.programId=new Qe("Vote111111111111111111111111111111111111111");gd.space=3762;const gF=new Qe("Va1idator1nfo111111111111111111111111111111"),Rhe=ot({name:mt(),website:Vt(mt()),details:Vt(mt()),iconUrl:Vt(mt()),keybaseUsername:Vt(mt())});class w4{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(gs(r)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new Qe(ms(r,0,Oa)),l=Sa(r)===1;s.push({publicKey:o,isSigner:l})}if(s[0].publicKey.equals(gF)&&s[1].isSigner){const i=Su().decode(Nt.Buffer.from(r)),o=JSON.parse(i);return IU(o,Rhe),new w4(s[1].publicKey,o)}return null}}const Che=new Qe("Vote111111111111111111111111111111111111111"),The=Ut([pr("nodePubkey"),pr("authorizedWithdrawer"),Rr("commission"),xi(),Ii(Ut([xi("slot"),$t("confirmationCount")]),Nc($t(),-8),"votes"),Rr("rootSlotValid"),xi("rootSlot"),xi(),Ii(Ut([xi("epoch"),pr("authorizedVoter")]),Nc($t(),-8),"authorizedVoters"),Ut([Ii(Ut([pr("authorizedPubkey"),xi("epochOfLastAuthorizedSwitch"),xi("targetEpoch")]),32,"buf"),xi("idx"),Rr("isEmpty")],"priorVoters"),xi(),Ii(Ut([xi("epoch"),xi("credits"),xi("prevCredits")]),Nc($t(),-8),"epochCredits"),Ut([xi("slot"),xi("timestamp")],"lastTimestamp")]);class b4{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=The.decode(dr(e),4);let s=n.rootSlot;return n.rootSlotValid||(s=null),new b4({nodePubkey:new Qe(n.nodePubkey),authorizedWithdrawer:new Qe(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:s,authorizedVoters:n.authorizedVoters.map(Phe),priorVoters:Ohe(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function Phe({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Qe(t)}}function Y9({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new Qe(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Ohe({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Y9),...t.slice(0,e).map(Y9)]}const Z9={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Nhe(t,e){const r=e===!1?"http":"https";if(!t)return Z9[r].devnet;const n=Z9[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Bhe(t,e,r,n){let s,i;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(s=r,i=n):i=r;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},l=await t.sendRawTransaction(e,o),u=i&&i.commitment,p=(await(s?t.confirmTransaction(s,u):t.confirmTransaction(l,u))).value;if(p.err)throw l!=null?new xp({action:o!=null&&o.skipPreflight?"send":"simulate",signature:l,transactionMessage:`Status: (${JSON.stringify(p)})`}):new Error(`Raw transaction ${l} failed (${JSON.stringify(p)})`);return l}const Lo=1e9,Lhe=Object.freeze(Object.defineProperty({__proto__:null,Account:kue,AddressLookupTableAccount:e5,AddressLookupTableInstruction:bhe,AddressLookupTableProgram:y4,Authorized:dF,BLOCKHASH_CACHE_TIMEOUT_MS:tF,BPF_LOADER_DEPRECATED_PROGRAM_ID:Iue,BPF_LOADER_PROGRAM_ID:Wue,BpfLoader:Vue,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ea,ComputeBudgetInstruction:xhe,ComputeBudgetProgram:v4,Connection:rc,Ed25519Program:cw,Enum:Mue,EpochSchedule:QU,FeeCalculatorLayout:JU,Keypair:Bu,LAMPORTS_PER_SOL:Lo,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:pl,Loader:Vu,Lockup:ag,MAX_SEED_LENGTH:VU,Message:Qo,MessageAccountKeys:bp,MessageV0:Wu,NONCE_ACCOUNT_LENGTH:Q6,NonceAccount:ow,PACKET_DATA_SIZE:Bc,PUBLIC_KEY_LENGTH:Oa,PublicKey:Qe,SIGNATURE_LENGTH_IN_BYTES:wp,SOLANA_SCHEMA:N0,STAKE_CONFIG_ID:hF,STAKE_INSTRUCTION_LAYOUTS:ai,SYSTEM_INSTRUCTION_LAYOUTS:en,SYSVAR_CLOCK_PUBKEY:wa,SYSVAR_EPOCH_SCHEDULE_PUBKEY:$ue,SYSVAR_INSTRUCTIONS_PUBKEY:Uue,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:_1,SYSVAR_RENT_PUBKEY:Uh,SYSVAR_REWARDS_PUBKEY:Fue,SYSVAR_SLOT_HASHES_PUBKEY:jue,SYSVAR_SLOT_HISTORY_PUBKEY:que,SYSVAR_STAKE_HISTORY_PUBKEY:S1,Secp256k1Program:ph,SendTransactionError:xp,SolanaJSONRPCError:jt,SolanaJSONRPCErrorCode:zue,StakeAuthorizationLayout:Ahe,StakeInstruction:Mhe,StakeProgram:uw,Struct:u4,SystemInstruction:Hue,SystemProgram:Kr,Transaction:gr,TransactionExpiredBlockheightExceededError:f4,TransactionExpiredNonceInvalidError:Xf,TransactionExpiredTimeoutError:h4,TransactionInstruction:Zr,TransactionMessage:hc,TransactionStatus:sl,VALIDATOR_INFO_KEY:gF,VERSION_PREFIX_MASK:iw,VOTE_PROGRAM_ID:Che,ValidatorInfo:w4,VersionedMessage:d4,VersionedTransaction:js,VoteAccount:b4,VoteAuthorizationLayout:Ihe,VoteInit:pF,VoteInstruction:khe,VoteProgram:gd,clusterApiUrl:Nhe,sendAndConfirmRawTransaction:Bhe,sendAndConfirmTransaction:X6},Symbol.toStringTag,{value:"Module"}));async function Dhe({privKey:t,keyExportEnabled:e,getProviderEngineProxy:r}){const n=()=>Bu.fromSecretKey(Buffer.from(t,"hex"));if(typeof t!="string")throw vt.invalidParams("privKey must be a string");const s=n();return{requestAccounts:async()=>[s.publicKey.toBase58()],getAccounts:async()=>[s.publicKey.toBase58()],getPublicKey:async()=>s.publicKey.toBase58(),getPrivateKey:async()=>{if(!e)throw vo.custom({message:"Private key export is disabled",code:4902});return t},getSecretKey:async()=>x1.encode(s.secretKey),signTransaction:async o=>{var l;if(!((l=o.params)!==null&&l!==void 0&&l.message))throw Zt.invalidParams("message");const u=o.params.message;return u.version!==void 0||u instanceof js?u.sign([s]):u.partialSign(s),u},signMessage:async o=>{var l;if(!((l=o.params)!==null&&l!==void 0&&l.message))throw Zt.invalidParams("message");return uD.sign.detached(o.params.message,s.secretKey)},signAndSendTransaction:async o=>{var l;if(!((l=o.params)!==null&&l!==void 0&&l.message))throw Zt.invalidParams("message");const u=r();if(!u)throw vo.custom({message:"Provider is not initialized",code:4902});const d=o.params.message;return d.version!==void 0||d instanceof js?d.sign([s]):d.partialSign(s),{signature:await u.request({method:"sendTransaction",params:[Buffer.from(d.serialize()).toString("base64"),{encoding:"base64",preflightCommitment:"confirmed"}]})}},signAllTransactions:async o=>{var l,u,d;if(!((l=o.params)!==null&&l!==void 0&&l.message)||!((u=o.params)!==null&&u!==void 0&&u.message.length))throw Zt.invalidParams("message");const p=(d=o.params)===null||d===void 0?void 0:d.message;for(const v of p||[]){const b=v;b.version!==void 0||b instanceof js?b.sign([s]):b.partialSign(s)}return p}}}var mF;class fw extends Kv{constructor({config:e,state:r}){super({config:e,state:r}),Ve(this,"PROVIDER_CHAIN_NAMESPACE",Gt.SOLANA)}async enable(){if(!this.state.privateKey)throw vo.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}getEd25519Key(e){return Ute(e).sk.toString("hex").padStart(128,"0")}async setupProvider(e){const{chainNamespace:r}=this.config.chainConfig;if(r!==this.PROVIDER_CHAIN_NAMESPACE)throw vt.incompatibleChainNameSpace("Invalid chain namespace");const n=await Dhe({privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this),keyExportEnabled:this.config.keyExportEnabled}),s=qE(n),i=new ps,{networkMiddleware:o}=U$(this.config.chainConfig);i.push(this.getChainSwitchMiddleware()),i.push(this.getAccountMiddleware()),i.push(s),i.push(o);const l=dp(i);this.updateProviderEngineProxy(l),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw vo.custom({message:"Provider is not initialized",code:4902});if(await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==e.privateKey){await this.setupProvider(e.privateKey);const n=await this._providerEngineProxy.request({method:"requestAccounts"});this.emit("accountsChanged",n)}}async switchChain(e){if(!this._providerEngineProxy)throw vo.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r});const n=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw vo.custom({message:"Provider is not initialized",code:4902});const e=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:r}=this.config;if(e!=="ok")throw vt.rpcConnectionError(`Failed to lookup network for following rpc target: ${r.rpcTarget}`);return this.update({chainId:r.chainId}),this.state.chainId!==r.chainId&&(this.emit("chainChanged",this.state.chainId),this.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return wae({addNewChainConfig:async n=>{if(!n.params)throw Zt.invalidParams("Missing request params");const{chainId:s,chainName:i,rpcUrls:o,blockExplorerUrls:l,nativeCurrency:u,iconUrls:d}=n.params;if(!s)throw Zt.invalidParams("Missing chainId in chainParams");if(!o||o.length===0)throw Zt.invalidParams("Missing rpcUrls in chainParams");if(!u)throw Zt.invalidParams("Missing nativeCurrency in chainParams");this.addChain({chainNamespace:Gt.SOLANA,chainId:s,ticker:(u==null?void 0:u.symbol)||"SOL",tickerName:(u==null?void 0:u.name)||"Solana",displayName:i,rpcTarget:o[0],blockExplorerUrl:(l==null?void 0:l[0])||"",decimals:(u==null?void 0:u.decimals)||9,logo:(d==null?void 0:d[0])||"https://images.toruswallet.io/sol.svg"})},switchSolanaChain:async n=>{if(!n.params)throw Zt.invalidParams("Missing request params");if(!n.params.chainId)throw Zt.invalidParams("Missing chainId");await this.switchChain(n.params)}})}getAccountMiddleware(){return bae({updatePrivatekey:async r=>{if(!r.params)throw Zt.invalidParams("Missing request params");if(!r.params.privateKey)throw Zt.invalidParams("Missing privateKey");const{privateKey:n}=r.params;await this.updateAccount({privateKey:n})}})}}mF=fw;Ve(fw,"getProviderInstance",async t=>{const e=new mF({config:{chainConfig:t.chainConfig}});return await e.setupProvider(t.privKey),e});class so{constructor(e){Lr(this,"provider");Lr(this,"getAccounts",async()=>{try{return await new Za(this.provider).requestAccounts()}catch(e){return e}});Lr(this,"getBalance",async()=>{try{const e=new Za(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new rc(r.rpcTarget),s=await e.requestAccounts();return(await n.getBalance(new Qe(s[0]))).toString()}catch(e){return e}});Lr(this,"signMessage",async()=>{try{const e=new Za(this.provider),r=Buffer.from("Test Signing Message ","utf8");return(await e.signMessage(r)).toString()}catch(e){return e}});Lr(this,"sendTransaction",async()=>{try{const e=new Za(this.provider),r=await e.requestAccounts(),n=await e.request({method:"solana_provider_config",params:[]}),i=await new rc(n.rpcTarget).getLatestBlockhash("finalized"),o=Kr.transfer({fromPubkey:new Qe(r[0]),toPubkey:new Qe(r[0]),lamports:.01*Lo}),l=new gr({blockhash:i.blockhash,lastValidBlockHeight:i.lastValidBlockHeight,feePayer:new Qe(r[0])}).add(o),{signature:u}=await e.signAndSendTransaction(l);return u}catch(e){return e}});Lr(this,"signTransaction",async()=>{var e;try{const r=new Za(this.provider),n=await r.request({method:"solana_provider_config",params:[]}),s=new rc(n.rpcTarget),i=await r.requestAccounts(),{blockhash:o}=await s.getRecentBlockhash("finalized"),l=Kr.transfer({fromPubkey:new Qe(i[0]),toPubkey:new Qe(i[0]),lamports:.01*Lo}),u=new gr({recentBlockhash:o,feePayer:new Qe(i[0])}).add(l);return((e=(await r.signTransaction(u)).signature)==null?void 0:e.toString())||""}catch(r){return r}});Lr(this,"sendVersionTransaction",async()=>{try{const e=new Za(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new rc(r.rpcTarget),s=await e.requestAccounts(),{blockhash:i}=await n.getLatestBlockhash("finalized"),o=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.01*Lo}),l=new hc({recentBlockhash:i,instructions:[o],payerKey:new Qe(s[0])}),u=new js(l.compileToV0Message()),{signature:d}=await e.signAndSendTransaction(u);return d}catch(e){return e}});Lr(this,"signVersionedTransaction",async()=>{try{const e=new Za(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new rc(r.rpcTarget),s=await e.requestAccounts(),{blockhash:i}=await n.getLatestBlockhash("finalized"),o=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.01*Lo}),l=new hc({recentBlockhash:i,instructions:[o],payerKey:new Qe(s[0])}),u=new js(l.compileToV0Message());return await e.signTransaction(u)}catch(e){throw e}});Lr(this,"signAllTransaction",async()=>{try{const e=new Za(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new rc(r.rpcTarget),s=await e.requestAccounts(),{blockhash:i}=await n.getLatestBlockhash("finalized"),o=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.01*Lo}),l=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.02*Lo}),u=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.03*Lo}),d=new gr({recentBlockhash:i,feePayer:new Qe(s[0])}).add(o),p=new gr({recentBlockhash:i,feePayer:new Qe(s[0])}).add(l),v=new gr({recentBlockhash:i,feePayer:new Qe(s[0])}).add(u);return await e.signAllTransactions([d,p,v])}catch(e){throw e}});Lr(this,"signAllVersionedTransaction",async()=>{try{const e=new Za(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new rc(r.rpcTarget),s=await e.requestAccounts(),{blockhash:i}=await n.getLatestBlockhash("finalized"),o=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.01*Lo}),l=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.02*Lo}),u=Kr.transfer({fromPubkey:new Qe(s[0]),toPubkey:new Qe(s[0]),lamports:.03*Lo}),d=new hc({recentBlockhash:i,payerKey:new Qe(s[0]),instructions:[o]}),p=new hc({recentBlockhash:i,payerKey:new Qe(s[0]),instructions:[l]}),v=new hc({recentBlockhash:i,payerKey:new Qe(s[0]),instructions:[u]}),b=new js(d.compileToV0Message()),_=new js(p.compileToV0Message()),M=new js(v.compileToV0Message()),A=await e.signAllTransactions([b,_,M]);return console.log(A),A}catch(e){throw e}});Lr(this,"getPrivateKey",async()=>await this.provider.request({method:"solanaPrivateKey"}));this.provider=e}}const $he="BPi5PB_UiIZ-cPz1GtV5i1I2iOSOHuimiXBI0e-Oe_u6X3oVAbCiAZOTEBtTXw4tsluTITPqA8zMsfxIKMjiqNQ";function Uhe(){const[t,e]=Ae.useState(null),[r,n]=Ae.useState(!1),[s,i]=Ae.useState(""),[o,l]=Ae.useState(!1),u=Ae.useRef(null),d=pN();Ae.useEffect(()=>{(async()=>{try{const k=ZS(3),R=new fw({config:{chainConfig:k}}),C=new D$({clientId:$he,web3AuthNetwork:El.SAPPHIRE_MAINNET,privateKeyProvider:R});e(C),await C.initModal(),C.connected&&(n(!0),await p(C.provider))}catch(k){console.error(k)}})()},[]),Ae.useEffect(()=>{const I=k=>{u.current&&!u.current.contains(k.target)&&l(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const p=async I=>{if(!I)return;const R=await new so(I).getAccounts(),C=v(R[0]);i(C)},v=I=>I?`${I.substring(0,4)}...${I.substring(I.length-4)}`:"",b=async()=>{if(!t){console.error("web3auth not initialized");return}const I=await t.connect();t.connected&&(n(!0),await p(I))},_=async()=>{if(!t){console.error("web3auth not initialized");return}await t.logout(),n(!1),i(""),l(!1)},M=()=>{l(!o)},A=()=>{d("/wallet"),l(!1)};return fe.jsxs("header",{className:"header",children:[fe.jsx("div",{className:"header-left",children:fe.jsx(YS,{to:"/",className:"logo",children:"Solana DApp"})}),fe.jsx("div",{className:"header-right",children:r?fe.jsxs("div",{className:"wallet-dropdown-container",ref:u,children:[fe.jsxs("button",{onClick:M,className:"wallet-address-button",children:[s,fe.jsx("span",{className:`dropdown-arrow ${o?"open":""}`,children:""})]}),o&&fe.jsxs("div",{className:"wallet-dropdown",children:[fe.jsx("button",{onClick:A,className:"dropdown-item",children:"Go to Wallet Settings"}),fe.jsx("button",{onClick:_,className:"dropdown-item",children:"Disconnect Wallet"})]})]}):fe.jsx("button",{onClick:b,className:"wallet-button",children:"Wallet Connect"})})]})}function Fhe(){return fe.jsxs(fe.Fragment,{children:[fe.jsxs("div",{className:"hero-section",children:[fe.jsx("h1",{children:"Blockchain & iBeacon Integration"}),fe.jsx("p",{className:"hero-tagline",children:"Revolutionizing proximity-based transactions through seamless blockchain integration"})]}),fe.jsxs("div",{className:"intro-section",children:[fe.jsx("h2",{children:"The Framework"}),fe.jsx("p",{children:"A comprehensive solution that combines blockchain technology with Bluetooth Low Energy (BLE) and iBeacon standards to create secure, user-friendly proximity-triggered financial transactions."})]}),fe.jsxs("div",{className:"features-grid",children:[fe.jsxs("div",{className:"feature-card",children:[fe.jsx("h3",{children:"MPC Wallet"}),fe.jsx("p",{children:"Distributed key management with threshold signatures for enhanced security while maintaining simplicity"})]}),fe.jsxs("div",{className:"feature-card",children:[fe.jsx("h3",{children:"Smart Contracts"}),fe.jsx("p",{children:"Conditional payment logic for secure transactions based on specific proximity events"})]}),fe.jsxs("div",{className:"feature-card",children:[fe.jsx("h3",{children:"iBeacon Integration"}),fe.jsx("p",{children:"Precise location-based service delivery through advanced proximity technology"})]})]})]})}let jhe=function(t){return t.ETH_SEND_TRANSACTION="eth_sendTransaction",t.ETH_SIGN_TRANSACTION="eth_signTransaction",t.ETH_SIGN="eth_sign",t.PERSONAL_SIGN="personal_sign",t.ETH_SIGN_TYPED_DATA="eth_signTypedData",t.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",t.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",t.ADD_ETHEREUM_CHAIN="wallet_addEthereumChain",t.SWITCH_ETHEREUM_CHAIN="wallet_switchEthereumChain",t}({}),qhe=function(t){return t.SIGN_TRANSACTION="solana_signTransaction",t.SIGN_MESSAGE="solana_signMessage",t}({}),zhe=function(t){return t.ETH_CHAIN_CHANGED="chainChanged",t.ETH_ACCOUNTS_CHANGED="accountsChanged",t}({}),Hhe=function(t){return t.SOL_CHAIN_CHANGED="chainChanged",t.SOL_ACCOUNTS_CHANGED="accountsChanged",t}({});const i5={"0x65":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x66":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x67":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},Khe=t=>{const{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};function J9(t){return new Promise((e,r)=>{try{const n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}})}async function Whe(t){const{document:e}=t;let r=e.querySelector('head > link[rel="shortcut icon"]');return r&&await J9(r.href)||(r=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href)||null,r&&await J9(r.href))?r.href:null}const Vhe=async()=>({name:Khe(window),icon:await Whe(window)}),Ghe=t=>{const e=[];return t.forEach(r=>{const[n]=r.split(":");e.includes(n)||e.push(n)}),e},Yhe=t=>{switch(t){case Gt.EIP155:return Object.values(jhe);case Gt.SOLANA:return Object.values(qhe);default:throw new Error(`No default methods for namespace: ${t}`)}},Zhe=t=>{switch(t){case Gt.EIP155:return Object.values(zhe);case Gt.SOLANA:return Object.values(Hhe);default:throw new Error(`No default events for namespace: ${t}`)}},Jhe=t=>{const e=Ghe(t);return Object.fromEntries(e.map(r=>[r,{methods:Yhe(r),chains:t.filter(n=>n.startsWith(r)),events:Zhe(r)}]))},Xhe=async(t,e,r)=>{if(t===Gt.EIP155||t===Gt.SOLANA){const n=await Vhe(),s={walletConnectInitOptions:{projectId:r,relayUrl:"wss://relay.walletconnect.com",metadata:{name:n.name,description:n.name,url:window.location.origin,icons:[n.icon||""]}}},i=e.map(l=>`${t}:${t===Gt.SOLANA?i5[l]:parseInt(l,16)}`),o={optionalNamespaces:Jhe(i)};return{adapterSettings:s,loginSettings:o}}throw new Error(`Unsupported chain namespace: ${t}`)};var yt={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s5=function(t,e){return s5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},s5(t,e)};function Qhe(t,e){s5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var o5=function(){return o5=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},o5.apply(this,arguments)};function ede(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function tde(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function rde(t,e){return function(r,n){e(r,n,t)}}function nde(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ide(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(p){try{d(n.next(p))}catch(v){o(v)}}function u(p){try{d(n.throw(p))}catch(v){o(v)}}function d(p){p.done?i(p.value):s(p.value).then(l,u)}d((n=n.apply(t,e||[])).next())})}function sde(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(p){return u([d,p])}}function u(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],s=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ode(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function ade(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function a5(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yF(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function lde(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yF(arguments[e]));return t}function cde(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n}function Sp(t){return this instanceof Sp?(this.v=t,this):new Sp(t)}function ude(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(b){n[b]&&(s[b]=function(_){return new Promise(function(M,A){i.push([b,_,M,A])>1||l(b,_)})})}function l(b,_){try{u(n[b](_))}catch(M){v(i[0][3],M)}}function u(b){b.value instanceof Sp?Promise.resolve(b.value.v).then(d,p):v(i[0][2],b)}function d(b){l("next",b)}function p(b){l("throw",b)}function v(b,_){b(_),i.shift(),i.length&&l(i[0][0],i[0][1])}}function fde(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Sp(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function hde(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof a5=="function"?a5(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(l,u){o=t[i](o),s(l,u,o.done,o.value)})}}function s(i,o,l,u){Promise.resolve(u).then(function(d){i({value:d,done:l})},o)}}function dde(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function pde(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function gde(t){return t&&t.__esModule?t:{default:t}}function mde(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function yde(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const vde=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return o5},__asyncDelegator:fde,__asyncGenerator:ude,__asyncValues:hde,__await:Sp,__awaiter:ide,__classPrivateFieldGet:mde,__classPrivateFieldSet:yde,__createBinding:ode,__decorate:tde,__exportStar:ade,__extends:Qhe,__generator:sde,__importDefault:gde,__importStar:pde,__makeTemplateObject:dde,__metadata:nde,__param:rde,__read:yF,__rest:ede,__spread:lde,__spreadArrays:cde,__values:a5},Symbol.toStringTag,{value:"Module"})),lg=Wy(vde);var Ex={},Yd={},X9;function wde(){if(X9)return Yd;X9=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Yd.delay=t,Yd}var iu={},Mx={},su={},Q9;function bde(){return Q9||(Q9=1,Object.defineProperty(su,"__esModule",{value:!0}),su.ONE_THOUSAND=su.ONE_HUNDRED=void 0,su.ONE_HUNDRED=100,su.ONE_THOUSAND=1e3),su}var Ax={},eR;function xde(){return eR||(eR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Ax)),Ax}var tR;function vF(){return tR||(tR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lg;e.__exportStar(bde(),t),e.__exportStar(xde(),t)}(Mx)),Mx}var rR;function _de(){if(rR)return iu;rR=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.fromMiliseconds=iu.toMiliseconds=void 0;const t=vF();function e(n){return n*t.ONE_THOUSAND}iu.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return iu.fromMiliseconds=r,iu}var nR;function Sde(){return nR||(nR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lg;e.__exportStar(wde(),t),e.__exportStar(_de(),t)}(Ex)),Ex}var Mf={},iR;function Ede(){if(iR)return Mf;iR=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const s=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:s})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Mf.Watch=t,Mf.default=t,Mf}var kx={},Zd={},sR;function Mde(){if(sR)return Zd;sR=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.IWatch=void 0;class t{}return Zd.IWatch=t,Zd}var oR;function Ade(){return oR||(oR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),lg.__exportStar(Mde(),t)}(kx)),kx}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lg;e.__exportStar(Sde(),t),e.__exportStar(Ede(),t),e.__exportStar(Ade(),t),e.__exportStar(vF(),t)})(yt);class ff{}let kde=class extends ff{constructor(e){super()}};const aR=yt.FIVE_SECONDS,md={pulse:"heartbeat_pulse"};let Ide=class wF extends kde{constructor(e){super(e),this.events=new Tn.EventEmitter,this.interval=aR,this.interval=(e==null?void 0:e.interval)||aR}static async init(e){const r=new wF(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),yt.toMiliseconds(this.interval))}pulse(){this.events.emit(md.pulse)}};const Rde=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Cde=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Tde=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Pde(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Ode(t);return}return e}function Ode(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Rm(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Tde.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Rde.test(t)||Cde.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Pde)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function Nde(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ni(t,...e){try{return Nde(t(...e))}catch(r){return Promise.reject(r)}}function Bde(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Lde(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function E1(t){if(Bde(t))return String(t);if(Lde(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return E1(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const l5="base64:";function Dde(t){return typeof t=="string"?t:l5+Fde(t)}function $de(t){return typeof t!="string"||!t.startsWith(l5)?t:Ude(t.slice(l5.length))}function Ude(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Fde(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function hs(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function jde(...t){return hs(t.join(":"))}function Cm(t){return t=hs(t),t?t+":":""}function qde(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function zde(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Hde="memory",Kde=()=>{const t=new Map;return{name:Hde,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Wde(t={}){const e={mounts:{"":t.driver||Kde()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=d=>{for(const p of e.mountpoints)if(d.startsWith(p))return{base:p,relativeKey:d.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:d,driver:e.mounts[""]}},n=(d,p)=>e.mountpoints.filter(v=>v.startsWith(d)||p&&d.startsWith(v)).map(v=>({relativeBase:d.length>v.length?d.slice(v.length):void 0,mountpoint:v,driver:e.mounts[v]})),s=(d,p)=>{if(e.watching){p=hs(p);for(const v of e.watchListeners)v(d,p)}},i=async()=>{if(!e.watching){e.watching=!0;for(const d in e.mounts)e.unwatch[d]=await lR(e.mounts[d],s,d)}},o=async()=>{if(e.watching){for(const d in e.unwatch)await e.unwatch[d]();e.unwatch={},e.watching=!1}},l=(d,p,v)=>{const b=new Map,_=M=>{let A=b.get(M.base);return A||(A={driver:M.driver,base:M.base,items:[]},b.set(M.base,A)),A};for(const M of d){const A=typeof M=="string",I=hs(A?M:M.key),k=A?void 0:M.value,R=A||!M.options?p:{...p,...M.options},C=r(I);_(C).items.push({key:I,value:k,relativeKey:C.relativeKey,options:R})}return Promise.all([...b.values()].map(M=>v(M))).then(M=>M.flat())},u={hasItem(d,p={}){d=hs(d);const{relativeKey:v,driver:b}=r(d);return ni(b.hasItem,v,p)},getItem(d,p={}){d=hs(d);const{relativeKey:v,driver:b}=r(d);return ni(b.getItem,v,p).then(_=>Rm(_))},getItems(d,p={}){return l(d,p,v=>v.driver.getItems?ni(v.driver.getItems,v.items.map(b=>({key:b.relativeKey,options:b.options})),p).then(b=>b.map(_=>({key:jde(v.base,_.key),value:Rm(_.value)}))):Promise.all(v.items.map(b=>ni(v.driver.getItem,b.relativeKey,b.options).then(_=>({key:b.key,value:Rm(_)})))))},getItemRaw(d,p={}){d=hs(d);const{relativeKey:v,driver:b}=r(d);return b.getItemRaw?ni(b.getItemRaw,v,p):ni(b.getItem,v,p).then(_=>$de(_))},async setItem(d,p,v={}){if(p===void 0)return u.removeItem(d);d=hs(d);const{relativeKey:b,driver:_}=r(d);_.setItem&&(await ni(_.setItem,b,E1(p),v),_.watch||s("update",d))},async setItems(d,p){await l(d,p,async v=>{if(v.driver.setItems)return ni(v.driver.setItems,v.items.map(b=>({key:b.relativeKey,value:E1(b.value),options:b.options})),p);v.driver.setItem&&await Promise.all(v.items.map(b=>ni(v.driver.setItem,b.relativeKey,E1(b.value),b.options)))})},async setItemRaw(d,p,v={}){if(p===void 0)return u.removeItem(d,v);d=hs(d);const{relativeKey:b,driver:_}=r(d);if(_.setItemRaw)await ni(_.setItemRaw,b,p,v);else if(_.setItem)await ni(_.setItem,b,Dde(p),v);else return;_.watch||s("update",d)},async removeItem(d,p={}){typeof p=="boolean"&&(p={removeMeta:p}),d=hs(d);const{relativeKey:v,driver:b}=r(d);b.removeItem&&(await ni(b.removeItem,v,p),(p.removeMeta||p.removeMata)&&await ni(b.removeItem,v+"$",p),b.watch||s("remove",d))},async getMeta(d,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),d=hs(d);const{relativeKey:v,driver:b}=r(d),_=Object.create(null);if(b.getMeta&&Object.assign(_,await ni(b.getMeta,v,p)),!p.nativeOnly){const M=await ni(b.getItem,v+"$",p).then(A=>Rm(A));M&&typeof M=="object"&&(typeof M.atime=="string"&&(M.atime=new Date(M.atime)),typeof M.mtime=="string"&&(M.mtime=new Date(M.mtime)),Object.assign(_,M))}return _},setMeta(d,p,v={}){return this.setItem(d+"$",p,v)},removeMeta(d,p={}){return this.removeItem(d+"$",p)},async getKeys(d,p={}){var I;d=Cm(d);const v=n(d,!0);let b=[];const _=[];let M=!0;for(const k of v){(I=k.driver.flags)!=null&&I.maxDepth||(M=!1);const R=await ni(k.driver.getKeys,k.relativeBase,p);for(const C of R){const P=k.mountpoint+hs(C);b.some(N=>P.startsWith(N))||_.push(P)}b=[k.mountpoint,...b.filter(C=>!C.startsWith(k.mountpoint))]}const A=p.maxDepth!==void 0&&!M;return _.filter(k=>(!A||qde(k,p.maxDepth))&&zde(k,d))},async clear(d,p={}){d=Cm(d),await Promise.all(n(d,!1).map(async v=>{if(v.driver.clear)return ni(v.driver.clear,v.relativeBase,p);if(v.driver.removeItem){const b=await v.driver.getKeys(v.relativeBase||"",p);return Promise.all(b.map(_=>v.driver.removeItem(_,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(d=>cR(d)))},async watch(d){return await i(),e.watchListeners.push(d),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==d),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(d,p){if(d=Cm(d),d&&e.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(e.mountpoints.push(d),e.mountpoints.sort((v,b)=>b.length-v.length)),e.mounts[d]=p,e.watching&&Promise.resolve(lR(p,s,d)).then(v=>{e.unwatch[d]=v}).catch(console.error),u},async unmount(d,p=!0){var v,b;d=Cm(d),!(!d||!e.mounts[d])&&(e.watching&&d in e.unwatch&&((b=(v=e.unwatch)[d])==null||b.call(v),delete e.unwatch[d]),p&&await cR(e.mounts[d]),e.mountpoints=e.mountpoints.filter(_=>_!==d),delete e.mounts[d])},getMount(d=""){d=hs(d)+":";const p=r(d);return{driver:p.driver,base:p.base}},getMounts(d="",p={}){return d=hs(d),n(d,p.parents).map(b=>({driver:b.driver,base:b.mountpoint}))},keys:(d,p={})=>u.getKeys(d,p),get:(d,p={})=>u.getItem(d,p),set:(d,p,v={})=>u.setItem(d,p,v),has:(d,p={})=>u.hasItem(d,p),del:(d,p={})=>u.removeItem(d,p),remove:(d,p={})=>u.removeItem(d,p)};return u}function lR(t,e,r){return t.watch?t.watch((n,s)=>e(n,r+s)):()=>{}}async function cR(t){typeof t.dispose=="function"&&await ni(t.dispose)}function hf(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function bF(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=hf(r);return(s,i)=>n.then(o=>i(o.transaction(e,s).objectStore(e)))}let Ix;function cg(){return Ix||(Ix=bF("keyval-store","keyval")),Ix}function uR(t,e=cg()){return e("readonly",r=>hf(r.get(t)))}function Vde(t,e,r=cg()){return r("readwrite",n=>(n.put(e,t),hf(n.transaction)))}function Gde(t,e=cg()){return e("readwrite",r=>(r.delete(t),hf(r.transaction)))}function Yde(t=cg()){return t("readwrite",e=>(e.clear(),hf(e.transaction)))}function Zde(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},hf(t.transaction)}function Jde(t=cg()){return t("readonly",e=>{if(e.getAllKeys)return hf(e.getAllKeys());const r=[];return Zde(e,n=>r.push(n.key)).then(()=>r)})}const Xde=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),Qde=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function jh(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Qde(t)}catch{return t}}function Gu(t){return typeof t=="string"?t:Xde(t)||""}const e0e="idb-keyval";var t0e=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=s=>e+s;let n;return t.dbName&&t.storeName&&(n=bF(t.dbName,t.storeName)),{name:e0e,options:t,async hasItem(s){return!(typeof await uR(r(s),n)>"u")},async getItem(s){return await uR(r(s),n)??null},setItem(s,i){return Vde(r(s),i,n)},removeItem(s){return Gde(r(s),n)},getKeys(){return Jde(n)},clear(){return Yde(n)}}};const r0e="WALLET_CONNECT_V2_INDEXED_DB",n0e="keyvaluestorage";let i0e=class{constructor(){this.indexedDb=Wde({driver:t0e({dbName:r0e,storeName:n0e})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Gu(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},M1={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Rx<"u"&&Rx.localStorage?M1.exports=Rx.localStorage:typeof window<"u"&&window.localStorage?M1.exports=window.localStorage:M1.exports=new e})();function s0e(t){var e;return[t[0],jh((e=t[1])!=null?e:"")]}let o0e=class{constructor(){this.localStorage=M1.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(s0e)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return jh(r)}async setItem(e,r){this.localStorage.setItem(e,Gu(r))}async removeItem(e){this.localStorage.removeItem(e)}};const a0e="wc_storage_version",fR=1,l0e=async(t,e,r)=>{const n=a0e,s=await e.getItem(n);if(s&&s>=fR){r(e);return}const i=await t.getKeys();if(!i.length){r(e);return}const o=[];for(;i.length;){const l=i.shift();if(!l)continue;const u=l.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const d=await t.getItem(l);await e.setItem(l,d),o.push(l)}}await e.setItem(n,fR),r(e),c0e(t,o)},c0e=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let u0e=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new o0e;this.storage=e;try{const r=new i0e;l0e(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function f0e(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var h0e=d0e;function d0e(t,e,r){var n=r&&r.stringify||f0e,s=1;if(typeof t=="object"&&t!==null){var i=e.length+s;if(i===1)return t;var o=new Array(i);o[0]=n(t);for(var l=1;l<i;l++)o[l]=n(e[l]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var d="",p=1-s,v=-1,b=t&&t.length||0,_=0;_<b;){if(t.charCodeAt(_)===37&&_+1<b){switch(v=v>-1?v:0,t.charCodeAt(_+1)){case 100:case 102:if(p>=u||e[p]==null)break;v<_&&(d+=t.slice(v,_)),d+=Number(e[p]),v=_+2,_++;break;case 105:if(p>=u||e[p]==null)break;v<_&&(d+=t.slice(v,_)),d+=Math.floor(Number(e[p])),v=_+2,_++;break;case 79:case 111:case 106:if(p>=u||e[p]===void 0)break;v<_&&(d+=t.slice(v,_));var M=typeof e[p];if(M==="string"){d+="'"+e[p]+"'",v=_+2,_++;break}if(M==="function"){d+=e[p].name||"<anonymous>",v=_+2,_++;break}d+=n(e[p]),v=_+2,_++;break;case 115:if(p>=u)break;v<_&&(d+=t.slice(v,_)),d+=String(e[p]),v=_+2,_++;break;case 37:v<_&&(d+=t.slice(v,_)),d+="%",v=_+2,_++,p--;break}++p}++_}return v===-1?t:(v<b&&(d+=t.slice(v)),d)}const hR=h0e;var Uf=Na;const Ep=S0e().console||{},p0e={mapHttpRequest:Tm,mapHttpResponse:Tm,wrapRequestSerializer:Cx,wrapResponseSerializer:Cx,wrapErrorSerializer:Cx,req:Tm,res:Tm,err:w0e};function g0e(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Na(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||Ep;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=g0e(t.browser.serialize,n);let i=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const l=t.level||"info",u=Object.create(r);u.log||(u.log=Mp),Object.defineProperty(u,"levelVal",{get:p}),Object.defineProperty(u,"level",{get:v,set:b});const d={transmit:e,serialize:s,asObject:t.browser.asObject,levels:o,timestamp:b0e(t)};u.levels=Na.levels,u.level=l,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=Mp,u.serializers=n,u._serialize=s,u._stdErrSerialize=i,u.child=_,e&&(u._logEvent=c5());function p(){return this.level==="silent"?1/0:this.levels.values[this.level]}function v(){return this._level}function b(M){if(M!=="silent"&&!this.levels.values[M])throw Error("unknown level "+M);this._level=M,Af(d,u,"error","log"),Af(d,u,"fatal","error"),Af(d,u,"warn","error"),Af(d,u,"info","log"),Af(d,u,"debug","log"),Af(d,u,"trace","log")}function _(M,A){if(!M)throw new Error("missing bindings for child Pino");A=A||{},s&&M.serializers&&(A.serializers=M.serializers);const I=A.serializers;if(s&&I){var k=Object.assign({},n,I),R=t.browser.serialize===!0?Object.keys(k):s;delete M.serializers,hw([M],R,k,this._stdErrSerialize)}function C(P){this._childLevel=(P._childLevel|0)+1,this.error=kf(P,M,"error"),this.fatal=kf(P,M,"fatal"),this.warn=kf(P,M,"warn"),this.info=kf(P,M,"info"),this.debug=kf(P,M,"debug"),this.trace=kf(P,M,"trace"),k&&(this.serializers=k,this._serialize=R),e&&(this._logEvent=c5([].concat(P._logEvent.bindings,M)))}return C.prototype=this,new C(this)}return u}Na.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Na.stdSerializers=p0e;Na.stdTimeFunctions=Object.assign({},{nullTime:xF,epochTime:_F,unixTime:x0e,isoTime:_0e});function Af(t,e,r,n){const s=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Mp:s[r]?s[r]:Ep[r]||Ep[n]||Mp,m0e(t,e,r)}function m0e(t,e,r){!t.transmit&&e[r]===Mp||(e[r]=function(n){return function(){const i=t.timestamp(),o=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Ep?Ep:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(t.serialize&&!t.asObject&&hw(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(l,y0e(this,r,o,i)):n.apply(l,o),t.transmit){const d=t.transmit.level||e.level,p=Na.levels.values[d],v=Na.levels.values[r];if(v<p)return;v0e(this,{ts:i,methodLevel:r,methodValue:v,transmitValue:Na.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function y0e(t,e,r,n){t._serialize&&hw(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let i=s[0];const o={};n&&(o.time=n),o.level=Na.levels.values[e];let l=(t._childLevel|0)+1;if(l<1&&(l=1),i!==null&&typeof i=="object"){for(;l--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?hR(s.shift(),s):void 0}else typeof i=="string"&&(i=hR(s.shift(),s));return i!==void 0&&(o.msg=i),o}function hw(t,e,r,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=Na.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s]))for(const i in t[s])e&&e.indexOf(i)>-1&&i in r&&(t[s][i]=r[i](t[s][i]))}function kf(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return t[r].apply(this,n)}}function v0e(t,e,r){const n=e.send,s=e.ts,i=e.methodLevel,o=e.methodValue,l=e.val,u=t._logEvent.bindings;hw(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=r.filter(function(d){return u.indexOf(d)===-1}),t._logEvent.level.label=i,t._logEvent.level.value=o,n(i,t._logEvent,l),t._logEvent=c5(u)}function c5(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function w0e(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function b0e(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?xF:_F}function Tm(){return{}}function Cx(t){return t}function Mp(){}function xF(){return!1}function _F(){return Date.now()}function x0e(){return Math.round(Date.now()/1e3)}function _0e(){return new Date(Date.now()).toISOString()}function S0e(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const dw=Zn(Uf),E0e={level:"info"},ug="custom_context",x4=1e3*1024;let M0e=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},dR=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new M0e(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},SF=class{constructor(e,r=x4){this.level=e??"error",this.levelValue=Uf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new dR(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Uf.levels.values.error?console.error(e):r===Uf.levels.values.warn?console.warn(e):r===Uf.levels.values.debug?console.debug(e):r===Uf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Gu({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new dR(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Gu({extraMetadata:e})),new Blob(r,{type:"application/json"})}},A0e=class{constructor(e,r=x4){this.baseChunkLogger=new SF(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},k0e=class{constructor(e,r=x4){this.baseChunkLogger=new SF(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var I0e=Object.defineProperty,R0e=Object.defineProperties,C0e=Object.getOwnPropertyDescriptors,pR=Object.getOwnPropertySymbols,T0e=Object.prototype.hasOwnProperty,P0e=Object.prototype.propertyIsEnumerable,gR=(t,e,r)=>e in t?I0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Oy=(t,e)=>{for(var r in e||(e={}))T0e.call(e,r)&&gR(t,r,e[r]);if(pR)for(var r of pR(e))P0e.call(e,r)&&gR(t,r,e[r]);return t},Ny=(t,e)=>R0e(t,C0e(e));function _4(t){return Ny(Oy({},t),{level:(t==null?void 0:t.level)||E0e.level})}function O0e(t,e=ug){return t[e]||""}function N0e(t,e,r=ug){return t[r]=e,t}function Cs(t,e=ug){let r="";return typeof t.bindings>"u"?r=O0e(t,e):r=t.bindings().context||"",r}function B0e(t,e,r=ug){const n=Cs(t,r);return n.trim()?`${n}/${e}`:e}function cs(t,e,r=ug){const n=B0e(t,e,r),s=t.child({context:n});return N0e(s,n,r)}function L0e(t){var e,r;const n=new A0e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:dw(Ny(Oy({},t.opts),{level:"trace",browser:Ny(Oy({},(r=t.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function D0e(t){var e;const r=new k0e((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:dw(Ny(Oy({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function $0e(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?L0e(t):D0e(t)}var U0e=Object.defineProperty,F0e=(t,e,r)=>e in t?U0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mR=(t,e,r)=>F0e(t,typeof e!="symbol"?e+"":e,r);let j0e=class extends ff{constructor(e){super(),this.opts=e,mR(this,"protocol","wc"),mR(this,"version",2)}};var q0e=Object.defineProperty,z0e=(t,e,r)=>e in t?q0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,H0e=(t,e,r)=>z0e(t,e+"",r);class K0e extends ff{constructor(e,r){super(),this.core=e,this.logger=r,H0e(this,"records",new Map)}}let W0e=class{constructor(e,r){this.logger=e,this.core=r}};class V0e extends ff{constructor(e,r){super(),this.relayer=e,this.logger=r}}let G0e=class extends ff{constructor(e){super()}},Y0e=class{constructor(e,r,n,s){this.core=e,this.logger=r,this.name=n}},Z0e=class extends ff{constructor(e,r){super(),this.relayer=e,this.logger=r}},J0e=class extends ff{constructor(e,r){super(),this.core=e,this.logger=r}},X0e=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}};class Q0e{constructor(e,r){this.projectId=e,this.logger=r}}let epe=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var tpe=Object.defineProperty,rpe=(t,e,r)=>e in t?tpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yR=(t,e,r)=>rpe(t,typeof e!="symbol"?e+"":e,r);let npe=class{constructor(e){this.opts=e,yR(this,"protocol","wc"),yR(this,"version",2)}},ipe=class{constructor(e){this.client=e}};function spe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function EF(t,...e){if(!spe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ope(t,e){EF(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const If=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function ape(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function MF(t){return typeof t=="string"&&(t=ape(t)),EF(t),t}let lpe=class{clone(){return this._cloneInto()}};function cpe(t){const e=n=>t().update(MF(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function AF(t=32){if(If&&typeof If.getRandomValues=="function")return If.getRandomValues(new Uint8Array(t));if(If&&typeof If.randomBytes=="function")return If.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function upe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),l=Number(r&i),u=n?4:0,d=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+d,l,n)}let fpe=class extends lpe{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Tx(this.buffer)}update(e){vR(this);const{view:r,buffer:n,blockLen:s}=this;e=MF(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const u=Tx(e);for(;s<=i-o;o+=s)this.process(u,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vR(this),ope(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let v=o;v<s;v++)r[v]=0;upe(n,s-8,BigInt(this.length*8),i),this.process(n,0);const l=Tx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)l.setUint32(4*v,p[v],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:l}=this;return e.length=s,e.pos=l,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};const Pm=BigInt(2**32-1),u5=BigInt(32);function kF(t,e=!1){return e?{h:Number(t&Pm),l:Number(t>>u5&Pm)}:{h:Number(t>>u5&Pm)|0,l:Number(t&Pm)|0}}function hpe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=kF(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const dpe=(t,e)=>BigInt(t>>>0)<<u5|BigInt(e>>>0),ppe=(t,e,r)=>t>>>r,gpe=(t,e,r)=>t<<32-r|e>>>r,mpe=(t,e,r)=>t>>>r|e<<32-r,ype=(t,e,r)=>t<<32-r|e>>>r,vpe=(t,e,r)=>t<<64-r|e>>>r-32,wpe=(t,e,r)=>t>>>r-32|e<<64-r,bpe=(t,e)=>e,xpe=(t,e)=>t,_pe=(t,e,r)=>t<<r|e>>>32-r,Spe=(t,e,r)=>e<<r|t>>>32-r,Epe=(t,e,r)=>e<<r-32|t>>>64-r,Mpe=(t,e,r)=>t<<r-32|e>>>64-r;function Ape(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}const kpe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),Ipe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Rpe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Cpe=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0,Tpe=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0),Ppe=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0,fr={fromBig:kF,split:hpe,toBig:dpe,shrSH:ppe,shrSL:gpe,rotrSH:mpe,rotrSL:ype,rotrBH:vpe,rotrBL:wpe,rotr32H:bpe,rotr32L:xpe,rotlSH:_pe,rotlSL:Spe,rotlBH:Epe,rotlBL:Mpe,add:Ape,add3L:kpe,add3H:Ipe,add4L:Rpe,add4H:Cpe,add5H:Ppe,add5L:Tpe},[Ope,Npe]=fr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Jl=new Uint32Array(80),Xl=new Uint32Array(80);let Bpe=class extends fpe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:s,Ch:i,Cl:o,Dh:l,Dl:u,Eh:d,El:p,Fh:v,Fl:b,Gh:_,Gl:M,Hh:A,Hl:I}=this;return[e,r,n,s,i,o,l,u,d,p,v,b,_,M,A,I]}set(e,r,n,s,i,o,l,u,d,p,v,b,_,M,A,I){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=u|0,this.Eh=d|0,this.El=p|0,this.Fh=v|0,this.Fl=b|0,this.Gh=_|0,this.Gl=M|0,this.Hh=A|0,this.Hl=I|0}process(e,r){for(let C=0;C<16;C++,r+=4)Jl[C]=e.getUint32(r),Xl[C]=e.getUint32(r+=4);for(let C=16;C<80;C++){const P=Jl[C-15]|0,N=Xl[C-15]|0,U=fr.rotrSH(P,N,1)^fr.rotrSH(P,N,8)^fr.shrSH(P,N,7),q=fr.rotrSL(P,N,1)^fr.rotrSL(P,N,8)^fr.shrSL(P,N,7),F=Jl[C-2]|0,L=Xl[C-2]|0,ie=fr.rotrSH(F,L,19)^fr.rotrBH(F,L,61)^fr.shrSH(F,L,6),E=fr.rotrSL(F,L,19)^fr.rotrBL(F,L,61)^fr.shrSL(F,L,6),a=fr.add4L(q,E,Xl[C-7],Xl[C-16]),f=fr.add4H(a,U,ie,Jl[C-7],Jl[C-16]);Jl[C]=f|0,Xl[C]=a|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:l,Cl:u,Dh:d,Dl:p,Eh:v,El:b,Fh:_,Fl:M,Gh:A,Gl:I,Hh:k,Hl:R}=this;for(let C=0;C<80;C++){const P=fr.rotrSH(v,b,14)^fr.rotrSH(v,b,18)^fr.rotrBH(v,b,41),N=fr.rotrSL(v,b,14)^fr.rotrSL(v,b,18)^fr.rotrBL(v,b,41),U=v&_^~v&A,q=b&M^~b&I,F=fr.add5L(R,N,q,Npe[C],Xl[C]),L=fr.add5H(F,k,P,U,Ope[C],Jl[C]),ie=F|0,E=fr.rotrSH(n,s,28)^fr.rotrBH(n,s,34)^fr.rotrBH(n,s,39),a=fr.rotrSL(n,s,28)^fr.rotrBL(n,s,34)^fr.rotrBL(n,s,39),f=n&i^n&l^i&l,h=s&o^s&u^o&u;k=A|0,R=I|0,A=_|0,I=M|0,_=v|0,M=b|0,{h:v,l:b}=fr.add(d|0,p|0,L|0,ie|0),d=l|0,p=u|0,l=i|0,u=o|0,i=n|0,o=s|0;const g=fr.add3L(ie,a,h);n=fr.add3H(g,L,E,f),s=g|0}({h:n,l:s}=fr.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=fr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:u}=fr.add(this.Ch|0,this.Cl|0,l|0,u|0),{h:d,l:p}=fr.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:v,l:b}=fr.add(this.Eh|0,this.El|0,v|0,b|0),{h:_,l:M}=fr.add(this.Fh|0,this.Fl|0,_|0,M|0),{h:A,l:I}=fr.add(this.Gh|0,this.Gl|0,A|0,I|0),{h:k,l:R}=fr.add(this.Hh|0,this.Hl|0,k|0,R|0),this.set(n,s,i,o,l,u,d,p,v,b,_,M,A,I,k,R)}roundClean(){Jl.fill(0),Xl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Lpe=cpe(()=>new Bpe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S4=BigInt(0),IF=BigInt(1),Dpe=BigInt(2);function E4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function M4(t){if(!E4(t))throw new Error("Uint8Array expected")}function Px(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const $pe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function A4(t){M4(t);let e="";for(let r=0;r<t.length;r++)e+=$pe[t[r]];return e}function RF(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?S4:BigInt("0x"+t)}const Qa={_0:48,_9:57,A:65,F:70,a:97,f:102};function wR(t){if(t>=Qa._0&&t<=Qa._9)return t-Qa._0;if(t>=Qa.A&&t<=Qa.F)return t-(Qa.A-10);if(t>=Qa.a&&t<=Qa.f)return t-(Qa.a-10)}function CF(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=wR(t.charCodeAt(i)),l=wR(t.charCodeAt(i+1));if(o===void 0||l===void 0){const u=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}n[s]=o*16+l}return n}function Upe(t){return RF(A4(t))}function A1(t){return M4(t),RF(A4(Uint8Array.from(t).reverse()))}function TF(t,e){return CF(t.toString(16).padStart(e*2,"0"))}function f5(t,e){return TF(t,e).reverse()}function el(t,e,r){let n;if(typeof e=="string")try{n=CF(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(E4(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function bR(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];M4(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}const Ox=t=>typeof t=="bigint"&&S4<=t;function Fpe(t,e,r){return Ox(t)&&Ox(e)&&Ox(r)&&e<=t&&t<r}function Jd(t,e,r,n){if(!Fpe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function jpe(t){let e;for(e=0;t>S4;t>>=IF,e+=1);return e}const qpe=t=>(Dpe<<BigInt(t-1))-IF,zpe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||E4(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function k4(t,e,r={}){const n=(s,i,o)=>{const l=zpe[i];if(typeof l!="function")throw new Error("invalid validator function");const u=t[s];if(!(o&&u===void 0)&&!l(u,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+u)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}function xR(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}const hi=BigInt(0),Bn=BigInt(1),gu=BigInt(2),Hpe=BigInt(3),h5=BigInt(4),_R=BigInt(5),SR=BigInt(8);function Gn(t,e){const r=t%e;return r>=hi?r:e+r}function Kpe(t,e,r){if(e<hi)throw new Error("invalid exponent, negatives unsupported");if(r<=hi)throw new Error("invalid modulus");if(r===Bn)return hi;let n=Bn;for(;e>hi;)e&Bn&&(n=n*t%r),t=t*t%r,e>>=Bn;return n}function aa(t,e,r){let n=t;for(;e-- >hi;)n*=n,n%=r;return n}function ER(t,e){if(t===hi)throw new Error("invert: expected non-zero number");if(e<=hi)throw new Error("invert: expected positive modulus, got "+e);let r=Gn(t,e),n=e,s=hi,i=Bn;for(;r!==hi;){const o=n/r,l=n%r,u=s-i*o;n=r,r=l,s=i,i=u}if(n!==Bn)throw new Error("invert: does not exist");return Gn(s,e)}function Wpe(t){const e=(t-Bn)/gu;let r,n,s;for(r=t-Bn,n=0;r%gu===hi;r/=gu,n++);for(s=gu;s<t&&Kpe(s,e,t)!==t-Bn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+Bn)/h5;return function(l,u){const d=l.pow(u,o);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(r+Bn)/gu;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=n,d=o.pow(o.mul(o.ONE,s),r),p=o.pow(l,i),v=o.pow(l,r);for(;!o.eql(v,o.ONE);){if(o.eql(v,o.ZERO))return o.ZERO;let b=1;for(let M=o.sqr(v);b<u&&!o.eql(M,o.ONE);b++)M=o.sqr(M);const _=o.pow(d,Bn<<BigInt(u-b-1));d=o.sqr(_),p=o.mul(p,_),v=o.mul(v,d),u=b}return p}}function Vpe(t){if(t%h5===Hpe){const e=(t+Bn)/h5;return function(r,n){const s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%SR===_R){const e=(t-_R)/SR;return function(r,n){const s=r.mul(n,gu),i=r.pow(s,e),o=r.mul(n,i),l=r.mul(r.mul(o,gu),i),u=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return Wpe(t)}const Gpe=(t,e)=>(Gn(t,e)&Bn)===Bn,Ype=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zpe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Ype.reduce((n,s)=>(n[s]="function",n),e);return k4(t,r)}function Jpe(t,e,r){if(r<hi)throw new Error("invalid exponent, negatives unsupported");if(r===hi)return t.ONE;if(r===Bn)return e;let n=t.ONE,s=e;for(;r>hi;)r&Bn&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Bn;return n}function Xpe(t,e){const r=new Array(e.length),n=e.reduce((i,o,l)=>t.is0(o)?i:(r[l]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,l)=>t.is0(o)?i:(r[l]=t.mul(i,r[l]),t.mul(i,o)),s),r}function PF(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function OF(t,e,r=!1,n={}){if(t<=hi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=PF(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const l=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:qpe(s),ZERO:hi,ONE:Bn,create:u=>Gn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return hi<=u&&u<t},is0:u=>u===hi,isOdd:u=>(u&Bn)===Bn,neg:u=>Gn(-u,t),eql:(u,d)=>u===d,sqr:u=>Gn(u*u,t),add:(u,d)=>Gn(u+d,t),sub:(u,d)=>Gn(u-d,t),mul:(u,d)=>Gn(u*d,t),pow:(u,d)=>Jpe(l,u,d),div:(u,d)=>Gn(u*ER(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>ER(u,t),sqrt:n.sqrt||(u=>(o||(o=Vpe(t)),o(l,u))),invertBatch:u=>Xpe(l,u),cmov:(u,d,p)=>p?d:u,toBytes:u=>r?f5(u,i):TF(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return r?A1(u):Upe(u)}});return Object.freeze(l)}const MR=BigInt(0),Om=BigInt(1);function Nx(t,e){const r=e.negate();return t?r:e}function NF(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Bx(t,e){NF(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function Qpe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function ege(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Lx=new WeakMap,BF=new WeakMap;function Dx(t){return BF.get(t)||1}function tge(t,e){return{constTimeNegate:Nx,hasPrecomputes(r){return Dx(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>MR;)n&Om&&(s=s.add(i)),i=i.double(),n>>=Om;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=Bx(n,e),o=[];let l=r,u=l;for(let d=0;d<s;d++){u=l,o.push(u);for(let p=1;p<i;p++)u=u.add(l),o.push(u);l=u.double()}return o},wNAF(r,n,s){const{windows:i,windowSize:o}=Bx(r,e);let l=t.ZERO,u=t.BASE;const d=BigInt(2**r-1),p=2**r,v=BigInt(r);for(let b=0;b<i;b++){const _=b*o;let M=Number(s&d);s>>=v,M>o&&(M-=p,s+=Om);const A=_,I=_+Math.abs(M)-1,k=b%2!==0,R=M<0;M===0?u=u.add(Nx(k,n[A])):l=l.add(Nx(R,n[I]))}return{p:l,f:u}},wNAFUnsafe(r,n,s,i=t.ZERO){const{windows:o,windowSize:l}=Bx(r,e),u=BigInt(2**r-1),d=2**r,p=BigInt(r);for(let v=0;v<o;v++){const b=v*l;if(s===MR)break;let _=Number(s&u);if(s>>=p,_>l&&(_-=d,s+=Om),_===0)continue;let M=n[b+Math.abs(_)-1];_<0&&(M=M.negate()),i=i.add(M)}return i},getPrecomputes(r,n,s){let i=Lx.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Lx.set(n,s(i))),i},wNAFCached(r,n,s){const i=Dx(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=Dx(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){NF(n,e),BF.set(r,n),Lx.delete(r)}}}function rge(t,e,r,n){if(Qpe(r,t),ege(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=jpe(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,l=(1<<o)-1,u=new Array(l+1).fill(s),d=Math.floor((e.BITS-1)/o)*o;let p=s;for(let v=d;v>=0;v-=o){u.fill(s);for(let _=0;_<n.length;_++){const M=n[_],A=Number(M>>BigInt(v)&BigInt(l));u[A]=u[A].add(r[_])}let b=s;for(let _=u.length-1,M=s;_>0;_--)M=M.add(u[_]),b=b.add(M);if(p=p.add(b),v!==0)for(let _=0;_<o;_++)p=p.double()}return p}function nge(t){return Zpe(t.Fp),k4(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...PF(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Po=BigInt(0),us=BigInt(1),Nm=BigInt(2),ige=BigInt(8),sge={zip215:!0};function oge(t){const e=nge(t);return k4(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function age(t){const e=oge(t),{Fp:r,n,prehash:s,hash:i,randomBytes:o,nByteLength:l,h:u}=e,d=Nm<<BigInt(l*8)-us,p=r.create,v=OF(e.n,e.nBitLength),b=e.uvRatio||((g,y)=>{try{return{isValid:!0,value:r.sqrt(g*r.inv(y))}}catch{return{isValid:!1,value:Po}}}),_=e.adjustScalarBytes||(g=>g),M=e.domain||((g,y,x)=>{if(Px("phflag",x),y.length||x)throw new Error("Contexts/pre-hash are not supported");return g});function A(g,y){Jd("coordinate "+g,y,Po,d)}function I(g){if(!(g instanceof C))throw new Error("ExtendedPoint expected")}const k=xR((g,y)=>{const{ex:x,ey:S,ez:m}=g,c=g.is0();y==null&&(y=c?ige:r.inv(m));const w=p(x*y),T=p(S*y),O=p(m*y);if(c)return{x:Po,y:us};if(O!==us)throw new Error("invZ was invalid");return{x:w,y:T}}),R=xR(g=>{const{a:y,d:x}=e;if(g.is0())throw new Error("bad point: ZERO");const{ex:S,ey:m,ez:c,et:w}=g,T=p(S*S),O=p(m*m),K=p(c*c),ee=p(K*K),J=p(T*y),$=p(K*p(J+O)),z=p(ee+p(x*p(T*O)));if($!==z)throw new Error("bad point: equation left != right (1)");const Y=p(S*m),te=p(c*w);if(Y!==te)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(y,x,S,m){this.ex=y,this.ey=x,this.ez=S,this.et=m,A("x",y),A("y",x),A("z",S),A("t",m),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof C)throw new Error("extended point not allowed");const{x,y:S}=y||{};return A("x",x),A("y",S),new C(x,S,us,p(x*S))}static normalizeZ(y){const x=r.invertBatch(y.map(S=>S.ez));return y.map((S,m)=>S.toAffine(x[m])).map(C.fromAffine)}static msm(y,x){return rge(C,v,y,x)}_setWindowSize(y){U.setWindowSize(this,y)}assertValidity(){R(this)}equals(y){I(y);const{ex:x,ey:S,ez:m}=this,{ex:c,ey:w,ez:T}=y,O=p(x*T),K=p(c*m),ee=p(S*T),J=p(w*m);return O===K&&ee===J}is0(){return this.equals(C.ZERO)}negate(){return new C(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:y}=e,{ex:x,ey:S,ez:m}=this,c=p(x*x),w=p(S*S),T=p(Nm*p(m*m)),O=p(y*c),K=x+S,ee=p(p(K*K)-c-w),J=O+w,$=J-T,z=O-w,Y=p(ee*$),te=p(J*z),G=p(ee*z),j=p($*J);return new C(Y,te,j,G)}add(y){I(y);const{a:x,d:S}=e,{ex:m,ey:c,ez:w,et:T}=this,{ex:O,ey:K,ez:ee,et:J}=y;if(x===BigInt(-1)){const Ee=p((c-m)*(K+O)),it=p((c+m)*(K-O)),Se=p(it-Ee);if(Se===Po)return this.double();const xe=p(w*Nm*J),Mt=p(T*Nm*ee),Ie=Mt+xe,Ne=it+Ee,qt=Mt-xe,Z=p(Ie*Se),B=p(Ne*qt),H=p(Ie*qt),ne=p(Se*Ne);return new C(Z,B,ne,H)}const $=p(m*O),z=p(c*K),Y=p(T*S*J),te=p(w*ee),G=p((m+c)*(O+K)-$-z),j=te-Y,W=te+Y,oe=p(z-x*$),ae=p(G*j),he=p(W*oe),Oe=p(G*oe),me=p(j*W);return new C(ae,he,me,Oe)}subtract(y){return this.add(y.negate())}wNAF(y){return U.wNAFCached(this,y,C.normalizeZ)}multiply(y){const x=y;Jd("scalar",x,us,n);const{p:S,f:m}=this.wNAF(x);return C.normalizeZ([S,m])[0]}multiplyUnsafe(y,x=C.ZERO){const S=y;return Jd("scalar",S,Po,n),S===Po?N:this.is0()||S===us?this:U.wNAFCachedUnsafe(this,S,C.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return U.unsafeLadder(this,n).is0()}toAffine(y){return k(this,y)}clearCofactor(){const{h:y}=e;return y===us?this:this.multiplyUnsafe(y)}static fromHex(y,x=!1){const{d:S,a:m}=e,c=r.BYTES;y=el("pointHex",y,c),Px("zip215",x);const w=y.slice(),T=y[c-1];w[c-1]=T&-129;const O=A1(w),K=x?d:r.ORDER;Jd("pointHex.y",O,Po,K);const ee=p(O*O),J=p(ee-us),$=p(S*ee-m);let{isValid:z,value:Y}=b(J,$);if(!z)throw new Error("Point.fromHex: invalid y coordinate");const te=(Y&us)===us,G=(T&128)!==0;if(!x&&Y===Po&&G)throw new Error("Point.fromHex: x=0 and x_0=1");return G!==te&&(Y=p(-Y)),C.fromAffine({x:Y,y:O})}static fromPrivateKey(y){return L(y).point}toRawBytes(){const{x:y,y:x}=this.toAffine(),S=f5(x,r.BYTES);return S[S.length-1]|=y&us?128:0,S}toHex(){return A4(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,us,p(e.Gx*e.Gy)),C.ZERO=new C(Po,us,us,Po);const{BASE:P,ZERO:N}=C,U=tge(C,l*8);function q(g){return Gn(g,n)}function F(g){return q(A1(g))}function L(g){const y=r.BYTES;g=el("private key",g,y);const x=el("hashed private key",i(g),2*y),S=_(x.slice(0,y)),m=x.slice(y,2*y),c=F(S),w=P.multiply(c),T=w.toRawBytes();return{head:S,prefix:m,scalar:c,point:w,pointBytes:T}}function ie(g){return L(g).pointBytes}function E(g=new Uint8Array,...y){const x=bR(...y);return F(i(M(x,el("context",g),!!s)))}function a(g,y,x={}){g=el("message",g),s&&(g=s(g));const{prefix:S,scalar:m,pointBytes:c}=L(y),w=E(x.context,S,g),T=P.multiply(w).toRawBytes(),O=E(x.context,T,c,g),K=q(w+O*m);Jd("signature.s",K,Po,n);const ee=bR(T,f5(K,r.BYTES));return el("result",ee,r.BYTES*2)}const f=sge;function h(g,y,x,S=f){const{context:m,zip215:c}=S,w=r.BYTES;g=el("signature",g,2*w),y=el("message",y),x=el("publicKey",x,w),c!==void 0&&Px("zip215",c),s&&(y=s(y));const T=A1(g.slice(w,2*w));let O,K,ee;try{O=C.fromHex(x,c),K=C.fromHex(g.slice(0,w),c),ee=P.multiplyUnsafe(T)}catch{return!1}if(!c&&O.isSmallOrder())return!1;const J=E(m,K.toRawBytes(),O.toRawBytes(),y);return K.add(O.multiplyUnsafe(J)).subtract(ee).clearCofactor().equals(C.ZERO)}return P._setWindowSize(8),{CURVE:e,getPublicKey:ie,sign:a,verify:h,ExtendedPoint:C,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>o(r.BYTES),precompute(g=8,y=C.BASE){return y._setWindowSize(g),y.multiply(BigInt(3)),y}}}}BigInt(0),BigInt(1);const I4=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),AR=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const lge=BigInt(1),kR=BigInt(2);BigInt(3);const cge=BigInt(5),uge=BigInt(8);function fge(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=I4,o=t*t%i*t%i,l=aa(o,kR,i)*o%i,u=aa(l,lge,i)*t%i,d=aa(u,cge,i)*u%i,p=aa(d,e,i)*d%i,v=aa(p,r,i)*p%i,b=aa(v,n,i)*v%i,_=aa(b,s,i)*b%i,M=aa(_,s,i)*b%i,A=aa(M,e,i)*d%i;return{pow_p_5_8:aa(A,kR,i)*t%i,b2:o}}function hge(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function dge(t,e){const r=I4,n=Gn(e*e*e,r),s=Gn(n*n*e,r),i=fge(t*s).pow_p_5_8;let o=Gn(t*n*i,r);const l=Gn(e*o*o,r),u=o,d=Gn(o*AR,r),p=l===t,v=l===Gn(-t,r),b=l===Gn(-t*AR,r);return p&&(o=u),(v||b)&&(o=d),Gpe(o,r)&&(o=Gn(-o,r)),{isValid:p||v,value:o}}const pge=OF(I4,void 0,!0),gge={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:pge,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:uge,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Lpe,randomBytes:AF,adjustScalarBytes:hge,uvRatio:dge},LF=age(gge),mge="EdDSA",yge="JWT",By=".",pw="base64url",DF="utf8",$F="utf8",vge=":",wge="did",bge="key",IR="base58btc",xge="z",_ge="K36",Sge=32;function R4(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function UF(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?R4(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function FF(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=UF(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return R4(r)}function Ege(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var l=t.length,u=t.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function v(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var A=0,I=0,k=0,R=M.length;k!==R&&M[k]===0;)k++,A++;for(var C=(R-k)*p+1>>>0,P=new Uint8Array(C);k!==R;){for(var N=M[k],U=0,q=C-1;(N!==0||U<I)&&q!==-1;q--,U++)N+=256*P[q]>>>0,P[q]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");I=U,k++}for(var F=C-I;F!==C&&P[F]===0;)F++;for(var L=u.repeat(A);F<C;++F)L+=t.charAt(P[F]);return L}function b(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var A=0;if(M[A]!==" "){for(var I=0,k=0;M[A]===u;)I++,A++;for(var R=(M.length-A)*d+1>>>0,C=new Uint8Array(R);M[A];){var P=r[M.charCodeAt(A)];if(P===255)return;for(var N=0,U=R-1;(P!==0||N<k)&&U!==-1;U--,N++)P+=l*C[U]>>>0,C[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");k=N,A++}if(M[A]!==" "){for(var q=R-k;q!==R&&C[q]===0;)q++;for(var F=new Uint8Array(I+(R-q)),L=I;q!==R;)F[L++]=C[q++];return F}}}function _(M){var A=b(M);if(A)return A;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:b,decode:_}}var Mge=Ege,Age=Mge;const jF=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kge=t=>new TextEncoder().encode(t),Ige=t=>new TextDecoder().decode(t);let Rge=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Cge=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return qF(this,e)}},Tge=class{constructor(e){this.decoders=e}or(e){return qF(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const qF=(t,e)=>new Tge({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Pge=class{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Rge(e,r,n),this.decoder=new Cge(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const gw=({name:t,prefix:e,encode:r,decode:n})=>new Pge(t,e,r,n),fg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=Age(r,e);return gw({prefix:t,name:e,encode:n,decode:i=>jF(s(i))})},Oge=(t,e,r,n)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let l=0,u=0,d=0;for(let p=0;p<i;++p){const v=s[t[p]];if(v===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|v,l+=r,l>=8&&(l-=8,o[d++]=255&u>>l)}if(l>=r||255&u<<8-l)throw new SyntaxError("Unexpected end of data");return o},Nge=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,l=0;for(let u=0;u<t.length;++u)for(l=l<<8|t[u],o+=8;o>r;)o-=r,i+=e[s&l>>o];if(o&&(i+=e[s&l<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>gw({prefix:e,name:t,encode(s){return Nge(s,n,r)},decode(s){return Oge(s,n,r,t)}}),Bge=gw({prefix:"\0",name:"identity",encode:t=>Ige(t),decode:t=>kge(t)});var Lge=Object.freeze({__proto__:null,identity:Bge});const Dge=Pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var $ge=Object.freeze({__proto__:null,base2:Dge});const Uge=Pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Fge=Object.freeze({__proto__:null,base8:Uge});const jge=fg({prefix:"9",name:"base10",alphabet:"0123456789"});var qge=Object.freeze({__proto__:null,base10:jge});const zge=Pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Hge=Pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Kge=Object.freeze({__proto__:null,base16:zge,base16upper:Hge});const Wge=Pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vge=Pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Gge=Pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Yge=Pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Zge=Pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Jge=Pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Xge=Pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qge=Pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eme=Pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tme=Object.freeze({__proto__:null,base32:Wge,base32upper:Vge,base32pad:Gge,base32padupper:Yge,base32hex:Zge,base32hexupper:Jge,base32hexpad:Xge,base32hexpadupper:Qge,base32z:eme});const rme=fg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nme=fg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ime=Object.freeze({__proto__:null,base36:rme,base36upper:nme});const sme=fg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ome=fg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ame=Object.freeze({__proto__:null,base58btc:sme,base58flickr:ome});const lme=Pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),cme=Pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ume=Pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fme=Pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hme=Object.freeze({__proto__:null,base64:lme,base64pad:cme,base64url:ume,base64urlpad:fme});const zF=Array.from(""),dme=zF.reduce((t,e,r)=>(t[r]=e,t),[]),pme=zF.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function gme(t){return t.reduce((e,r)=>(e+=dme[r],e),"")}function mme(t){const e=[];for(const r of t){const n=pme[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const yme=gw({prefix:"",name:"base256emoji",encode:gme,decode:mme});var vme=Object.freeze({__proto__:null,base256emoji:yme}),wme=HF,RR=128,bme=-128,xme=Math.pow(2,31);function HF(t,e,r){e=e||[],r=r||0;for(var n=r;t>=xme;)e[r++]=t&255|RR,t/=128;for(;t&bme;)e[r++]=t&255|RR,t>>>=7;return e[r]=t|0,HF.bytes=r-n+1,e}var _me=d5,Sme=128,CR=127;function d5(t,n){var r=0,n=n||0,s=0,i=n,o,l=t.length;do{if(i>=l)throw d5.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&CR)<<s:(o&CR)*Math.pow(2,s),s+=7}while(o>=Sme);return d5.bytes=i-n,r}var Eme=Math.pow(2,7),Mme=Math.pow(2,14),Ame=Math.pow(2,21),kme=Math.pow(2,28),Ime=Math.pow(2,35),Rme=Math.pow(2,42),Cme=Math.pow(2,49),Tme=Math.pow(2,56),Pme=Math.pow(2,63),Ome=function(t){return t<Eme?1:t<Mme?2:t<Ame?3:t<kme?4:t<Ime?5:t<Rme?6:t<Cme?7:t<Tme?8:t<Pme?9:10},Nme={encode:wme,decode:_me,encodingLength:Ome},KF=Nme;const TR=(t,e,r=0)=>(KF.encode(t,e,r),e),PR=t=>KF.encodingLength(t),p5=(t,e)=>{const r=e.byteLength,n=PR(t),s=n+PR(r),i=new Uint8Array(s+r);return TR(t,i,0),TR(r,i,n),i.set(e,s),new Bme(t,r,e,i)};let Bme=class{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}};const WF=({name:t,code:e,encode:r})=>new Lme(t,e,r);let Lme=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?p5(this.code,r):r.then(n=>p5(this.code,n))}else throw Error("Unknown type, must be binary type")}};const VF=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Dme=WF({name:"sha2-256",code:18,encode:VF("SHA-256")}),$me=WF({name:"sha2-512",code:19,encode:VF("SHA-512")});var Ume=Object.freeze({__proto__:null,sha256:Dme,sha512:$me});const GF=0,Fme="identity",YF=jF,jme=t=>p5(GF,YF(t)),qme={code:GF,name:Fme,encode:YF,digest:jme};var zme=Object.freeze({__proto__:null,identity:qme});new TextEncoder,new TextDecoder;const OR={...Lge,...$ge,...Fge,...qge,...Kge,...tme,...ime,...ame,...hme,...vme};({...Ume,...zme});function ZF(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const NR=ZF("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),$x=ZF("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=UF(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),JF={utf8:NR,"utf-8":NR,hex:OR.base16,latin1:$x,ascii:$x,binary:$x,...OR};function mw(t,e="utf8"){const r=JF[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function yd(t,e="utf8"){const r=JF[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?R4(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function BR(t){return jh(mw(yd(t,pw),DF))}function Ly(t){return mw(yd(Gu(t),DF),pw)}function XF(t){const e=yd(_ge,IR),r=xge+mw(FF([e,t]),IR);return[wge,bge,r].join(vge)}function Hme(t){return mw(t,pw)}function Kme(t){return yd(t,pw)}function Wme(t){return yd([Ly(t.header),Ly(t.payload)].join(By),$F)}function Vme(t){return[Ly(t.header),Ly(t.payload),Hme(t.signature)].join(By)}function g5(t){const e=t.split(By),r=BR(e[0]),n=BR(e[1]),s=Kme(e[2]),i=yd(e.slice(0,2).join(By),$F);return{header:r,payload:n,signature:s,data:i}}function LR(t=AF(Sge)){const e=LF.getPublicKey(t);return{secretKey:FF([t,e]),publicKey:e}}async function Gme(t,e,r,n,s=yt.fromMiliseconds(Date.now())){const i={alg:mge,typ:yge},o=XF(n.publicKey),l=s+r,u={iss:o,sub:t,aud:e,iat:s,exp:l},d=Wme({header:i,payload:u}),p=LF.sign(d,n.secretKey.slice(0,32));return Vme({header:i,payload:u,signature:p})}var DR=function(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Yme=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Zme=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Jme=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),Xme=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Qme=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),e1e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,t1e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,$R=3,r1e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",e1e]],UR=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function n1e(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Qme:typeof navigator<"u"?s1e(navigator.userAgent):a1e()}function i1e(t){return t!==""&&r1e.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function s1e(t){var e=i1e(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Xme;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<$R&&(s=DR(DR([],s,!0),l1e($R-s.length),!0)):s=[];var i=s.join("."),o=o1e(t),l=t1e.exec(t);return l&&l[1]?new Jme(r,i,o,l[1]):new Yme(r,i,o)}function o1e(t){for(var e=0,r=UR.length;e<r;e++){var n=UR[e],s=n[0],i=n[1],o=i.exec(t);if(o)return s}return null}function a1e(){var t=typeof process<"u"&&process.version;return t?new Zme(process.version.slice(1)):null}function l1e(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.getLocalStorage=rn.getLocalStorageOrThrow=rn.getCrypto=rn.getCryptoOrThrow=QF=rn.getLocation=rn.getLocationOrThrow=C4=rn.getNavigator=rn.getNavigatorOrThrow=hg=rn.getDocument=rn.getDocumentOrThrow=rn.getFromWindowOrThrow=rn.getFromWindow=void 0;function df(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}rn.getFromWindow=df;function vd(t){const e=df(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}rn.getFromWindowOrThrow=vd;function c1e(){return vd("document")}rn.getDocumentOrThrow=c1e;function u1e(){return df("document")}var hg=rn.getDocument=u1e;function f1e(){return vd("navigator")}rn.getNavigatorOrThrow=f1e;function h1e(){return df("navigator")}var C4=rn.getNavigator=h1e;function d1e(){return vd("location")}rn.getLocationOrThrow=d1e;function p1e(){return df("location")}var QF=rn.getLocation=p1e;function g1e(){return vd("crypto")}rn.getCryptoOrThrow=g1e;function m1e(){return df("crypto")}rn.getCrypto=m1e;function y1e(){return vd("localStorage")}rn.getLocalStorageOrThrow=y1e;function v1e(){return df("localStorage")}rn.getLocalStorage=v1e;var T4={};Object.defineProperty(T4,"__esModule",{value:!0});var ej=T4.getWindowMetadata=void 0;const FR=rn;function w1e(){let t,e;try{t=FR.getDocumentOrThrow(),e=FR.getLocationOrThrow()}catch{return null}function r(){const v=t.getElementsByTagName("link"),b=[];for(let _=0;_<v.length;_++){const M=v[_],A=M.getAttribute("rel");if(A&&A.toLowerCase().indexOf("icon")>-1){const I=M.getAttribute("href");if(I)if(I.toLowerCase().indexOf("https:")===-1&&I.toLowerCase().indexOf("http:")===-1&&I.indexOf("//")!==0){let k=e.protocol+"//"+e.host;if(I.indexOf("/")===0)k+=I;else{const R=e.pathname.split("/");R.pop();const C=R.join("/");k+=C+"/"+I}b.push(k)}else if(I.indexOf("//")===0){const k=e.protocol+I;b.push(k)}else b.push(I)}}return b}function n(...v){const b=t.getElementsByTagName("meta");for(let _=0;_<b.length;_++){const M=b[_],A=["itemprop","property","name"].map(I=>M.getAttribute(I)).filter(I=>I?v.includes(I):!1);if(A.length&&A){const I=M.getAttribute("content");if(I)return I}}return""}function s(){let v=n("name","og:site_name","og:title","twitter:title");return v||(v=t.title),v}function i(){return n("description","og:description","twitter:description","keywords")}const o=s(),l=i(),u=e.origin,d=r();return{description:l,url:u,icons:d,name:o}}ej=T4.getWindowMetadata=w1e;function Ap(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function jR(t){return Ap(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const tj="2.23.2";let Xd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${tj}`};class Yu extends Error{constructor(e,r={}){var l;const n=(()=>{var u;return r.cause instanceof Yu?r.cause.details:(u=r.cause)!=null&&u.message?r.cause.message:r.details})(),s=r.cause instanceof Yu&&r.cause.docsPath||r.docsPath,i=(l=Xd.getDocsUrl)==null?void 0:l.call(Xd,{...r,docsPath:s}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...Xd.version?[`Version: ${Xd.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=tj}walk(e){return rj(this,e)}}function rj(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?rj(t.cause,e):e?null:t}class nj extends Yu{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function wd(t,{dir:e,size:r=32}={}){return typeof t=="string"?b1e(t,{dir:e,size:r}):x1e(t,{dir:e,size:r})}function b1e(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new nj({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function x1e(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new nj({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let s=0;s<r;s++){const i=e==="right";n[i?s:r-s-1]=t[i?s:t.length-s-1]}return n}class _1e extends Yu{constructor({max:e,min:r,signed:n,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class S1e extends Yu{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function bd(t,{size:e}){if(jR(t)>e)throw new S1e({givenSize:jR(t),maxSize:e})}function m5(t,e={}){const{signed:r}=e;e.size&&bd(t,{size:e.size});const n=BigInt(t);if(!r)return n;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return n<=i?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function E1e(t,e={}){return Number(m5(t,e))}const M1e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function y5(t,e={}){return typeof t=="number"||typeof t=="bigint"?sj(t,e):typeof t=="string"?I1e(t,e):typeof t=="boolean"?A1e(t,e):ij(t,e)}function A1e(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(bd(r,{size:e.size}),wd(r,{size:e.size})):r}function ij(t,e={}){let r="";for(let s=0;s<t.length;s++)r+=M1e[t[s]];const n=`0x${r}`;return typeof e.size=="number"?(bd(n,{size:e.size}),wd(n,{dir:"right",size:e.size})):n}function sj(t,e={}){const{signed:r,size:n}=e,s=BigInt(t);let i;n?r?i=(1n<<BigInt(n)*8n-1n)-1n:i=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&r?-i-1n:0;if(i&&s>i||s<o){const u=typeof t=="bigint"?"n":"";throw new _1e({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:r,size:n,value:`${t}${u}`})}const l=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?wd(l,{size:n}):l}const k1e=new TextEncoder;function I1e(t,e={}){const r=k1e.encode(t);return ij(r,e)}const R1e=new TextEncoder;function C1e(t,e={}){return typeof t=="number"||typeof t=="bigint"?P1e(t,e):typeof t=="boolean"?T1e(t,e):Ap(t)?oj(t,e):aj(t,e)}function T1e(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(bd(r,{size:e.size}),wd(r,{size:e.size})):r}const tl={zero:48,nine:57,A:65,F:70,a:97,f:102};function qR(t){if(t>=tl.zero&&t<=tl.nine)return t-tl.zero;if(t>=tl.A&&t<=tl.F)return t-(tl.A-10);if(t>=tl.a&&t<=tl.f)return t-(tl.a-10)}function oj(t,e={}){let r=t;e.size&&(bd(r,{size:e.size}),r=wd(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const s=n.length/2,i=new Uint8Array(s);for(let o=0,l=0;o<s;o++){const u=qR(n.charCodeAt(l++)),d=qR(n.charCodeAt(l++));if(u===void 0||d===void 0)throw new Yu(`Invalid byte sequence ("${n[l-2]}${n[l-1]}" in "${n}").`);i[o]=u*16+d}return i}function P1e(t,e){const r=sj(t,e);return oj(r)}function aj(t,e={}){const r=R1e.encode(t);return typeof e.size=="number"?(bd(r,{size:e.size}),wd(r,{dir:"right",size:e.size})):r}function Dy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function O1e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yw(t,...e){if(!O1e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function $4e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Dy(t.outputLen),Dy(t.blockLen)}function zR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function N1e(t,e){yw(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Bm=BigInt(2**32-1),HR=BigInt(32);function B1e(t,e=!1){return e?{h:Number(t&Bm),l:Number(t>>HR&Bm)}:{h:Number(t>>HR&Bm)|0,l:Number(t&Bm)|0}}function L1e(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=B1e(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const D1e=(t,e,r)=>t<<r|e>>>32-r,$1e=(t,e,r)=>e<<r|t>>>32-r,U1e=(t,e,r)=>e<<r-32|t>>>64-r,F1e=(t,e,r)=>t<<r-32|e>>>64-r,Rf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j1e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function U4e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function F4e(t,e){return t<<32-e|t>>>e}const KR=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function q1e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function WR(t){for(let e=0;e<t.length;e++)t[e]=q1e(t[e])}function z1e(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function lj(t){return typeof t=="string"&&(t=z1e(t)),yw(t),t}function j4e(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];yw(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}class H1e{clone(){return this._cloneInto()}}function K1e(t){const e=n=>t().update(lj(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function q4e(t=32){if(Rf&&typeof Rf.getRandomValues=="function")return Rf.getRandomValues(new Uint8Array(t));if(Rf&&typeof Rf.randomBytes=="function")return Rf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const cj=[],uj=[],fj=[],W1e=BigInt(0),Qd=BigInt(1),V1e=BigInt(2),G1e=BigInt(7),Y1e=BigInt(256),Z1e=BigInt(113);for(let t=0,e=Qd,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],cj.push(2*(5*n+r)),uj.push((t+1)*(t+2)/2%64);let s=W1e;for(let i=0;i<7;i++)e=(e<<Qd^(e>>G1e)*Z1e)%Y1e,e&V1e&&(s^=Qd<<(Qd<<BigInt(i))-Qd);fj.push(s)}const[J1e,X1e]=L1e(fj,!0),VR=(t,e,r)=>r>32?U1e(t,e,r):D1e(t,e,r),GR=(t,e,r)=>r>32?F1e(t,e,r):$1e(t,e,r);function Q1e(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,u=(o+2)%10,d=r[u],p=r[u+1],v=VR(d,p,1)^r[l],b=GR(d,p,1)^r[l+1];for(let _=0;_<50;_+=10)t[o+_]^=v,t[o+_+1]^=b}let s=t[2],i=t[3];for(let o=0;o<24;o++){const l=uj[o],u=VR(s,i,l),d=GR(s,i,l),p=cj[o];s=t[p],i=t[p+1],t[p]=u,t[p+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=J1e[n],t[1]^=X1e[n]}r.fill(0)}class P4 extends H1e{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Dy(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=j1e(this.state)}keccak(){KR||WR(this.state32),Q1e(this.state32,this.rounds),KR||WR(this.state32),this.posOut=0,this.pos=0}update(e){zR(this);const{blockLen:r,state:n}=this;e=lj(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let l=0;l<o;l++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){zR(this,!1),yw(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Dy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(N1e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new P4(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const eye=(t,e,r)=>K1e(()=>new P4(e,t,r)),tye=eye(1,136,256/8);function hj(t,e){const r=e||"hex",n=tye(Ap(t,{strict:!1})?C1e(t):t);return r==="bytes"?n:y5(n)}class rye extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Ux=new rye(8192);function nye(t,e){if(Ux.has(`${t}.${e}`))return Ux.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=hj(aj(r),"bytes"),s=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(n[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Ux.set(`${t}.${e}`,i),i}function iye(t){const e=hj(`0x${t.substring(4)}`).substring(26);return nye(`0x${e}`)}async function sye({hash:t,signature:e}){const r=Ap(t)?t:y5(t),{secp256k1:n}=await oo(async()=>{const{secp256k1:o}=await import("./secp256k1-Cic-0eIT.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:p,v,yParity:b}=e,_=Number(b??v),M=YR(_);return new n.Signature(m5(d),m5(p)).addRecoveryBit(M)}const o=Ap(e)?e:y5(e),l=E1e(`0x${o.slice(130)}`),u=YR(l);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function YR(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function oye({hash:t,signature:e}){return iye(await sye({hash:t,signature:e}))}function aye(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let d=0;d<e.length;d++)e[d]=255;for(let d=0;d<t.length;d++){const p=t.charAt(d),v=p.charCodeAt(0);if(e[v]!==255)throw new TypeError(p+" is ambiguous");e[v]=d}const r=t.length,n=t.charAt(0),s=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function o(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let p=0,v=0,b=0;const _=d.length;for(;b!==_&&d[b]===0;)b++,p++;const M=(_-b)*i+1>>>0,A=new Uint8Array(M);for(;b!==_;){let R=d[b],C=0;for(let P=M-1;(R!==0||C<v)&&P!==-1;P--,C++)R+=256*A[P]>>>0,A[P]=R%r>>>0,R=R/r>>>0;if(R!==0)throw new Error("Non-zero carry");v=C,b++}let I=M-v;for(;I!==M&&A[I]===0;)I++;let k=n.repeat(p);for(;I<M;++I)k+=t.charAt(A[I]);return k}function l(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let p=0,v=0,b=0;for(;d[p]===n;)v++,p++;const _=(d.length-p)*s+1>>>0,M=new Uint8Array(_);for(;p<d.length;){const R=d.charCodeAt(p);if(R>255)return;let C=e[R];if(C===255)return;let P=0;for(let N=_-1;(C!==0||P<b)&&N!==-1;N--,P++)C+=r*M[N]>>>0,M[N]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");b=P,p++}let A=_-b;for(;A!==_&&M[A]===0;)A++;const I=new Uint8Array(v+(_-A));let k=v;for(;A!==_;)I[k++]=M[A++];return I}function u(d){const p=l(d);if(p)return p;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:l,decode:u}}var lye="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const cye=aye(lye);function dj(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function B0(t,e){e||(e=t.reduce((s,i)=>s+i.length,0));const r=dj(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}function uye(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var l=t.length,u=t.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function v(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var A=0,I=0,k=0,R=M.length;k!==R&&M[k]===0;)k++,A++;for(var C=(R-k)*p+1>>>0,P=new Uint8Array(C);k!==R;){for(var N=M[k],U=0,q=C-1;(N!==0||U<I)&&q!==-1;q--,U++)N+=256*P[q]>>>0,P[q]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");I=U,k++}for(var F=C-I;F!==C&&P[F]===0;)F++;for(var L=u.repeat(A);F<C;++F)L+=t.charAt(P[F]);return L}function b(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var A=0;if(M[A]!==" "){for(var I=0,k=0;M[A]===u;)I++,A++;for(var R=(M.length-A)*d+1>>>0,C=new Uint8Array(R);M[A];){var P=r[M.charCodeAt(A)];if(P===255)return;for(var N=0,U=R-1;(P!==0||N<k)&&U!==-1;U--,N++)P+=l*C[U]>>>0,C[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");k=N,A++}if(M[A]!==" "){for(var q=R-k;q!==R&&C[q]===0;)q++;for(var F=new Uint8Array(I+(R-q)),L=I;q!==R;)F[L++]=C[q++];return F}}}function _(M){var A=b(M);if(A)return A;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:b,decode:_}}var fye=uye,hye=fye;const dye=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},pye=t=>new TextEncoder().encode(t),gye=t=>new TextDecoder().decode(t);class mye{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class yye{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return pj(this,e)}}class vye{constructor(e){this.decoders=e}or(e){return pj(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const pj=(t,e)=>new vye({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class wye{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new mye(e,r,n),this.decoder=new yye(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vw=({name:t,prefix:e,encode:r,decode:n})=>new wye(t,e,r,n),dg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=hye(r,e);return vw({prefix:t,name:e,encode:n,decode:i=>dye(s(i))})},bye=(t,e,r,n)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let l=0,u=0,d=0;for(let p=0;p<i;++p){const v=s[t[p]];if(v===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|v,l+=r,l>=8&&(l-=8,o[d++]=255&u>>l)}if(l>=r||255&u<<8-l)throw new SyntaxError("Unexpected end of data");return o},xye=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,l=0;for(let u=0;u<t.length;++u)for(l=l<<8|t[u],o+=8;o>r;)o-=r,i+=e[s&l>>o];if(o&&(i+=e[s&l<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Oi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>vw({prefix:e,name:t,encode(s){return xye(s,n,r)},decode(s){return bye(s,n,r,t)}}),_ye=vw({prefix:"\0",name:"identity",encode:t=>gye(t),decode:t=>pye(t)}),Sye=Object.freeze(Object.defineProperty({__proto__:null,identity:_ye},Symbol.toStringTag,{value:"Module"})),Eye=Oi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Mye=Object.freeze(Object.defineProperty({__proto__:null,base2:Eye},Symbol.toStringTag,{value:"Module"})),Aye=Oi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),kye=Object.freeze(Object.defineProperty({__proto__:null,base8:Aye},Symbol.toStringTag,{value:"Module"})),Iye=dg({prefix:"9",name:"base10",alphabet:"0123456789"}),Rye=Object.freeze(Object.defineProperty({__proto__:null,base10:Iye},Symbol.toStringTag,{value:"Module"})),Cye=Oi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Tye=Oi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Pye=Object.freeze(Object.defineProperty({__proto__:null,base16:Cye,base16upper:Tye},Symbol.toStringTag,{value:"Module"})),Oye=Oi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Nye=Oi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bye=Oi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Lye=Oi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Dye=Oi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$ye=Oi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Uye=Oi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Fye=Oi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jye=Oi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),qye=Object.freeze(Object.defineProperty({__proto__:null,base32:Oye,base32hex:Dye,base32hexpad:Uye,base32hexpadupper:Fye,base32hexupper:$ye,base32pad:Bye,base32padupper:Lye,base32upper:Nye,base32z:jye},Symbol.toStringTag,{value:"Module"})),zye=dg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Hye=dg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Kye=Object.freeze(Object.defineProperty({__proto__:null,base36:zye,base36upper:Hye},Symbol.toStringTag,{value:"Module"})),Wye=dg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vye=dg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Gye=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Wye,base58flickr:Vye},Symbol.toStringTag,{value:"Module"})),Yye=Oi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Zye=Oi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jye=Oi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Xye=Oi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Qye=Object.freeze(Object.defineProperty({__proto__:null,base64:Yye,base64pad:Zye,base64url:Jye,base64urlpad:Xye},Symbol.toStringTag,{value:"Module"})),gj=Array.from(""),eve=gj.reduce((t,e,r)=>(t[r]=e,t),[]),tve=gj.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function rve(t){return t.reduce((e,r)=>(e+=eve[r],e),"")}function nve(t){const e=[];for(const r of t){const n=tve[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const ive=vw({prefix:"",name:"base256emoji",encode:rve,decode:nve}),sve=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:ive},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const ZR={...Sye,...Mye,...kye,...Rye,...Pye,...qye,...Kye,...Gye,...Qye,...sve};function mj(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const JR=mj("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Fx=mj("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=dj(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),yj={utf8:JR,"utf-8":JR,hex:ZR.base16,latin1:Fx,ascii:Fx,binary:Fx,...ZR};function wo(t,e="utf8"){const r=yj[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Ms(t,e="utf8"){const r=yj[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const ove={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var ave={};const vj=":";function k1(t){const[e,r]=t.split(vj);return{namespace:e,reference:r}}function wj(t){const[e,r,n]=t.split(vj);return{namespace:e,reference:r,address:n}}function bj(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const s=t[n];r.push(...s.accounts)}),r}function xj(t,e){return t.includes(":")?[t]:e.chains||[]}var lve=Object.defineProperty,cve=Object.defineProperties,uve=Object.getOwnPropertyDescriptors,XR=Object.getOwnPropertySymbols,fve=Object.prototype.hasOwnProperty,hve=Object.prototype.propertyIsEnumerable,QR=(t,e,r)=>e in t?lve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eC=(t,e)=>{for(var r in e||(e={}))fve.call(e,r)&&QR(t,r,e[r]);if(XR)for(var r of XR(e))hve.call(e,r)&&QR(t,r,e[r]);return t},dve=(t,e)=>cve(t,uve(e));const pve="ReactNative",Ks={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},gve="js";function $y(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Jc(){return!hg()&&!!C4()&&navigator.product===pve}function mve(){return Jc()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="android"}function yve(){return Jc()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="ios"}function pg(){return!$y()&&!!C4()&&!!hg()}function gg(){return Jc()?Ks.reactNative:$y()?Ks.node:pg()?Ks.browser:Ks.unknown}function tC(){var t;try{return Jc()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function vve(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const s=e[n];s!==void 0&&r.set(n,s)}return r.toString()}function wve(t){var e,r;const n=_j();try{return t!=null&&t.url&&n.url&&t.url!==n.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(s=>s!=="")),dve(eC(eC({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(s){return console.warn("Error populating app metadata",s),t||n}}function _j(){return ej()||{name:"",description:"",url:"",icons:[""]}}function bve(){if(gg()===Ks.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const t=n1e();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function xve(){var t;const e=gg();return e===Ks.browser?[e,((t=QF())==null?void 0:t.host)||"unknown"].join(":"):e}function Sj(t,e,r){const n=bve(),s=xve();return[[t,e].join("-"),[gve,r].join("-"),n,s].join("/")}function _ve({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:o,bundleId:l,packageName:u}){const d=r.split("?"),p=Sj(t,e,n),v={auth:s,ua:p,projectId:i,useOnCloseEvent:o,packageName:u||void 0,bundleId:l||void 0},b=vve(d[1]||"",v);return d[0]+"?"+b}function Eu(t,e){return t.filter(r=>e.includes(r)).length===t.length}function v5(t){return Object.fromEntries(t.entries())}function w5(t){return new Map(Object.entries(t))}function fu(t=yt.FIVE_MINUTES,e){const r=yt.toMiliseconds(t||yt.FIVE_MINUTES);let n,s,i,o;return{resolve:l=>{i&&n&&(clearTimeout(i),n(l),o=Promise.resolve(l))},reject:l=>{i&&s&&(clearTimeout(i),s(l))},done:()=>new Promise((l,u)=>{if(o)return l(o);i=setTimeout(()=>{const d=new Error(e);o=Promise.reject(d),u(d)},r),n=l,s=u})}}function wc(t,e,r){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(r)),e);try{const o=await t;n(o)}catch(o){s(o)}clearTimeout(i)})}function Ej(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Sve(t){return Ej("topic",t)}function Eve(t){return Ej("id",t)}function Mj(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Wn(t,e){return yt.fromMiliseconds(Date.now()+yt.toMiliseconds(t))}function oc(t){return Date.now()>=yt.toMiliseconds(t)}function Dr(t,e){return`${t}${e?`:${e}`:""}`}function Mve(t=[],e=[]){return[...new Set([...t,...e])]}async function Ave({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const s=typeof r=="string"?JSON.parse(r):r,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=kve(i,t,e),l=gg();if(l===Ks.browser){if(!((n=hg())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Ive(o)}else l===Ks.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(s){console.error(s)}}function kve(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let s=`${t}`;if(t.startsWith("https://t.me")){const i=t.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${Pve(n,!0)}`}else s=`${s}/wc?${n}`;return s}function Ive(t){let e="_self";Tve()?e="_top":(Cve()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Rve(t,e){let r="";try{if(pg()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function rC(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function nC(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function O4(){return typeof process<"u"&&ave.IS_VITEST==="true"}function Cve(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Tve(){try{return window.self!==window.top}catch{return!1}}function Pve(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function Aj(t){return Buffer.from(t,"base64").toString("utf-8")}function Ove(t){return new Promise(e=>setTimeout(e,t))}function kp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Nve(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function mg(t,...e){if(!Nve(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function N4(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kp(t.outputLen),kp(t.blockLen)}function qh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kj(t,e){mg(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Lm=BigInt(2**32-1),iC=BigInt(32);function Bve(t,e=!1){return e?{h:Number(t&Lm),l:Number(t>>iC&Lm)}:{h:Number(t>>iC&Lm)|0,l:Number(t&Lm)|0}}function Lve(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=Bve(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}const Dve=(t,e,r)=>t<<r|e>>>32-r,$ve=(t,e,r)=>e<<r|t>>>32-r,Uve=(t,e,r)=>e<<r-32|t>>>64-r,Fve=(t,e,r)=>t<<r-32|e>>>64-r,Cf=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function jve(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function jx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function la(t,e){return t<<32-e|t>>>e}const sC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qve(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function oC(t){for(let e=0;e<t.length;e++)t[e]=qve(t[e])}function zve(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function zh(t){return typeof t=="string"&&(t=zve(t)),mg(t),t}function Hve(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];mg(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}class B4{clone(){return this._cloneInto()}}function Ij(t){const e=n=>t().update(zh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function xd(t=32){if(Cf&&typeof Cf.getRandomValues=="function")return Cf.getRandomValues(new Uint8Array(t));if(Cf&&typeof Cf.randomBytes=="function")return Cf.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const Rj=[],Cj=[],Tj=[],Kve=BigInt(0),e0=BigInt(1),Wve=BigInt(2),Vve=BigInt(7),Gve=BigInt(256),Yve=BigInt(113);for(let t=0,e=e0,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Rj.push(2*(5*n+r)),Cj.push((t+1)*(t+2)/2%64);let s=Kve;for(let i=0;i<7;i++)e=(e<<e0^(e>>Vve)*Yve)%Gve,e&Wve&&(s^=e0<<(e0<<BigInt(i))-e0);Tj.push(s)}const[Zve,Jve]=Lve(Tj,!0),aC=(t,e,r)=>r>32?Uve(t,e,r):Dve(t,e,r),lC=(t,e,r)=>r>32?Fve(t,e,r):$ve(t,e,r);function Xve(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,u=(o+2)%10,d=r[u],p=r[u+1],v=aC(d,p,1)^r[l],b=lC(d,p,1)^r[l+1];for(let _=0;_<50;_+=10)t[o+_]^=v,t[o+_+1]^=b}let s=t[2],i=t[3];for(let o=0;o<24;o++){const l=Cj[o],u=aC(s,i,l),d=lC(s,i,l),p=Rj[o];s=t[p],i=t[p+1],t[p]=u,t[p+1]=d}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=Zve[n],t[1]^=Jve[n]}r.fill(0)}let Qve=class Pj extends B4{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kp(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=jve(this.state)}keccak(){sC||oC(this.state32),Xve(this.state32,this.rounds),sC||oC(this.state32),this.posOut=0,this.pos=0}update(e){qh(this);const{blockLen:r,state:n}=this;e=zh(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let l=0;l<o;l++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){qh(this,!1),mg(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(kj(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Pj(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ewe=(t,e,r)=>Ij(()=>new Qve(e,t,r)),twe=ewe(1,136,256/8),rwe="https://rpc.walletconnect.org/v1";function Oj(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(twe(r)).toString("hex")}async function nwe(t,e,r,n,s,i){switch(r.t){case"eip191":return await iwe(t,e,r.s);case"eip1271":return await swe(t,e,r.s,n,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function iwe(t,e,r){return(await oye({hash:Oj(e),signature:r})).toLowerCase()===t.toLowerCase()}async function swe(t,e,r,n,s,i){const o=k1(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const l="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",d="0000000000000000000000000000000000000000000000000000000000000041",p=r.substring(2),v=Oj(e).substring(2),b=l+v+u+d+p,_=await fetch(`${i||rwe}/?chainId=${n}&projectId=${s}`,{method:"POST",body:JSON.stringify({id:owe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:b},"latest"]})}),{result:M}=await _.json();return M?M.slice(0,l.length).toLowerCase()===l.toLowerCase():!1}catch(l){return console.error("isValidEip1271Signature: ",l),!1}}function owe(){return Date.now()+Math.floor(Math.random()*1e3)}function awe(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const i=Buffer.from(t,"base64").slice(1,65);return cye.encode(i)}var lwe=Object.defineProperty,cwe=Object.defineProperties,uwe=Object.getOwnPropertyDescriptors,cC=Object.getOwnPropertySymbols,fwe=Object.prototype.hasOwnProperty,hwe=Object.prototype.propertyIsEnumerable,uC=(t,e,r)=>e in t?lwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dwe=(t,e)=>{for(var r in e||(e={}))fwe.call(e,r)&&uC(t,r,e[r]);if(cC)for(var r of cC(e))hwe.call(e,r)&&uC(t,r,e[r]);return t},pwe=(t,e)=>cwe(t,uwe(e));const gwe="did:pkh:",L4=t=>t==null?void 0:t.split(":"),mwe=t=>{const e=t&&L4(t);if(e)return t.includes(gwe)?e[3]:e[1]},b5=t=>{const e=t&&L4(t);if(e)return e[2]+":"+e[3]},Uy=t=>{const e=t&&L4(t);if(e)return e.pop()};async function fC(t){const{cacao:e,projectId:r}=t,{s:n,p:s}=e,i=Nj(s,s.iss),o=Uy(s.iss);return await nwe(o,i,n,b5(s.iss),r)}const Nj=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=Uy(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=t.statement||void 0;const i=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,l=`Chain ID: ${mwe(e)}`,u=`Nonce: ${t.nonce}`,d=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,v=t.nbf?`Not Before: ${t.nbf}`:void 0,b=t.requestId?`Request ID: ${t.requestId}`:void 0,_=t.resources?`Resources:${t.resources.map(A=>`
- ${A}`).join("")}`:void 0,M=I1(t.resources);if(M){const A=Ip(M);s=Mwe(s,A)}return[r,n,"",s,"",i,o,l,u,d,p,v,b,_].filter(A=>A!=null).join(`
`)};function ywe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function vwe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Zu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{const i=n[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function wwe(t,e,r,n={}){return r==null||r.sort((s,i)=>s.localeCompare(i)),{att:{[t]:bwe(e,r,n)}}}function bwe(t,e,r={}){e=e==null?void 0:e.sort((s,i)=>s.localeCompare(i));const n=e.map(s=>({[`${t}/${s}`]:[r]}));return Object.assign({},...n)}function Bj(t){return Zu(t),`urn:recap:${ywe(t).replace(/=/g,"")}`}function Ip(t){const e=vwe(t.replace("urn:recap:",""));return Zu(e),e}function xwe(t,e,r){const n=wwe(t,e,r);return Bj(n)}function _we(t){return t&&t.includes("urn:recap:")}function Swe(t,e){const r=Ip(t),n=Ip(e),s=Ewe(r,n);return Bj(s)}function Ewe(t,e){Zu(t),Zu(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((s,i)=>s.localeCompare(i)),n={att:{}};return r.forEach(s=>{var i,o;Object.keys(((i=t.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[s])||{})).sort((l,u)=>l.localeCompare(u)).forEach(l=>{var u,d;n.att[s]=pwe(dwe({},n.att[s]),{[l]:((u=t.att[s])==null?void 0:u[l])||((d=e.att[s])==null?void 0:d[l])})})}),n}function Mwe(t="",e){Zu(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let s=0;Object.keys(e.att).forEach(l=>{const u=Object.keys(e.att[l]).map(v=>({ability:v.split("/")[0],action:v.split("/")[1]}));u.sort((v,b)=>v.action.localeCompare(b.action));const d={};u.forEach(v=>{d[v.ability]||(d[v.ability]=[]),d[v.ability].push(v.action)});const p=Object.keys(d).map(v=>(s++,`(${s}) '${v}': '${d[v].join("', '")}' for '${l}'.`));n.push(p.join(", ").replace(".,","."))});const i=n.join(" "),o=`${r}${i}`;return`${t?t+" ":""}${o}`}function hC(t){var e;const r=Ip(t);Zu(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function dC(t){const e=Ip(t);Zu(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function I1(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return _we(e)?e:void 0}function qx(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Lj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Us(t,...e){if(!Lj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function pC(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Awe(t,e){Us(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function gC(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Lc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),kwe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Iwe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Iwe)throw new Error("Non little-endian hardware is not supported");function Rwe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function x5(t){if(typeof t=="string")t=Rwe(t);else if(Lj(t))t=_5(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Cwe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Twe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const Pwe=(t,e)=>{function r(n,...s){if(Us(n),t.nonceLength!==void 0){const d=s[0];if(!d)throw new Error("nonce / iv required");t.varSizeNonce?Us(d):Us(d,t.nonceLength)}const i=t.tagLength;i&&s[1]!==void 0&&Us(s[1]);const o=e(n,...s),l=(d,p)=>{if(p!==void 0){if(d!==2)throw new Error("cipher output not supported");Us(p)}};let u=!1;return{encrypt(d,p){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,Us(d),l(o.encrypt.length,p),o.encrypt(d,p)},decrypt(d,p){if(Us(d),i&&d.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return l(o.decrypt.length,p),o.decrypt(d,p)}}}return Object.assign(r,t),r};function mC(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Owe(e))throw new Error("invalid output, must be aligned");return e}function yC(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),l=Number(r&i);t.setUint32(e+4,o,n),t.setUint32(e+0,l,n)}function Owe(t){return t.byteOffset%4===0}function _5(t){return Uint8Array.from(t)}function Hh(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const Dj=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Nwe=Dj("expand 16-byte k"),Bwe=Dj("expand 32-byte k"),Lwe=Lc(Nwe),Dwe=Lc(Bwe);function Tr(t,e){return t<<e|t>>>32-e}function S5(t){return t.byteOffset%4===0}const Dm=64,$we=16,$j=2**32-1,vC=new Uint32Array;function Uwe(t,e,r,n,s,i,o,l){const u=s.length,d=new Uint8Array(Dm),p=Lc(d),v=S5(s)&&S5(i),b=v?Lc(s):vC,_=v?Lc(i):vC;for(let M=0;M<u;o++){if(t(e,r,n,p,o,l),o>=$j)throw new Error("arx: counter overflow");const A=Math.min(Dm,u-M);if(v&&A===Dm){const I=M/4;if(M%4!==0)throw new Error("arx: invalid block position");for(let k=0,R;k<$we;k++)R=I+k,_[R]=b[R]^p[k];M+=Dm;continue}for(let I=0,k;I<A;I++)k=M+I,i[k]=s[k]^d[I];M+=A}}function Fwe(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:i,rounds:o}=Cwe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return qx(s),qx(o),gC(i),gC(r),(l,u,d,p,v=0)=>{Us(l),Us(u),Us(d);const b=d.length;if(p===void 0&&(p=new Uint8Array(b)),Us(p),qx(v),v<0||v>=$j)throw new Error("arx: counter overflow");if(p.length<b)throw new Error(`arx: output (${p.length}) is shorter than data (${b})`);const _=[];let M=l.length,A,I;if(M===32)_.push(A=_5(l)),I=Dwe;else if(M===16&&r)A=new Uint8Array(32),A.set(l),A.set(l,16),I=Lwe,_.push(A);else throw new Error(`arx: invalid 32-byte key, got length=${M}`);S5(u)||_.push(u=_5(u));const k=Lc(A);if(n){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(I,k,Lc(u.subarray(0,16)),k),u=u.subarray(16)}const R=16-s;if(R!==u.length)throw new Error(`arx: nonce must be ${R} or 16 bytes`);if(R!==12){const P=new Uint8Array(12);P.set(u,i?0:12-u.length),u=P,_.push(u)}const C=Lc(u);return Uwe(t,I,k,C,d,p,v,o),Hh(..._),p}}const yi=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class jwe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=x5(e),Us(e,32);const r=yi(e,0),n=yi(e,2),s=yi(e,4),i=yi(e,6),o=yi(e,8),l=yi(e,10),u=yi(e,12),d=yi(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|l<<2)&8191,this.r[7]=(l>>>11|u<<5)&8065,this.r[8]=(u>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let p=0;p<8;p++)this.pad[p]=yi(e,16+2*p)}process(e,r,n=!1){const s=n?0:2048,{h:i,r:o}=this,l=o[0],u=o[1],d=o[2],p=o[3],v=o[4],b=o[5],_=o[6],M=o[7],A=o[8],I=o[9],k=yi(e,r+0),R=yi(e,r+2),C=yi(e,r+4),P=yi(e,r+6),N=yi(e,r+8),U=yi(e,r+10),q=yi(e,r+12),F=yi(e,r+14);let L=i[0]+(k&8191),ie=i[1]+((k>>>13|R<<3)&8191),E=i[2]+((R>>>10|C<<6)&8191),a=i[3]+((C>>>7|P<<9)&8191),f=i[4]+((P>>>4|N<<12)&8191),h=i[5]+(N>>>1&8191),g=i[6]+((N>>>14|U<<2)&8191),y=i[7]+((U>>>11|q<<5)&8191),x=i[8]+((q>>>8|F<<8)&8191),S=i[9]+(F>>>5|s),m=0,c=m+L*l+ie*(5*I)+E*(5*A)+a*(5*M)+f*(5*_);m=c>>>13,c&=8191,c+=h*(5*b)+g*(5*v)+y*(5*p)+x*(5*d)+S*(5*u),m+=c>>>13,c&=8191;let w=m+L*u+ie*l+E*(5*I)+a*(5*A)+f*(5*M);m=w>>>13,w&=8191,w+=h*(5*_)+g*(5*b)+y*(5*v)+x*(5*p)+S*(5*d),m+=w>>>13,w&=8191;let T=m+L*d+ie*u+E*l+a*(5*I)+f*(5*A);m=T>>>13,T&=8191,T+=h*(5*M)+g*(5*_)+y*(5*b)+x*(5*v)+S*(5*p),m+=T>>>13,T&=8191;let O=m+L*p+ie*d+E*u+a*l+f*(5*I);m=O>>>13,O&=8191,O+=h*(5*A)+g*(5*M)+y*(5*_)+x*(5*b)+S*(5*v),m+=O>>>13,O&=8191;let K=m+L*v+ie*p+E*d+a*u+f*l;m=K>>>13,K&=8191,K+=h*(5*I)+g*(5*A)+y*(5*M)+x*(5*_)+S*(5*b),m+=K>>>13,K&=8191;let ee=m+L*b+ie*v+E*p+a*d+f*u;m=ee>>>13,ee&=8191,ee+=h*l+g*(5*I)+y*(5*A)+x*(5*M)+S*(5*_),m+=ee>>>13,ee&=8191;let J=m+L*_+ie*b+E*v+a*p+f*d;m=J>>>13,J&=8191,J+=h*u+g*l+y*(5*I)+x*(5*A)+S*(5*M),m+=J>>>13,J&=8191;let $=m+L*M+ie*_+E*b+a*v+f*p;m=$>>>13,$&=8191,$+=h*d+g*u+y*l+x*(5*I)+S*(5*A),m+=$>>>13,$&=8191;let z=m+L*A+ie*M+E*_+a*b+f*v;m=z>>>13,z&=8191,z+=h*p+g*d+y*u+x*l+S*(5*I),m+=z>>>13,z&=8191;let Y=m+L*I+ie*A+E*M+a*_+f*b;m=Y>>>13,Y&=8191,Y+=h*v+g*p+y*d+x*u+S*l,m+=Y>>>13,Y&=8191,m=(m<<2)+m|0,m=m+c|0,c=m&8191,m=m>>>13,w+=m,i[0]=c,i[1]=w,i[2]=T,i[3]=O,i[4]=K,i[5]=ee,i[6]=J,i[7]=$,i[8]=z,i[9]=Y}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let s=e[1]>>>13;e[1]&=8191;for(let l=2;l<10;l++)e[l]+=s,s=e[l]>>>13,e[l]&=8191;e[0]+=s*5,s=e[0]>>>13,e[0]&=8191,e[1]+=s,s=e[1]>>>13,e[1]&=8191,e[2]+=s,n[0]=e[0]+5,s=n[0]>>>13,n[0]&=8191;for(let l=1;l<10;l++)n[l]=e[l]+s,s=n[l]>>>13,n[l]&=8191;n[9]-=8192;let i=(s^1)-1;for(let l=0;l<10;l++)n[l]&=i;i=~i;for(let l=0;l<10;l++)e[l]=e[l]&i|n[l];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let l=1;l<8;l++)o=(e[l]+r[l]|0)+(o>>>16)|0,e[l]=o&65535;Hh(n)}update(e){pC(this);const{buffer:r,blockLen:n}=this;e=x5(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);if(o===n){for(;n<=s-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Hh(this.h,this.r,this.buffer,this.pad)}digestInto(e){pC(this),Awe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)e[i++]=n[o]>>>0,e[i++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function qwe(t){const e=(n,s)=>t(s).update(x5(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const zwe=qwe(t=>new jwe(t));function Hwe(t,e,r,n,s,i=20){let o=t[0],l=t[1],u=t[2],d=t[3],p=e[0],v=e[1],b=e[2],_=e[3],M=e[4],A=e[5],I=e[6],k=e[7],R=s,C=r[0],P=r[1],N=r[2],U=o,q=l,F=u,L=d,ie=p,E=v,a=b,f=_,h=M,g=A,y=I,x=k,S=R,m=C,c=P,w=N;for(let O=0;O<i;O+=2)U=U+ie|0,S=Tr(S^U,16),h=h+S|0,ie=Tr(ie^h,12),U=U+ie|0,S=Tr(S^U,8),h=h+S|0,ie=Tr(ie^h,7),q=q+E|0,m=Tr(m^q,16),g=g+m|0,E=Tr(E^g,12),q=q+E|0,m=Tr(m^q,8),g=g+m|0,E=Tr(E^g,7),F=F+a|0,c=Tr(c^F,16),y=y+c|0,a=Tr(a^y,12),F=F+a|0,c=Tr(c^F,8),y=y+c|0,a=Tr(a^y,7),L=L+f|0,w=Tr(w^L,16),x=x+w|0,f=Tr(f^x,12),L=L+f|0,w=Tr(w^L,8),x=x+w|0,f=Tr(f^x,7),U=U+E|0,w=Tr(w^U,16),y=y+w|0,E=Tr(E^y,12),U=U+E|0,w=Tr(w^U,8),y=y+w|0,E=Tr(E^y,7),q=q+a|0,S=Tr(S^q,16),x=x+S|0,a=Tr(a^x,12),q=q+a|0,S=Tr(S^q,8),x=x+S|0,a=Tr(a^x,7),F=F+f|0,m=Tr(m^F,16),h=h+m|0,f=Tr(f^h,12),F=F+f|0,m=Tr(m^F,8),h=h+m|0,f=Tr(f^h,7),L=L+ie|0,c=Tr(c^L,16),g=g+c|0,ie=Tr(ie^g,12),L=L+ie|0,c=Tr(c^L,8),g=g+c|0,ie=Tr(ie^g,7);let T=0;n[T++]=o+U|0,n[T++]=l+q|0,n[T++]=u+F|0,n[T++]=d+L|0,n[T++]=p+ie|0,n[T++]=v+E|0,n[T++]=b+a|0,n[T++]=_+f|0,n[T++]=M+h|0,n[T++]=A+g|0,n[T++]=I+y|0,n[T++]=k+x|0,n[T++]=R+S|0,n[T++]=C+m|0,n[T++]=P+c|0,n[T++]=N+w|0}const Kwe=Fwe(Hwe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Wwe=new Uint8Array(16),wC=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(Wwe.subarray(r))},Vwe=new Uint8Array(32);function bC(t,e,r,n,s){const i=t(e,r,Vwe),o=zwe.create(i);s&&wC(o,s),wC(o,n);const l=new Uint8Array(16),u=kwe(l);yC(u,0,BigInt(s?s.length:0),!0),yC(u,8,BigInt(n.length),!0),o.update(l);const d=o.digest();return Hh(i,l),d}const Gwe=t=>(e,r,n)=>({encrypt(s,i){const o=s.length;i=mC(o+16,i,!1),i.set(s);const l=i.subarray(0,-16);t(e,r,l,l,1);const u=bC(t,e,r,l,n);return i.set(u,o),Hh(u),i},decrypt(s,i){i=mC(s.length-16,i,!1);const o=s.subarray(0,-16),l=s.subarray(-16),u=bC(t,e,r,o,n);if(!Twe(l,u))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),t(e,r,i,i,1),Hh(u),i}}),Uj=Pwe({blockSize:64,nonceLength:12,tagLength:16},Gwe(Kwe));let Fj=class extends B4{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,N4(e);const n=zh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return qh(this),this.iHash.update(e),this}digestInto(e){qh(this),mg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:l}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ww=(t,e,r)=>new Fj(t,e).update(r).digest();ww.create=(t,e)=>new Fj(t,e);function Ywe(t,e,r){return N4(t),r===void 0&&(r=new Uint8Array(t.outputLen)),ww(t,zh(r),zh(e))}const zx=new Uint8Array([0]),xC=new Uint8Array;function Zwe(t,e,r,n=32){if(N4(t),kp(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/t.outputLen);r===void 0&&(r=xC);const i=new Uint8Array(s*t.outputLen),o=ww.create(t,e),l=o._cloneInto(),u=new Uint8Array(o.outputLen);for(let d=0;d<s;d++)zx[0]=d+1,l.update(d===0?xC:u).update(r).update(zx).digestInto(u),i.set(u,t.outputLen*d),o._cloneInto(l);return o.destroy(),l.destroy(),u.fill(0),zx.fill(0),i.slice(0,n)}const Jwe=(t,e,r,n,s)=>Zwe(t,Ywe(t,e,r),n,s);function Xwe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),l=Number(r&i),u=n?4:0,d=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+d,l,n)}function Qwe(t,e,r){return t&e^~t&r}function ebe(t,e,r){return t&e^t&r^e&r}let tbe=class extends B4{constructor(e,r,n,s){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=jx(this.buffer)}update(e){qh(this);const{view:r,buffer:n,blockLen:s}=this;e=zh(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const u=jx(e);for(;s<=i-o;o+=s)this.process(u,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){qh(this),kj(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let v=o;v<s;v++)r[v]=0;Xwe(n,s-8,BigInt(this.length*8),i),this.process(n,0);const l=jx(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=u/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<d;v++)l.setUint32(4*v,p[v],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:s,finished:i,destroyed:o,pos:l}=this;return e.length=s,e.pos=l,e.finished=i,e.destroyed=o,s%r&&e.buffer.set(n),e}};const rbe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ql=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ec=new Uint32Array(64);class nbe extends tbe{constructor(){super(64,32,8,!1),this.A=Ql[0]|0,this.B=Ql[1]|0,this.C=Ql[2]|0,this.D=Ql[3]|0,this.E=Ql[4]|0,this.F=Ql[5]|0,this.G=Ql[6]|0,this.H=Ql[7]|0}get(){const{A:e,B:r,C:n,D:s,E:i,F:o,G:l,H:u}=this;return[e,r,n,s,i,o,l,u]}set(e,r,n,s,i,o,l,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=u|0}process(e,r){for(let v=0;v<16;v++,r+=4)ec[v]=e.getUint32(r,!1);for(let v=16;v<64;v++){const b=ec[v-15],_=ec[v-2],M=la(b,7)^la(b,18)^b>>>3,A=la(_,17)^la(_,19)^_>>>10;ec[v]=A+ec[v-7]+M+ec[v-16]|0}let{A:n,B:s,C:i,D:o,E:l,F:u,G:d,H:p}=this;for(let v=0;v<64;v++){const b=la(l,6)^la(l,11)^la(l,25),_=p+b+Qwe(l,u,d)+rbe[v]+ec[v]|0,M=(la(n,2)^la(n,13)^la(n,22))+ebe(n,s,i)|0;p=d,d=u,u=l,l=o+_|0,o=i,i=s,s=n,n=_+M|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,u=u+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(n,s,i,o,l,u,d,p)}roundClean(){ec.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const yg=Ij(()=>new nbe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bw=BigInt(0),xw=BigInt(1),ibe=BigInt(2);function Ju(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function vg(t){if(!Ju(t))throw new Error("Uint8Array expected")}function Kh(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const sbe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Wh(t){vg(t);let e="";for(let r=0;r<t.length;r++)e+=sbe[t[r]];return e}function Qf(t){const e=t.toString(16);return e.length&1?"0"+e:e}function D4(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?bw:BigInt("0x"+t)}const rl={_0:48,_9:57,A:65,F:70,a:97,f:102};function _C(t){if(t>=rl._0&&t<=rl._9)return t-rl._0;if(t>=rl.A&&t<=rl.F)return t-(rl.A-10);if(t>=rl.a&&t<=rl.f)return t-(rl.a-10)}function Vh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let s=0,i=0;s<r;s++,i+=2){const o=_C(t.charCodeAt(i)),l=_C(t.charCodeAt(i+1));if(o===void 0||l===void 0){const u=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+i)}n[s]=o*16+l}return n}function Lu(t){return D4(Wh(t))}function Rp(t){return vg(t),D4(Wh(Uint8Array.from(t).reverse()))}function Gh(t,e){return Vh(t.toString(16).padStart(e*2,"0"))}function _w(t,e){return Gh(t,e).reverse()}function obe(t){return Vh(Qf(t))}function Ls(t,e,r){let n;if(typeof e=="string")try{n=Vh(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Ju(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=n.length;if(typeof r=="number"&&s!==r)throw new Error(t+" of length "+r+" expected, got "+s);return n}function Cp(...t){let e=0;for(let n=0;n<t.length;n++){const s=t[n];vg(s),e+=s.length}const r=new Uint8Array(e);for(let n=0,s=0;n<t.length;n++){const i=t[n];r.set(i,s),s+=i.length}return r}function abe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function lbe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Hx=t=>typeof t=="bigint"&&bw<=t;function Sw(t,e,r){return Hx(t)&&Hx(e)&&Hx(r)&&e<=t&&t<r}function Ml(t,e,r,n){if(!Sw(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function jj(t){let e;for(e=0;t>bw;t>>=xw,e+=1);return e}function cbe(t,e){return t>>BigInt(e)&xw}function ube(t,e,r){return t|(r?xw:bw)<<BigInt(e)}const $4=t=>(ibe<<BigInt(t-1))-xw,Kx=t=>new Uint8Array(t),SC=t=>Uint8Array.from(t);function qj(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Kx(t),s=Kx(t),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},l=(...p)=>r(s,n,...p),u=(p=Kx())=>{s=l(SC([0]),p),n=l(),p.length!==0&&(s=l(SC([1]),p),n=l())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const v=[];for(;p<e;){n=l();const b=n.slice();v.push(b),p+=n.length}return Cp(...v)};return(p,v)=>{o(),u(p);let b;for(;!(b=v(d()));)u();return o(),b}}const fbe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ju(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function _d(t,e,r={}){const n=(s,i,o)=>{const l=fbe[i];if(typeof l!="function")throw new Error("invalid validator function");const u=t[s];if(!(o&&u===void 0)&&!l(u,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+u)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(r))n(s,i,!0);return t}const hbe=()=>{throw new Error("not implemented")};function E5(t){const e=new WeakMap;return(r,...n)=>{const s=e.get(r);if(s!==void 0)return s;const i=t(r,...n);return e.set(r,i),i}}var dbe=Object.freeze({__proto__:null,isBytes:Ju,abytes:vg,abool:Kh,bytesToHex:Wh,numberToHexUnpadded:Qf,hexToNumber:D4,hexToBytes:Vh,bytesToNumberBE:Lu,bytesToNumberLE:Rp,numberToBytesBE:Gh,numberToBytesLE:_w,numberToVarBytesBE:obe,ensureBytes:Ls,concatBytes:Cp,equalBytes:abe,utf8ToBytes:lbe,inRange:Sw,aInRange:Ml,bitLen:jj,bitGet:cbe,bitSet:ube,bitMask:$4,createHmacDrbg:qj,validateObject:_d,notImplemented:hbe,memoized:E5});const di=BigInt(0),Ln=BigInt(1),mu=BigInt(2),pbe=BigInt(3),M5=BigInt(4),EC=BigInt(5),MC=BigInt(8);function ys(t,e){const r=t%e;return r>=di?r:e+r}function zj(t,e,r){if(e<di)throw new Error("invalid exponent, negatives unsupported");if(r<=di)throw new Error("invalid modulus");if(r===Ln)return di;let n=Ln;for(;e>di;)e&Ln&&(n=n*t%r),t=t*t%r,e>>=Ln;return n}function Do(t,e,r){let n=t;for(;e-- >di;)n*=n,n%=r;return n}function A5(t,e){if(t===di)throw new Error("invert: expected non-zero number");if(e<=di)throw new Error("invert: expected positive modulus, got "+e);let r=ys(t,e),n=e,s=di,i=Ln;for(;r!==di;){const o=n/r,l=n%r,u=s-i*o;n=r,r=l,s=i,i=u}if(n!==Ln)throw new Error("invert: does not exist");return ys(s,e)}function gbe(t){const e=(t-Ln)/mu;let r,n,s;for(r=t-Ln,n=0;r%mu===di;r/=mu,n++);for(s=mu;s<t&&zj(s,e,t)!==t-Ln;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+Ln)/M5;return function(l,u){const d=l.pow(u,o);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const i=(r+Ln)/mu;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=n,d=o.pow(o.mul(o.ONE,s),r),p=o.pow(l,i),v=o.pow(l,r);for(;!o.eql(v,o.ONE);){if(o.eql(v,o.ZERO))return o.ZERO;let b=1;for(let M=o.sqr(v);b<u&&!o.eql(M,o.ONE);b++)M=o.sqr(M);const _=o.pow(d,Ln<<BigInt(u-b-1));d=o.sqr(_),p=o.mul(p,_),v=o.mul(v,d),u=b}return p}}function mbe(t){if(t%M5===pbe){const e=(t+Ln)/M5;return function(r,n){const s=r.pow(n,e);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(t%MC===EC){const e=(t-EC)/MC;return function(r,n){const s=r.mul(n,mu),i=r.pow(s,e),o=r.mul(n,i),l=r.mul(r.mul(o,mu),i),u=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return gbe(t)}const ybe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vbe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ybe.reduce((n,s)=>(n[s]="function",n),e);return _d(t,r)}function wbe(t,e,r){if(r<di)throw new Error("invalid exponent, negatives unsupported");if(r===di)return t.ONE;if(r===Ln)return e;let n=t.ONE,s=e;for(;r>di;)r&Ln&&(n=t.mul(n,s)),s=t.sqr(s),r>>=Ln;return n}function bbe(t,e){const r=new Array(e.length),n=e.reduce((i,o,l)=>t.is0(o)?i:(r[l]=i,t.mul(i,o)),t.ONE),s=t.inv(n);return e.reduceRight((i,o,l)=>t.is0(o)?i:(r[l]=t.mul(i,r[l]),t.mul(i,o)),s),r}function Hj(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Kj(t,e,r=!1,n={}){if(t<=di)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=Hj(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const l=Object.freeze({ORDER:t,isLE:r,BITS:s,BYTES:i,MASK:$4(s),ZERO:di,ONE:Ln,create:u=>ys(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return di<=u&&u<t},is0:u=>u===di,isOdd:u=>(u&Ln)===Ln,neg:u=>ys(-u,t),eql:(u,d)=>u===d,sqr:u=>ys(u*u,t),add:(u,d)=>ys(u+d,t),sub:(u,d)=>ys(u-d,t),mul:(u,d)=>ys(u*d,t),pow:(u,d)=>wbe(l,u,d),div:(u,d)=>ys(u*A5(d,t),t),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>A5(u,t),sqrt:n.sqrt||(u=>(o||(o=mbe(t)),o(l,u))),invertBatch:u=>bbe(l,u),cmov:(u,d,p)=>p?d:u,toBytes:u=>r?_w(u,i):Gh(u,i),fromBytes:u=>{if(u.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+u.length);return r?Rp(u):Lu(u)}});return Object.freeze(l)}function Wj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Vj(t){const e=Wj(t);return e+Math.ceil(e/2)}function xbe(t,e,r=!1){const n=t.length,s=Wj(e),i=Vj(e);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const o=r?Rp(t):Lu(t),l=ys(o,e-Ln)+Ln;return r?_w(l,s):Gh(l,s)}const AC=BigInt(0),$m=BigInt(1);function Wx(t,e){const r=e.negate();return t?r:e}function Gj(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Vx(t,e){Gj(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function _be(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Sbe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Gx=new WeakMap,Yj=new WeakMap;function Yx(t){return Yj.get(t)||1}function Ebe(t,e){return{constTimeNegate:Wx,hasPrecomputes(r){return Yx(r)!==1},unsafeLadder(r,n,s=t.ZERO){let i=r;for(;n>AC;)n&$m&&(s=s.add(i)),i=i.double(),n>>=$m;return s},precomputeWindow(r,n){const{windows:s,windowSize:i}=Vx(n,e),o=[];let l=r,u=l;for(let d=0;d<s;d++){u=l,o.push(u);for(let p=1;p<i;p++)u=u.add(l),o.push(u);l=u.double()}return o},wNAF(r,n,s){const{windows:i,windowSize:o}=Vx(r,e);let l=t.ZERO,u=t.BASE;const d=BigInt(2**r-1),p=2**r,v=BigInt(r);for(let b=0;b<i;b++){const _=b*o;let M=Number(s&d);s>>=v,M>o&&(M-=p,s+=$m);const A=_,I=_+Math.abs(M)-1,k=b%2!==0,R=M<0;M===0?u=u.add(Wx(k,n[A])):l=l.add(Wx(R,n[I]))}return{p:l,f:u}},wNAFUnsafe(r,n,s,i=t.ZERO){const{windows:o,windowSize:l}=Vx(r,e),u=BigInt(2**r-1),d=2**r,p=BigInt(r);for(let v=0;v<o;v++){const b=v*l;if(s===AC)break;let _=Number(s&u);if(s>>=p,_>l&&(_-=d,s+=$m),_===0)continue;let M=n[b+Math.abs(_)-1];_<0&&(M=M.negate()),i=i.add(M)}return i},getPrecomputes(r,n,s){let i=Gx.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Gx.set(n,s(i))),i},wNAFCached(r,n,s){const i=Yx(r);return this.wNAF(i,this.getPrecomputes(i,r,s),n)},wNAFCachedUnsafe(r,n,s,i){const o=Yx(r);return o===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,r,s),n,i)},setWindowSize(r,n){Gj(n,e),Yj.set(r,n),Gx.delete(r)}}}function Mbe(t,e,r,n){if(_be(r,t),Sbe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=t.ZERO,i=jj(BigInt(r.length)),o=i>12?i-3:i>4?i-2:i?2:1,l=(1<<o)-1,u=new Array(l+1).fill(s),d=Math.floor((e.BITS-1)/o)*o;let p=s;for(let v=d;v>=0;v-=o){u.fill(s);for(let _=0;_<n.length;_++){const M=n[_],A=Number(M>>BigInt(v)&BigInt(l));u[A]=u[A].add(r[_])}let b=s;for(let _=u.length-1,M=s;_>0;_--)M=M.add(u[_]),b=b.add(M);if(p=p.add(b),v!==0)for(let _=0;_<o;_++)p=p.double()}return p}function Zj(t){return vbe(t.Fp),_d(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Hj(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Tf=BigInt(0),Zx=BigInt(1);function Abe(t){return _d(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function kbe(t){const e=Abe(t),{P:r}=e,n=R=>ys(R,r),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,l=e.adjustScalarBytes||(R=>R),u=e.powPminus2||(R=>zj(R,r-BigInt(2),r));function d(R,C,P){const N=n(R*(C-P));return C=n(C-N),P=n(P+N),[C,P]}const p=(e.a-BigInt(2))/BigInt(4);function v(R,C){Ml("u",R,Tf,r),Ml("scalar",C,Tf,r);const P=C,N=R;let U=Zx,q=Tf,F=R,L=Zx,ie=Tf,E;for(let f=BigInt(s-1);f>=Tf;f--){const h=P>>f&Zx;ie^=h,E=d(ie,U,F),U=E[0],F=E[1],E=d(ie,q,L),q=E[0],L=E[1],ie=h;const g=U+q,y=n(g*g),x=U-q,S=n(x*x),m=y-S,c=F+L,w=F-L,T=n(w*g),O=n(c*x),K=T+O,ee=T-O;F=n(K*K),L=n(N*n(ee*ee)),U=n(y*S),q=n(m*(y+n(p*m)))}E=d(ie,U,F),U=E[0],F=E[1],E=d(ie,q,L),q=E[0],L=E[1];const a=u(q);return n(U*a)}function b(R){return _w(n(R),i)}function _(R){const C=Ls("u coordinate",R,i);return o===32&&(C[31]&=127),Rp(C)}function M(R){const C=Ls("scalar",R),P=C.length;if(P!==i&&P!==o){let N=""+i+" or "+o;throw new Error("invalid scalar, expected "+N+" bytes, got "+P)}return Rp(l(C))}function A(R,C){const P=_(C),N=M(R),U=v(P,N);if(U===Tf)throw new Error("invalid private or public key received");return b(U)}const I=b(e.Gu);function k(R){return A(R,I)}return{scalarMult:A,scalarMultBase:k,getSharedSecret:(R,C)=>A(R,C),getPublicKey:R=>k(R),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:I}}const k5=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Ibe=BigInt(1),kC=BigInt(2),Rbe=BigInt(3),Cbe=BigInt(5);BigInt(8);function Tbe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),i=k5,o=t*t%i*t%i,l=Do(o,kC,i)*o%i,u=Do(l,Ibe,i)*t%i,d=Do(u,Cbe,i)*u%i,p=Do(d,e,i)*d%i,v=Do(p,r,i)*p%i,b=Do(v,n,i)*v%i,_=Do(b,s,i)*b%i,M=Do(_,s,i)*b%i,A=Do(M,e,i)*d%i;return{pow_p_5_8:Do(A,kC,i)*t%i,b2:o}}function Pbe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const I5=kbe({P:k5,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=k5,{pow_p_5_8:r,b2:n}=Tbe(t);return ys(Do(r,Rbe,e)*n,e)},adjustScalarBytes:Pbe,randomBytes:xd});function IC(t){t.lowS!==void 0&&Kh("lowS",t.lowS),t.prehash!==void 0&&Kh("prehash",t.prehash)}function Obe(t){const e=Zj(t);_d(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:s}=e;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Nbe,hexToBytes:Bbe}=dbe;class Lbe extends Error{constructor(e=""){super(e)}}const fl={Err:Lbe,_tlv:{encode:(t,e)=>{const{Err:r}=fl;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,s=Qf(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?Qf(s.length/2|128):"";return Qf(t)+i+s+e},decode(t,e){const{Err:r}=fl;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const s=e[n++],i=!!(s&128);let o=0;if(!i)o=s;else{const u=s&127;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");const d=e.subarray(n,n+u);if(d.length!==u)throw new r("tlv.decode: length bytes not complete");if(d[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const p of d)o=o<<8|p;if(n+=u,o<128)throw new r("tlv.decode(long): not minimal encoding")}const l=e.subarray(n,n+o);if(l.length!==o)throw new r("tlv.decode: wrong value length");return{v:l,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=fl;if(t<gl)throw new e("integer: negative integers are not allowed");let r=Qf(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=fl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Nbe(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=fl,s=typeof t=="string"?Bbe(t):t;vg(s);const{v:i,l:o}=n.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:l,l:u}=n.decode(2,i),{v:d,l:p}=n.decode(2,u);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(d)}},hexFromSig(t){const{_tlv:e,_int:r}=fl,n=e.encode(2,r.encode(t.r)),s=e.encode(2,r.encode(t.s)),i=n+s;return e.encode(48,i)}},gl=BigInt(0),oi=BigInt(1);BigInt(2);const RC=BigInt(3);BigInt(4);function Dbe(t){const e=Obe(t),{Fp:r}=e,n=Kj(e.n,e.nBitLength),s=e.toBytes||((A,I,k)=>{const R=I.toAffine();return Cp(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),i=e.fromBytes||(A=>{const I=A.subarray(1),k=r.fromBytes(I.subarray(0,r.BYTES)),R=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:k,y:R}});function o(A){const{a:I,b:k}=e,R=r.sqr(A),C=r.mul(R,A);return r.add(r.add(C,r.mul(A,I)),k)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function l(A){return Sw(A,oi,e.n)}function u(A){const{allowedPrivateKeyLengths:I,nByteLength:k,wrapPrivateKey:R,n:C}=e;if(I&&typeof A!="bigint"){if(Ju(A)&&(A=Wh(A)),typeof A!="string"||!I.includes(A.length))throw new Error("invalid private key");A=A.padStart(k*2,"0")}let P;try{P=typeof A=="bigint"?A:Lu(Ls("private key",A,k))}catch{throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof A)}return R&&(P=ys(P,C)),Ml("private key",P,oi,C),P}function d(A){if(!(A instanceof b))throw new Error("ProjectivePoint expected")}const p=E5((A,I)=>{const{px:k,py:R,pz:C}=A;if(r.eql(C,r.ONE))return{x:k,y:R};const P=A.is0();I==null&&(I=P?r.ONE:r.inv(C));const N=r.mul(k,I),U=r.mul(R,I),q=r.mul(C,I);if(P)return{x:r.ZERO,y:r.ZERO};if(!r.eql(q,r.ONE))throw new Error("invZ was invalid");return{x:N,y:U}}),v=E5(A=>{if(A.is0()){if(e.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:I,y:k}=A.toAffine();if(!r.isValid(I)||!r.isValid(k))throw new Error("bad point: x or y not FE");const R=r.sqr(k),C=o(I);if(!r.eql(R,C))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(I,k,R){if(this.px=I,this.py=k,this.pz=R,I==null||!r.isValid(I))throw new Error("x required");if(k==null||!r.isValid(k))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required");Object.freeze(this)}static fromAffine(I){const{x:k,y:R}=I||{};if(!I||!r.isValid(k)||!r.isValid(R))throw new Error("invalid affine point");if(I instanceof b)throw new Error("projective point not allowed");const C=P=>r.eql(P,r.ZERO);return C(k)&&C(R)?b.ZERO:new b(k,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const k=r.invertBatch(I.map(R=>R.pz));return I.map((R,C)=>R.toAffine(k[C])).map(b.fromAffine)}static fromHex(I){const k=b.fromAffine(i(Ls("pointHex",I)));return k.assertValidity(),k}static fromPrivateKey(I){return b.BASE.multiply(u(I))}static msm(I,k){return Mbe(b,n,I,k)}_setWindowSize(I){M.setWindowSize(this,I)}assertValidity(){v(this)}hasEvenY(){const{y:I}=this.toAffine();if(r.isOdd)return!r.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){d(I);const{px:k,py:R,pz:C}=this,{px:P,py:N,pz:U}=I,q=r.eql(r.mul(k,U),r.mul(P,C)),F=r.eql(r.mul(R,U),r.mul(N,C));return q&&F}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:I,b:k}=e,R=r.mul(k,RC),{px:C,py:P,pz:N}=this;let U=r.ZERO,q=r.ZERO,F=r.ZERO,L=r.mul(C,C),ie=r.mul(P,P),E=r.mul(N,N),a=r.mul(C,P);return a=r.add(a,a),F=r.mul(C,N),F=r.add(F,F),U=r.mul(I,F),q=r.mul(R,E),q=r.add(U,q),U=r.sub(ie,q),q=r.add(ie,q),q=r.mul(U,q),U=r.mul(a,U),F=r.mul(R,F),E=r.mul(I,E),a=r.sub(L,E),a=r.mul(I,a),a=r.add(a,F),F=r.add(L,L),L=r.add(F,L),L=r.add(L,E),L=r.mul(L,a),q=r.add(q,L),E=r.mul(P,N),E=r.add(E,E),L=r.mul(E,a),U=r.sub(U,L),F=r.mul(E,ie),F=r.add(F,F),F=r.add(F,F),new b(U,q,F)}add(I){d(I);const{px:k,py:R,pz:C}=this,{px:P,py:N,pz:U}=I;let q=r.ZERO,F=r.ZERO,L=r.ZERO;const ie=e.a,E=r.mul(e.b,RC);let a=r.mul(k,P),f=r.mul(R,N),h=r.mul(C,U),g=r.add(k,R),y=r.add(P,N);g=r.mul(g,y),y=r.add(a,f),g=r.sub(g,y),y=r.add(k,C);let x=r.add(P,U);return y=r.mul(y,x),x=r.add(a,h),y=r.sub(y,x),x=r.add(R,C),q=r.add(N,U),x=r.mul(x,q),q=r.add(f,h),x=r.sub(x,q),L=r.mul(ie,y),q=r.mul(E,h),L=r.add(q,L),q=r.sub(f,L),L=r.add(f,L),F=r.mul(q,L),f=r.add(a,a),f=r.add(f,a),h=r.mul(ie,h),y=r.mul(E,y),f=r.add(f,h),h=r.sub(a,h),h=r.mul(ie,h),y=r.add(y,h),a=r.mul(f,y),F=r.add(F,a),a=r.mul(x,y),q=r.mul(g,q),q=r.sub(q,a),a=r.mul(g,f),L=r.mul(x,L),L=r.add(L,a),new b(q,F,L)}subtract(I){return this.add(I.negate())}is0(){return this.equals(b.ZERO)}wNAF(I){return M.wNAFCached(this,I,b.normalizeZ)}multiplyUnsafe(I){const{endo:k,n:R}=e;Ml("scalar",I,gl,R);const C=b.ZERO;if(I===gl)return C;if(this.is0()||I===oi)return this;if(!k||M.hasPrecomputes(this))return M.wNAFCachedUnsafe(this,I,b.normalizeZ);let{k1neg:P,k1:N,k2neg:U,k2:q}=k.splitScalar(I),F=C,L=C,ie=this;for(;N>gl||q>gl;)N&oi&&(F=F.add(ie)),q&oi&&(L=L.add(ie)),ie=ie.double(),N>>=oi,q>>=oi;return P&&(F=F.negate()),U&&(L=L.negate()),L=new b(r.mul(L.px,k.beta),L.py,L.pz),F.add(L)}multiply(I){const{endo:k,n:R}=e;Ml("scalar",I,oi,R);let C,P;if(k){const{k1neg:N,k1:U,k2neg:q,k2:F}=k.splitScalar(I);let{p:L,f:ie}=this.wNAF(U),{p:E,f:a}=this.wNAF(F);L=M.constTimeNegate(N,L),E=M.constTimeNegate(q,E),E=new b(r.mul(E.px,k.beta),E.py,E.pz),C=L.add(E),P=ie.add(a)}else{const{p:N,f:U}=this.wNAF(I);C=N,P=U}return b.normalizeZ([C,P])[0]}multiplyAndAddUnsafe(I,k,R){const C=b.BASE,P=(U,q)=>q===gl||q===oi||!U.equals(C)?U.multiplyUnsafe(q):U.multiply(q),N=P(this,k).add(P(I,R));return N.is0()?void 0:N}toAffine(I){return p(this,I)}isTorsionFree(){const{h:I,isTorsionFree:k}=e;if(I===oi)return!0;if(k)return k(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:k}=e;return I===oi?this:k?k(b,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return Kh("isCompressed",I),this.assertValidity(),s(b,this,I)}toHex(I=!0){return Kh("isCompressed",I),Wh(this.toRawBytes(I))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const _=e.nBitLength,M=Ebe(b,e.endo?Math.ceil(_/2):_);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:l}}function $be(t){const e=Zj(t);return _d(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ube(t){const e=$be(t),{Fp:r,n}=e,s=r.BYTES+1,i=2*r.BYTES+1;function o(h){return ys(h,n)}function l(h){return A5(h,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:v}=Dbe({...e,toBytes(h,g,y){const x=g.toAffine(),S=r.toBytes(x.x),m=Cp;return Kh("isCompressed",y),y?m(Uint8Array.from([g.hasEvenY()?2:3]),S):m(Uint8Array.from([4]),S,r.toBytes(x.y))},fromBytes(h){const g=h.length,y=h[0],x=h.subarray(1);if(g===s&&(y===2||y===3)){const S=Lu(x);if(!Sw(S,oi,r.ORDER))throw new Error("Point is not on curve");const m=p(S);let c;try{c=r.sqrt(m)}catch(T){const O=T instanceof Error?": "+T.message:"";throw new Error("Point is not on curve"+O)}const w=(c&oi)===oi;return(y&1)===1!==w&&(c=r.neg(c)),{x:S,y:c}}else if(g===i&&y===4){const S=r.fromBytes(x.subarray(0,r.BYTES)),m=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:S,y:m}}else{const S=s,m=i;throw new Error("invalid Point, expected length of "+S+", or uncompressed "+m+", got "+g)}}}),b=h=>Wh(Gh(h,e.nByteLength));function _(h){const g=n>>oi;return h>g}function M(h){return _(h)?o(-h):h}const A=(h,g,y)=>Lu(h.slice(g,y));class I{constructor(g,y,x){this.r=g,this.s=y,this.recovery=x,this.assertValidity()}static fromCompact(g){const y=e.nByteLength;return g=Ls("compactSignature",g,y*2),new I(A(g,0,y),A(g,y,2*y))}static fromDER(g){const{r:y,s:x}=fl.toSig(Ls("DER",g));return new I(y,x)}assertValidity(){Ml("r",this.r,oi,n),Ml("s",this.s,oi,n)}addRecoveryBit(g){return new I(this.r,this.s,g)}recoverPublicKey(g){const{r:y,s:x,recovery:S}=this,m=U(Ls("msgHash",g));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const c=S===2||S===3?y+e.n:y;if(c>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const w=S&1?"03":"02",T=u.fromHex(w+b(c)),O=l(c),K=o(-m*O),ee=o(x*O),J=u.BASE.multiplyAndAddUnsafe(T,K,ee);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Vh(this.toDERHex())}toDERHex(){return fl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Vh(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const k={isValidPrivateKey(h){try{return d(h),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const h=Vj(e.n);return xbe(e.randomBytes(h),e.n)},precompute(h=8,g=u.BASE){return g._setWindowSize(h),g.multiply(BigInt(3)),g}};function R(h,g=!0){return u.fromPrivateKey(h).toRawBytes(g)}function C(h){const g=Ju(h),y=typeof h=="string",x=(g||y)&&h.length;return g?x===s||x===i:y?x===2*s||x===2*i:h instanceof u}function P(h,g,y=!0){if(C(h))throw new Error("first arg must be private key");if(!C(g))throw new Error("second arg must be public key");return u.fromHex(g).multiply(d(h)).toRawBytes(y)}const N=e.bits2int||function(h){if(h.length>8192)throw new Error("input is too large");const g=Lu(h),y=h.length*8-e.nBitLength;return y>0?g>>BigInt(y):g},U=e.bits2int_modN||function(h){return o(N(h))},q=$4(e.nBitLength);function F(h){return Ml("num < 2^"+e.nBitLength,h,gl,q),Gh(h,e.nByteLength)}function L(h,g,y=ie){if(["recovered","canonical"].some(z=>z in y))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:S}=e;let{lowS:m,prehash:c,extraEntropy:w}=y;m==null&&(m=!0),h=Ls("msgHash",h),IC(y),c&&(h=Ls("prehashed msgHash",x(h)));const T=U(h),O=d(g),K=[F(O),F(T)];if(w!=null&&w!==!1){const z=w===!0?S(r.BYTES):w;K.push(Ls("extraEntropy",z))}const ee=Cp(...K),J=T;function $(z){const Y=N(z);if(!v(Y))return;const te=l(Y),G=u.BASE.multiply(Y).toAffine(),j=o(G.x);if(j===gl)return;const W=o(te*o(J+j*O));if(W===gl)return;let oe=(G.x===j?0:2)|Number(G.y&oi),ae=W;return m&&_(W)&&(ae=M(W),oe^=1),new I(j,ae,oe)}return{seed:ee,k2sig:$}}const ie={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};function a(h,g,y=ie){const{seed:x,k2sig:S}=L(h,g,y),m=e;return qj(m.hash.outputLen,m.nByteLength,m.hmac)(x,S)}u.BASE._setWindowSize(8);function f(h,g,y,x=E){var W;const S=h;g=Ls("msgHash",g),y=Ls("publicKey",y);const{lowS:m,prehash:c,format:w}=x;if(IC(x),"strict"in x)throw new Error("options.strict was renamed to lowS");if(w!==void 0&&w!=="compact"&&w!=="der")throw new Error("format must be compact or der");const T=typeof S=="string"||Ju(S),O=!T&&!w&&typeof S=="object"&&S!==null&&typeof S.r=="bigint"&&typeof S.s=="bigint";if(!T&&!O)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let K,ee;try{if(O&&(K=new I(S.r,S.s)),T){try{w!=="compact"&&(K=I.fromDER(S))}catch(oe){if(!(oe instanceof fl.Err))throw oe}!K&&w!=="der"&&(K=I.fromCompact(S))}ee=u.fromHex(y)}catch{return!1}if(!K||m&&K.hasHighS())return!1;c&&(g=e.hash(g));const{r:J,s:$}=K,z=U(g),Y=l($),te=o(z*Y),G=o(J*Y),j=(W=u.BASE.multiplyAndAddUnsafe(ee,te,G))==null?void 0:W.toAffine();return j?o(j.x)===J:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:P,sign:a,verify:f,ProjectivePoint:u,Signature:I,utils:k}}function Fbe(t){return{hash:t,hmac:(e,...r)=>ww(t,e,Hve(...r)),randomBytes:xd}}function jbe(t,e){const r=n=>Ube({...t,...Fbe(n)});return{...r(e),create:r}}const Jj=Kj(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),qbe=Jj.create(BigInt("-3")),zbe=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Hbe=jbe({a:qbe,b:zbe,Fp:Jj,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},yg),Xj="base10",is="base16",Ko="base64pad",dc="base64url",wg="utf8",Qj=0,Al=1,bg=2,Kbe=0,CC=1,L0=12,U4=32;function Wbe(){const t=I5.utils.randomPrivateKey(),e=I5.getPublicKey(t);return{privateKey:Ms(t,is),publicKey:Ms(e,is)}}function R5(){const t=xd(U4);return Ms(t,is)}function Vbe(t,e){const r=I5.getSharedSecret(wo(t,is),wo(e,is)),n=Jwe(yg,r,void 0,void 0,U4);return Ms(n,is)}function R1(t){const e=yg(wo(t,is));return Ms(e,is)}function ba(t){const e=yg(wo(t,wg));return Ms(e,is)}function eq(t){return wo(`${t}`,Xj)}function Xu(t){return Number(Ms(t,Xj))}function tq(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function rq(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function Gbe(t){const e=eq(typeof t.type<"u"?t.type:Qj);if(Xu(e)===Al&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?wo(t.senderPublicKey,is):void 0,n=typeof t.iv<"u"?wo(t.iv,is):xd(L0),s=wo(t.symKey,is),i=Uj(s,n).encrypt(wo(t.message,wg)),o=nq({type:e,sealed:i,iv:n,senderPublicKey:r});return t.encoding===dc?tq(o):o}function Ybe(t){const e=wo(t.symKey,is),{sealed:r,iv:n}=Tp({encoded:t.encoded,encoding:t.encoding}),s=Uj(e,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return Ms(s,wg)}function Zbe(t,e){const r=eq(bg),n=xd(L0),s=wo(t,wg),i=nq({type:r,sealed:s,iv:n});return e===dc?tq(i):i}function Jbe(t,e){const{sealed:r}=Tp({encoded:t,encoding:e});return Ms(r,wg)}function nq(t){if(Xu(t.type)===bg)return Ms(B0([t.type,t.sealed]),Ko);if(Xu(t.type)===Al){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ms(B0([t.type,t.senderPublicKey,t.iv,t.sealed]),Ko)}return Ms(B0([t.type,t.iv,t.sealed]),Ko)}function Tp(t){const e=(t.encoding||Ko)===dc?rq(t.encoded):t.encoded,r=wo(e,Ko),n=r.slice(Kbe,CC),s=CC;if(Xu(n)===Al){const u=s+U4,d=u+L0,p=r.slice(s,u),v=r.slice(u,d),b=r.slice(d);return{type:n,sealed:b,iv:v,senderPublicKey:p}}if(Xu(n)===bg){const u=r.slice(s),d=xd(L0);return{type:n,sealed:u,iv:d}}const i=s+L0,o=r.slice(s,i),l=r.slice(i);return{type:n,sealed:l,iv:o}}function Xbe(t,e){const r=Tp({encoded:t,encoding:e==null?void 0:e.encoding});return iq({type:Xu(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ms(r.senderPublicKey,is):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function iq(t){const e=(t==null?void 0:t.type)||Qj;if(e===Al){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function TC(t){return t.type===Al&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function PC(t){return t.type===bg}function Qbe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return B0([new Uint8Array([4]),e,r])}function e2e(t,e){const[r,n,s]=t.split("."),i=Buffer.from(rq(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),l=i.slice(32,64),u=`${r}.${n}`,d=yg(u),p=Qbe(e);if(!Hbe.verify(B0([o,l]),d,p))throw new Error("Invalid signature");return g5(t).payload}const t2e="irn";function Fy(t){return(t==null?void 0:t.relay)||{protocol:t2e}}function g0(t){const e=ove[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function r2e(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),o=t[s];r[i]=o}}),r}function OC(t){if(!t.includes("wc:")){const d=Aj(t);d!=null&&d.includes("wc:")&&(t=d)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r).split("@"),i=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(i),l={};o.forEach((d,p)=>{l[p]=d});const u=typeof l.methods=="string"?l.methods.split(","):void 0;return{protocol:n,topic:n2e(s[0]),version:parseInt(s[1],10),symKey:l.symKey,relay:r2e(l),methods:u,expiryTimestamp:l.expiryTimestamp?parseInt(l.expiryTimestamp,10):void 0}}function n2e(t){return t.startsWith("//")?t.substring(2):t}function i2e(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(s=>{const i=s,o=r+e+i;t[i]&&(n[o]=t[i])}),n}function NC(t){const e=new URLSearchParams,r=i2e(t.relay);Object.keys(r).sort().forEach(s=>{e.set(s,r[s])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Um(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function Sd(t){const e=[];return t.forEach(r=>{const[n,s]=r.split(":");e.push(`${n}:${s}`)}),e}function s2e(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Sd(r.accounts))}),e}function o2e(t,e){const r=[];return Object.values(t).forEach(n=>{Sd(n.accounts).includes(e)&&r.push(...n.methods)}),r}function a2e(t,e){const r=[];return Object.values(t).forEach(n=>{Sd(n.accounts).includes(e)&&r.push(...n.events)}),r}function l2e(t){const e={};return t==null||t.forEach(r=>{var n;const[s,i]=r.split(":");e[s]||(e[s]={accounts:[],chains:[],events:[],methods:[]}),e[s].accounts.push(r),(n=e[s].chains)==null||n.push(`${s}:${i}`)}),e}function BC(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=l2e(e);for(const[n,s]of Object.entries(r))s.methods?s.methods=Mve(s.methods,t):s.methods=t,s.events=["chainChanged","accountsChanged"];return r}const c2e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},u2e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function wt(t,e){const{message:r,code:n}=u2e[t];return{message:e?`${r} ${e}`:r,code:n}}function jr(t,e){const{message:r,code:n}=c2e[t];return{message:e?`${r} ${e}`:r,code:n}}function Ed(t,e){return!!Array.isArray(t)}function jy(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Ai(t){return typeof t>"u"}function qn(t,e){return e&&Ai(t)?!0:typeof t=="string"&&!!t.trim().length}function F4(t,e){return e&&Ai(t)?!0:typeof t=="number"&&!isNaN(t)}function f2e(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),s=Object.keys(r);let i=!0;return Eu(s,n)?(n.forEach(o=>{const{accounts:l,methods:u,events:d}=t.namespaces[o],p=Sd(l),v=r[o];(!Eu(xj(o,v),p)||!Eu(v.methods,u)||!Eu(v.events,d))&&(i=!1)}),i):!1}function qy(t){return qn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function h2e(t){if(qn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&qy(r)}}return!1}function d2e(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(qn(t,!1)){if(e(t))return!0;const r=Aj(t);return e(r)}}catch{}return!1}function p2e(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function g2e(t){return t==null?void 0:t.topic}function m2e(t,e){let r=null;return qn(t==null?void 0:t.publicKey,!1)||(r=wt("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function LC(t){let e=!0;return Ed(t)?t.length&&(e=t.every(r=>qn(r,!1))):e=!1,e}function y2e(t,e,r){let n=null;return Ed(e)&&e.length?e.forEach(s=>{n||qy(s)||(n=jr("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):qy(t)||(n=jr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function v2e(t,e,r){let n=null;return Object.entries(t).forEach(([s,i])=>{if(n)return;const o=y2e(s,xj(s,i),`${e} ${r}`);o&&(n=o)}),n}function w2e(t,e){let r=null;return Ed(t)?t.forEach(n=>{r||h2e(n)||(r=jr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=jr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function b2e(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=w2e(n==null?void 0:n.accounts,`${e} namespace`);s&&(r=s)}),r}function x2e(t,e){let r=null;return LC(t==null?void 0:t.methods)?LC(t==null?void 0:t.events)||(r=jr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=jr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function sq(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const s=x2e(n,`${e}, namespace`);s&&(r=s)}),r}function _2e(t,e,r){let n=null;if(t&&jy(t)){const s=sq(t,e);s&&(n=s);const i=v2e(t,e,r);i&&(n=i)}else n=wt("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Jx(t,e){let r=null;if(t&&jy(t)){const n=sq(t,e);n&&(r=n);const s=b2e(t,e);s&&(r=s)}else r=wt("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function oq(t){return qn(t.protocol,!0)}function S2e(t,e){let r=!1;return t?t&&Ed(t)&&t.length&&t.forEach(n=>{r=oq(n)}):r=!0,r}function E2e(t){return typeof t=="number"}function ds(t){return typeof t<"u"&&typeof t!==null}function M2e(t){return!(!t||typeof t!="object"||!t.code||!F4(t.code,!1)||!t.message||!qn(t.message,!1))}function A2e(t){return!(Ai(t)||!qn(t.method,!1))}function k2e(t){return!(Ai(t)||Ai(t.result)&&Ai(t.error)||!F4(t.id,!1)||!qn(t.jsonrpc,!1))}function I2e(t){return!(Ai(t)||!qn(t.name,!1))}function DC(t,e){return!(!qy(e)||!s2e(t).includes(e))}function R2e(t,e,r){return qn(r,!1)?o2e(t,e).includes(r):!1}function C2e(t,e,r){return qn(r,!1)?a2e(t,e).includes(r):!1}function $C(t,e,r){let n=null;const s=T2e(t),i=P2e(e),o=Object.keys(s),l=Object.keys(i),u=UC(Object.keys(t)),d=UC(Object.keys(e)),p=u.filter(v=>!d.includes(v));return p.length&&(n=wt("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Eu(o,l)||(n=wt("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${l.toString()}`)),Object.keys(e).forEach(v=>{if(!v.includes(":")||n)return;const b=Sd(e[v].accounts);b.includes(v)||(n=wt("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${v}
        Required: ${v}
        Approved: ${b.toString()}`))}),o.forEach(v=>{n||(Eu(s[v].methods,i[v].methods)?Eu(s[v].events,i[v].events)||(n=wt("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${v}`)):n=wt("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${v}`))}),n}function T2e(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(s=>{e[s]={methods:t[r].methods,events:t[r].events}})}),e}function UC(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function P2e(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=Sd(t[r].accounts);n==null||n.forEach(s=>{e[s]={accounts:t[r].accounts.filter(i=>i.includes(`${s}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function O2e(t,e){return F4(t,!1)&&t<=e.max&&t>=e.min}function FC(){const t=gg();return new Promise(e=>{switch(t){case Ks.browser:e(N2e());break;case Ks.reactNative:e(B2e());break;case Ks.node:e(L2e());break;default:e(!0)}})}function N2e(){return pg()&&(navigator==null?void 0:navigator.onLine)}async function B2e(){if(Jc()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function L2e(){return!0}function D2e(t){switch(gg()){case Ks.browser:$2e(t);break;case Ks.reactNative:U2e(t);break}}function $2e(t){!Jc()&&pg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function U2e(t){Jc()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const Xx={};class t0{static get(e){return Xx[e]}static set(e,r){Xx[e]=r}static delete(e){delete Xx[e]}}const F2e="PARSE_ERROR",j2e="INVALID_REQUEST",q2e="METHOD_NOT_FOUND",z2e="INVALID_PARAMS",aq="INTERNAL_ERROR",j4="SERVER_ERROR",H2e=[-32700,-32600,-32601,-32602,-32603],D0={[F2e]:{code:-32700,message:"Parse error"},[j2e]:{code:-32600,message:"Invalid Request"},[q2e]:{code:-32601,message:"Method not found"},[z2e]:{code:-32602,message:"Invalid params"},[aq]:{code:-32603,message:"Internal error"},[j4]:{code:-32e3,message:"Server error"}},lq=j4;function K2e(t){return H2e.includes(t)}function jC(t){return Object.keys(D0).includes(t)?D0[t]:D0[lq]}function W2e(t){const e=Object.values(D0).find(r=>r.code===t);return e||D0[lq]}function V2e(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var cq={},nl={},qC;function G2e(){if(qC)return nl;qC=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.isBrowserCryptoAvailable=nl.getSubtleCrypto=nl.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}nl.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}nl.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return nl.isBrowserCryptoAvailable=r,nl}var il={},zC;function Y2e(){if(zC)return il;zC=1,Object.defineProperty(il,"__esModule",{value:!0}),il.isBrowser=il.isNode=il.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}il.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}il.isNode=e;function r(){return!t()&&!e()}return il.isBrowser=r,il}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lg;e.__exportStar(G2e(),t),e.__exportStar(Y2e(),t)})(cq);function ga(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Mu(t=6){return BigInt(ga(t))}function Au(t,e,r){return{id:r||ga(),jsonrpc:"2.0",method:t,params:e}}function q4(t,e){return{id:t,jsonrpc:"2.0",result:e}}function z4(t,e,r){return{id:t,jsonrpc:"2.0",error:Z2e(e)}}function Z2e(t,e){return typeof t>"u"?jC(aq):(typeof t=="string"&&(t=Object.assign(Object.assign({},jC(j4)),{message:t})),K2e(t.code)&&(t=W2e(t.code)),t)}class J2e{}class X2e extends J2e{constructor(){super()}}class Q2e extends X2e{constructor(e){super()}}const e3e="^wss?:";function t3e(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function r3e(t,e){const r=t3e(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function HC(t){return r3e(t,e3e)}function n3e(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function uq(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function H4(t){return uq(t)&&"method"in t}function Ew(t){return uq(t)&&(ma(t)||uo(t))}function ma(t){return"result"in t}function uo(t){return"error"in t}class i3e extends Q2e{constructor(e){super(e),this.events=new Tn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Au(e.method,e.params||[],e.id||Mu().toString()),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{uo(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ew(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}var Qx,KC;function s3e(){return KC||(KC=1,Qx=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),Qx}const o3e=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:s3e(),a3e=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",WC=t=>t.split("?")[0],VC=10,l3e=o3e();let c3e=class{constructor(e){if(this.url=e,this.events=new Tn.EventEmitter,this.registering=!1,!HC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Gu(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!HC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const s=cq.isReactNative()?void 0:{rejectUnauthorized:!n3e(e)},i=new l3e(e,[],s);a3e()?i.onerror=o=>{const l=o;n(this.emitError(l.error))}:i.on("error",o=>{n(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?jh(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=z4(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return V2e(e,WC(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>VC&&this.events.setMaxListeners(VC)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${WC(this.url)}`));return this.events.emit("register_error",r),r}};var u3e={};const fq="wc",hq=2,C5="core",qa=`${fq}@2:${C5}:`,f3e={logger:"error"},h3e={database:":memory:"},d3e="crypto",GC="client_ed25519_seed",p3e=yt.ONE_DAY,g3e="keychain",m3e="0.3",y3e="messages",v3e="0.3",YC=yt.SIX_HOURS,w3e="publisher",dq="irn",b3e="error",pq="wss://relay.walletconnect.org",x3e="relayer",ui={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},_3e="_subscription",no={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},S3e=.1,T5="2.19.2",ln={link_mode:"link_mode",relay:"relay"},C1={inbound:"inbound",outbound:"outbound"},E3e="0.3",M3e="WALLETCONNECT_CLIENT_ID",ZC="WALLETCONNECT_LINK_MODE_APPS",Ns={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},A3e="subscription",k3e="0.3",I3e="pairing",R3e="0.3",r0={wc_pairingDelete:{req:{ttl:yt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:yt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:yt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:yt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:yt.ONE_DAY,prompt:!1,tag:0},res:{ttl:yt.ONE_DAY,prompt:!1,tag:0}}},yu={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Oo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},C3e="history",T3e="0.3",P3e="expirer",ao={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},O3e="0.3",N3e="verify-api",B3e="https://verify.walletconnect.com",gq="https://verify.walletconnect.org",$0=gq,L3e=`${$0}/v3`,D3e=[B3e,gq],$3e="echo",U3e="https://echo.walletconnect.com",ha={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ol={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},No={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},ou={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},au={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},n0={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},F3e=.1,j3e="event-client",q3e=86400,z3e="https://pulse.walletconnect.org/batch";function H3e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),o=i.charCodeAt(0);if(r[o]!==255)throw new TypeError(i+" is ambiguous");r[o]=s}var l=t.length,u=t.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function v(M){if(M instanceof Uint8Array||(ArrayBuffer.isView(M)?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):Array.isArray(M)&&(M=Uint8Array.from(M))),!(M instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(M.length===0)return"";for(var A=0,I=0,k=0,R=M.length;k!==R&&M[k]===0;)k++,A++;for(var C=(R-k)*p+1>>>0,P=new Uint8Array(C);k!==R;){for(var N=M[k],U=0,q=C-1;(N!==0||U<I)&&q!==-1;q--,U++)N+=256*P[q]>>>0,P[q]=N%l>>>0,N=N/l>>>0;if(N!==0)throw new Error("Non-zero carry");I=U,k++}for(var F=C-I;F!==C&&P[F]===0;)F++;for(var L=u.repeat(A);F<C;++F)L+=t.charAt(P[F]);return L}function b(M){if(typeof M!="string")throw new TypeError("Expected String");if(M.length===0)return new Uint8Array;var A=0;if(M[A]!==" "){for(var I=0,k=0;M[A]===u;)I++,A++;for(var R=(M.length-A)*d+1>>>0,C=new Uint8Array(R);M[A];){var P=r[M.charCodeAt(A)];if(P===255)return;for(var N=0,U=R-1;(P!==0||N<k)&&U!==-1;U--,N++)P+=l*C[U]>>>0,C[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");k=N,A++}if(M[A]!==" "){for(var q=R-k;q!==R&&C[q]===0;)q++;for(var F=new Uint8Array(I+(R-q)),L=I;q!==R;)F[L++]=C[q++];return F}}}function _(M){var A=b(M);if(A)return A;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:b,decode:_}}var K3e=H3e,W3e=K3e;const mq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},V3e=t=>new TextEncoder().encode(t),G3e=t=>new TextDecoder().decode(t);class Y3e{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Z3e{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yq(this,e)}}class J3e{constructor(e){this.decoders=e}or(e){return yq(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yq=(t,e)=>new J3e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class X3e{constructor(e,r,n,s){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Y3e(e,r,n),this.decoder=new Z3e(e,r,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Mw=({name:t,prefix:e,encode:r,decode:n})=>new X3e(t,e,r,n),xg=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:s}=W3e(r,e);return Mw({prefix:t,name:e,encode:n,decode:i=>mq(s(i))})},Q3e=(t,e,r,n)=>{const s={};for(let p=0;p<e.length;++p)s[e[p]]=p;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let l=0,u=0,d=0;for(let p=0;p<i;++p){const v=s[t[p]];if(v===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|v,l+=r,l>=8&&(l-=8,o[d++]=255&u>>l)}if(l>=r||255&u<<8-l)throw new SyntaxError("Unexpected end of data");return o},exe=(t,e,r)=>{const n=e[e.length-1]==="=",s=(1<<r)-1;let i="",o=0,l=0;for(let u=0;u<t.length;++u)for(l=l<<8|t[u],o+=8;o>r;)o-=r,i+=e[s&l>>o];if(o&&(i+=e[s&l<<r-o]),n)for(;i.length*r&7;)i+="=";return i},Ni=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Mw({prefix:e,name:t,encode(s){return exe(s,n,r)},decode(s){return Q3e(s,n,r,t)}}),txe=Mw({prefix:"\0",name:"identity",encode:t=>G3e(t),decode:t=>V3e(t)});var rxe=Object.freeze({__proto__:null,identity:txe});const nxe=Ni({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ixe=Object.freeze({__proto__:null,base2:nxe});const sxe=Ni({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var oxe=Object.freeze({__proto__:null,base8:sxe});const axe=xg({prefix:"9",name:"base10",alphabet:"0123456789"});var lxe=Object.freeze({__proto__:null,base10:axe});const cxe=Ni({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),uxe=Ni({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var fxe=Object.freeze({__proto__:null,base16:cxe,base16upper:uxe});const hxe=Ni({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dxe=Ni({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pxe=Ni({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gxe=Ni({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mxe=Ni({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yxe=Ni({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vxe=Ni({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wxe=Ni({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bxe=Ni({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var xxe=Object.freeze({__proto__:null,base32:hxe,base32upper:dxe,base32pad:pxe,base32padupper:gxe,base32hex:mxe,base32hexupper:yxe,base32hexpad:vxe,base32hexpadupper:wxe,base32z:bxe});const _xe=xg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Sxe=xg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Exe=Object.freeze({__proto__:null,base36:_xe,base36upper:Sxe});const Mxe=xg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Axe=xg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var kxe=Object.freeze({__proto__:null,base58btc:Mxe,base58flickr:Axe});const Ixe=Ni({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rxe=Ni({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Cxe=Ni({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Txe=Ni({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Pxe=Object.freeze({__proto__:null,base64:Ixe,base64pad:Rxe,base64url:Cxe,base64urlpad:Txe});const vq=Array.from(""),Oxe=vq.reduce((t,e,r)=>(t[r]=e,t),[]),Nxe=vq.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Bxe(t){return t.reduce((e,r)=>(e+=Oxe[r],e),"")}function Lxe(t){const e=[];for(const r of t){const n=Nxe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Dxe=Mw({prefix:"",name:"base256emoji",encode:Bxe,decode:Lxe});var $xe=Object.freeze({__proto__:null,base256emoji:Dxe}),Uxe=wq,JC=128,Fxe=-128,jxe=Math.pow(2,31);function wq(t,e,r){e=e||[],r=r||0;for(var n=r;t>=jxe;)e[r++]=t&255|JC,t/=128;for(;t&Fxe;)e[r++]=t&255|JC,t>>>=7;return e[r]=t|0,wq.bytes=r-n+1,e}var qxe=P5,zxe=128,XC=127;function P5(t,n){var r=0,n=n||0,s=0,i=n,o,l=t.length;do{if(i>=l)throw P5.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=s<28?(o&XC)<<s:(o&XC)*Math.pow(2,s),s+=7}while(o>=zxe);return P5.bytes=i-n,r}var Hxe=Math.pow(2,7),Kxe=Math.pow(2,14),Wxe=Math.pow(2,21),Vxe=Math.pow(2,28),Gxe=Math.pow(2,35),Yxe=Math.pow(2,42),Zxe=Math.pow(2,49),Jxe=Math.pow(2,56),Xxe=Math.pow(2,63),Qxe=function(t){return t<Hxe?1:t<Kxe?2:t<Wxe?3:t<Vxe?4:t<Gxe?5:t<Yxe?6:t<Zxe?7:t<Jxe?8:t<Xxe?9:10},e_e={encode:Uxe,decode:qxe,encodingLength:Qxe},bq=e_e;const QC=(t,e,r=0)=>(bq.encode(t,e,r),e),eT=t=>bq.encodingLength(t),O5=(t,e)=>{const r=e.byteLength,n=eT(t),s=n+eT(r),i=new Uint8Array(s+r);return QC(t,i,0),QC(r,i,n),i.set(e,s),new t_e(t,r,e,i)};class t_e{constructor(e,r,n,s){this.code=e,this.size=r,this.digest=n,this.bytes=s}}const xq=({name:t,code:e,encode:r})=>new r_e(t,e,r);class r_e{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?O5(this.code,r):r.then(n=>O5(this.code,n))}else throw Error("Unknown type, must be binary type")}}const _q=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),n_e=xq({name:"sha2-256",code:18,encode:_q("SHA-256")}),i_e=xq({name:"sha2-512",code:19,encode:_q("SHA-512")});var s_e=Object.freeze({__proto__:null,sha256:n_e,sha512:i_e});const Sq=0,o_e="identity",Eq=mq,a_e=t=>O5(Sq,Eq(t)),l_e={code:Sq,name:o_e,encode:Eq,digest:a_e};var c_e=Object.freeze({__proto__:null,identity:l_e});new TextEncoder,new TextDecoder;const tT={...rxe,...ixe,...oxe,...lxe,...fxe,...xxe,...Exe,...kxe,...Pxe,...$xe};({...s_e,...c_e});function u_e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Mq(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const rT=Mq("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),e_=Mq("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=u_e(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),f_e={utf8:rT,"utf-8":rT,hex:tT.base16,latin1:e_,ascii:e_,binary:e_,...tT};function h_e(t,e="utf8"){const r=f_e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var d_e=Object.defineProperty,p_e=(t,e,r)=>e in t?d_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ca=(t,e,r)=>p_e(t,typeof e!="symbol"?e+"":e,r);class g_e{constructor(e,r){this.core=e,this.logger=r,ca(this,"keychain",new Map),ca(this,"name",g3e),ca(this,"version",m3e),ca(this,"initialized",!1),ca(this,"storagePrefix",qa),ca(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),ca(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),ca(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),ca(this,"get",n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=wt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s}),ca(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=cs(r,this.name)}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,v5(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?w5(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var m_e=Object.defineProperty,y_e=(t,e,r)=>e in t?m_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vi=(t,e,r)=>y_e(t,typeof e!="symbol"?e+"":e,r);class v_e{constructor(e,r,n){this.core=e,this.logger=r,vi(this,"name",d3e),vi(this,"keychain"),vi(this,"randomSessionIdentifier",R5()),vi(this,"initialized",!1),vi(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),vi(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),vi(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=LR(s);return XF(i.publicKey)}),vi(this,"generateKeyPair",()=>{this.isInitialized();const s=Wbe();return this.setPrivateKey(s.publicKey,s.privateKey)}),vi(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=LR(i),l=this.randomSessionIdentifier;return await Gme(l,s,p3e,o)}),vi(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const l=this.getPrivateKey(s),u=Vbe(l,i);return this.setSymKey(u,o)}),vi(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||R1(s);return await this.keychain.set(o,s),o}),vi(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),vi(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),vi(this,"encode",async(s,i,o)=>{this.isInitialized();const l=iq(o),u=Gu(i);if(PC(l))return Zbe(u,o==null?void 0:o.encoding);if(TC(l)){const b=l.senderPublicKey,_=l.receiverPublicKey;s=await this.generateSharedKey(b,_)}const d=this.getSymKey(s),{type:p,senderPublicKey:v}=l;return Gbe({type:p,symKey:d,message:u,senderPublicKey:v,encoding:o==null?void 0:o.encoding})}),vi(this,"decode",async(s,i,o)=>{this.isInitialized();const l=Xbe(i,o);if(PC(l)){const u=Jbe(i,o==null?void 0:o.encoding);return jh(u)}if(TC(l)){const u=l.receiverPublicKey,d=l.senderPublicKey;s=await this.generateSharedKey(u,d)}try{const u=this.getSymKey(s),d=Ybe({symKey:u,encoded:i,encoding:o==null?void 0:o.encoding});return jh(d)}catch(u){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),vi(this,"getPayloadType",(s,i=Ko)=>{const o=Tp({encoded:s,encoding:i});return Xu(o.type)}),vi(this,"getPayloadSenderPublicKey",(s,i=Ko)=>{const o=Tp({encoded:s,encoding:i});return o.senderPublicKey?Ms(o.senderPublicKey,is):void 0}),this.core=e,this.logger=cs(r,this.name),this.keychain=n||new g_e(this.core,this.logger)}get context(){return Cs(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(GC)}catch{e=R5(),await this.keychain.set(GC,e)}return h_e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var w_e=Object.defineProperty,b_e=Object.defineProperties,x_e=Object.getOwnPropertyDescriptors,nT=Object.getOwnPropertySymbols,__e=Object.prototype.hasOwnProperty,S_e=Object.prototype.propertyIsEnumerable,N5=(t,e,r)=>e in t?w_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,E_e=(t,e)=>{for(var r in e||(e={}))__e.call(e,r)&&N5(t,r,e[r]);if(nT)for(var r of nT(e))S_e.call(e,r)&&N5(t,r,e[r]);return t},M_e=(t,e)=>b_e(t,x_e(e)),Os=(t,e,r)=>N5(t,typeof e!="symbol"?e+"":e,r);class A_e extends W0e{constructor(e,r){super(e,r),this.logger=e,this.core=r,Os(this,"messages",new Map),Os(this,"messagesWithoutClientAck",new Map),Os(this,"name",y3e),Os(this,"version",v3e),Os(this,"initialized",!1),Os(this,"storagePrefix",qa),Os(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Os(this,"set",async(n,s,i)=>{this.isInitialized();const o=ba(s);let l=this.messages.get(n);if(typeof l>"u"&&(l={}),typeof l[o]<"u")return o;if(l[o]=s,this.messages.set(n,l),i===C1.inbound){const u=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,M_e(E_e({},u),{[o]:s}))}return await this.persist(),o}),Os(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Os(this,"getWithoutAck",n=>{this.isInitialized();const s={};for(const i of n){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Os(this,"has",(n,s)=>{this.isInitialized();const i=this.get(n),o=ba(s);return typeof i[o]<"u"}),Os(this,"ack",async(n,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(n);if(typeof i>"u")return;const o=ba(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,i),await this.persist()}),Os(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=cs(e,this.name),this.core=r}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,v5(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,v5(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?w5(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?w5(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var k_e=Object.defineProperty,I_e=Object.defineProperties,R_e=Object.getOwnPropertyDescriptors,iT=Object.getOwnPropertySymbols,C_e=Object.prototype.hasOwnProperty,T_e=Object.prototype.propertyIsEnumerable,B5=(t,e,r)=>e in t?k_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fm=(t,e)=>{for(var r in e||(e={}))C_e.call(e,r)&&B5(t,r,e[r]);if(iT)for(var r of iT(e))T_e.call(e,r)&&B5(t,r,e[r]);return t},t_=(t,e)=>I_e(t,R_e(e)),Bo=(t,e,r)=>B5(t,typeof e!="symbol"?e+"":e,r);class P_e extends V0e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Bo(this,"events",new Tn.EventEmitter),Bo(this,"name",w3e),Bo(this,"queue",new Map),Bo(this,"publishTimeout",yt.toMiliseconds(yt.ONE_MINUTE)),Bo(this,"initialPublishTimeout",yt.toMiliseconds(yt.ONE_SECOND*15)),Bo(this,"needsTransportRestart",!1),Bo(this,"publish",async(n,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});const l=(i==null?void 0:i.ttl)||YC,u=Fy(i),d=(i==null?void 0:i.prompt)||!1,p=(i==null?void 0:i.tag)||0,v=(i==null?void 0:i.id)||Mu().toString(),b={topic:n,message:s,opts:{ttl:l,relay:u,prompt:d,tag:p,id:v,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},_=`Failed to publish payload, please try again. id:${v} tag:${p}`;try{const M=new Promise(async A=>{const I=({id:R})=>{b.opts.id===R&&(this.removeRequestFromQueue(R),this.relayer.events.removeListener(ui.publish,I),A(b))};this.relayer.events.on(ui.publish,I);const k=wc(new Promise((R,C)=>{this.rpcPublish({topic:n,message:s,ttl:l,prompt:d,tag:p,id:v,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(R).catch(P=>{this.logger.warn(P,P==null?void 0:P.message),C(P)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${v} tag:${p}`);try{await k,this.events.removeListener(ui.publish,I)}catch(R){this.queue.set(v,t_(Fm({},b),{attempt:1})),this.logger.warn(R,R==null?void 0:R.message)}});this.logger.trace({type:"method",method:"publish",params:{id:v,topic:n,message:s,opts:i}}),await wc(M,this.publishTimeout,_)}catch(M){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(M),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw M}finally{this.queue.delete(v)}}),Bo(this,"on",(n,s)=>{this.events.on(n,s)}),Bo(this,"once",(n,s)=>{this.events.once(n,s)}),Bo(this,"off",(n,s)=>{this.events.off(n,s)}),Bo(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=e,this.logger=cs(r,this.name),this.registerEventListeners()}get context(){return Cs(this.logger)}async rpcPublish(e){var r,n,s,i;const{topic:o,message:l,ttl:u=YC,prompt:d,tag:p,id:v,attestation:b,tvf:_}=e,M={method:g0(Fy().protocol).publish,params:Fm({topic:o,message:l,ttl:u,prompt:d,tag:p,attestation:b},_),id:v};Ai((r=M.params)==null?void 0:r.prompt)&&((n=M.params)==null||delete n.prompt),Ai((s=M.params)==null?void 0:s.tag)&&((i=M.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:M});const A=await this.relayer.request(M);return this.relayer.events.emit(ui.publish,e),this.logger.debug("Successfully Published Payload"),A}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const n=e.attempt+1;this.queue.set(r,t_(Fm({},e),{attempt:n}));const{topic:s,message:i,opts:o,attestation:l}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(t_(Fm({},e),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:l,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(md.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ui.connection_stalled);return}this.checkQueue()}),this.relayer.on(ui.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var O_e=Object.defineProperty,N_e=(t,e,r)=>e in t?O_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pf=(t,e,r)=>N_e(t,typeof e!="symbol"?e+"":e,r);class B_e{constructor(){Pf(this,"map",new Map),Pf(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),Pf(this,"get",e=>this.map.get(e)||[]),Pf(this,"exists",(e,r)=>this.get(e).includes(r)),Pf(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const s=n.filter(i=>i!==r);if(!s.length){this.map.delete(e);return}this.map.set(e,s)}),Pf(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var L_e=Object.defineProperty,D_e=Object.defineProperties,$_e=Object.getOwnPropertyDescriptors,sT=Object.getOwnPropertySymbols,U_e=Object.prototype.hasOwnProperty,F_e=Object.prototype.propertyIsEnumerable,L5=(t,e,r)=>e in t?L_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i0=(t,e)=>{for(var r in e||(e={}))U_e.call(e,r)&&L5(t,r,e[r]);if(sT)for(var r of sT(e))F_e.call(e,r)&&L5(t,r,e[r]);return t},r_=(t,e)=>D_e(t,$_e(e)),Gr=(t,e,r)=>L5(t,typeof e!="symbol"?e+"":e,r);class j_e extends Z0e{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Gr(this,"subscriptions",new Map),Gr(this,"topicMap",new B_e),Gr(this,"events",new Tn.EventEmitter),Gr(this,"name",A3e),Gr(this,"version",k3e),Gr(this,"pending",new Map),Gr(this,"cached",[]),Gr(this,"initialized",!1),Gr(this,"storagePrefix",qa),Gr(this,"subscribeTimeout",yt.toMiliseconds(yt.ONE_MINUTE)),Gr(this,"initialSubscribeTimeout",yt.toMiliseconds(yt.ONE_SECOND*15)),Gr(this,"clientId"),Gr(this,"batchSubscribeTopicsLimit",500),Gr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Gr(this,"subscribe",async(n,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=Fy(s),o={topic:n,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(n,o);const l=await this.rpcSubscribe(n,i,s);return typeof l=="string"&&(this.onSubscribe(l,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),l}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),Gr(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),Gr(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),Gr(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(i=>i.topic===n))})),Gr(this,"on",(n,s)=>{this.events.on(n,s)}),Gr(this,"once",(n,s)=>{this.events.once(n,s)}),Gr(this,"off",(n,s)=>{this.events.off(n,s)}),Gr(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),Gr(this,"start",async()=>{await this.onConnect()}),Gr(this,"stop",async()=>{await this.onDisconnect()}),Gr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Gr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),Gr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(md.pulse,async()=>{await this.checkPending()}),this.events.on(Ns.created,async n=>{const s=Ns.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(Ns.deleted,async n=>{const s=Ns.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=e,this.logger=cs(r,this.name),this.clientId=""}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const s=Fy(n);await this.restartToComplete({topic:e,id:r,relay:s}),await this.rpcUnsubscribe(e,r,s);const i=jr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,r,n){var s;(!n||(n==null?void 0:n.transportType)===ln.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const i={method:g0(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{const l=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===ln.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(p=>this.logger.warn(p))},yt.toMiliseconds(yt.ONE_SECOND)),l;const u=new Promise(async p=>{const v=b=>{b.topic===e&&(this.events.removeListener(Ns.created,v),p(b.id))};this.events.on(Ns.created,v);try{const b=await wc(new Promise((_,M)=>{this.relayer.request(i).catch(A=>{this.logger.warn(A,A==null?void 0:A.message),M(A)}).then(_)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ns.created,v),p(b)}catch{}}),d=await wc(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!d&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return d?l:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ui.connection_stalled),o)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:g0(r.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await wc(new Promise(s=>{this.relayer.request(n).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ui.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:g0(r.protocol).batchFetchMessages,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await wc(new Promise((i,o)=>{this.relayer.request(n).catch(l=>{this.logger.warn(l),o(l)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ui.connection_stalled)}return s}rpcUnsubscribe(e,r,n){const s={method:g0(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,r){this.setSubscription(e,r_(i0({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,i0({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,i0({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ns.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=wt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ns.deleted,r_(i0({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ns.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const s=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Ns.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=wt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>r_(i0({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await Ove(yt.toMiliseconds(yt.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ba(e+await this.getClientId())}}var q_e=Object.defineProperty,oT=Object.getOwnPropertySymbols,z_e=Object.prototype.hasOwnProperty,H_e=Object.prototype.propertyIsEnumerable,D5=(t,e,r)=>e in t?q_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aT=(t,e)=>{for(var r in e||(e={}))z_e.call(e,r)&&D5(t,r,e[r]);if(oT)for(var r of oT(e))H_e.call(e,r)&&D5(t,r,e[r]);return t},Pr=(t,e,r)=>D5(t,typeof e!="symbol"?e+"":e,r);class K_e extends G0e{constructor(e){super(e),Pr(this,"protocol","wc"),Pr(this,"version",2),Pr(this,"core"),Pr(this,"logger"),Pr(this,"events",new Tn.EventEmitter),Pr(this,"provider"),Pr(this,"messages"),Pr(this,"subscriber"),Pr(this,"publisher"),Pr(this,"name",x3e),Pr(this,"transportExplicitlyClosed",!1),Pr(this,"initialized",!1),Pr(this,"connectionAttemptInProgress",!1),Pr(this,"relayUrl"),Pr(this,"projectId"),Pr(this,"packageName"),Pr(this,"bundleId"),Pr(this,"hasExperiencedNetworkDisruption",!1),Pr(this,"pingTimeout"),Pr(this,"heartBeatTimeout",yt.toMiliseconds(yt.THIRTY_SECONDS+yt.FIVE_SECONDS)),Pr(this,"reconnectTimeout"),Pr(this,"connectPromise"),Pr(this,"reconnectInProgress",!1),Pr(this,"requestsInFlight",[]),Pr(this,"connectTimeout",yt.toMiliseconds(yt.ONE_SECOND*15)),Pr(this,"request",async r=>{var n,s;this.logger.debug("Publishing Request Payload");const i=r.id||Mu().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${i}:${((s=r.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const l=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==o),l}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),Pr(this,"resetPingTimeout",()=>{$y()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Pr(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Pr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(ui.connect)}),Pr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Pr(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(ui.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Pr(this,"registerProviderListeners",()=>{this.provider.on(no.payload,this.onPayloadHandler),this.provider.on(no.connect,this.onConnectHandler),this.provider.on(no.disconnect,this.onDisconnectHandler),this.provider.on(no.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?cs(e.logger,this.name):dw(_4({level:e.logger||b3e})),this.messages=new A_e(this.logger,e.core),this.subscriber=new j_e(this,this.logger),this.publisher=new P_e(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||pq,this.projectId=e.projectId,mve()?this.packageName=tC():yve()&&(this.bundleId=tC()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Cs(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:ln.relay},C1.outbound)}async subscribe(e,r){var n,s,i;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;let l=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"",u;const d=p=>{p.topic===e&&(this.subscriber.off(Ns.created,d),u())};return await Promise.all([new Promise(p=>{u=p,this.subscriber.on(Ns.created,d)}),new Promise(async(p,v)=>{l=await this.subscriber.subscribe(e,aT({internal:{throwOnFailedPublish:o}},r)).catch(b=>{o&&v(b)})||l,p()})]),l}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await wc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await FC())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const s=Wn(yt.FIVE_MINUTES),i={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,i)}this.events.emit(ui.message,e),await this.recordMessageEvent(e,C1.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(no.disconnect,i),await wc(new Promise((o,l)=>{this.provider.connect().then(o).catch(l)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(no.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,l)=>{const u=()=>{l(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(no.disconnect,u),await this.subscriber.start().then(o).catch(l).finally(()=>{this.provider.off(no.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,yt.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,s,i;if($y())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new i3e(new c3e(_ve({sdkVersion:T5,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:s}=e;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),H4(e)){if(!e.method.endsWith(_3e))return;const r=e.params,{topic:n,message:s,publishedAt:i,attestation:o}=r.data,l={topic:n,message:s,publishedAt:i,transportType:ln.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(aT({type:"event",event:r.id},l)),this.events.emit(r.id,l),await this.acknowledgePayload(e),await this.onMessageEvent(l)}else Ew(e)&&this.events.emit(ui.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,C1.inbound),this.events.emit(ui.message,e))}async acknowledgePayload(e){const r=q4(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(no.payload,this.onPayloadHandler),this.provider.off(no.connect,this.onConnectHandler),this.provider.off(no.disconnect,this.onDisconnectHandler),this.provider.off(no.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await FC();D2e(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ui.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},yt.toMiliseconds(S3e)))))}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function W_e(){}function lT(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function cT(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function uT(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const V_e="[object RegExp]",G_e="[object String]",Y_e="[object Number]",Z_e="[object Boolean]",fT="[object Arguments]",J_e="[object Symbol]",X_e="[object Date]",Q_e="[object Map]",e6e="[object Set]",t6e="[object Array]",r6e="[object Function]",n6e="[object ArrayBuffer]",n_="[object Object]",i6e="[object Error]",s6e="[object DataView]",o6e="[object Uint8Array]",a6e="[object Uint8ClampedArray]",l6e="[object Uint16Array]",c6e="[object Uint32Array]",u6e="[object BigUint64Array]",f6e="[object Int8Array]",h6e="[object Int16Array]",d6e="[object Int32Array]",p6e="[object BigInt64Array]",g6e="[object Float32Array]",m6e="[object Float64Array]";function y6e(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function v6e(t,e,r){return m0(t,e,void 0,void 0,void 0,void 0,r)}function m0(t,e,r,n,s,i,o){const l=o(t,e,r,n,s,i);if(l!==void 0)return l;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return U0(t,e,i,o)}return U0(t,e,i,o)}function U0(t,e,r,n){if(Object.is(t,e))return!0;let s=uT(t),i=uT(e);if(s===fT&&(s=n_),i===fT&&(i=n_),s!==i)return!1;switch(s){case G_e:return t.toString()===e.toString();case Y_e:{const u=t.valueOf(),d=e.valueOf();return y6e(u,d)}case Z_e:case X_e:case J_e:return Object.is(t.valueOf(),e.valueOf());case V_e:return t.source===e.source&&t.flags===e.flags;case r6e:return t===e}r=r??new Map;const o=r.get(t),l=r.get(e);if(o!=null&&l!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(s){case Q_e:{if(t.size!==e.size)return!1;for(const[u,d]of t.entries())if(!e.has(u)||!m0(d,e.get(u),u,t,e,r,n))return!1;return!0}case e6e:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),d=Array.from(e.values());for(let p=0;p<u.length;p++){const v=u[p],b=d.findIndex(_=>m0(v,_,void 0,t,e,r,n));if(b===-1)return!1;d.splice(b,1)}return!0}case t6e:case o6e:case a6e:case l6e:case c6e:case u6e:case f6e:case h6e:case d6e:case p6e:case g6e:case m6e:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!m0(t[u],e[u],u,t,e,r,n))return!1;return!0}case n6e:return t.byteLength!==e.byteLength?!1:U0(new Uint8Array(t),new Uint8Array(e),r,n);case s6e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:U0(new Uint8Array(t),new Uint8Array(e),r,n);case i6e:return t.name===e.name&&t.message===e.message;case n_:{if(!(U0(t.constructor,e.constructor,r,n)||lT(t)&&lT(e)))return!1;const u=[...Object.keys(t),...cT(t)],d=[...Object.keys(e),...cT(e)];if(u.length!==d.length)return!1;for(let p=0;p<u.length;p++){const v=u[p],b=t[v];if(!Object.hasOwn(e,v))return!1;const _=e[v];if(!m0(b,_,v,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function w6e(t,e){return v6e(t,e,W_e)}var b6e=Object.defineProperty,hT=Object.getOwnPropertySymbols,x6e=Object.prototype.hasOwnProperty,_6e=Object.prototype.propertyIsEnumerable,$5=(t,e,r)=>e in t?b6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dT=(t,e)=>{for(var r in e||(e={}))x6e.call(e,r)&&$5(t,r,e[r]);if(hT)for(var r of hT(e))_6e.call(e,r)&&$5(t,r,e[r]);return t},fs=(t,e,r)=>$5(t,typeof e!="symbol"?e+"":e,r);class pf extends Y0e{constructor(e,r,n,s=qa,i=void 0){super(e,r,n,s),this.core=e,this.logger=r,this.name=n,fs(this,"map",new Map),fs(this,"version",E3e),fs(this,"cached",[]),fs(this,"initialized",!1),fs(this,"getKey"),fs(this,"storagePrefix",qa),fs(this,"recentlyDeleted",[]),fs(this,"recentlyDeletedLimit",200),fs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Ai(o)?this.map.set(this.getKey(o),o):p2e(o)?this.map.set(o.id,o):g2e(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),fs(this,"set",async(o,l)=>{this.isInitialized(),this.map.has(o)?await this.update(o,l):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:l}),this.map.set(o,l),await this.persist())}),fs(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),fs(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(l=>Object.keys(o).every(u=>w6e(l[u],o[u]))):this.values)),fs(this,"update",async(o,l)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:l});const u=dT(dT({},this.getData(o)),l);this.map.set(o,u),await this.persist()}),fs(this,"delete",async(o,l)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:l}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=cs(r,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:s}=wt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}const{message:n}=wt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=wt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var S6e=Object.defineProperty,E6e=(t,e,r)=>e in t?S6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Er=(t,e,r)=>E6e(t,typeof e!="symbol"?e+"":e,r);class M6e{constructor(e,r){this.core=e,this.logger=r,Er(this,"name",I3e),Er(this,"version",R3e),Er(this,"events",new $B),Er(this,"pairings"),Er(this,"initialized",!1),Er(this,"storagePrefix",qa),Er(this,"ignoredPayloadTypes",[Al]),Er(this,"registeredMethods",[]),Er(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Er(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Er(this,"create",async n=>{this.isInitialized();const s=R5(),i=await this.core.crypto.setSymKey(s),o=Wn(yt.FIVE_MINUTES),l={protocol:dq},u={topic:i,expiry:o,relay:l,active:!1,methods:n==null?void 0:n.methods},d=NC({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:l,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(yu.create,u),this.core.expirer.set(i,o),await this.pairings.set(i,u),await this.core.relayer.subscribe(i,{transportType:n==null?void 0:n.transportType}),{topic:i,uri:d}}),Er(this,"pair",async n=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[ha.pairing_started]}});this.isValidPair(n,s);const{topic:i,symKey:o,relay:l,expiryTimestamp:u,methods:d}=OC(n.uri);s.props.properties.topic=i,s.addTrace(ha.pairing_uri_validation_success),s.addTrace(ha.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(i)){if(p=this.pairings.get(i),s.addTrace(ha.existing_pairing),p.active)throw s.setError(ol.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ha.pairing_not_expired)}const v=u||Wn(yt.FIVE_MINUTES),b={topic:i,relay:l,expiry:v,active:!1,methods:d};this.core.expirer.set(i,v),await this.pairings.set(i,b),s.addTrace(ha.store_new_pairing),n.activatePairing&&await this.activate({topic:i}),this.events.emit(yu.create,b),s.addTrace(ha.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ha.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(ol.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:l})}catch(_){throw s.setError(ol.subscribe_pairing_topic_failure),_}return s.addTrace(ha.subscribe_pairing_topic_success),b}),Er(this,"activate",async({topic:n})=>{this.isInitialized();const s=Wn(yt.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),Er(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:l,reject:u}=fu();this.events.once(Dr("pairing_ping",i),({error:d})=>{d?u(d):l()}),await o()}}),Er(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),Er(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),Er(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Er(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",jr("USER_DISCONNECTED")),await this.deletePairing(s))}),Er(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:l}=n,u=this.core.crypto.keychain.get(s);return NC({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:u,relay:i,expiryTimestamp:o,methods:l})}),Er(this,"sendRequest",async(n,s,i)=>{const o=Au(s,i),l=await this.core.crypto.encode(n,o),u=r0[s].req;return this.core.history.set(n,o),this.core.relayer.publish(n,l,u),o.id}),Er(this,"sendResult",async(n,s,i)=>{const o=q4(n,i),l=await this.core.crypto.encode(s,o),u=(await this.core.history.get(s,n)).request.method,d=r0[u].res;await this.core.relayer.publish(s,l,d),await this.core.history.resolve(o)}),Er(this,"sendError",async(n,s,i)=>{const o=z4(n,i),l=await this.core.crypto.encode(s,o),u=(await this.core.history.get(s,n)).request.method,d=r0[u]?r0[u].res:r0.unregistered_method.res;await this.core.relayer.publish(s,l,d),await this.core.history.resolve(o)}),Er(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,jr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),Er(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(s=>oc(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),Er(this,"onRelayEventRequest",async n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Er(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i}=n,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),Er(this,"onPairingPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit(yu.ping,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),Er(this,"onPairingPingResponse",(n,s)=>{const{id:i}=s;setTimeout(()=>{ma(s)?this.events.emit(Dr("pairing_ping",i),{}):uo(s)&&this.events.emit(Dr("pairing_ping",i),{error:s.error})},500)}),Er(this,"onPairingDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(yu.delete,{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}}),Er(this,"onUnknownRpcMethodRequest",async(n,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const l=jr("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,n,l),this.logger.error(l)}catch(l){await this.sendError(i,n,l),this.logger.error(l)}}),Er(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(jr("WC_METHOD_UNSUPPORTED",n))}),Er(this,"isValidPair",(n,s)=>{var i;if(!ds(n)){const{message:l}=wt("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(ol.malformed_pairing_uri),new Error(l)}if(!d2e(n.uri)){const{message:l}=wt("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(ol.malformed_pairing_uri),new Error(l)}const o=OC(n==null?void 0:n.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:l}=wt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(ol.malformed_pairing_uri),new Error(l)}if(!(o!=null&&o.symKey)){const{message:l}=wt("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(ol.malformed_pairing_uri),new Error(l)}if(o!=null&&o.expiryTimestamp&&yt.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(ol.pairing_expired);const{message:l}=wt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(l)}}),Er(this,"isValidPing",async n=>{if(!ds(n)){const{message:i}=wt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),Er(this,"isValidDisconnect",async n=>{if(!ds(n)){const{message:i}=wt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)}),Er(this,"isValidPairingTopic",async n=>{if(!qn(n,!1)){const{message:s}=wt("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=wt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(oc(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=wt("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=e,this.logger=cs(r,this.name),this.pairings=new pf(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Cs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ui.message,async e=>{const{topic:r,message:n,transportType:s}=e;if(this.pairings.keys.includes(r)&&s!==ln.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const i=await this.core.crypto.decode(r,n);H4(i)?(this.core.history.set(r,i),await this.onRelayEventRequest({topic:r,payload:i})):Ew(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id)),await this.core.relayer.messages.ack(r,n)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(ao.expired,async e=>{const{topic:r}=Mj(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(yu.expire,{topic:r}))})}}var A6e=Object.defineProperty,k6e=(t,e,r)=>e in t?A6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wi=(t,e,r)=>k6e(t,typeof e!="symbol"?e+"":e,r);class I6e extends K0e{constructor(e,r){super(e,r),this.core=e,this.logger=r,wi(this,"records",new Map),wi(this,"events",new Tn.EventEmitter),wi(this,"name",C3e),wi(this,"version",T3e),wi(this,"cached",[]),wi(this,"initialized",!1),wi(this,"storagePrefix",qa),wi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),wi(this,"set",(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:Wn(yt.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Oo.created,o)}),wi(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=uo(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(Oo.updated,s))}),wi(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),wi(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(Oo.deleted,i)}}),this.persist()}),wi(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),wi(this,"on",(n,s)=>{this.events.on(n,s)}),wi(this,"once",(n,s)=>{this.events.once(n,s)}),wi(this,"off",(n,s)=>{this.events.off(n,s)}),wi(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=cs(r,this.name)}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Au(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=wt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Oo.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=wt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Oo.created,e=>{const r=Oo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Oo.updated,e=>{const r=Oo.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Oo.deleted,e=>{const r=Oo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(md.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{yt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Oo.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var R6e=Object.defineProperty,C6e=(t,e,r)=>e in t?R6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wi=(t,e,r)=>C6e(t,typeof e!="symbol"?e+"":e,r);class T6e extends J0e{constructor(e,r){super(e,r),this.core=e,this.logger=r,Wi(this,"expirations",new Map),Wi(this,"events",new Tn.EventEmitter),Wi(this,"name",P3e),Wi(this,"version",O3e),Wi(this,"cached",[]),Wi(this,"initialized",!1),Wi(this,"storagePrefix",qa),Wi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Wi(this,"has",n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Wi(this,"set",(n,s)=>{this.isInitialized();const i=this.formatTarget(n),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(ao.created,{target:i,expiration:o})}),Wi(this,"get",n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)}),Wi(this,"del",n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(ao.deleted,{target:s,expiration:i})}}),Wi(this,"on",(n,s)=>{this.events.on(n,s)}),Wi(this,"once",(n,s)=>{this.events.once(n,s)}),Wi(this,"off",(n,s)=>{this.events.off(n,s)}),Wi(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=cs(r,this.name)}get context(){return Cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Sve(e);if(typeof e=="number")return Eve(e);const{message:r}=wt("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ao.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=wt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=wt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;yt.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(ao.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(md.pulse,()=>this.checkExpirations()),this.events.on(ao.created,e=>{const r=ao.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ao.expired,e=>{const r=ao.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ao.deleted,e=>{const r=ao.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}}var P6e=Object.defineProperty,O6e=(t,e,r)=>e in t?P6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$n=(t,e,r)=>O6e(t,typeof e!="symbol"?e+"":e,r);class N6e extends X0e{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,$n(this,"name",N3e),$n(this,"abortController"),$n(this,"isDevEnv"),$n(this,"verifyUrlV3",L3e),$n(this,"storagePrefix",qa),$n(this,"version",hq),$n(this,"publicKey"),$n(this,"fetchPromise"),$n(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&yt.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),$n(this,"register",async s=>{if(!pg()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:l}=s,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${l}`;try{const d=hg(),p=this.startAbortTimer(yt.ONE_SECOND*5),v=await new Promise((b,_)=>{const M=()=>{window.removeEventListener("message",I),d.body.removeChild(A),_("attestation aborted")};this.abortController.signal.addEventListener("abort",M);const A=d.createElement("iframe");A.src=u,A.style.display="none",A.addEventListener("error",M,{signal:this.abortController.signal});const I=k=>{if(k.data&&typeof k.data=="string")try{const R=JSON.parse(k.data);if(R.type==="verify_attestation"){if(g5(R.attestation).payload.id!==o)return;clearInterval(p),d.body.removeChild(A),this.abortController.signal.removeEventListener("abort",M),window.removeEventListener("message",I),b(R.attestation===null?"":R.attestation)}}catch(R){this.logger.warn(R)}};d.body.appendChild(A),window.addEventListener("message",I,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",v),v}catch(d){this.logger.warn(d)}return""}),$n(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:l}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(g5(i).payload.id!==l)return;const d=await this.isValidJwtAttestation(i);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!o)return;const u=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,u)}),$n(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(yt.ONE_SECOND*5),l=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),l.status===200?await l.json():void 0}),$n(this,"getVerifyUrl",s=>{let i=s||$0;return D3e.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${$0}`),i=$0),i}),$n(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(yt.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),$n(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),$n(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),$n(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}}),$n(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),$n(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),$n(this,"validateAttestation",(s,i)=>{const o=e2e(s,i.publicKey),l={hasExpired:yt.toMiliseconds(o.exp)<Date.now(),payload:o};if(l.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:l.payload.origin,isScam:l.payload.isScam,isVerified:l.payload.isVerified}}),this.logger=cs(r,this.name),this.abortController=new AbortController,this.isDevEnv=O4(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Cs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),yt.toMiliseconds(e))}}var B6e=Object.defineProperty,L6e=(t,e,r)=>e in t?B6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pT=(t,e,r)=>L6e(t,typeof e!="symbol"?e+"":e,r);class D6e extends Q0e{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,pT(this,"context",$3e),pT(this,"registerDeviceToken",async n=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:l=!1}=n,u=`${U3e}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:l})})}),this.logger=cs(r,this.context)}}var $6e=Object.defineProperty,gT=Object.getOwnPropertySymbols,U6e=Object.prototype.hasOwnProperty,F6e=Object.prototype.propertyIsEnumerable,U5=(t,e,r)=>e in t?$6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s0=(t,e)=>{for(var r in e||(e={}))U6e.call(e,r)&&U5(t,r,e[r]);if(gT)for(var r of gT(e))F6e.call(e,r)&&U5(t,r,e[r]);return t},ti=(t,e,r)=>U5(t,typeof e!="symbol"?e+"":e,r);class j6e extends epe{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,ti(this,"context",j3e),ti(this,"storagePrefix",qa),ti(this,"storageVersion",F3e),ti(this,"events",new Map),ti(this,"shouldPersist",!1),ti(this,"init",async()=>{if(!O4())try{const s={eventId:nC(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Sj(this.core.relayer.protocol,this.core.relayer.version,T5)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),ti(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:l,trace:u}}=s,d=nC(),p=this.core.projectId||"",v=Date.now(),b=s0({eventId:d,timestamp:v,props:{event:i,type:o,properties:{topic:l,trace:u}},bundleId:p,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,b),this.shouldPersist=!0),b}),ti(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const l=Array.from(this.events.values()).find(u=>u.props.properties.topic===o);if(l)return s0(s0({},l),this.setMethods(l.eventId))}),ti(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),ti(this,"setEventListeners",()=>{this.core.heartbeat.on(md.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{yt.fromMiliseconds(Date.now())-yt.fromMiliseconds(s.timestamp)>q3e&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),ti(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),ti(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),ti(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),ti(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ti(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,s0(s0({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),ti(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),ti(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${z3e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${T5}${i}`,{method:"POST",body:JSON.stringify(s)})}),ti(this,"getAppDomain",()=>_j().url),this.logger=cs(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var q6e=Object.defineProperty,mT=Object.getOwnPropertySymbols,z6e=Object.prototype.hasOwnProperty,H6e=Object.prototype.propertyIsEnumerable,F5=(t,e,r)=>e in t?q6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yT=(t,e)=>{for(var r in e||(e={}))z6e.call(e,r)&&F5(t,r,e[r]);if(mT)for(var r of mT(e))H6e.call(e,r)&&F5(t,r,e[r]);return t},Xr=(t,e,r)=>F5(t,typeof e!="symbol"?e+"":e,r);class K4 extends j0e{constructor(e){var r;super(e),Xr(this,"protocol",fq),Xr(this,"version",hq),Xr(this,"name",C5),Xr(this,"relayUrl"),Xr(this,"projectId"),Xr(this,"customStoragePrefix"),Xr(this,"events",new Tn.EventEmitter),Xr(this,"logger"),Xr(this,"heartbeat"),Xr(this,"relayer"),Xr(this,"crypto"),Xr(this,"storage"),Xr(this,"history"),Xr(this,"expirer"),Xr(this,"pairing"),Xr(this,"verify"),Xr(this,"echoClient"),Xr(this,"linkModeSupportedApps"),Xr(this,"eventClient"),Xr(this,"initialized",!1),Xr(this,"logChunkController"),Xr(this,"on",(l,u)=>this.events.on(l,u)),Xr(this,"once",(l,u)=>this.events.once(l,u)),Xr(this,"off",(l,u)=>this.events.off(l,u)),Xr(this,"removeListener",(l,u)=>this.events.removeListener(l,u)),Xr(this,"dispatchEnvelope",({topic:l,message:u,sessionExists:d})=>{if(!l||!u)return;const p={topic:l,message:u,publishedAt:Date.now(),transportType:ln.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:d})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(l){console.warn("Failed to copy global core",l)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||pq,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const s=_4({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:f3e.logger,name:C5}),{logger:i,chunkLoggerController:o}=$0e({opts:s,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var l,u;(l=this.logChunkController)!=null&&l.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=cs(i,this.name),this.heartbeat=new Ide,this.crypto=new v_e(this,this.logger,e==null?void 0:e.keychain),this.history=new I6e(this,this.logger),this.expirer=new T6e(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new u0e(yT(yT({},h3e),e==null?void 0:e.storageOptions)),this.relayer=new K_e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new M6e(this,this.logger),this.verify=new N6e(this,this.logger,this.storage),this.echoClient=new D6e(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new j6e(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new K4(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(M3e,n),r}get context(){return Cs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(ZC,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(ZC)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&u3e.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}}const K6e=K4,Aq="wc",kq=2,Iq="client",W4=`${Aq}@${kq}:${Iq}:`,i_={name:Iq,logger:"error"},vT="WALLETCONNECT_DEEPLINK_CHOICE",W6e="proposal",wT="Proposal expired",V6e="session",Of=yt.SEVEN_DAYS,G6e="engine",ri={wc_sessionPropose:{req:{ttl:yt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:yt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:yt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:yt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:yt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:yt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:yt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:yt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:yt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:yt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:yt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:yt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:yt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:yt.FIVE_MINUTES,prompt:!1,tag:1119}}},s_={min:yt.FIVE_MINUTES,max:yt.SEVEN_DAYS},ua={idle:"IDLE",active:"ACTIVE"},bT={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Y6e="request",Z6e=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],J6e="wc",X6e="auth",Q6e="authKeys",e5e="pairingTopics",t5e="requests",Aw=`${J6e}@${1.5}:${X6e}:`,T1=`${Aw}:PUB_KEY`;var r5e=Object.defineProperty,n5e=Object.defineProperties,i5e=Object.getOwnPropertyDescriptors,xT=Object.getOwnPropertySymbols,s5e=Object.prototype.hasOwnProperty,o5e=Object.prototype.propertyIsEnumerable,j5=(t,e,r)=>e in t?r5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yr=(t,e)=>{for(var r in e||(e={}))s5e.call(e,r)&&j5(t,r,e[r]);if(xT)for(var r of xT(e))o5e.call(e,r)&&j5(t,r,e[r]);return t},Xi=(t,e)=>n5e(t,i5e(e)),ut=(t,e,r)=>j5(t,typeof e!="symbol"?e+"":e,r);class a5e extends ipe{constructor(e){super(e),ut(this,"name",G6e),ut(this,"events",new $B),ut(this,"initialized",!1),ut(this,"requestQueue",{state:ua.idle,queue:[]}),ut(this,"sessionRequestQueue",{state:ua.idle,queue:[]}),ut(this,"requestQueueDelay",yt.ONE_SECOND),ut(this,"expectedPairingMethodMap",new Map),ut(this,"recentlyDeletedMap",new Map),ut(this,"recentlyDeletedLimit",200),ut(this,"relayMessageCache",[]),ut(this,"pendingSessions",new Map),ut(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ri)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},yt.toMiliseconds(this.requestQueueDelay)))}),ut(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Xi(Yr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:l,scopedProperties:u,relays:d}=n;let p=s,v,b=!1;try{if(p){const U=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),b=U.active}}catch(U){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),U}if(!p||!b){const{topic:U,uri:q}=await this.client.core.pairing.create();p=U,v=q}if(!p){const{message:U}=wt("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(U)}const _=await this.client.core.crypto.generateKeyPair(),M=ri.wc_sessionPropose.req.ttl||yt.FIVE_MINUTES,A=Wn(M),I=Xi(Yr(Yr({requiredNamespaces:i,optionalNamespaces:o,relays:d??[{protocol:dq}],proposer:{publicKey:_,metadata:this.client.metadata},expiryTimestamp:A,pairingTopic:p},l&&{sessionProperties:l}),u&&{scopedProperties:u}),{id:ga()}),k=Dr("session_connect",I.id),{reject:R,resolve:C,done:P}=fu(M,wT),N=({id:U})=>{U===I.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(I.id),this.events.emit(k,{error:{message:wT,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(k,({error:U,session:q})=>{this.client.events.off("proposal_expire",N),U?R(U):q&&C(q)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:I,throwOnFailedPublish:!0,clientRpcId:I.id}),await this.setProposal(I.id,I),{uri:v,approval:P}}),ut(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ut(this,"approve",async r=>{var n,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[No.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw o.setError(ou.no_internet_connection),L}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(ou.proposal_not_found),L}try{await this.isValidApprove(r)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(ou.session_approve_namespace_validation_failure),L}const{id:l,relayProtocol:u,namespaces:d,sessionProperties:p,scopedProperties:v,sessionConfig:b}=r,_=this.client.proposal.get(l);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:M,proposer:A,requiredNamespaces:I,optionalNamespaces:k}=_;let R=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:M});R||(R=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:No.session_approve_started,properties:{topic:M,trace:[No.session_approve_started,No.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),P=A.publicKey,N=await this.client.core.crypto.generateSharedKey(C,P),U=Yr(Yr(Yr({relay:{protocol:u??"irn"},namespaces:d,controller:{publicKey:C,metadata:this.client.metadata},expiry:Wn(Of)},p&&{sessionProperties:p}),v&&{scopedProperties:v}),b&&{sessionConfig:b}),q=ln.relay;R.addTrace(No.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:q})}catch(L){throw R.setError(ou.subscribe_session_topic_failure),L}R.addTrace(No.subscribe_session_topic_success);const F=Xi(Yr({},U),{topic:N,requiredNamespaces:I,optionalNamespaces:k,pairingTopic:M,acknowledged:!1,self:U.controller,peer:{publicKey:A.publicKey,metadata:A.metadata},controller:C,transportType:ln.relay});await this.client.session.set(N,F),R.addTrace(No.store_session);try{R.addTrace(No.publishing_session_settle),await this.sendRequest({topic:N,method:"wc_sessionSettle",params:U,throwOnFailedPublish:!0}).catch(L=>{throw R==null||R.setError(ou.session_settle_publish_failure),L}),R.addTrace(No.session_settle_publish_success),R.addTrace(No.publishing_session_approve),await this.sendResult({id:l,topic:M,result:{relay:{protocol:u??"irn"},responderPublicKey:C},throwOnFailedPublish:!0}).catch(L=>{throw R==null||R.setError(ou.session_approve_publish_failure),L}),R.addTrace(No.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(N,jr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),L}return this.client.core.eventClient.deleteEvent({eventId:R.eventId}),await this.client.core.pairing.updateMetadata({topic:M,metadata:A.metadata}),await this.client.proposal.delete(l,jr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:M}),await this.setExpiry(N,Wn(Of)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),ut(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:s}=r;let i;try{i=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}i&&(await this.sendError({id:n,topic:i,error:s,rpcOpts:ri.wc_sessionPropose.reject}),await this.client.proposal.delete(n,jr("USER_DISCONNECTED")))}),ut(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(v){throw this.client.logger.error("update() -> isValidUpdate() failed"),v}const{topic:n,namespaces:s}=r,{done:i,resolve:o,reject:l}=fu(),u=ga(),d=Mu().toString(),p=this.client.session.get(n).namespaces;return this.events.once(Dr("session_update",u),({error:v})=>{v?l(v):o()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:d}).catch(v=>{this.client.logger.error(v),this.client.session.update(n,{namespaces:p}),l(v)}),{acknowledged:i}}),ut(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:n}=r,s=ga(),{done:i,resolve:o,reject:l}=fu();return this.events.once(Dr("session_extend",s),({error:u})=>{u?l(u):o()}),await this.setExpiry(n,Wn(Of)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(u=>{l(u)}),{acknowledged:i}}),ut(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(k){throw this.client.logger.error("request() -> isValidRequest() failed"),k}const{chainId:n,request:s,topic:i,expiry:o=ri.wc_sessionRequest.req.ttl}=r,l=this.client.session.get(i);(l==null?void 0:l.transportType)===ln.relay&&await this.confirmOnlineStateOrThrow();const u=ga(),d=Mu().toString(),{done:p,resolve:v,reject:b}=fu(o,"Request expired. Please try again.");this.events.once(Dr("session_request",u),({error:k,result:R})=>{k?b(k):v(R)});const _="wc_sessionRequest",M=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);if(M)return await this.sendRequest({clientRpcId:u,relayRpcId:d,topic:i,method:_,params:{request:Xi(Yr({},s),{expiryTimestamp:Wn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:M}).catch(k=>b(k)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:u}),await p();const A={request:Xi(Yr({},s),{expiryTimestamp:Wn(o)}),chainId:n},I=this.shouldSetTVF(_,A);return await Promise.all([new Promise(async k=>{await this.sendRequest(Yr({clientRpcId:u,relayRpcId:d,topic:i,method:_,params:A,expiry:o,throwOnFailedPublish:!0},I&&{tvf:this.getTVFParams(u,A)})).catch(R=>b(R)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:u}),k()}),new Promise(async k=>{var R;if(!((R=l.sessionConfig)!=null&&R.disableDeepLink)){const C=await Rve(this.client.core.storage,vT);await Ave({id:u,topic:i,wcDeepLink:C})}k()}),p()]).then(k=>k[2])}),ut(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:s}=r,{id:i}=s,o=this.client.session.get(n);o.transportType===ln.relay&&await this.confirmOnlineStateOrThrow();const l=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ma(s)?await this.sendResult({id:i,topic:n,result:s.result,throwOnFailedPublish:!0,appLink:l}):uo(s)&&await this.sendError({id:i,topic:n,error:s.error,appLink:l}),this.cleanupAfterResponse(r)}),ut(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:n}=r;if(this.client.session.keys.includes(n)){const s=ga(),i=Mu().toString(),{done:o,resolve:l,reject:u}=fu();this.events.once(Dr("session_ping",s),({error:d})=>{d?u(d):l()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ut(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:s,chainId:i}=r,o=Mu().toString(),l=ga();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:l})}),ut(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:jr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:s}=wt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),ut(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>f2e(n,r)))),ut(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ut(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);const i=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?ln.link_mode:ln.relay;o===ln.relay&&await this.confirmOnlineStateOrThrow();const{chains:l,statement:u="",uri:d,domain:p,nonce:v,type:b,exp:_,nbf:M,methods:A=[],expiry:I}=r,k=[...r.resources||[]],{topic:R,uri:C}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:R,uri:C}});const P=await this.client.core.crypto.generateKeyPair(),N=R1(P);if(await Promise.all([this.client.auth.authKeys.set(T1,{responseTopic:N,publicKey:P}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:R})]),await this.client.core.relayer.subscribe(N,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${R}`),A.length>0){const{namespace:m}=k1(l[0]);let c=xwe(m,"request",A);I1(k)&&(c=Swe(c,k.pop())),k.push(c)}const U=I&&I>ri.wc_sessionAuthenticate.req.ttl?I:ri.wc_sessionAuthenticate.req.ttl,q={authPayload:{type:b??"caip122",chains:l,statement:u,aud:d,domain:p,version:"1",nonce:v,iat:new Date().toISOString(),exp:_,nbf:M,resources:k},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:Wn(U)},F={eip155:{chains:l,methods:[...new Set(["personal_sign",...A])],events:["chainChanged","accountsChanged"]}},L={requiredNamespaces:{},optionalNamespaces:F,relays:[{protocol:"irn"}],pairingTopic:R,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:Wn(ri.wc_sessionPropose.req.ttl),id:ga()},{done:ie,resolve:E,reject:a}=fu(U,"Request expired"),f=ga(),h=Dr("session_connect",L.id),g=Dr("session_request",f),y=async({error:m,session:c})=>{this.events.off(g,x),m?a(m):c&&E({session:c})},x=async m=>{var c,w,T;if(await this.deletePendingAuthRequest(f,{message:"fulfilled",code:0}),m.error){const Y=jr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return m.error.code===Y.code?void 0:(this.events.off(h,y),a(m.error.message))}await this.deleteProposal(L.id),this.events.off(h,y);const{cacaos:O,responder:K}=m.result,ee=[],J=[];for(const Y of O){await fC({cacao:Y,projectId:this.client.core.projectId})||(this.client.logger.error(Y,"Signature verification failed"),a(jr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:te}=Y,G=I1(te.resources),j=[b5(te.iss)],W=Uy(te.iss);if(G){const oe=hC(G),ae=dC(G);ee.push(...oe),j.push(...ae)}for(const oe of j)J.push(`${oe}:${W}`)}const $=await this.client.core.crypto.generateSharedKey(P,K.publicKey);let z;ee.length>0&&(z={topic:$,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:Wn(Of),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:R,namespaces:BC([...new Set(ee)],[...new Set(J)]),transportType:o},await this.client.core.relayer.subscribe($,{transportType:o}),await this.client.session.set($,z),R&&await this.client.core.pairing.updateMetadata({topic:R,metadata:K.metadata}),z=this.client.session.get($)),(c=this.client.metadata.redirect)!=null&&c.linkMode&&(w=K.metadata.redirect)!=null&&w.linkMode&&(T=K.metadata.redirect)!=null&&T.universal&&n&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update($,{transportType:ln.link_mode})),E({auths:O,session:z})};this.events.once(h,y),this.events.once(g,x);let S;try{if(i){const m=Au("wc_sessionAuthenticate",q,f);this.client.core.history.set(R,m);const c=await this.client.core.crypto.encode("",m,{type:bg,encoding:dc});S=Um(n,R,c)}else await Promise.all([this.sendRequest({topic:R,method:"wc_sessionAuthenticate",params:q,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:f}),this.sendRequest({topic:R,method:"wc_sessionPropose",params:L,expiry:ri.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:L.id})])}catch(m){throw this.events.off(h,y),this.events.off(g,x),m}return await this.setProposal(L.id,L),await this.setAuthRequest(f,{request:Xi(Yr({},q),{verifyContext:{}}),pairingTopic:R,transportType:o}),{uri:S??C,response:ie}}),ut(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:s}=r,i=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[au.authenticated_session_approve_started]}});try{this.isInitialized()}catch(I){throw i.setError(n0.no_internet_connection),I}const o=this.getPendingAuthRequest(n);if(!o)throw i.setError(n0.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const l=o.transportType||ln.relay;l===ln.relay&&await this.confirmOnlineStateOrThrow();const u=o.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),p=R1(u),v={type:Al,receiverPublicKey:u,senderPublicKey:d},b=[],_=[];for(const I of s){if(!await fC({cacao:I,projectId:this.client.core.projectId})){i.setError(n0.invalid_cacao);const N=jr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:p,error:N,encodeOpts:v}),new Error(N.message)}i.addTrace(au.cacaos_verified);const{p:k}=I,R=I1(k.resources),C=[b5(k.iss)],P=Uy(k.iss);if(R){const N=hC(R),U=dC(R);b.push(...N),C.push(...U)}for(const N of C)_.push(`${N}:${P}`)}const M=await this.client.core.crypto.generateSharedKey(d,u);i.addTrace(au.create_authenticated_session_topic);let A;if((b==null?void 0:b.length)>0){A={topic:M,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:u,metadata:o.requester.metadata},controller:u,expiry:Wn(Of),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:BC([...new Set(b)],[...new Set(_)]),transportType:l},i.addTrace(au.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(M,{transportType:l})}catch(I){throw i.setError(n0.subscribe_authenticated_session_topic_failure),I}i.addTrace(au.subscribe_authenticated_session_topic_success),await this.client.session.set(M,A),i.addTrace(au.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(au.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:n,result:{cacaos:s,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:v,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,l)})}catch(I){throw i.setError(n0.authenticated_session_approve_publish_failure),I}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:A}}),ut(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:s}=r,i=this.getPendingAuthRequest(n);if(!i)throw new Error(`Could not find pending auth request with id ${n}`);i.transportType===ln.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=R1(o),d={type:Al,receiverPublicKey:o,senderPublicKey:l};await this.sendError({id:n,topic:u,error:s,encodeOpts:d,rpcOpts:ri.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,jr("USER_DISCONNECTED"))}),ut(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:s}=r;return Nj(n,s)}),ut(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ut(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,l;return((o=i.peerMetadata)==null?void 0:o.url)&&((l=i.peerMetadata)==null?void 0:l.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ut(this,"deleteSession",async r=>{var n;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:l=0}=r,{self:u}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,jr("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(vT).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===s&&this.deletePendingSessionRequest(d.id,jr("USER_DISCONNECTED"))}),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=ua.idle),o&&this.client.events.emit("session_delete",{id:l,topic:s})}),ut(this,"deleteProposal",async(r,n)=>{if(n)try{const s=this.client.proposal.get(r),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(ou.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,jr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ut(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==r),s&&(this.sessionRequestQueue.state=ua.idle,this.client.events.emit("session_request_expire",{id:r}))}),ut(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),ut(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ut(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Wn(ri.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ut(this,"setAuthRequest",async(r,n)=>{const{request:s,pairingTopic:i,transportType:o=ln.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),ut(this,"setPendingSessionRequest",async r=>{const{id:n,topic:s,params:i,verifyContext:o}=r,l=i.request.expiryTimestamp||Wn(ri.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,l),await this.client.pendingRequest.set(n,{id:n,topic:s,params:i,verifyContext:o})}),ut(this,"sendRequest",async r=>{const{topic:n,method:s,params:i,expiry:o,relayRpcId:l,clientRpcId:u,throwOnFailedPublish:d,appLink:p,tvf:v}=r,b=Au(s,i,u);let _;const M=!!p;try{const k=M?dc:Ko;_=await this.client.core.crypto.encode(n,b,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),k}let A;if(Z6e.includes(s)){const k=ba(JSON.stringify(b)),R=ba(_);A=await this.client.core.verify.register({id:R,decryptedId:k})}const I=ri[s].req;if(I.attestation=A,o&&(I.ttl=o),l&&(I.id=l),this.client.core.history.set(n,b),M){const k=Um(p,n,_);await globalThis.Linking.openURL(k,this.client.name)}else{const k=ri[s].req;o&&(k.ttl=o),l&&(k.id=l),k.tvf=Xi(Yr({},v),{correlationId:b.id}),d?(k.internal=Xi(Yr({},k.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,_,k)):this.client.core.relayer.publish(n,_,k).catch(R=>this.client.logger.error(R))}return b.id}),ut(this,"sendResult",async r=>{const{id:n,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:l,appLink:u}=r,d=q4(n,i);let p;const v=u&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const M=v?dc:Ko;p=await this.client.core.crypto.encode(s,d,Xi(Yr({},l||{}),{encoding:M}))}catch(M){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),M}let b,_;try{b=await this.client.core.history.get(s,n);const M=b.request;try{this.shouldSetTVF(M.method,M.params)&&(_=this.getTVFParams(n,M.params,i))}catch(A){this.client.logger.warn("sendResult() -> getTVFParams() failed",A)}}catch(M){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),M}if(v){const M=Um(u,s,p);await globalThis.Linking.openURL(M,this.client.name)}else{const M=b.request.method,A=ri[M].res;A.tvf=Xi(Yr({},_),{correlationId:n}),o?(A.internal=Xi(Yr({},A.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,A)):this.client.core.relayer.publish(s,p,A).catch(I=>this.client.logger.error(I))}await this.client.core.history.resolve(d)}),ut(this,"sendError",async r=>{const{id:n,topic:s,error:i,encodeOpts:o,rpcOpts:l,appLink:u}=r,d=z4(n,i);let p;const v=u&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const _=v?dc:Ko;p=await this.client.core.crypto.encode(s,d,Xi(Yr({},o||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),_}let b;try{b=await this.client.core.history.get(s,n)}catch(_){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),_}if(v){const _=Um(u,s,p);await globalThis.Linking.openURL(_,this.client.name)}else{const _=b.request.method,M=l||ri[_].res;this.client.core.relayer.publish(s,p,M)}await this.client.core.history.resolve(d)}),ut(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(s=>{let i=!1;oc(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{oc(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),ut(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ut(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ut(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ua.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ua.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=ua.idle}),ut(this,"processRequest",async r=>{const{topic:n,payload:s,attestation:i,transportType:o,encryptedId:l}=r,u=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:i,encryptedId:l});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:i,encryptedId:l,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:i,encryptedId:l,transportType:o});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),ut(this,"onRelayEventResponse",async r=>{const{topic:n,payload:s,transportType:i}=r,o=(await this.client.core.history.get(n,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ut(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:s}=wt("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),ut(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:s}=r,i=this.expectedPairingMethodMap.get(n);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ut(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:s,attestation:i,encryptedId:o}=r,{params:l,id:u}=s;try{const d=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d==null||d.setError(ol.proposal_listener_not_found)),this.isValidConnect(Yr({},s.params));const p=l.expiryTimestamp||Wn(ri.wc_sessionPropose.req.ttl),v=Yr({id:u,pairingTopic:n,expiryTimestamp:p},l);await this.setProposal(u,v);const b=await this.getVerifyContext({attestationId:i,hash:ba(JSON.stringify(s)),encryptedId:o,metadata:v.proposer.metadata});d==null||d.addTrace(ha.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:v,verifyContext:b})}catch(d){await this.sendError({id:u,topic:n,error:d,rpcOpts:ri.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),ut(this,"onSessionProposeResponse",async(r,n,s)=>{const{id:i}=n;if(ma(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const l=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:l});const u=l.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const d=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const p=await this.client.core.crypto.generateSharedKey(u,d);this.pendingSessions.set(i,{sessionTopic:p,pairingTopic:r,proposalId:i,publicKey:u});const v=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:v}),await this.client.core.pairing.activate({topic:r})}else if(uo(n)){await this.client.proposal.delete(i,jr("USER_DISCONNECTED"));const o=Dr("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ut(this,"onSessionSettleRequest",async(r,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:l,expiry:u,namespaces:d,sessionProperties:p,scopedProperties:v,sessionConfig:b}=n.params,_=[...this.pendingSessions.values()].find(I=>I.sessionTopic===r);if(!_)return this.client.logger.error(`Pending session not found for topic ${r}`);const M=this.client.proposal.get(_.proposalId),A=Xi(Yr(Yr(Yr({topic:r,relay:o,expiry:u,namespaces:d,acknowledged:!0,pairingTopic:_.pairingTopic,requiredNamespaces:M.requiredNamespaces,optionalNamespaces:M.optionalNamespaces,controller:l.publicKey,self:{publicKey:_.publicKey,metadata:this.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},p&&{sessionProperties:p}),v&&{scopedProperties:v}),b&&{sessionConfig:b}),{transportType:ln.relay});await this.client.session.set(A.topic,A),await this.setExpiry(A.topic,A.expiry),await this.client.core.pairing.updateMetadata({topic:_.pairingTopic,metadata:A.peer.metadata}),this.client.events.emit("session_connect",{session:A}),this.events.emit(Dr("session_connect",_.proposalId),{session:A}),this.pendingSessions.delete(_.proposalId),this.deleteProposal(_.proposalId,!1),this.cleanupDuplicatePairings(A),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ut(this,"onSessionSettleResponse",async(r,n)=>{const{id:s}=n;ma(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Dr("session_approve",s),{})):uo(n)&&(await this.client.session.delete(r,jr("USER_DISCONNECTED")),this.events.emit(Dr("session_approve",s),{error:n.error}))}),ut(this,"onSessionUpdateRequest",async(r,n)=>{const{params:s,id:i}=n;try{const o=`${r}_session_update`,l=t0.get(o);if(l&&this.isRequestOutOfSync(l,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:r,error:jr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Yr({topic:r},s));try{t0.set(o,i),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0})}catch(u){throw t0.delete(o),u}this.client.events.emit("session_update",{id:i,topic:r,params:s})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ut(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ut(this,"onSessionUpdateResponse",(r,n)=>{const{id:s}=n,i=Dr("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);ma(n)?this.events.emit(Dr("session_update",s),{}):uo(n)&&this.events.emit(Dr("session_update",s),{error:n.error})}),ut(this,"onSessionExtendRequest",async(r,n)=>{const{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Wn(Of)),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),ut(this,"onSessionExtendResponse",(r,n)=>{const{id:s}=n,i=Dr("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);ma(n)?this.events.emit(Dr("session_extend",s),{}):uo(n)&&this.events.emit(Dr("session_extend",s),{error:n.error})}),ut(this,"onSessionPingRequest",async(r,n)=>{const{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),ut(this,"onSessionPingResponse",(r,n)=>{const{id:s}=n,i=Dr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);ma(n)?this.events.emit(Dr("session_ping",s),{}):uo(n)&&this.events.emit(Dr("session_ping",s),{error:n.error})},500)}),ut(this,"onSessionDeleteRequest",async(r,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(ui.publish,async()=>{i(await this.deleteSession({topic:r,id:s}))})}),this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:jr("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),ut(this,"onSessionRequest",async r=>{var n,s,i;const{topic:o,payload:l,attestation:u,encryptedId:d,transportType:p}=r,{id:v,params:b}=l;try{await this.isValidRequest(Yr({topic:o},b));const _=this.client.session.get(o),M=await this.getVerifyContext({attestationId:u,hash:ba(JSON.stringify(Au("wc_sessionRequest",b,v))),encryptedId:d,metadata:_.peer.metadata,transportType:p}),A={id:v,topic:o,params:b,verifyContext:M};await this.setPendingSessionRequest(A),p===ln.link_mode&&(n=_.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=_.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(A):(this.addSessionRequestToSessionRequestQueue(A),this.processSessionRequestQueue())}catch(_){await this.sendError({id:v,topic:o,error:_}),this.client.logger.error(_)}}),ut(this,"onSessionRequestResponse",(r,n)=>{const{id:s}=n,i=Dr("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);ma(n)?this.events.emit(Dr("session_request",s),{result:n.result}):uo(n)&&this.events.emit(Dr("session_request",s),{error:n.error})}),ut(this,"onSessionEventRequest",async(r,n)=>{const{id:s,params:i}=n;try{const o=`${r}_session_event_${i.event.name}`,l=t0.get(o);if(l&&this.isRequestOutOfSync(l,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Yr({topic:r},i)),this.client.events.emit("session_event",{id:s,topic:r,params:i}),t0.set(o,s)}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ut(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),ma(n)?this.events.emit(Dr("session_request",s),{result:n.result}):uo(n)&&this.events.emit(Dr("session_request",s),{error:n.error})}),ut(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:s,payload:i,attestation:o,encryptedId:l,transportType:u}=r;try{const{requester:d,authPayload:p,expiryTimestamp:v}=i.params,b=await this.getVerifyContext({attestationId:o,hash:ba(JSON.stringify(i)),encryptedId:l,metadata:d.metadata,transportType:u}),_={requester:d,pairingTopic:s,id:i.id,authPayload:p,verifyContext:b,expiryTimestamp:v};await this.setAuthRequest(i.id,{request:_,pairingTopic:s,transportType:u}),u===ln.link_mode&&(n=d.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:b})}catch(d){this.client.logger.error(d);const p=i.params.requester.publicKey,v=await this.client.core.crypto.generateKeyPair(),b=this.getAppLinkIfEnabled(i.params.requester.metadata,u),_={type:Al,receiverPublicKey:p,senderPublicKey:v};await this.sendError({id:i.id,topic:s,error:d,encodeOpts:_,rpcOpts:ri.wc_sessionAuthenticate.autoReject,appLink:b})}}),ut(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ut(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ua.idle,this.processSessionRequestQueue()},yt.toMiliseconds(this.requestQueueDelay))}),ut(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===r&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,l=Dr("session_request",o);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners`);this.events.emit(Dr("session_request",i.request.id),{error:n})})}),ut(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ua.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=ua.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ut(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),ut(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Au("wc_sessionPropose",Xi(Yr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),ut(this,"isValidConnect",async r=>{if(!ds(r)){const{message:d}=wt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(d)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:l,relays:u}=r;if(Ai(n)||await this.isValidPairingTopic(n),!S2e(u)){const{message:d}=wt("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(d)}if(!Ai(s)&&jy(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Ai(i)&&jy(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Ai(o)||this.validateSessionProps(o,"sessionProperties"),!Ai(l)){this.validateSessionProps(l,"scopedProperties");const d=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(l).every(p=>d.includes(p)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(l)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),ut(this,"validateNamespaces",(r,n)=>{const s=_2e(r,"connect()",n);if(s)throw new Error(s.message)}),ut(this,"isValidApprove",async r=>{if(!ds(r))throw new Error(wt("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:l}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const u=this.client.proposal.get(n),d=Jx(s,"approve()");if(d)throw new Error(d.message);const p=$C(u.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!qn(i,!0)){const{message:v}=wt("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(v)}if(Ai(o)||this.validateSessionProps(o,"sessionProperties"),!Ai(l)){this.validateSessionProps(l,"scopedProperties");const v=new Set(Object.keys(s));if(!Object.keys(l).every(b=>v.has(b)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(l)}, approved namespaces: ${Array.from(v).join(", ")}`)}}),ut(this,"isValidReject",async r=>{if(!ds(r)){const{message:i}=wt("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!M2e(s)){const{message:i}=wt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),ut(this,"isValidSessionSettleRequest",r=>{if(!ds(r)){const{message:d}=wt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(d)}const{relay:n,controller:s,namespaces:i,expiry:o}=r;if(!oq(n)){const{message:d}=wt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const l=m2e(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);const u=Jx(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(oc(o)){const{message:d}=wt("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),ut(this,"isValidUpdate",async r=>{if(!ds(r)){const{message:u}=wt("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(u)}const{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const i=this.client.session.get(n),o=Jx(s,"update()");if(o)throw new Error(o.message);const l=$C(i.requiredNamespaces,s,"update()");if(l)throw new Error(l.message)}),ut(this,"isValidExtend",async r=>{if(!ds(r)){const{message:s}=wt("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ut(this,"isValidRequest",async r=>{if(!ds(r)){const{message:u}=wt("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(u)}const{topic:n,request:s,chainId:i,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:l}=this.client.session.get(n);if(!DC(l,i)){const{message:u}=wt("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(u)}if(!A2e(s)){const{message:u}=wt("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(u)}if(!R2e(l,i,s.method)){const{message:u}=wt("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(u)}if(o&&!O2e(o,s_)){const{message:u}=wt("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${s_.min} and ${s_.max}`);throw new Error(u)}}),ut(this,"isValidRespond",async r=>{var n;if(!ds(r)){const{message:o}=wt("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:s,response:i}=r;try{await this.isValidSessionTopic(s)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!k2e(i)){const{message:o}=wt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),ut(this,"isValidPing",async r=>{if(!ds(r)){const{message:s}=wt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ut(this,"isValidEmit",async r=>{if(!ds(r)){const{message:l}=wt("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(l)}const{topic:n,event:s,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!DC(o,i)){const{message:l}=wt("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(l)}if(!I2e(s)){const{message:l}=wt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}if(!C2e(o,i,s.name)){const{message:l}=wt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}}),ut(this,"isValidDisconnect",async r=>{if(!ds(r)){const{message:s}=wt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ut(this,"isValidAuthenticate",r=>{const{chains:n,uri:s,domain:i,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!qn(s,!1))throw new Error("uri is required parameter");if(!qn(i,!1))throw new Error("domain is required parameter");if(!qn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(u=>k1(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:l}=k1(n[0]);if(l!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ut(this,"getVerifyContext",async r=>{const{attestationId:n,hash:s,encryptedId:i,metadata:o,transportType:l}=r,u={verified:{verifyUrl:o.verifyUrl||$0,validation:"UNKNOWN",origin:o.url||""}};try{if(l===ln.link_mode){const p=this.getAppLinkIfEnabled(o,l);return u.verified.validation=p&&new URL(p).origin===new URL(o.url).origin?"VALID":"INVALID",u}const d=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});d&&(u.verified.origin=d.origin,u.verified.isScam=d.isScam,u.verified.validation=d.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),ut(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,i)=>{if(s==null){const{message:o}=wt("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[i]}`);throw new Error(o)}})}),ut(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ut(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),ut(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:s}=wt("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),ut(this,"isLinkModeEnabled",(r,n)=>{var s,i,o,l,u,d,p,v,b;return!r||n!==ln.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((l=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:l.universal)!==void 0&&((d=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:d.universal)!==""&&((p=r==null?void 0:r.redirect)==null?void 0:p.universal)!==void 0&&((v=r==null?void 0:r.redirect)==null?void 0:v.universal)!==""&&((b=r==null?void 0:r.redirect)==null?void 0:b.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"}),ut(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r==null?void 0:r.redirect)==null?void 0:s.universal:void 0}),ut(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=rC(r,"topic")||"",s=decodeURIComponent(rC(r,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:ln.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:i})}),ut(this,"registerLinkModeListeners",async()=>{var r;if(O4()||Jc()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=globalThis==null?void 0:globalThis.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),ut(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:s}=n;return Object.keys(bT).includes(s.method)}),ut(this,"getTVFParams",(r,n,s)=>{var i,o;try{const l=n.request.method,u=this.extractTxHashesFromResult(l,s);return Xi(Yr({correlationId:r,rpcMethods:[l],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(i=n.request.params)==null?void 0:i[0])==null?void 0:o.to]}),{txHashes:u})}catch(l){this.client.logger.warn("Error getting TVF params",l)}return{}}),ut(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const s=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),ut(this,"extractTxHashesFromResult",(r,n)=>{try{const s=bT[r];if(typeof n=="string")return[n];const i=n[s.key];if(Ed(i))return r==="solana_signAllTransactions"?i.map(o=>awe(o)):i;if(typeof i=="string")return[i]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,s]of Object.entries(r))for(const i of s)try{await this.onProviderMessageEvent({topic:n,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${i}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=wt("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ui.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:s,transportType:i}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(T1)?this.client.auth.authKeys.get(T1):{publicKey:void 0};try{const l=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:i===ln.link_mode?dc:Ko});H4(l)?(this.client.core.history.set(r,l),await this.onRelayEventRequest({topic:r,payload:l,attestation:s,transportType:i,encryptedId:ba(n)})):Ew(l)?(await this.client.core.history.resolve(l),await this.onRelayEventResponse({topic:r,payload:l,transportType:i}),this.client.core.history.delete(r,l.id)):await this.onRelayEventUnknownPayload({topic:r,payload:l,transportType:i}),await this.client.core.relayer.messages.ack(r,n)}catch(l){this.client.logger.error(l)}}registerExpirerEvents(){this.client.core.expirer.on(ao.expired,async e=>{const{topic:r,id:n}=Mj(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,wt("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,wt("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(yu.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(yu.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!qn(e,!1)){const{message:r}=wt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=wt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(oc(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=wt("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!qn(e,!1)){const{message:r}=wt("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=wt("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(oc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=wt("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=wt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(qn(e,!1)){const{message:r}=wt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=wt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!E2e(e)){const{message:r}=wt("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=wt("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(oc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=wt("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class l5e extends pf{constructor(e,r){super(e,r,W6e,W4),this.core=e,this.logger=r}}class c5e extends pf{constructor(e,r){super(e,r,V6e,W4),this.core=e,this.logger=r}}class u5e extends pf{constructor(e,r){super(e,r,Y6e,W4,n=>n.id),this.core=e,this.logger=r}}class f5e extends pf{constructor(e,r){super(e,r,Q6e,Aw,()=>T1),this.core=e,this.logger=r}}class h5e extends pf{constructor(e,r){super(e,r,e5e,Aw),this.core=e,this.logger=r}}class d5e extends pf{constructor(e,r){super(e,r,t5e,Aw,n=>n.id),this.core=e,this.logger=r}}var p5e=Object.defineProperty,g5e=(t,e,r)=>e in t?p5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,o_=(t,e,r)=>g5e(t,typeof e!="symbol"?e+"":e,r);class m5e{constructor(e,r){this.core=e,this.logger=r,o_(this,"authKeys"),o_(this,"pairingTopics"),o_(this,"requests"),this.authKeys=new f5e(this.core,this.logger),this.pairingTopics=new h5e(this.core,this.logger),this.requests=new d5e(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var y5e=Object.defineProperty,v5e=(t,e,r)=>e in t?y5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mr=(t,e,r)=>v5e(t,typeof e!="symbol"?e+"":e,r);class V4 extends npe{constructor(e){super(e),Mr(this,"protocol",Aq),Mr(this,"version",kq),Mr(this,"name",i_.name),Mr(this,"metadata"),Mr(this,"core"),Mr(this,"logger"),Mr(this,"events",new Tn.EventEmitter),Mr(this,"engine"),Mr(this,"session"),Mr(this,"proposal"),Mr(this,"pendingRequest"),Mr(this,"auth"),Mr(this,"signConfig"),Mr(this,"on",(n,s)=>this.events.on(n,s)),Mr(this,"once",(n,s)=>this.events.once(n,s)),Mr(this,"off",(n,s)=>this.events.off(n,s)),Mr(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),Mr(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Mr(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Mr(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(i){throw this.logger.error(i.message),i}}),Mr(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),Mr(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=(e==null?void 0:e.name)||i_.name,this.metadata=wve(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:dw(_4({level:(e==null?void 0:e.logger)||i_.logger}));this.core=(e==null?void 0:e.core)||new K6e(e),this.logger=cs(r,this.name),this.session=new c5e(this.core,this.logger),this.proposal=new l5e(this.core,this.logger),this.pendingRequest=new u5e(this.core,this.logger),this.engine=new a5e(this),this.auth=new m5e(this.core,this.logger)}static async init(e){const r=new V4(e);return await r.initialize(),r}get context(){return Cs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},yt.toMiliseconds(yt.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}function w5e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var M=0,A=0,I=0,k=_.length;I!==k&&_[I]===0;)I++,M++;for(var R=(k-I)*d+1>>>0,C=new Uint8Array(R);I!==k;){for(var P=_[I],N=0,U=R-1;(P!==0||N<A)&&U!==-1;U--,N++)P+=256*C[U]>>>0,C[U]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");A=N,I++}for(var q=R-A;q!==R&&C[q]===0;)q++;for(var F=l.repeat(M);q<R;++q)F+=t.charAt(C[q]);return F}function v(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var M=0,A=0,I=0;_[M]===l;)A++,M++;for(var k=(_.length-M)*u+1>>>0,R=new Uint8Array(k);_[M];){var C=_.charCodeAt(M);if(C>255)return;var P=e[C];if(P===255)return;for(var N=0,U=k-1;(P!==0||N<I)&&U!==-1;U--,N++)P+=o*R[U]>>>0,R[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");I=N,M++}for(var q=k-I;q!==k&&R[q]===0;)q++;for(var F=new Uint8Array(A+(k-q)),L=A;q!==k;)F[L++]=R[q++];return F}function b(_){var M=v(_);if(M)return M;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:b}}var b5e=w5e;const x5e=b5e,_5e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var S5e=x5e(_5e);const P1=Zn(S5e);function E5e({getAccounts:t,getPrivateKey:e,getPublicKey:r,processEthSignMessage:n,processPersonalMessage:s,processTransaction:i,processSignTransaction:o,processTypedMessageV4:l}){if(!t)throw new Error("opts.getAccounts is required");async function u(k,R){if(typeof k=="string"&&k.length>0){const P=(await t(R)).map(U=>U.toLowerCase()),N=k.toLowerCase();if(P.includes(N))return N}throw Zt.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function d(k,R){R.result=await t(k)}async function p(k,R){if(!i)throw Zt.methodNotSupported();const C=k.params[0]||{from:""};C.from=await u(C.from,k),R.result=await i(C,k)}async function v(k,R){if(!o)throw Zt.methodNotSupported();const C=k.params[0]||{from:""};C.from=await u(C.from,k),R.result=await o(C,k)}async function b(k,R){if(!n)throw Zt.methodNotSupported();let C=k.params;const P=k.params[2]||{};if(Array.isArray(k.params)){if(k.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${k.method} method. expected [address, message]`);const N=k.params,U=N[0],q=N[1];C={from:U,data:q}}C=qe(qe({},P),C),R.result=await n(C,k)}async function _(k,R){if(!l)throw Zt.methodNotSupported();if(!(k!=null&&k.params))throw new Error("WalletMiddleware - missing params");let C=k.params;if(Array.isArray(k.params)){if(k.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${k.method} method. expected [address, typedData]`);const P=k.params,N=P[0],U=P[1];C={from:N,data:U}}R.result=await l(C,k)}async function M(k,R){if(!s)throw Zt.methodNotSupported();let C=k.params;const P=k.params[2]||{};if(Array.isArray(k.params)){if(!(k.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${k.method} method. expected [message, address]`);const N=k.params;if(typeof N[0]=="object"){const{challenge:U,address:q}=N[0];C={from:q,data:U}}else{const U=N[0];C={from:N[1],data:U}}}C=qe(qe({},P),C),R.result=await s(C,k)}async function A(k,R){if(!e)throw Zt.methodNotSupported();R.result=await e(k)}async function I(k,R){if(!r)throw Zt.methodNotSupported();R.result=await r(k)}return BE({eth_accounts:Ei(d),eth_requestAccounts:Ei(d),eth_private_key:Ei(A),eth_public_key:Ei(I),public_key:Ei(I),private_key:Ei(A),eth_sendTransaction:Ei(p),eth_signTransaction:Ei(v),eth_sign:Ei(b),eth_signTypedData_v4:Ei(_),personal_sign:Ei(M)})}function M5e(t){const{getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:s,processSignTransaction:i,processEthSignMessage:o,processTypedMessageV4:l,processPersonalMessage:u}=t;return Zc([BE({eth_syncing:!1}),E5e({getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:s,processEthSignMessage:o,processSignTransaction:i,processTypedMessageV4:l,processPersonalMessage:u})])}function A5e({addChain:t,switchChain:e}){async function r(s,i){var o;const l=(o=s.params)!==null&&o!==void 0&&o.length?s.params[0]:void 0;if(!l)throw Zt.invalidParams("Missing chain params");if(!l.chainId)throw Zt.invalidParams("Missing chainId in chainParams");if(!l.rpcUrls||l.rpcUrls.length===0)throw Zt.invalidParams("Missing rpcUrls in chainParams");if(!l.nativeCurrency)throw Zt.invalidParams("Missing nativeCurrency in chainParams");i.result=await t(l)}async function n(s,i){var o;const l=(o=s.params)!==null&&o!==void 0&&o.length?s.params[0]:void 0;if(!l)throw Zt.invalidParams("Missing chainId");i.result=await e(l)}return BE({wallet_addEthereumChain:Ei(r),wallet_switchEthereumChain:Ei(n)})}function k5e(t){return(e,r,n,s)=>e.method==="eth_chainId"?(r.result=t,s()):n()}function I5e(t){return(e,r,n,s)=>e.method==="eth_provider_config"?(r.result=t,s()):n()}function R5e(t){const{chainId:e,rpcTarget:r}=t,n=LE({rpcTarget:r});return{networkMiddleware:Zc([k5e(e),I5e(t),n]),fetchMiddleware:n}}async function Rq(t){if(t.session.length){const e=t.session.keys.length-1;return t.session.get(t.session.keys[e])}return null}function C5e(){return/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function T5e(t){return t.startsWith("solana:")}async function ml(t,e,r,n){const s=await Rq(t);if(!s)throw vo.disconnected();return typeof window<"u"&&C5e()&&s.peer.metadata.redirect&&s.peer.metadata.redirect.native&&window.open(s.peer.metadata.redirect.native,"_blank"),t.request({topic:s.topic,chainId:e,request:{method:r,params:T5e(e)?qe(qe({},n),{},{pubkey:s.self.publicKey}):n}})}async function gh(t){const e=await Rq(t);if(!e)throw vo.disconnected();const r=bj(e.namespaces);if(r&&r.length)return[...new Set(r.map(n=>wj(n).address))];throw Kt.connectionError("Failed to get accounts")}function P5e({connector:t,chainId:e}){return{getPrivateKey:async()=>{throw Zt.methodNotSupported()},getPublicKey:async()=>{throw Zt.methodNotSupported()},getAccounts:async r=>gh(t),processTransaction:async(r,n)=>await ml(t,`eip155:${e}`,"eth_sendTransaction",[r]),processSignTransaction:async(r,n)=>await ml(t,`eip155:${e}`,"eth_signTransaction",[r]),processEthSignMessage:async(r,n)=>await ml(t,`eip155:${e}`,"eth_sign",[r.from,r.data]),processPersonalMessage:async(r,n)=>await ml(t,`eip155:${e}`,"personal_sign",[r.data,r.from]),processTypedMessageV4:async r=>await ml(t,`eip155:${e}`,"eth_signTypedData_v4",[r.from,r.data])}}function O5e({connector:t,chainId:e}){return{requestAccounts:async r=>gh(t),getPrivateKey:async()=>{throw Zt.methodNotSupported()},getSecretKey:async()=>{throw Zt.methodNotSupported()},getPublicKey:async()=>{throw Zt.methodNotSupported()},getAccounts:async r=>gh(t),signAllTransactions:async r=>{throw Zt.methodNotSupported()},signAndSendTransaction:async r=>{throw Zt.methodNotSupported()},signMessage:async r=>{const n=await ml(t,`solana:${i5[e]}`,"solana_signMessage",{message:P1.encode(r.params.message)});return P1.decode(n.signature)},signTransaction:async r=>{const[{PublicKey:n},s]=await Promise.all([oo(()=>Promise.resolve().then(()=>Lhe),void 0),gh(t)]);if(s.length===0)throw vo.disconnected();const i=await ml(t,`solana:${i5[e]}`,"solana_signTransaction",{transaction:r.params.message.serialize({requireAllSignatures:!1}).toString("base64")}),o=r.params.message;return o.addSignature(new n(s[0]),Buffer.from(P1.decode(i.signature))),o}}}async function N5e({connector:t,chainId:e,newChainId:r}){await ml(t,`eip155:${e}`,"wallet_switchEthereumChain",[{chainId:r}])}async function B5e({connector:t,chainId:e,chainConfig:r}){await ml(t,`eip155:${e}`,"wallet_addEthereumChain",[r])}var Cq;class zy extends Kv{constructor({clientId:e,config:r,state:n,connector:s}){super({config:{chainConfig:r.chainConfig,skipLookupNetwork:!!r.skipLookupNetwork},state:qe(qe({},n||{}),{},{chainId:"loading",accounts:[]})}),Ve(this,"connector",null),Ve(this,"clientId",void 0),this.connector=s||null,this.clientId=e}async enable(){if(!this.connector)throw vo.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain({chainId:e}){if(!this.connector)throw vo.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const r=this.getChainConfig(e),{chainId:n}=this.config.chainConfig,s=parseInt(n,16);await N5e({connector:this.connector,chainId:s,newChainId:e}),this.configure({chainConfig:r}),await this.setupEngine(this.connector),this.lookupNetwork(this.connector)}async addChain(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16);await B5e({connector:this.connector,chainId:n,chainConfig:{chainId:e.chainId,chainName:e.displayName,nativeCurrency:{name:e.tickerName,symbol:e.ticker.toLocaleUpperCase(),decimals:e.decimals||18},rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],iconUrls:[e.logo]}}),super.addChain(e)}async lookupNetwork(e){const r=this.config.chainConfig.chainId;return this.update({chainId:r}),this.emit("chainChanged",r),this.emit("connect",{chainId:r}),this.config.chainConfig.chainId}async setupEngine(e){if(this.config.chainConfig.chainNamespace===Gt.EIP155)return this.setupEthEngine(e);if(this.config.chainConfig.chainNamespace===Gt.SOLANA)return this.setupSolEngine(e);throw new Error(`Unsupported chainNamespace: ${this.config.chainConfig.chainNamespace}`)}async setupEthEngine(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16),s=P5e({connector:e,chainId:n}),i=await gh(e);this.update({accounts:i||[]});const o=M5e(s),l=this.getEthChainSwitchMiddleware(),u=new ps,{networkMiddleware:d}=R5e(this.config.chainConfig);u.push(o),u.push(l),u.push(d);const p=dp(u);this.updateProviderEngineProxy(p)}async setupSolEngine(e){const{chainId:r}=this.config.chainConfig,n=O5e({connector:e,chainId:r}),s=await gh(e);this.update({accounts:s||[]});const i=qE(n),o=new ps,{networkMiddleware:l}=U$(this.config.chainConfig);o.push(i),o.push(l);const u=dp(o);this.updateProviderEngineProxy(u)}getEthChainSwitchMiddleware(){return A5e({addChain:async n=>{const{chainId:s,chainName:i,rpcUrls:o,blockExplorerUrls:l,nativeCurrency:u,iconUrls:d}=n;this.addChain({chainNamespace:Gt.EIP155,chainId:s,ticker:(u==null?void 0:u.symbol)||"ETH",tickerName:(u==null?void 0:u.name)||"Ether",displayName:i,rpcTarget:o[0],blockExplorerUrl:(l==null?void 0:l[0])||"",decimals:(u==null?void 0:u.decimals)||18,logo:(d==null?void 0:d[0])||"https://images.toruswallet.io/eth.svg"})},switchChain:async n=>{const{chainId:s}=n;await this.switchChain({chainId:s})}})}connectedTopic(){var e;if(!this.connector)throw Kt.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(e=e.session)!==null&&e!==void 0&&e.length){var r;const n=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[n]))===null||r===void 0?void 0:r.topic}}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=bj(r.namespaces);let s=!1;for(const o of n){var i;if(((i=wj(o).address)===null||i===void 0?void 0:i.toLowerCase())===(e==null?void 0:e.toLowerCase())){s=!0;break}}return s}async onConnectorStateUpdate(e){e.events.on("session_event",async r=>{if(xt.debug("session_event data",r),!this.provider)throw Kt.notConnectedError("Wallet connect connector is not connected");const{event:n}=r.params,{name:s,data:i}=n||{};if(s==="accountsChanged"&&i!==null&&i!==void 0&&i.length&&this.state.accounts[0]!==i[0]&&this.checkIfAccountAllowed(i[0])&&(this.update({accounts:i}),this.emit("accountsChanged",i)),n.name==="chainChanged"){if(!i)return;const l=`0x${i.toString(16)}`;if(l&&this.state.chainId!==l){const u=Uc(Gt.EIP155,l,this.clientId);this.configure({chainConfig:qe(qe({},u),{},{chainId:l,chainNamespace:Gt.EIP155})}),await this.setupEngine(e)}}})}}Cq=zy;Ve(zy,"getProviderInstance",async t=>{const e=new Cq({clientId:t.clientId,config:{chainConfig:t.chainConfig,skipLookupNetwork:t.skipLookupNetwork}});return await e.setupProvider(t.connector),e});class L5e extends DE{constructor(e={}){super(e),Ve(this,"name",br.WALLET_CONNECT_V2),Ve(this,"adapterNamespace",op.MULTICHAIN),Ve(this,"currentChainNamespace",Gt.OTHER),Ve(this,"type",Uo.EXTERNAL),Ve(this,"adapterOptions",{}),Ve(this,"status",gt.NOT_READY),Ve(this,"adapterData",{uri:""}),Ve(this,"connector",null),Ve(this,"activeSession",null),Ve(this,"wcProvider",null),this.adapterOptions=qe({},e),this.setAdapterSettings(e)}get connected(){return!!this.activeSession}get provider(){return this.status!==gt.NOT_READY&&this.wcProvider?this.wcProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var r,n,s;super.checkInitializationRequirements();const i=(r=this.adapterOptions.adapterSettings)===null||r===void 0||(r=r.walletConnectInitOptions)===null||r===void 0?void 0:r.projectId;if(!i)throw vt.invalidParams("Wallet connect project id is required in wallet connect v2 adapter");const o=await Xhe((n=this.chainConfig)===null||n===void 0?void 0:n.chainNamespace,[(s=this.chainConfig)===null||s===void 0?void 0:s.chainId],i);(!this.adapterOptions.loginSettings||Object.keys(this.adapterOptions.loginSettings).length===0)&&(this.adapterOptions.loginSettings=o.loginSettings),this.adapterOptions.adapterSettings=Jo(o.adapterSettings||{},this.adapterOptions.adapterSettings||{});const{adapterSettings:l}=this.adapterOptions;if(this.connector=await V4.init(l==null?void 0:l.walletConnectInitOptions),this.wcProvider=new zy({clientId:this.clientId,config:{chainConfig:this.chainConfig},connector:this.connector}),this.emit(Qt.READY,br.WALLET_CONNECT_V2),this.status=gt.READY,xt.debug("initializing wallet connect v2 adapter"),e.autoConnect)if(await this.checkForPersistedSession(),this.connected){this.rehydrated=!0;try{await this.onConnectHandler()}catch(u){xt.error("wallet auto connect",u),this.emit(Qt.ERRORED,u)}}else this.status=gt.NOT_READY,this.emit(Qt.CACHE_CLEAR)}async connect(){if(super.checkConnectionRequirements(),!this.connector)throw vt.notReady("Wallet adapter is not ready yet");try{return this.connected?(await this.onConnectHandler(),this.provider):(this.status!==gt.CONNECTING&&await this.createNewSession(),this.provider)}catch(e){throw xt.error("Wallet connect v2 adapter error while connecting",e),this.status=gt.READY,this.rehydrated=!0,this.emit(Qt.ERRORED,e),e instanceof Ic?e:Kt.connectionError(`Failed to login with wallet connect: ${(e==null?void 0:e.message)||""}`,e)}}setAdapterSettings(e){var r,n,s,i,o;super.setAdapterSettings(e);const{qrcodeModal:l,walletConnectInitOptions:u}=(e==null?void 0:e.adapterSettings)||{};this.adapterOptions=qe(qe({},this.adapterOptions),{},{adapterSettings:(r=(n=this.adapterOptions)===null||n===void 0?void 0:n.adapterSettings)!==null&&r!==void 0?r:{},loginSettings:(s=(i=this.adapterOptions)===null||i===void 0?void 0:i.loginSettings)!==null&&s!==void 0?s:{}}),l&&(this.adapterOptions.adapterSettings.qrcodeModal=l),u&&(this.adapterOptions.adapterSettings.walletConnectInitOptions=qe(qe({},(o=this.adapterOptions.adapterSettings.walletConnectInitOptions)!==null&&o!==void 0?o:{}),u));const{loginSettings:d}=e;d&&(this.adapterOptions.loginSettings=qe(qe({},this.adapterOptions.loginSettings||{}),d))}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),await((n=this.wcProvider)===null||n===void 0?void 0:n.addChain(e)),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.wcProvider)===null||n===void 0?void 0:n.switchChain({chainId:e.chainId})),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async getUserInfo(){if(!this.connected)throw Kt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(e={cleanup:!1,sessionRemovedByWallet:!1}){var r,n;const{cleanup:s}=e;if(!this.connector||!this.connected||!((r=this.activeSession)!==null&&r!==void 0&&r.topic))throw Kt.notConnectedError("Not connected with wallet");e.sessionRemovedByWallet||await this.connector.disconnect({topic:(n=this.activeSession)===null||n===void 0?void 0:n.topic,reason:jr("USER_DISCONNECTED")}),this.rehydrated=!1,s?(this.connector=null,this.status=gt.NOT_READY,this.wcProvider=null):this.status=gt.READY,this.activeSession=null,this.emit(Qt.DISCONNECTED)}async authenticateUser(){if(!this.provider||this.status!==gt.CONNECTED)throw Kt.notConnectedError();const{chainNamespace:e,chainId:r}=this.chainConfig,n=await this.provider.request({method:e===Gt.EIP155?"eth_accounts":"getAccounts"});if(n&&n.length>0){const s=g$(n[0],this.name);if(s&&!p$(s))return{idToken:s};const i={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},o=await u$(i,e),l=await this._getSignedMessage(o,n,e),u=await f$(e,l,o,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return m$(n[0],this.name,u),{idToken:u}}throw Kt.notConnectedError("Not connected with wallet, Please login/connect first")}async enableMFA(){throw new Error("Method Not implemented")}async manageMFA(){throw new Error("Method Not implemented")}cleanupPendingPairings(){if(!this.connector)throw vt.notReady("Wallet adapter is not ready yet");const e=this.connector.pairing.getAll({active:!1});Ed(e)&&e.forEach(r=>{this.connector&&this.connector.pairing.delete(r.topic,jr("USER_DISCONNECTED"))})}async checkForPersistedSession(){if(!this.connector)throw vt.notReady("Wallet adapter is not ready yet");if(this.connector.session.length){const e=this.connector.session.keys.length-1;this.activeSession=this.connector.session.get(this.connector.session.keys[e])}return this.activeSession}async createNewSession(e={forceNewSession:!1}){try{var r,n;if(!this.connector)throw vt.notReady("Wallet adapter is not ready yet");if(!this.adapterOptions.loginSettings||Object.keys(this.adapterOptions.loginSettings).length===0)throw vt.notReady("login settings are not set yet");if(this.status=gt.CONNECTING,this.emit(Qt.CONNECTING,{adapter:br.WALLET_CONNECT_V2}),e.forceNewSession&&(r=this.activeSession)!==null&&r!==void 0&&r.topic){var s;await this.connector.disconnect({topic:(s=this.activeSession)===null||s===void 0?void 0:s.topic,reason:jr("USER_DISCONNECTED")})}const{uri:o,approval:l}=await this.connector.connect(this.adapterOptions.loginSettings),u=(n=this.adapterOptions)===null||n===void 0||(n=n.adapterSettings)===null||n===void 0?void 0:n.qrcodeModal;if(o)if(u)try{await u.openModal({uri:o}),xt.debug("EVENT","QR Code Modal closed"),this.status=gt.READY,this.emit(Qt.READY,br.WALLET_CONNECT_V2)}catch{xt.error("unable to open qr code modal")}else this.updateAdapterData({uri:o});xt.info("awaiting session approval from wallet");const d=await l();this.activeSession=d,await this.onConnectHandler(),u&&u.closeModal()}catch(o){var i;if((i=o.message)!==null&&i!==void 0&&i.toLowerCase().includes("proposal expired")){if(xt.info("current adapter status: ",this.status),this.status===gt.CONNECTING)return xt.info("retrying to create new wallet connect session since proposal expired"),this.createNewSession({forceNewSession:!0});if(this.status===gt.READY){xt.info("ignoring proposal expired error since some other adapter is connected");return}}throw xt.error("error while creating new wallet connect session",o),this.emit(Qt.ERRORED,o),o}}async onConnectHandler(){var e;if(!this.connector||!this.wcProvider)throw vt.notReady("Wallet adapter is not ready yet");if(!this.chainConfig)throw vt.invalidParams("Chain config is not set");this.subscribeEvents(),(e=this.adapterOptions.adapterSettings)!==null&&e!==void 0&&e.qrcodeModal&&(this.wcProvider=new zy({clientId:this.clientId,config:{chainConfig:this.chainConfig,skipLookupNetwork:!0},connector:this.connector})),await this.wcProvider.setupProvider(this.connector),this.cleanupPendingPairings(),this.status=gt.CONNECTED,this.emit(Qt.CONNECTED,{adapter:br.WALLET_CONNECT_V2,reconnected:this.rehydrated,provider:this.provider})}subscribeEvents(){if(!this.connector)throw vt.notReady("Wallet adapter is not ready yet");this.connector.events.on("session_update",({topic:e,params:r})=>{if(!this.connector)return;const{namespaces:n}=r,s=this.connector.session.get(e),i=qe(qe({},s),{},{namespaces:n});this.activeSession=i}),this.connector.events.on("session_delete",()=>{this.disconnect({sessionRemovedByWallet:!0})})}async _getSignedMessage(e,r,n){const s=await this.provider.request({method:n===Gt.EIP155?"personal_sign":"signMessage",params:n===Gt.EIP155?[e,r[0]]:{message:Buffer.from(e)}});return n===Gt.SOLANA?P1.encode(s):s}}const Tq="solana:signAndSendTransaction",Pq="solana:signMessage",Oq="solana:signTransaction";var D5e=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},$5e=function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r},O1;let o0;const kw=new Set;function U5e(t){F0=void 0,kw.add(t)}function F5e(t){F0=void 0,kw.delete(t)}const eh={};function j5e(){if(o0||(o0=Object.freeze({register:_T,get:q5e,on:z5e}),typeof window>"u"))return o0;const t=Object.freeze({register:_T});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new H5e(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return o0}function _T(...t){var e;return t=t.filter(r=>!kw.has(r)),t.length?(t.forEach(r=>U5e(r)),(e=eh.register)==null||e.forEach(r=>ST(()=>r(...t))),function(){var n;t.forEach(s=>F5e(s)),(n=eh.unregister)==null||n.forEach(s=>ST(()=>s(...t)))}):()=>{}}let F0;function q5e(){return F0||(F0=[...kw]),F0}function z5e(t,e){var r;return(r=eh[t])!=null&&r.push(e)||(eh[t]=[e]),function(){var s;eh[t]=(s=eh[t])==null?void 0:s.filter(i=>e!==i)}}function ST(t){try{t()}catch(e){console.error(e)}}class H5e extends Event{get detail(){return D5e(this,O1,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),O1.set(this,void 0),$5e(this,O1,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}O1=new WeakMap;const Nq="standard:connect",K5e="standard:disconnect";function W5e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=n}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function p(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var M=0,A=0,I=0,k=_.length;I!==k&&_[I]===0;)I++,M++;for(var R=(k-I)*d+1>>>0,C=new Uint8Array(R);I!==k;){for(var P=_[I],N=0,U=R-1;(P!==0||N<A)&&U!==-1;U--,N++)P+=256*C[U]>>>0,C[U]=P%o>>>0,P=P/o>>>0;if(P!==0)throw new Error("Non-zero carry");A=N,I++}for(var q=R-A;q!==R&&C[q]===0;)q++;for(var F=l.repeat(M);q<R;++q)F+=t.charAt(C[q]);return F}function v(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var M=0,A=0,I=0;_[M]===l;)A++,M++;for(var k=(_.length-M)*u+1>>>0,R=new Uint8Array(k);_[M];){var C=_.charCodeAt(M);if(C>255)return;var P=e[C];if(P===255)return;for(var N=0,U=k-1;(P!==0||N<I)&&U!==-1;U--,N++)P+=o*R[U]>>>0,R[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");I=N,M++}for(var q=k-I;q!==k&&R[q]===0;)q++;for(var F=new Uint8Array(A+(k-q)),L=A;q!==k;)F[L++]=R[q++];return F}function b(_){var M=v(_);if(M)return M;throw new Error("Non-base"+o+" character")}return{encode:p,decodeUnsafe:v,decode:b}}var V5e=W5e;const G5e=V5e,Y5e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Z5e=G5e(Y5e);const J5e=Zn(Z5e);class X5e extends DE{async init(e){this.chainConfig||(this.chainConfig=Uc(Gt.SOLANA,1,this.clientId))}async authenticateUser(){if(!this.provider||this.status!==gt.CONNECTED)throw Kt.notConnectedError();const{chainNamespace:e,chainId:r}=this.chainConfig,n=await this.provider.request({method:"getAccounts"});if(n&&n.length>0){const s=g$(n[0],this.name);if(s&&!p$(s))return{idToken:s};const i={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},o=await u$(i,e),l=new TextEncoder().encode(o),u=await this.provider.request({method:"signMessage",params:{message:l,display:"utf8"}}),d=await f$(e,J5e.encode(u),o,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return m$(n[0],this.name,d),{idToken:d}}throw Kt.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"getAccounts"});e&&e.length>0&&Mse(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(Qt.DISCONNECTED)}}const ET=t=>{switch(t.chainId){case"0x65":return"solana:mainnet";case"0x66":return"solana:testnet";case"0x67":return"solana:devnet";default:return null}};class Q5e extends Fc{constructor({wallet:e,getCurrentChain:r}){super(),Ve(this,"wallet",null),Ve(this,"getCurrentChain",void 0),this.wallet=e,this.getCurrentChain=r}get currentAccount(){var e;const r=(e=this.wallet)===null||e===void 0?void 0:e.accounts[0];if(!r)throw Kt.notConnectedError();return r}get publicKey(){return new Qe(this.currentAccount.publicKey)}async signMessage(e){const r=this.currentAccount;return{signature:(await this.wallet.features[Pq].signMessage({account:r,message:e}))[0].signature,publicKey:new u6(Buffer.from(r.publicKey))}}async signTransaction(e){const r=this.currentAccount,n=await this.wallet.features[Oq].signTransaction({account:r,transaction:e.serialize({requireAllSignatures:!1}),chain:this.getCurrentChain()});return e.version!==void 0||e instanceof js?js.deserialize(n[0].signedTransaction):gr.from(n[0].signedTransaction)}async signAllTransactions(e){return Promise.all(e.map(r=>this.signTransaction(r)))}async signAndSendTransaction(e){const r=this.currentAccount,n=await this.wallet.features[Tq].signAndSendTransaction({account:r,transaction:e.serialize({requireAllSignatures:!1}),chain:this.getCurrentChain()}),[{signature:s}]=n;return{signature:new TextDecoder().decode(s)}}}class eSe extends X5e{constructor(e){super(e),Ve(this,"name",void 0),Ve(this,"adapterNamespace",op.SOLANA),Ve(this,"currentChainNamespace",Gt.SOLANA),Ve(this,"type",Uo.EXTERNAL),Ve(this,"isInjected",!0),Ve(this,"status",gt.NOT_READY),Ve(this,"wallet",null),Ve(this,"injectedProvider",null),this.name=e.name,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(e.wallet):e.wallet}get provider(){return this.status!==gt.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return this.status===gt.CONNECTED&&this.wallet.accounts.length>0}async init(e={}){await super.init(e),super.checkInitializationRequirements(),this.injectedProvider=new Cae({config:{chainConfig:this.chainConfig}});const r=new Q5e({wallet:this.wallet,getCurrentChain:()=>ET(this.chainConfig)});this.injectedProvider.setupProvider(r),this.status=gt.READY,this.emit(Qt.READY,this.name);try{xt.debug("initializing solana injected adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(n){xt.error("Failed to connect with cached solana injected provider",n),this.emit(Qt.ERRORED,n)}}async connect(){try{super.checkConnectionRequirements(),this.status=gt.CONNECTING,this.emit(Qt.CONNECTING,{adapter:this.name});const e=ET(this.chainConfig);if(!this.wallet.chains.find(r=>r===e))throw Kt.connectionError(`Chain ${e} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[Nq].connect(),this.wallet.accounts.length===0)throw Kt.connectionError();return this.status=gt.CONNECTED,this.emit(Qt.CONNECTED,{adapter:this.name,reconnected:this.rehydrated,provider:this.provider}),this.provider}catch(e){throw this.status=gt.READY,this.rehydrated=!1,this.emit(Qt.ERRORED,e),e}}async disconnect(e={cleanup:!1}){await super.disconnectSession();try{var r;await((r=this.wallet.features[K5e])===null||r===void 0?void 0:r.disconnect()),e.cleanup?(this.status=gt.NOT_READY,this.injectedProvider=null):this.status=gt.READY,await super.disconnect()}catch(n){this.emit(Qt.ERRORED,Kt.disconnectionError(n==null?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw Kt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),(n=this.injectedProvider)===null||n===void 0||n.addChain(e),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.injectedProvider)===null||n===void 0?void 0:n.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async enableMFA(){throw new Error("Method not implemented.")}async manageMFA(){throw new Error("Method Not implemented")}}const tSe=t=>{const{options:e}=t,{clientId:r,chainConfig:n,sessionTime:s,web3AuthNetwork:i,useCoreKitKey:o}=e;if(!Object.values(Gt).includes(n.chainNamespace))throw vt.invalidParams(`Invalid chainNamespace: ${n.chainNamespace}`);const l=qe(qe({},Uc(n.chainNamespace,n==null?void 0:n.chainId,r)),n||{}),u=[];return j5e().get().forEach(p=>{const{name:v,chains:b,features:_}=p;!b.some(I=>I.startsWith("solana"))||![Nq,Pq,Oq,Tq].every(I=>Object.keys(_).includes(I))||u.push(new eSe({name:Ese(v),wallet:p,chainConfig:l,clientId:r,sessionTime:s,web3AuthNetwork:i,useCoreKitKey:o}))}),u},rSe=t=>{const{options:e}=t,{clientId:r,chainConfig:n,sessionTime:s,web3AuthNetwork:i,useCoreKitKey:o}=e;if(!Object.values(Gt).includes(n.chainNamespace))throw vt.invalidParams(`Invalid chainNamespace: ${n.chainNamespace}`);const l=qe(qe({},Uc(n.chainNamespace,n==null?void 0:n.chainId,r)),n||{}),u=new L5e({chainConfig:l,clientId:r,sessionTime:s,web3AuthNetwork:i,useCoreKitKey:o,adapterSettings:{walletConnectInitOptions:{}}});return[...tSe({options:e}),u]};function Bq(t,e){return function(){return t.apply(e,arguments)}}const{toString:nSe}=Object.prototype,{getPrototypeOf:G4}=Object,{iterator:Iw,toStringTag:Lq}=Symbol,Rw=(t=>e=>{const r=nSe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ta=t=>(t=t.toLowerCase(),e=>Rw(e)===t),Cw=t=>e=>typeof e===t,{isArray:Md}=Array,Pp=Cw("undefined");function iSe(t){return t!==null&&!Pp(t)&&t.constructor!==null&&!Pp(t.constructor)&&As(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Dq=ta("ArrayBuffer");function sSe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Dq(t.buffer),e}const oSe=Cw("string"),As=Cw("function"),$q=Cw("number"),Tw=t=>t!==null&&typeof t=="object",aSe=t=>t===!0||t===!1,N1=t=>{if(Rw(t)!=="object")return!1;const e=G4(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Lq in t)&&!(Iw in t)},lSe=ta("Date"),cSe=ta("File"),uSe=ta("Blob"),fSe=ta("FileList"),hSe=t=>Tw(t)&&As(t.pipe),dSe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||As(t.append)&&((e=Rw(t))==="formdata"||e==="object"&&As(t.toString)&&t.toString()==="[object FormData]"))},pSe=ta("URLSearchParams"),[gSe,mSe,ySe,vSe]=["ReadableStream","Request","Response","Headers"].map(ta),wSe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _g(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Md(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(n=0;n<o;n++)l=i[n],e.call(null,t[l],l,t)}}function Uq(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const ku=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Fq=t=>!Pp(t)&&t!==ku;function q5(){const{caseless:t}=Fq(this)&&this||{},e={},r=(n,s)=>{const i=t&&Uq(e,s)||s;N1(e[i])&&N1(n)?e[i]=q5(e[i],n):N1(n)?e[i]=q5({},n):Md(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&_g(arguments[n],r);return e}const bSe=(t,e,r,{allOwnKeys:n}={})=>(_g(e,(s,i)=>{r&&As(s)?t[i]=Bq(s,r):t[i]=s},{allOwnKeys:n}),t),xSe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_Se=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},SSe=(t,e,r,n)=>{let s,i,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&G4(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},ESe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},MSe=t=>{if(!t)return null;if(Md(t))return t;let e=t.length;if(!$q(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},ASe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&G4(Uint8Array)),kSe=(t,e)=>{const n=(t&&t[Iw]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},ISe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},RSe=ta("HTMLFormElement"),CSe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),MT=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),TSe=ta("RegExp"),jq=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};_g(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},PSe=t=>{jq(t,(e,r)=>{if(As(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(As(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},OSe=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Md(t)?n(t):n(String(t).split(e)),r},NSe=()=>{},BSe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function LSe(t){return!!(t&&As(t.append)&&t[Lq]==="FormData"&&t[Iw])}const DSe=t=>{const e=new Array(10),r=(n,s)=>{if(Tw(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=Md(n)?[]:{};return _g(n,(o,l)=>{const u=r(o,s+1);!Pp(u)&&(i[l]=u)}),e[s]=void 0,i}}return n};return r(t,0)},$Se=ta("AsyncFunction"),USe=t=>t&&(Tw(t)||As(t))&&As(t.then)&&As(t.catch),qq=((t,e)=>t?setImmediate:e?((r,n)=>(ku.addEventListener("message",({source:s,data:i})=>{s===ku&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ku.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",As(ku.postMessage)),FSe=typeof queueMicrotask<"u"?queueMicrotask.bind(ku):typeof process<"u"&&process.nextTick||qq,jSe=t=>t!=null&&As(t[Iw]),We={isArray:Md,isArrayBuffer:Dq,isBuffer:iSe,isFormData:dSe,isArrayBufferView:sSe,isString:oSe,isNumber:$q,isBoolean:aSe,isObject:Tw,isPlainObject:N1,isReadableStream:gSe,isRequest:mSe,isResponse:ySe,isHeaders:vSe,isUndefined:Pp,isDate:lSe,isFile:cSe,isBlob:uSe,isRegExp:TSe,isFunction:As,isStream:hSe,isURLSearchParams:pSe,isTypedArray:ASe,isFileList:fSe,forEach:_g,merge:q5,extend:bSe,trim:wSe,stripBOM:xSe,inherits:_Se,toFlatObject:SSe,kindOf:Rw,kindOfTest:ta,endsWith:ESe,toArray:MSe,forEachEntry:kSe,matchAll:ISe,isHTMLForm:RSe,hasOwnProperty:MT,hasOwnProp:MT,reduceDescriptors:jq,freezeMethods:PSe,toObjectSet:OSe,toCamelCase:CSe,noop:NSe,toFiniteNumber:BSe,findKey:Uq,global:ku,isContextDefined:Fq,isSpecCompliantForm:LSe,toJSONObject:DSe,isAsyncFn:$Se,isThenable:USe,setImmediate:qq,asap:FSe,isIterable:jSe};function sr(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}We.inherits(sr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});const zq=sr.prototype,Hq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Hq[t]={value:t}});Object.defineProperties(sr,Hq);Object.defineProperty(zq,"isAxiosError",{value:!0});sr.from=(t,e,r,n,s,i)=>{const o=Object.create(zq);return We.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),sr.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const qSe=null;function z5(t){return We.isPlainObject(t)||We.isArray(t)}function Kq(t){return We.endsWith(t,"[]")?t.slice(0,-2):t}function AT(t,e,r){return t?t.concat(e).map(function(s,i){return s=Kq(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function zSe(t){return We.isArray(t)&&!t.some(z5)}const HSe=We.toFlatObject(We,{},null,function(e){return/^is[A-Z]/.test(e)});function Pw(t,e,r){if(!We.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=We.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,I){return!We.isUndefined(I[A])});const n=r.metaTokens,s=r.visitor||p,i=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(e);if(!We.isFunction(s))throw new TypeError("visitor must be a function");function d(M){if(M===null)return"";if(We.isDate(M))return M.toISOString();if(!u&&We.isBlob(M))throw new sr("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(M)||We.isTypedArray(M)?u&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function p(M,A,I){let k=M;if(M&&!I&&typeof M=="object"){if(We.endsWith(A,"{}"))A=n?A:A.slice(0,-2),M=JSON.stringify(M);else if(We.isArray(M)&&zSe(M)||(We.isFileList(M)||We.endsWith(A,"[]"))&&(k=We.toArray(M)))return A=Kq(A),k.forEach(function(C,P){!(We.isUndefined(C)||C===null)&&e.append(o===!0?AT([A],P,i):o===null?A:A+"[]",d(C))}),!1}return z5(M)?!0:(e.append(AT(I,A,i),d(M)),!1)}const v=[],b=Object.assign(HSe,{defaultVisitor:p,convertValue:d,isVisitable:z5});function _(M,A){if(!We.isUndefined(M)){if(v.indexOf(M)!==-1)throw Error("Circular reference detected in "+A.join("."));v.push(M),We.forEach(M,function(k,R){(!(We.isUndefined(k)||k===null)&&s.call(e,k,We.isString(R)?R.trim():R,A,b))===!0&&_(k,A?A.concat(R):[R])}),v.pop()}}if(!We.isObject(t))throw new TypeError("data must be an object");return _(t),e}function kT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Y4(t,e){this._pairs=[],t&&Pw(t,this,e)}const Wq=Y4.prototype;Wq.append=function(e,r){this._pairs.push([e,r])};Wq.toString=function(e){const r=e?function(n){return e.call(this,n,kT)}:kT;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function KSe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vq(t,e,r){if(!e)return t;const n=r&&r.encode||KSe;We.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=We.isURLSearchParams(e)?e.toString():new Y4(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class IT{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){We.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Gq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WSe=typeof URLSearchParams<"u"?URLSearchParams:Y4,VSe=typeof FormData<"u"?FormData:null,GSe=typeof Blob<"u"?Blob:null,YSe={isBrowser:!0,classes:{URLSearchParams:WSe,FormData:VSe,Blob:GSe},protocols:["http","https","file","blob","url","data"]},Z4=typeof window<"u"&&typeof document<"u",H5=typeof navigator=="object"&&navigator||void 0,ZSe=Z4&&(!H5||["ReactNative","NativeScript","NS"].indexOf(H5.product)<0),JSe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",XSe=Z4&&window.location.href||"http://localhost",QSe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Z4,hasStandardBrowserEnv:ZSe,hasStandardBrowserWebWorkerEnv:JSe,navigator:H5,origin:XSe},Symbol.toStringTag,{value:"Module"})),Gi={...QSe,...YSe};function eEe(t,e){return Pw(t,new Gi.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return Gi.isNode&&We.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function tEe(t){return We.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rEe(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function Yq(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=i>=r.length;return o=!o&&We.isArray(s)?s.length:o,u?(We.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!We.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&We.isArray(s[o])&&(s[o]=rEe(s[o])),!l)}if(We.isFormData(t)&&We.isFunction(t.entries)){const r={};return We.forEachEntry(t,(n,s)=>{e(tEe(n),s,r,0)}),r}return null}function nEe(t,e,r){if(We.isString(t))try{return(e||JSON.parse)(t),We.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Sg={transitional:Gq,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=We.isObject(e);if(i&&We.isHTMLForm(e)&&(e=new FormData(e)),We.isFormData(e))return s?JSON.stringify(Yq(e)):e;if(We.isArrayBuffer(e)||We.isBuffer(e)||We.isStream(e)||We.isFile(e)||We.isBlob(e)||We.isReadableStream(e))return e;if(We.isArrayBufferView(e))return e.buffer;if(We.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return eEe(e,this.formSerializer).toString();if((l=We.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Pw(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),nEe(e)):e}],transformResponse:[function(e){const r=this.transitional||Sg.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(We.isResponse(e)||We.isReadableStream(e))return e;if(e&&We.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?sr.from(l,sr.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gi.classes.FormData,Blob:Gi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],t=>{Sg.headers[t]={}});const iEe=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sEe=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&iEe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},RT=Symbol("internals");function a0(t){return t&&String(t).trim().toLowerCase()}function B1(t){return t===!1||t==null?t:We.isArray(t)?t.map(B1):String(t)}function oEe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const aEe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function a_(t,e,r,n,s){if(We.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!We.isString(e)){if(We.isString(n))return e.indexOf(n)!==-1;if(We.isRegExp(n))return n.test(e)}}function lEe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function cEe(t,e){const r=We.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let ks=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(l,u,d){const p=a0(u);if(!p)throw new Error("header name must be a non-empty string");const v=We.findKey(s,p);(!v||s[v]===void 0||d===!0||d===void 0&&s[v]!==!1)&&(s[v||u]=B1(l))}const o=(l,u)=>We.forEach(l,(d,p)=>i(d,p,u));if(We.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(We.isString(e)&&(e=e.trim())&&!aEe(e))o(sEe(e),r);else if(We.isObject(e)&&We.isIterable(e)){let l={},u,d;for(const p of e){if(!We.isArray(p))throw TypeError("Object iterator must return a key-value pair");l[d=p[0]]=(u=l[d])?We.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}o(l,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=a0(e),e){const n=We.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return oEe(s);if(We.isFunction(r))return r.call(this,s,n);if(We.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=a0(e),e){const n=We.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||a_(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=a0(o),o){const l=We.findKey(n,o);l&&(!r||a_(n,n[l],l,r))&&(delete n[l],s=!0)}}return We.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||a_(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return We.forEach(this,(s,i)=>{const o=We.findKey(n,i);if(o){r[o]=B1(s),delete r[i];return}const l=e?lEe(i):String(i).trim();l!==i&&delete r[i],r[l]=B1(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return We.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&We.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[RT]=this[RT]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=a0(o);n[l]||(cEe(s,o),n[l]=!0)}return We.isArray(e)?e.forEach(i):i(e),this}};ks.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(ks.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});We.freezeMethods(ks);function l_(t,e){const r=this||Sg,n=e||r,s=ks.from(n.headers);let i=n.data;return We.forEach(t,function(l){i=l.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Zq(t){return!!(t&&t.__CANCEL__)}function Ad(t,e,r){sr.call(this,t??"canceled",sr.ERR_CANCELED,e,r),this.name="CanceledError"}We.inherits(Ad,sr,{__CANCEL__:!0});function Jq(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new sr("Request failed with status code "+r.status,[sr.ERR_BAD_REQUEST,sr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uEe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fEe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),p=n[i];o||(o=d),r[s]=u,n[s]=d;let v=i,b=0;for(;v!==s;)b+=r[v++],v=v%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),d-o<e)return;const _=p&&d-p;return _?Math.round(b*1e3/_):void 0}}function hEe(t,e){let r=0,n=1e3/e,s,i;const o=(d,p=Date.now())=>{r=p,s=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const p=Date.now(),v=p-r;v>=n?o(d,p):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},n-v)))},()=>s&&o(s)]}const Hy=(t,e,r=3)=>{let n=0;const s=fEe(50,250);return hEe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,u=o-n,d=s(u),p=o<=l;n=o;const v={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&p?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(v)},r)},CT=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},TT=t=>(...e)=>We.asap(()=>t(...e)),dEe=Gi.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Gi.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Gi.origin),Gi.navigator&&/(msie|trident)/i.test(Gi.navigator.userAgent)):()=>!0,pEe=Gi.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const o=[t+"="+encodeURIComponent(e)];We.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),We.isString(n)&&o.push("path="+n),We.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gEe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mEe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Xq(t,e,r){let n=!gEe(e);return t&&(n||r==!1)?mEe(t,e):e}const PT=t=>t instanceof ks?{...t}:t;function Qu(t,e){e=e||{};const r={};function n(d,p,v,b){return We.isPlainObject(d)&&We.isPlainObject(p)?We.merge.call({caseless:b},d,p):We.isPlainObject(p)?We.merge({},p):We.isArray(p)?p.slice():p}function s(d,p,v,b){if(We.isUndefined(p)){if(!We.isUndefined(d))return n(void 0,d,v,b)}else return n(d,p,v,b)}function i(d,p){if(!We.isUndefined(p))return n(void 0,p)}function o(d,p){if(We.isUndefined(p)){if(!We.isUndefined(d))return n(void 0,d)}else return n(void 0,p)}function l(d,p,v){if(v in e)return n(d,p);if(v in t)return n(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,p,v)=>s(PT(d),PT(p),v,!0)};return We.forEach(Object.keys(Object.assign({},t,e)),function(p){const v=u[p]||s,b=v(t[p],e[p],p);We.isUndefined(b)&&v!==l||(r[p]=b)}),r}const Qq=t=>{const e=Qu({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=ks.from(o),e.url=Vq(Xq(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(We.isFormData(r)){if(Gi.hasStandardBrowserEnv||Gi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...p]=u?u.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...p].join("; "))}}if(Gi.hasStandardBrowserEnv&&(n&&We.isFunction(n)&&(n=n(e)),n||n!==!1&&dEe(e.url))){const d=s&&i&&pEe.read(i);d&&o.set(s,d)}return e},yEe=typeof XMLHttpRequest<"u",vEe=yEe&&function(t){return new Promise(function(r,n){const s=Qq(t);let i=s.data;const o=ks.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=s,p,v,b,_,M;function A(){_&&_(),M&&M(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let I=new XMLHttpRequest;I.open(s.method.toUpperCase(),s.url,!0),I.timeout=s.timeout;function k(){if(!I)return;const C=ks.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:C,config:t,request:I};Jq(function(q){r(q),A()},function(q){n(q),A()},N),I=null}"onloadend"in I?I.onloadend=k:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(k)},I.onabort=function(){I&&(n(new sr("Request aborted",sr.ECONNABORTED,t,I)),I=null)},I.onerror=function(){n(new sr("Network Error",sr.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||Gq;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),n(new sr(P,N.clarifyTimeoutError?sr.ETIMEDOUT:sr.ECONNABORTED,t,I)),I=null},i===void 0&&o.setContentType(null),"setRequestHeader"in I&&We.forEach(o.toJSON(),function(P,N){I.setRequestHeader(N,P)}),We.isUndefined(s.withCredentials)||(I.withCredentials=!!s.withCredentials),l&&l!=="json"&&(I.responseType=s.responseType),d&&([b,M]=Hy(d,!0),I.addEventListener("progress",b)),u&&I.upload&&([v,_]=Hy(u),I.upload.addEventListener("progress",v),I.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(p=C=>{I&&(n(!C||C.type?new Ad(null,t,I):C),I.abort(),I=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const R=uEe(s.url);if(R&&Gi.protocols.indexOf(R)===-1){n(new sr("Unsupported protocol "+R+":",sr.ERR_BAD_REQUEST,t));return}I.send(i||null)})},wEe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,l();const p=d instanceof Error?d:this.reason;n.abort(p instanceof sr?p:new Ad(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,i(new sr(`timeout ${e} of ms exceeded`,sr.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>We.asap(l),u}},bEe=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},xEe=async function*(t,e){for await(const r of _Ee(t))yield*bEe(r,e)},_Ee=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},OT=(t,e,r,n)=>{const s=xEe(t,e);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:p}=await s.next();if(d){l(),u.close();return}let v=p.byteLength;if(r){let b=i+=v;r(b)}u.enqueue(new Uint8Array(p))}catch(d){throw l(d),d}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Ow=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ez=Ow&&typeof ReadableStream=="function",SEe=Ow&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),tz=(t,...e)=>{try{return!!t(...e)}catch{return!1}},EEe=ez&&tz(()=>{let t=!1;const e=new Request(Gi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),NT=64*1024,K5=ez&&tz(()=>We.isReadableStream(new Response("").body)),Ky={stream:K5&&(t=>t.body)};Ow&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ky[e]&&(Ky[e]=We.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new sr(`Response type '${e}' is not supported`,sr.ERR_NOT_SUPPORT,n)})})})(new Response);const MEe=async t=>{if(t==null)return 0;if(We.isBlob(t))return t.size;if(We.isSpecCompliantForm(t))return(await new Request(Gi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(We.isArrayBufferView(t)||We.isArrayBuffer(t))return t.byteLength;if(We.isURLSearchParams(t)&&(t=t+""),We.isString(t))return(await SEe(t)).byteLength},AEe=async(t,e)=>{const r=We.toFiniteNumber(t.getContentLength());return r??MEe(e)},kEe=Ow&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:p,withCredentials:v="same-origin",fetchOptions:b}=Qq(t);d=d?(d+"").toLowerCase():"text";let _=wEe([s,i&&i.toAbortSignal()],o),M;const A=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let I;try{if(u&&EEe&&r!=="get"&&r!=="head"&&(I=await AEe(p,n))!==0){let N=new Request(e,{method:"POST",body:n,duplex:"half"}),U;if(We.isFormData(n)&&(U=N.headers.get("content-type"))&&p.setContentType(U),N.body){const[q,F]=CT(I,Hy(TT(u)));n=OT(N.body,NT,q,F)}}We.isString(v)||(v=v?"include":"omit");const k="credentials"in Request.prototype;M=new Request(e,{...b,signal:_,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:k?v:void 0});let R=await fetch(M);const C=K5&&(d==="stream"||d==="response");if(K5&&(l||C&&A)){const N={};["status","statusText","headers"].forEach(L=>{N[L]=R[L]});const U=We.toFiniteNumber(R.headers.get("content-length")),[q,F]=l&&CT(U,Hy(TT(l),!0))||[];R=new Response(OT(R.body,NT,q,()=>{F&&F(),A&&A()}),N)}d=d||"text";let P=await Ky[We.findKey(Ky,d)||"text"](R,t);return!C&&A&&A(),await new Promise((N,U)=>{Jq(N,U,{data:P,headers:ks.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:M})})}catch(k){throw A&&A(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new sr("Network Error",sr.ERR_NETWORK,t,M),{cause:k.cause||k}):sr.from(k,k&&k.code,t,M)}}),W5={http:qSe,xhr:vEe,fetch:kEe};We.forEach(W5,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const BT=t=>`- ${t}`,IEe=t=>We.isFunction(t)||t===null||t===!1,rz={getAdapter:t=>{t=We.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let o;if(n=r,!IEe(r)&&(n=W5[(o=String(r)).toLowerCase()],n===void 0))throw new sr(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(BT).join(`
`):" "+BT(i[0]):"as no adapter specified";throw new sr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:W5};function c_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ad(null,t)}function LT(t){return c_(t),t.headers=ks.from(t.headers),t.data=l_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rz.getAdapter(t.adapter||Sg.adapter)(t).then(function(n){return c_(t),n.data=l_.call(t,t.transformResponse,n),n.headers=ks.from(n.headers),n},function(n){return Zq(n)||(c_(t),n&&n.response&&(n.response.data=l_.call(t,t.transformResponse,n.response),n.response.headers=ks.from(n.response.headers))),Promise.reject(n)})}const nz="1.9.0",Nw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Nw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const DT={};Nw.transitional=function(e,r,n){function s(i,o){return"[Axios v"+nz+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(e===!1)throw new sr(s(o," has been removed"+(r?" in "+r:"")),sr.ERR_DEPRECATED);return r&&!DT[o]&&(DT[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,l):!0}};Nw.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function REe(t,e,r){if(typeof t!="object")throw new sr("options must be an object",sr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const l=t[i],u=l===void 0||o(l,i,t);if(u!==!0)throw new sr("option "+i+" must be "+u,sr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new sr("Unknown option "+i,sr.ERR_BAD_OPTION)}}const L1={assertOptions:REe,validators:Nw},fa=L1.validators;let Du=class{constructor(e){this.defaults=e||{},this.interceptors={request:new IT,response:new IT}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Qu(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&L1.assertOptions(n,{silentJSONParsing:fa.transitional(fa.boolean),forcedJSONParsing:fa.transitional(fa.boolean),clarifyTimeoutError:fa.transitional(fa.boolean)},!1),s!=null&&(We.isFunction(s)?r.paramsSerializer={serialize:s}:L1.assertOptions(s,{encode:fa.function,serialize:fa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),L1.assertOptions(r,{baseUrl:fa.spelling("baseURL"),withXsrfToken:fa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&We.merge(i.common,i[r.method]);i&&We.forEach(["delete","get","head","post","put","patch","common"],M=>{delete i[M]}),r.headers=ks.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(u=u&&A.synchronous,l.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let p,v=0,b;if(!u){const M=[LT.bind(this),void 0];for(M.unshift.apply(M,l),M.push.apply(M,d),b=M.length,p=Promise.resolve(r);v<b;)p=p.then(M[v++],M[v++]);return p}b=l.length;let _=r;for(v=0;v<b;){const M=l[v++],A=l[v++];try{_=M(_)}catch(I){A.call(this,I);break}}try{p=LT.call(this,_)}catch(M){return Promise.reject(M)}for(v=0,b=d.length;v<b;)p=p.then(d[v++],d[v++]);return p}getUri(e){e=Qu(this.defaults,e);const r=Xq(e.baseURL,e.url,e.allowAbsoluteUrls);return Vq(r,e.params,e.paramsSerializer)}};We.forEach(["delete","get","head","options"],function(e){Du.prototype[e]=function(r,n){return this.request(Qu(n||{},{method:e,url:r,data:(n||{}).data}))}});We.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,l){return this.request(Qu(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Du.prototype[e]=r(),Du.prototype[e+"Form"]=r(!0)});let CEe=class iz{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,l){n.reason||(n.reason=new Ad(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new iz(function(s){e=s}),cancel:e}}};function TEe(t){return function(r){return t.apply(null,r)}}function PEe(t){return We.isObject(t)&&t.isAxiosError===!0}const V5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(V5).forEach(([t,e])=>{V5[e]=t});function sz(t){const e=new Du(t),r=Bq(Du.prototype.request,e);return We.extend(r,Du.prototype,e,{allOwnKeys:!0}),We.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return sz(Qu(t,s))},r}const Cn=sz(Sg);Cn.Axios=Du;Cn.CanceledError=Ad;Cn.CancelToken=CEe;Cn.isCancel=Zq;Cn.VERSION=nz;Cn.toFormData=Pw;Cn.AxiosError=sr;Cn.Cancel=Cn.CanceledError;Cn.all=function(e){return Promise.all(e)};Cn.spread=TEe;Cn.isAxiosError=PEe;Cn.mergeConfig=Qu;Cn.AxiosHeaders=ks;Cn.formToJSON=t=>Yq(We.isHTMLForm(t)?new FormData(t):t);Cn.getAdapter=rz.getAdapter;Cn.HttpStatusCode=V5;Cn.default=Cn;const{Axios:G4e,AxiosError:Y4e,CanceledError:Z4e,isCancel:J4e,CancelToken:X4e,VERSION:Q4e,all:e8e,Cancel:t8e,isAxiosError:r8e,spread:n8e,toFormData:i8e,AxiosHeaders:s8e,HttpStatusCode:o8e,formToJSON:a8e,getAdapter:l8e,mergeConfig:c8e}=Cn,$T="/api";class OEe{async getUsers(){try{return(await Cn.get(`${$T}/users`,{headers:{accept:"application/json"}})).data}catch(e){throw console.error("Error fetching users:",e),e}}async getUserByWalletAddress(e){try{return(await Cn.get(`${$T}/users/wallet/${e}`,{headers:{accept:"application/json"}})).data}catch(r){throw console.error(`Error fetching user with wallet address ${e}:`,r),r}}}const NEe=new OEe,UT="BPi5PB_UiIZ-cPz1GtV5i1I2iOSOHuimiXBI0e-Oe_u6X3oVAbCiAZOTEBtTXw4tsluTITPqA8zMsfxIKMjiqNQ";function BEe(){const[t,e]=Ae.useState(null),[r,n]=Ae.useState(null),[s,i]=Ae.useState(!1),[o,l]=Ae.useState(!0),[u,d]=Ae.useState("Loading wallet information..."),[p,v]=Ae.useState(""),[b,_]=Ae.useState(""),[M,A]=Ae.useState("0"),[I,k]=Ae.useState(null),[R,C]=Ae.useState(null),[P,N]=Ae.useState(!1),[U,q]=Ae.useState(null),F=ZS(3),L=te=>(parseFloat(te)/1e9).toFixed(4);Ae.useEffect(()=>{(async()=>{try{l(!0);const G=new fw({config:{chainConfig:F}}),j=new D$({clientId:UT,uiConfig:{appName:"Solana App",mode:"light",logoLight:"https://web3auth.io/images/web3authlog.png",logoDark:"https://web3auth.io/images/web3authlogodark.png",defaultLanguage:"en",loginGridCol:3,primaryButton:"externalLogin",uxMode:"redirect"},web3AuthNetwork:El.SAPPHIRE_MAINNET,privateKeyProvider:G});if(rSe({options:{clientId:UT,chainConfig:F}}).forEach(oe=>{j.configureAdapter(oe)}),e(j),await j.initModal({modalConfig:{[br.AUTH]:{label:"auth",loginMethods:{facebook:{name:"facebook",showOnModal:!1},reddit:{name:"reddit",showOnModal:!1},twitch:{name:"twitch",showOnModal:!1},line:{name:"line",showOnModal:!1},kakao:{name:"kakao",showOnModal:!1},linkedin:{name:"linkedin",showOnModal:!1},twitter:{name:"twitter",showOnModal:!1},weibo:{name:"weibo",showOnModal:!1},wechat:{name:"wechat",showOnModal:!1},farcaster:{name:"farcaster",showOnModal:!1},email_passwordless:{name:"email-passwordless",showOnModal:!0},sms_passwordless:{name:"sms-passwordless",showOnModal:!0}},showOnModal:!0}}}),j.connected){if(i(!0),n(j.provider),j.provider){const ae=new so(j.provider),he=await ae.getAccounts();v(he[0]);try{const Oe=await ae.getBalance();_(Oe),A(L(Oe))}catch(Oe){console.error("Error fetching balance:",Oe)}}const oe={chainId:F.chainId,displayName:F.displayName,ticker:F.ticker,tickerName:F.tickerName};k(oe),d("Wallet connected successfully. Select an action below.")}l(!1)}catch(G){console.error(G),l(!1)}})()},[]);const ie=async()=>{if(!t){$("web3auth not initialized yet");return}const te=await t.connect();if(t.connected){if(i(!0),n(te),te){const j=new so(te),W=await j.getAccounts();v(W[0]);try{const oe=await j.getBalance();_(oe),A(L(oe))}catch(oe){console.error("Error fetching balance:",oe)}}const G={chainId:F.chainId,displayName:F.displayName,ticker:F.ticker,tickerName:F.tickerName};k(G)}},E=async()=>{if(!t){$("web3auth not initialized yet");return}await t.logout(),n(null),i(!1),v(""),_(""),A("0"),k(null)},a=async()=>{if(!t){$("web3auth not initialized yet");return}const te=await t.getUserInfo();$(te)},f=async()=>{if(!t){$("web3auth not initialized yet");return}const te=await t.authenticateUser();$(te)},h=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).getAccounts();v(G[0]),$(G)},g=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).getBalance();_(G),A(L(G)),$(`Balance: ${L(G)} SOL`)},y=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).sendTransaction();$(G)},x=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).signMessage();$(G)},S=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).sendVersionTransaction();$(G)},m=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).signVersionedTransaction();$(G)},c=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).signAllVersionedTransaction();$(G)},w=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).signAllTransaction();$(G)},T=async()=>{if(!r){$("provider not initialized yet");return}const G=await new so(r).getPrivateKey();$(G)},O=async()=>{if(!t){$("web3auth not initialized yet");return}const te=t.coreOptions.chainConfig;if(!te){$("Chain config not available");return}$({chainId:te.chainId,displayName:te.displayName,ticker:te.ticker,tickerName:te.tickerName})},K=async()=>{if(!r){$("provider not initialized yet");return}await(t==null?void 0:t.addChain(F)),$("New Chain Added")},ee=async()=>{if(!r){$("provider not initialized yet");return}await(t==null?void 0:t.switchChain({chainId:"0x3"})),$("Chain Switched")},J=async()=>{try{N(!0),q(null);const te=await NEe.getUsers();C(te),$("API Users fetched:",te)}catch(te){const G=te instanceof Error?te.message:"Unknown error";q(`Failed to fetch users: ${G}`),$("API Error:",G)}finally{N(!1)}};function $(...te){const G=te.map(j=>typeof j=="object"?JSON.stringify(j,null,2):String(j)).join(" ");d(G)}const z=fe.jsxs("div",{className:"wallet-content",children:[fe.jsxs("div",{className:"wallet-header",children:[fe.jsxs("div",{className:"network-info",children:[fe.jsx("span",{className:"network-label",children:"Network:"}),fe.jsx("span",{className:"network-value",children:I==null?void 0:I.displayName})]}),fe.jsxs("div",{className:"account-info",children:[fe.jsxs("div",{className:"address-display",children:[fe.jsx("span",{className:"address-label",children:"Address:"}),fe.jsx("span",{className:"address-value",children:p})]}),fe.jsxs("div",{className:"balance-display",children:[fe.jsx("span",{className:"balance-label",children:"Balance:"}),fe.jsxs("span",{className:"balance-value",children:[M," SOL"]})]})]})]}),fe.jsxs("div",{className:"action-container",children:[fe.jsx("h2",{children:"Wallet Actions"}),fe.jsxs("div",{className:"action-row",children:[fe.jsxs("div",{className:"action-group",children:[fe.jsx("h3",{children:"Account"}),fe.jsx("button",{onClick:a,className:"wallet-action-button",children:"Get User Info"}),fe.jsx("button",{onClick:h,className:"wallet-action-button",children:"Refresh Address"}),fe.jsx("button",{onClick:g,className:"wallet-action-button",children:"Refresh Balance"}),fe.jsx("button",{onClick:f,className:"wallet-action-button",children:"Get ID Token"})]}),fe.jsxs("div",{className:"action-group",children:[fe.jsx("h3",{children:"Transactions"}),fe.jsx("button",{onClick:y,className:"wallet-action-button",children:"Send Transaction"}),fe.jsx("button",{onClick:S,className:"wallet-action-button",children:"Send Version Transaction"}),fe.jsx("button",{onClick:x,className:"wallet-action-button",children:"Sign Message"}),fe.jsx("button",{onClick:T,className:"wallet-action-button",children:"Get Private Key"})]})]}),fe.jsxs("div",{className:"action-row",children:[fe.jsxs("div",{className:"action-group",children:[fe.jsx("h3",{children:"Chain Management"}),fe.jsx("button",{onClick:K,className:"wallet-action-button",children:"Add Chain"}),fe.jsx("button",{onClick:ee,className:"wallet-action-button",children:"Switch Chain"}),fe.jsx("button",{onClick:O,className:"wallet-action-button",children:"Refresh Chain Info"})]}),fe.jsxs("div",{className:"action-group",children:[fe.jsx("h3",{children:"Advanced Signing"}),fe.jsx("button",{onClick:m,className:"wallet-action-button",children:"Sign Versioned Transaction"}),fe.jsx("button",{onClick:c,className:"wallet-action-button",children:"Sign All Versioned Transactions"}),fe.jsx("button",{onClick:w,className:"wallet-action-button",children:"Sign All Transactions"})]})]}),fe.jsx("div",{className:"action-row session-row",children:fe.jsx("button",{onClick:E,className:"wallet-action-button logout-button",children:"Disconnect Wallet"})})]}),fe.jsxs("div",{className:"api-section",children:[fe.jsx("h2",{children:"API Integration"}),fe.jsxs("div",{className:"action-card",children:[fe.jsx("h3",{children:"Test API Connection"}),fe.jsx("button",{onClick:J,disabled:P,children:P?"Loading...":"Fetch Users"}),U&&fe.jsx("div",{className:"api-error",children:U}),R&&fe.jsxs("div",{className:"api-results",children:[fe.jsx("h4",{children:"API Results:"}),fe.jsx("pre",{children:JSON.stringify(R,null,2)})]})]})]})]}),Y=fe.jsxs("div",{className:"login-section",children:[fe.jsx("p",{children:"Connect your wallet to access your dashboard"}),fe.jsx("button",{onClick:ie,className:"wallet-action-button login-button",children:"Connect Wallet"})]});return fe.jsxs("div",{className:"wallet-page",children:[fe.jsx("h1",{children:"Wallet Dashboard"}),o?fe.jsxs("div",{className:"wallet-loading",children:[fe.jsx("div",{className:"loader"}),fe.jsx("p",{children:"Loading wallet information..."})]}):s?fe.jsx(fe.Fragment,{children:z}):Y,fe.jsxs("div",{className:"console-output",children:[fe.jsx("h3",{children:"Console Output"}),fe.jsx("pre",{children:u})]})]})}function LEe(){return fe.jsxs("div",{className:"app",children:[fe.jsx(Uhe,{}),fe.jsx("main",{className:"main-content",children:fe.jsxs(JW,{children:[fe.jsx(o6,{path:"/",element:fe.jsx(Fhe,{})}),fe.jsx(o6,{path:"/wallet",element:fe.jsx(BEe,{})})]})})]})}const DEe=h_.createRoot(document.getElementById("root"));DEe.render(fe.jsx(jz.StrictMode,{children:fe.jsx(xV,{children:fe.jsx(LEe,{})})}));export{H1e as H,zR as a,N1e as b,U4e as c,$4e as d,yw as e,q4e as f,j4e as g,F4e as r,lj as t,K1e as w};
